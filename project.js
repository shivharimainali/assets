window.__require=function e(t,i,n){function a(s,r){if(!i[s]){if(!t[s]){var l=s.split("/");if(l=l[l.length-1],!t[l]){var c="function"==typeof __require&&__require;if(!r&&c)return c(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+s+"'")}}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){return a(t[s][1][e]||e)},h,h.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,i){"use strict";i.byteLength=function(e){var t=c(e),i=t[0],n=t[1];return 3*(i+n)/4-n},i.toByteArray=function(e){for(var t,i=c(e),n=i[0],s=i[1],r=new o(h(e,n,s)),l=0,u=s>0?n-4:n,d=0;d<u;d+=4)t=a[e.charCodeAt(d)]<<18|a[e.charCodeAt(d+1)]<<12|a[e.charCodeAt(d+2)]<<6|a[e.charCodeAt(d+3)],r[l++]=t>>16&255,r[l++]=t>>8&255,r[l++]=255&t;2===s&&(t=a[e.charCodeAt(d)]<<2|a[e.charCodeAt(d+1)]>>4,r[l++]=255&t);1===s&&(t=a[e.charCodeAt(d)]<<10|a[e.charCodeAt(d+1)]<<4|a[e.charCodeAt(d+2)]>>2,r[l++]=t>>8&255,r[l++]=255&t);return r},i.fromByteArray=function(e){for(var t,i=e.length,a=i%3,o=[],s=0,r=i-a;s<r;s+=16383)o.push(d(e,s,s+16383>r?r:s+16383));1===a?(t=e[i-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[i-2]<<8)+e[i-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,l=s.length;r<l;++r)n[r]=s[r],a[s.charCodeAt(r)]=r;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function h(e,t,i){return 3*(t+i)/4-i}function u(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function d(e,t,i){for(var n,a=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(u(n));return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],2:[function(e,t,i){(function(t){"use strict";var n=e("base64-js"),a=e("ieee754"),o=e("isarray");function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,i)}function c(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,i,n):"string"==typeof t?m(e,t,i):C(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,i,n){return h(t),t<=0?r(e,t):void 0!==i?"string"==typeof n?r(e,t).fill(i,n):r(e,t).fill(i):r(e,t)}function d(e,t){if(h(t),e=r(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function m(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|b(t,i),a=(e=r(e,n)).write(t,i);return a!==n&&(e=e.slice(0,a)),e}function g(e,t){var i=t.length<0?0:0|f(t.length);e=r(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function p(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=g(e,t),e}function C(e,t){if(l.isBuffer(t)){var i=0|f(t.length);return 0===(e=r(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?r(e,0):g(e,t);if("Buffer"===t.type&&o(t.data))return g(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function b(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Q(e).length;default:if(n)return J(e).length;t=(""+t).toLowerCase(),n=!0}}function I(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return w(this,t,i);case"utf8":case"utf-8":return D(this,t,i);case"ascii":return M(this,t,i);case"latin1":case"binary":return N(this,t,i);case"base64":return B(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function S(e,t,i,n,a){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=a?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(a)return-1;i=e.length-1}else if(i<0){if(!a)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:P(e,t,i,n,a);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):P(e,[t],i,n,a);throw new TypeError("val must be string, number or Buffer")}function P(e,t,i,n,a){var o,s=1,r=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,r/=2,l/=2,i/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(a){var h=-1;for(o=i;o<r;o++)if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(i+l>r&&(i=r-l),o=i;o>=0;o--){for(var u=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){u=!1;break}if(u)return o}return-1}function T(e,t,i,n){i=Number(i)||0;var a=e.length-i;n?(n=Number(n))>a&&(n=a):n=a;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var r=parseInt(t.substr(2*s,2),16);if(isNaN(r))return s;e[i+s]=r}return s}function R(e,t,i,n){return Z(J(t,e.length-i),e,i,n)}function v(e,t,i,n){return Z(X(t),e,i,n)}function y(e,t,i,n){return v(e,t,i,n)}function A(e,t,i,n){return Z(Q(t),e,i,n)}function L(e,t,i,n){return Z(z(t,e.length-i),e,i,n)}function B(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function D(e,t,i){i=Math.min(e.length,i);for(var n=[],a=t;a<i;){var o,s,r,l,c=e[a],h=null,u=c>239?4:c>223?3:c>191?2:1;if(a+u<=i)switch(u){case 1:c<128&&(h=c);break;case 2:128==(192&(o=e[a+1]))&&(l=(31&c)<<6|63&o)>127&&(h=l);break;case 3:o=e[a+1],s=e[a+2],128==(192&o)&&128==(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=e[a+1],s=e[a+2],r=e[a+3],128==(192&o)&&128==(192&s)&&128==(192&r)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&r)>65535&&l<1114112&&(h=l)}null===h?(h=65533,u=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),a+=u}return U(n)}i.Buffer=l,i.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},i.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),i.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return u(null,e,t,i)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,a=0,o=Math.min(i,n);a<o;++a)if(e[a]!==t[a]){i=e[a],n=t[a];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=l.allocUnsafe(t),a=0;for(i=0;i<e.length;++i){var s=e[i];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,a),a+=s.length}return n},l.byteLength=b,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):I.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,a){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||i>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=i)return 0;if(n>=a)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,a>>>=0,this===e)return 0;for(var o=a-n,s=i-t,r=Math.min(o,s),c=this.slice(n,a),h=e.slice(t,i),u=0;u<r;++u)if(c[u]!==h[u]){o=c[u],s=h[u];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return S(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return S(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var a=this.length-t;if((void 0===i||i>a)&&(i=a),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return T(this,e,t,i);case"utf8":case"utf-8":return R(this,e,t,i);case"ascii":return v(this,e,t,i);case"latin1":case"binary":return y(this,e,t,i);case"base64":return A(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function U(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=E));return i}function M(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;++a)n+=String.fromCharCode(127&e[a]);return n}function N(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;++a)n+=String.fromCharCode(e[a]);return n}function w(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var a="",o=t;o<i;++o)a+=q(e[o]);return a}function k(e,t,i){for(var n=e.slice(t,i),a="",o=0;o<n.length;o+=2)a+=String.fromCharCode(n[o]+256*n[o+1]);return a}function F(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,i,n,a,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function x(e,t,i,n){t<0&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-i,2);a<o;++a)e[i+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function G(e,t,i,n){t<0&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-i,4);a<o;++a)e[i+a]=t>>>8*(n?a:3-a)&255}function W(e,t,i,n,a,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function H(e,t,i,n,o){return o||W(e,0,i,4),a.write(e,t,i,n,23,4),i+4}function V(e,t,i,n,o){return o||W(e,0,i,8),a.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var a=t-e;i=new l(a,void 0);for(var o=0;o<a;++o)i[o]=this[o+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||F(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||F(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},l.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||F(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||F(e,t,this.length);for(var n=t,a=1,o=this[e+--n];n>0&&(a*=256);)o+=this[e+--n]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),a.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),a.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),a.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),a.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||O(this,e,t,i,Math.pow(2,8*i)-1,0);var a=1,o=0;for(this[t]=255&e;++o<i&&(a*=256);)this[t+o]=e/a&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||O(this,e,t,i,Math.pow(2,8*i)-1,0);var a=i-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):G(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*i-1);O(this,e,t,i,a-1,-a)}var o=0,s=1,r=0;for(this[t]=255&e;++o<i&&(s*=256);)e<0&&0===r&&0!==this[t+o-1]&&(r=1),this[t+o]=(e/s>>0)-r&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*i-1);O(this,e,t,i,a-1,-a)}var o=i-1,s=1,r=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===r&&0!==this[t+o+1]&&(r=1),this[t+o]=(e/s>>0)-r&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):G(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return H(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return H(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return V(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return V(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var a,o=n-i;if(this===e&&i<t&&t<n)for(a=o-1;a>=0;--a)e[a+t]=this[a+i];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var s=l.isBuffer(e)?e:J(new l(e,n).toString()),r=s.length;for(o=0;o<i-t;++o)this[o+t]=s[o%r]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function K(e){if((e=Y(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function Y(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function J(e,t){var i;t=t||1/0;for(var n=e.length,a=null,o=[],s=0;s<n;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!a){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}a=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),a=i;continue}i=65536+(a-55296<<10|i-56320)}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function X(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function z(e,t){for(var i,n,a,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,a=i%256,o.push(a),o.push(n);return o}function Q(e){return n.toByteArray(K(e))}function Z(e,t,i,n){for(var a=0;a<n&&!(a+i>=t.length||a>=e.length);++a)t[a+i]=e[a];return a}function $(e){return e!=e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(e,t,i){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],4:[function(e,t,i){i.read=function(e,t,i,n,a){var o,s,r=8*a-n-1,l=(1<<r)-1,c=l>>1,h=-7,u=i?a-1:0,d=i?-1:1,m=e[t+u];for(u+=d,o=m&(1<<-h)-1,m>>=-h,h+=r;h>0;o=256*o+e[t+u],u+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+e[t+u],u+=d,h-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(m?-1:1);s+=Math.pow(2,n),o-=c}return(m?-1:1)*s*Math.pow(2,o-n)},i.write=function(e,t,i,n,a,o){var s,r,l,c=8*o-a-1,h=(1<<c)-1,u=h>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=h?(r=0,s=h):s+u>=1?(r=(t*l-1)*Math.pow(2,a),s+=u):(r=t*Math.pow(2,u-1)*Math.pow(2,a),s=0));a>=8;e[i+m]=255&r,m+=g,r/=256,a-=8);for(s=s<<a|r,c+=a;c>0;e[i+m]=255&s,m+=g,s/=256,c-=8);e[i+m-g]|=128*p}},{}],ABBaseSeat:[function(e,t,i){"use strict";cc._RF.push(t,"3100cyBe6FEuKC7DjEFQt3X","ABBaseSeat");e("TeenPattiUser");var n=e("FacebookIcon"),a=e("ClampLabel"),o=e("CDTimeBar"),s=e("DataAnalysisKey"),r=e("Command"),l=e("UIInfo"),c=e("LanguageData"),h=e("GameUtils"),u=e("GameBaseSeat"),d="ABBaseSeat";cc.Class({extends:u,properties:{tpUser:{default:null,visible:!1},curTable:{default:null,visible:!1},andarAnimaName:{default:"abs_anim_a_stake_seat_1",visible:!1},baharAnimaName:{default:"abs_anim_b_stake_seat_1",visible:!1},stakeViewPrefab:cc.Prefab,lblName:a,icon:n,iconMask:cc.Node,lblAndarNode:cc.Node,lblAndar:cc.Label,lblBaharNode:cc.Node,lblBahar:cc.Label,imgBanker:cc.Node,cdTimeBar:o,btnSitDown:cc.Button,btnInvite:cc.Button,btnGift:cc.Button,gameCrown:cc.Node,readyTag:cc.Node,winAnima:cc.Animation,objGiftSender:cc.Node,objGiftReceiver:cc.Node,dealerPos:{default:[],visible:!1},tableController:{get:function(){return this._tableController},set:function(e){this._tableController=e,this.updateState()}}},onLoad:function(){this._super(),this.dealerPos=[cc.v2(28,393),cc.v2(28,380),cc.v2(265,357),cc.v2(450,250),cc.v2(-209,357),cc.v2(-394,250)]},updateState:function(){this.tableController.isBanker()&&(this.dealerPos=[cc.v2(0,-415),cc.v2(0,-415),cc.v2(237,-395),cc.v2(422,-269),cc.v2(-237,-395),cc.v2(-422,-269)])},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(r.SERVER_CMD_AB_BANKER,this,this.onBanker),this.gameCore.uiMng.addListener(r.SERVER_CMD_AB_DEAL,this,this.onABDeal),this.gameCore.uiMng.addListener(r.SERVER_CMD_AB_READY,this,this.onABReady),this.resetSeat()},onEnterForeground:function(){this._super()},hasPlayer:function(){return null!=this.tpUser},hideTimeBar:function(){this.cdTimeBar.hide()},setImgBankerActive:function(e){this.imgBanker.active=e},onABJIS:function(e){for(var t in this.roomStatus=e.start.roomStatus,this.node.stopAllActions(),this.hideTimeBar(),this.setImgBankerActive(e.bankerId&&this.tpUser&&this.tpUser.role&&this.tpUser.role.playerId==e.bankerId),e.start.users)this.tpUser&&this.tpUser.role&&this.tpUser.strTPID==e.start.users[t].id&&(this.tpUser.role.totalAndarAmount=e.start.users[t].a,this.tpUser.role.totalBaharAmount=e.start.users[t].b,this.updateAndarBaharLabel(),this.tpUser.role.ready=e.start.users[t].isReady,this.readyTag.active=this.tpUser.role.ready)},onBanker:function(e){this.roomStatus=3,this.node.stopAllActions(),this.tpUser&&this.tpUser.role&&this.tpUser.role.playerId==e.playerId&&this.setImgBankerActive(!0)},onStartTime:function(){this.roomStatus=1,this.readyTag.active=!1,this.setImgBankerActive(!1),this.node.stopAllActions(),this.cdTimeBar.hide(),this.updateAndarBaharLabel()},onStartAB:function(e){if(this.roomStatus=e.roomStatus,this.cdTimeBar.hide(),this.node.stopAllActions(),this.readyTag.active=!1,this.tpUser&&this.tpUser.role)for(var t in this.tpUser.role.ready=!1,e.users)if(e.users[t].id==this.tpUser.strTPID){this.readyTag.active=e.users[t].isReady,this.tpUser.role.totalAndarAmount=e.users[t].a,this.tpUser.role.totalBaharAmount=e.users[t].b;break}this.updateAndarBaharLabel()},onABBet:function(e){e.errorcode||this.tpUser&&this.tpUser.strTPID==e.userId&&(this.tpUser.role.totalAndarAmount+=e.bet.site?e.bet.bet:0,this.tpUser.role.totalBaharAmount+=e.bet.site?0:e.bet.bet,this.updateAndarBaharLabel(),this.hideTimeBar(),this.readyTag.active=!0)},onABReady:function(e){this.tpUser&&this.tpUser.role&&this.tpUser.role.playerId==e.i&&(this.readyTag.active=!0,this.cdTimeBar.hide())},onABDeal:function(e){this.hideTimeBar()},getAndarPosition:function(){return cc.v2(0,116)},getBaharPosition:function(){return cc.v2(0,80)},getRewardReceivePosition:function(){return this.tableController.isBanker()?cc.v2(0,67):0==this.seatId?cc.v2(5,-90):3==this.seatId||5==this.seatId?cc.v2(5,-59):cc.v2(0,-63)},playAndarRewardAnima:function(e,t,i){if(this.tpUser&&this.tpUser.role)for(var n in t)if(this.tpUser.strTPID==t[n].userId){if(this.tpUser.role.totalAndarAmount==t[n].a)return;this.tpUser.role.totalAndarAmount<t[n].a?(LogUtil.debug(d,"A Win delay "+e),this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(e,t){this.tpUser&&this.tpUser.role&&(this.playWinEffect(),this.tableController.onRewardComplete(),this.playStakeAnima1(this.tpUser.role.totalAndarAmount*(i?this.getCommissionPercentFirstRound():this.getCommissionAPercent()),this.dealerPos[this.seatId],this.getAndarPosition(),1,0,handler(this,function(){this.tpUser&&this.tpUser.role&&(this.tpUser.role.totalAndarAmount=t,this.onAndarRewardReceived())})))},this,t[n].a)))):(LogUtil.debug(d,"A Lose delay "+e),this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(e,t){this.tpUser&&this.tpUser.role&&(this.playStakeAnima1(this.tpUser.role.totalAndarAmount*this.getCommissionPercent(),this.getAndarPosition(),this.dealerPos[this.seatId],1,0,handler(this,this.onAndarLoseReceived)),this.tpUser.role.totalAndarAmount=t,this.updateAndarLabel())},this,t[n].a))))}},onAndarLoseReceived:function(){},onAndarRewardReceived:function(){this.tpUser&&this.tpUser.role&&(this.updateAndarLabel(),this.playStakeAnima1(this.tpUser.role.totalAndarAmount,this.getAndarPosition(),this.getRewardReceivePosition(),1,1,handler(this,this.onAndarRewardToBalance),.5),this.tpUser.role.totalAndarAmount=0,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.updateAndarLabel()},this))))},onAndarRewardToBalance:function(){},playBaharRewardAnima:function(e,t,i){if(this.tpUser&&this.tpUser.role)for(var n in t)if(this.tpUser.strTPID==t[n].userId){if(this.tpUser.role.totalBaharAmount==t[n].b)return;this.tpUser.role.totalBaharAmount<t[n].b?(LogUtil.debug(d,"B Win delay "+e),this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(e,t){this.playWinEffect(),this.tpUser&&this.tpUser.role&&(this.tableController.onRewardComplete(),this.playStakeAnima1(this.tpUser.role.totalBaharAmount*(i?this.getCommissionPercentFirstRound():this.getCommissionBPercent()),this.dealerPos[this.seatId],this.getBaharPosition(),2,0,handler(this,function(){this.tpUser&&this.tpUser.role&&(this.tpUser.role.totalBaharAmount=t,this.onBaharRewardReceived())})))},this,t[n].b)))):(LogUtil.debug(d,"B Lose delay "+e),this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(e,t){this.tpUser&&this.tpUser.role&&(this.playStakeAnima1(this.tpUser.role.totalBaharAmount*this.getCommissionPercent(),this.getBaharPosition(),this.dealerPos[this.seatId],2,0,handler(this,this.onBaharLoseReceived)),this.tpUser&&this.tpUser.role&&(this.tpUser.role.totalBaharAmount=t,this.updateBaharLabel()))},this,t[n].b))))}},getCommissionPercent:function(){return 1},getCommissionPercentFirstRound:function(){return ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile?ITeenPatti.getCurRoom().profile.commissionPercentFirstRound:.25},getCommissionAPercent:function(){return ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile?ITeenPatti.getCurRoom().profile.commissionPercentA:1},getCommissionBPercent:function(){return ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile?ITeenPatti.getCurRoom().profile.commissionPercentB:1},onBaharLoseReceived:function(){},onBaharRewardReceived:function(){this.tpUser&&this.tpUser.role&&(this.updateBaharLabel(),this.playStakeAnima1(this.tpUser.role.totalBaharAmount,this.getBaharPosition(),this.getRewardReceivePosition(),2,1,handler(this,this.onBaharRewardToBalance),.5),this.tpUser.role.totalBaharAmount=0,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.updateBaharLabel()},this))))},onBaharRewardToBalance:function(){},onAnimaAndarFinish:function(e){this.tpUser&&this.tpUser.role&&(this.tpUser.role.totalAndarAmount+=e,this.updateAndarBaharLabel())},onAnimaBaharFinish:function(e){this.tpUser&&this.tpUser.role&&(this.tpUser.role.totalBaharAmount+=e,this.updateAndarBaharLabel())},onAutoSurrender:function(e){if(this.tpUser&&this.tpUser.role)for(var t in e.user)if(e.user[t].userId==this.tpUser.strTPID){this.cdTimeBar.hide(),this.rewardSurrender(e.user[t].priAmount);break}},playStakeAnima:function(e,t,i){if(!this.gameCore.gameMng.isBackground){var n=cc.instantiate(this.stakeViewPrefab);this.node.addChild(n),n.getComponent("TableStakeViewAB").gameCore=this.gameCore,n.getComponent("TableStakeViewAB").playAnima(this,e,t,i)}},playStakeAnima1:function(t,i,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(!this.gameCore.gameMng.isBackground){var l=cc.instantiate(this.stakeViewPrefab);this.node.addChild(l),l.getComponent("TableStakeViewAB").gameCore=this.gameCore,l.getComponent("TableStakeViewAB").seat=this;var c=e("ABCenterSeat");l.getComponent("TableStakeViewAB").playAnima1(t,i,n,a,o,s,this instanceof c,r)}},playWinEffect:function(){this.tpUser&&this.tpUser.role&&(0==this.seatId&&this.gameCore.gameMng.playAudioEffect("win"),this.winAnima.node.active=!0,this.winAnima.play())},updateAndarLabel:function(){this.tpUser&&this.tpUser.role&&(this.lblAndar.string=c.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(this.tpUser.role.totalAndarAmount)}))},updateBaharLabel:function(){this.tpUser&&this.tpUser.role&&(this.lblBahar.string=c.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(this.tpUser.role.totalBaharAmount)}))},updateAndarBaharLabel:function(){this.tpUser&&this.tpUser.role&&(this.lblAndar.string=c.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(this.tpUser.role.totalAndarAmount)}),this.lblBahar.string=c.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(this.tpUser.role.totalBaharAmount)}))},clearSeat:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.tpUser&&this.tpUser.role&&this.tpUser.role.reset(),this.tpUser=null},resetSeat:function(){this.cdTimeBar.hide(),this.lblAndar.string=c.t("label_text.chips_with_symbol",{number:0}),this.lblBahar.string=c.t("label_text.chips_with_symbol",{number:0}),this.lblName.node.active=!1,this.iconMask.active=!1,this.lblAndarNode.active=!1,this.lblBaharNode.active=!1,this.readyTag.active=!1,this.setImgBankerActive(!1),this.btnSitDown&&(this.btnSitDown.node.active=!1),this.btnInvite&&(this.btnInvite.node.active=!1),this.btnGift.node.active=!1,this.gameCrown.active=!1,this.objGiftSender.active=!1,this.objGiftReceiver.active=!1,this._super()},sitDownState:function(){this.resetSeat(),this.node.active=!0,this.btnSitDown&&(this.btnSitDown.node.active=!0)},inviteState:function(){this.resetSeat(),this.btnInvite&&(this.btnInvite.node.active=!0)},hasEnoughChipsToSit:function(){return this.gameCore.gameMng.hasEnoughChips2(8*ITeenPatti.getCurRoom().profile.nBootAmount)},onBtnPlayerClicked:function(e){if(this.tpUser)return this.gameCore.uiMng.addListener(r.SERVER_CMD_PROFILE,this,this.onUserProfileGet),void ITeenPatti.sendMsg(r.SERVER_CMD_PROFILE,{i:parseInt(this.tpUser.userId)});if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role)if(ITeenPatti.getCurPlayer().role.isWatcher()&&!this.tableController.isBanker()){if(!this.hasEnoughChipsToSit())return;ITeenPatti.sendMsg(r.SERVER_CMD_SIT,{i:this.playerId}),this.gameCore.dataAnalysisMng.sendData(s.CLICK_SIT,this.gameCore.dataAnalysisMng.gameBaseData)}else this.gameCore.dataAnalysisMng.sendData(s.OPEN_TOTABLE_TABLE),this.gameCore.gameMng.openFriendsUI(0)},onBtnGiftClicked:function(){!ITeenPatti.getCurPlayer().role||ITeenPatti.getCurPlayer().role.isWatcher()&&!this.tableController.isBanker()||this.gameCore.uiMng.openUI(l.GIFTS,handler(this,function(e){e&&e.setReceiverID(this.tpUser.userId)}))},onUserProfileGet:function(e,t){if(this.gameCore&&this.gameCore.uiMng&&(this.gameCore.uiMng.removeListener(r.SERVER_CMD_PROFILE,this,this.onUserProfileGet),!t.errorcode)){t.user_id;this.gameCore.uiMng.openUI(this.gameCore.uiMng.inGamePlayerInfoUIData,function(e){e&&e.initWithMsgGetUserInfo(t)})}},startCountDown:function(e,t,i){this.tpUser&&this.tpUser.role&&!this.tpUser.role.ready&&this.cdTimeBar.startCountDown(e,t,i)},startCountDownByUserId:function(e,t,i,n){this.tpUser&&this.tpUser.strTPID==e&&this.tpUser.role&&!this.tpUser.role.ready&&(1==n?this.readyTag.active=!0:this.cdTimeBar.startCountDown(t,i,n))},startCountDownByPlayerId:function(e,t,i,n){this.tpUser&&this.tpUser.role&&this.tpUser.role.playerId==e&&!this.tpUser.role.ready&&1!=n&&this.cdTimeBar.startCountDown(t,i,n)},getGiftSendPostion:function(e,t){return this.node.convertToWorldSpaceAR(this.objGiftSender.getPosition())},getGiftReceivePostion:function(e,t){return 12==t||15==t||23==t?0!=this.seatId?this.node.convertToWorldSpaceAR(cc.v2(0,0)):this.node.convertToWorldSpaceAR(cc.v2(0,20)):19==t?0!=this.seatId?this.node.convertToWorldSpaceAR(cc.v2(-45,-15)):this.node.convertToWorldSpaceAR(cc.v2(-60,-20)):20==t?(this.seatId,this.node.convertToWorldSpaceAR(cc.v2(0,11))):25==t||27==t?this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(10,30))):this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition())},onUserSitDown:function(e){e&&e.role&&(this.tpUser=e,this.cdTimeBar.isMe=this.tpUser.strTPID==this.gameCore.userMng.myself.strTPID,this.btnSitDown&&(this.btnSitDown.node.active=!1),this.btnInvite&&(this.btnInvite.node.active=!1),this.node.active=!0,this.gameCrown.active=!1,this.lblAndarNode.active=!0,this.lblBaharNode.active=!0,this.lblName.node.active=!0,this.lblName.string=e.strTPName,this.iconMask.active=!0,this.icon.initWithTeenPattiUser(e))},updateSeatState:function(){this.cdTimeBar.hide(),this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role&&!this.gameCore.userMng.myself.role.isWatcher()?this.inviteState():this.sitDownState()},onUserStandUp:function(){this.clearSeat(),this.updateSeatState();for(var e=this.node.children,t=0;t<e.length;t++)if(e[t])for(var i=e[t].getComponentsInChildren("TableStakeViewAB"),n=0;n<i.length;n++)i[n].clear()},onUserExitRoom:function(){this.clearSeat(),this.updateSeatState()},onUserUpdate:function(e){},updateGiftBtnActive:function(e){(!e||null!=this.tpUser&&null==this.objGift)&&(this.btnGift.node.active=e)},updateGameCrown:function(){this.tpUser&&(this.gameCrown.active=this.curTable.isCurRoomWinBiggest(this.tpUser.strTPID))}}),cc._RF.pop()},{ABCenterSeat:"ABCenterSeat",CDTimeBar:"CDTimeBar",ClampLabel:"ClampLabel",Command:"Command",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon",GameBaseSeat:"GameBaseSeat",GameUtils:"GameUtils",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],ABCenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"f0bb4LRUkVCc5CC1LOq2xpH","ABCenterSeat");var n=e("LanguageData"),a=e("GameUtils"),o=e("Command"),s=e("ABBaseSeat"),r="ABCenterSeat";cc.Class({extends:s,properties:{andarAnimaName:{default:"abs_anim_a_stake_seat_0",visible:!1,override:!0},baharAnimaName:{default:"abs_anim_b_stake_seat_0",visible:!1,override:!0},isSit:{default:!1,visible:!1},lastBalanceValue:0,lblBalance:cc.Label,expBar:cc.Node,lblExp:cc.Label,balanceBar:cc.Node},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(o.SERVER_CMD_TIP,this,this.onTip),this.gameCore.uiMng.addListener(o.SERVER_CMD_SEND_GIFT,this,this.onSendGift),this.gameCore.uiMng.addListener(o.UI_CMD_CHIPS_CHANGE,this,this.onChipsChange),this.gameCore.uiMng.addListener(o.SERVER_CMD_SWITCH_DEALER,this,this.onSwitchDealer),ITeenPatti.addListener(o.SERVER_CMD_BANK_TO_CHIPS,this,this.onBankToChips),ITeenPatti.addListener("acceptnotification",this,this.onAcceptNotification)},onTip:function(e){this.tpUser&&this.tpUser.strTPID==e.id&&this.updateBalance(-e.chip)},onSendGift:function(e){this.tpUser&&this.tpUser.strTPID==e.send_id&&this.gameCore&&this.updateBalance(-this.gameCore.gameMng.getPriceOfGift(e.gift_id))},onChipsChange:function(e){},onSwitchDealer:function(e){},onABJIS:function(e){this._super(e),this.updateBalance(null,!0),this.needUpdateChips=!0},onEnterForeground:function(){this._super(),this.updateBalance(null,!0)},clearSeat:function(){this._super(),this.expBar.active=!1},onBankToChips:function(e){this.updateBalance(e.chips)},onAcceptNotification:function(e,t){this.updateBalance(t.chips.change)},updateBalance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.tpUser){if(null!=e)this.lastBalanceValue+=e;else{if(this.lastBalanceValue==this.tpUser.nChips&&!t)return void(this.needUpdateChips=!0);this.lastBalanceValue=this.tpUser.nChips}this.lblBalance.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.lastBalanceValue,1e7)});var i=ITeenPatti.getCurRoom();if(i){var o=i.profile.nBootAmount;this.lblBalance.node.color=new cc.Color(255,255,255),this.tpUser.getTeenPattiProfile().nChips<8*o?this.lblBalance.node.color=new cc.Color(255,0,0):this.tpUser.getTeenPattiProfile().nChips<16*o&&(this.lblBalance.node.color=new cc.Color(255,128,0))}}},showExpAnima:function(){ITeenPatti.getCurTable()&&0!=ITeenPatti.getCurTable().curRoundExp&&!this.isBackground&&(this.lblExp.string="+ "+ITeenPatti.getCurTable().curRoundExp+"XP",this.expBar.active=!0,this.expBar.getComponent(cc.Animation).play(),ITeenPatti.getCurTable().curRoundExp=0,this.gameCore.gameMng.judgeBroken())},playStakeAnima:function(e,t,i){this._super(e,t,i),this.tpUser&&this.gameCore.gameMng.playAudioEffect("bet")},onABBet:function(e){this.tpUser&&this.tpUser.strTPID==e.userId&&(this.playStakeAnima(e.bet.bet,e.bet.site?this.andarAnimaName:this.baharAnimaName,e.bet.site?1:2),this.updateBalance(),this.hideTimeBar(),this.readyTag.active=!0)},onAndarLoseReceived:function(){this.tpUser&&this.tpUser.role&&0==this.tpUser.role.totalBaharAmount&&this.showExpAnima()},onBaharLoseReceived:function(){this.tpUser&&this.tpUser.role&&0==this.tpUser.role.totalAndarAmount&&this.showExpAnima()},onAndarRewardToBalance:function(){LogUtil.debug(r,"onAndarRewardToBalance"),this._super(),this.updateBalance(),this.showExpAnima()},onBaharRewardToBalance:function(){LogUtil.debug(r,"onBaharRewardToBalance"),this._super(),this.updateBalance(),this.showExpAnima()},onUserSitDown:function(e){this._super(e),this.isSit||this.updateBalance(null,!0),this.isSit=!0},onUserStandUp:function(){this._super(),this.isSit=!1},onUserUpdate:function(e){if(this._super(e),this.tpUser&&e&&e.user.name==this.tpUser.strTPID&&e.changedVars)for(var t in e.changedVars)"cp"==e.changedVars[t]&&this.needUpdateChips&&(this.needUpdateChips=!1,this.updateBalance())},getAndarPosition:function(){return cc.v2(0,145)},getBaharPosition:function(){return cc.v2(0,105)}}),cc._RF.pop()},{ABBaseSeat:"ABBaseSeat",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ABCommonCard:[function(e,t,i){"use strict";cc._RF.push(t,"7e9c2Vf2eFKdaOzKsxCLnbd","ABCommonCard");var n=e("LanguageData"),a=(e("Command"),e("ABCenterSeat")),o=e("CardFrameCache"),s=e("TableHintBar"),r=e("BaseComponent");cc.Class({extends:r,properties:{centerSeat:a,hintBar:s,cardFrameCache:o,jokerCard:cc.Sprite,jokerCardLight:cc.Node,dealCard:cc.Node,dealCardNode:cc.Node,dealCardPrefab:cc.Prefab,dealCardNodeList:{default:[],visible:!1},dealCardList:{default:[],visible:!1},dealIndex:{default:-1,visible:!1}},onLoad:function(){this._super(),this.reset()},onEnterForeground:function(){this._super(),this.justFromBackground=!0,this.updateStatus()},onABJIS:function(e){if(this.roomStatus=e.start.roomStatus,this.reset(),this.jokerCard.node.active=this.roomStatus>=4,this.jokerCard.node.active&&this.initJokerCard(e.start.commoncard),this.myselfSitDown(),this.roomStatus>=6){var t=table.createToArray(e.start.a),i=table.createToArray(e.start.b),n=Math.floor(e.start.commoncard/4);return this.isEnd=n==Math.floor(t[t.length-1]/4)||n==Math.floor(i[i.length-1]/4),this.dealStartTime=(new Date).getTime()+1e3*e.start.downTime,this.onDeal(t,i,!0),Math.max(0,.64*this.dealCardList.length-((new Date).getTime()-this.dealStartTime)/1e3)}},reset:function(){if(this.isMe=!1,this.dealCard.active=!1,this.jokerCard.node.active=!1,this.jokerCardLight.active=!1,this.dealCardNodeList.length>0){for(var e=0;e<this.dealCardNodeList.length;e++)this.dealCardNodeList[e].stopAllActions(),this.dealCardNodeList[e].removeFromParent();this.dealCardNodeList=[]}},myselfStandUp:function(){},myselfSitDown:function(){},onJokerCard:function(e,t){this.jokerId=t,this.dealCard.getComponent(cc.Sprite).spriteFrame=this.cardFrameCache.getCardFrameWithID(this.jokerId),this.showingJoker=!0,this.gameCore&&this.gameCore.gameMng.playAudioEffect("deal"),this.playJokerDealAnima()},playJokerDealAnima:function(){this.node.getComponent(cc.Animation).playAdditive("abs_anim_dealer_card_to_joker")},initDealCardList:function(e,t){this.dealIndex=-1,this.dealCardList=[],(e.length>1||t.length>1)&&(e.shift(),t.shift());for(var i=0;i<t.length;i++)t.length>i&&-1!=t[i]&&this.dealCardList.push(t[i]),e.length>i&&-1!=e[i]&&this.dealCardList.push(e[i])},onDeal:function(e,t,i){this.initDealCardList(e,t),this.playDealAnimation(i)},onABDeal:function(e,t,i,n,a,o){return this.justFromBackground=!1,this.dealAnimaCB=n,this.dealStartTime=a,this.isEnd=o,this.onDeal(e,t,i),.64*this.dealCardList.length},getBaharPosition:function(){return cc.v2(134,-3)},getAndarPosition:function(){return cc.v2(-114,-3)},getDealCardStartPosition:function(){return cc.v2(8,101)},playDealAnimation:function(e){if(this.dealIndex++,this.dealIndex<this.dealCardList.length){var t=cc.instantiate(this.dealCardPrefab);if(t.scale=1.1,t.getComponent("DealCardAB").card.spriteFrame=this.cardFrameCache.getCardFrameWithID(this.dealCardList[this.dealIndex]),this.node.addChild(t),this.dealCardNodeList.push(t),e&&this.dealStartTime+500*(this.dealIndex+1)+500>(new Date).getTime()){this.dealCard.active=!0,this.dealCard.scale=.266,this.dealCard.getComponent(cc.Sprite).spriteFrame=this.cardFrameCache.getCardBackFrame(),this.dealCard.setPosition(this.getDealCardStartPosition()),t.rotation=180,t.scale=.4,t.setPosition(this.getDealCardStartPosition());this.gameCore.gameMng.playAudioEffect("deal"),this.dealIndex%2==0?t.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,1.1),cc.rotateTo(.3,0),cc.moveTo(.3,this.getBaharPosition().x,this.getBaharPosition().y)),cc.delayTime(.2),cc.callFunc(this.playDealAnimation,this))):t.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,1.1),cc.rotateTo(.3,0),cc.moveTo(.3,this.getAndarPosition())),cc.delayTime(.2),cc.callFunc(this.playDealAnimation,this)))}else t.setPosition(this.dealIndex%2==0?this.getBaharPosition():this.getAndarPosition()),this.playDealAnimation(!0)}else{if(this.dealCard.active=!1,this.isEnd){this.jokerCardLight.active=!0,this.hintBar.addHint(this.dealCardNodeList.length%2==1?n.t("label_text.bahar_wins"):n.t("label_text.andar_wins"),1,(new Date).getTime());for(var i=0;i<this.dealCardNodeList.length-1;i++)this.dealCardNodeList[i].getComponent("DealCardAB").black.active=!0;this.dealCardNodeList.length>0&&(this.dealCardNodeList[this.dealCardNodeList.length-1].getComponent("DealCardAB").light.active=!0)}this.dealAnimaCB&&(this.dealAnimaCB(),this.dealAnimaCB=null)}},onJokerCardShowUp:function(){this.showingJoker=!1,this.dealCard.active=!1,this.jokerCard.node.active=!0,this.jokerCard.spriteFrame=this.cardFrameCache.getCardFrameWithID(this.jokerId)},initJokerCard:function(e){this.jokerId=e,this.jokerCard.node.active=!0,this.jokerCard.spriteFrame=this.cardFrameCache.getCardFrameWithID(this.jokerId)},onBanker:function(e,t){this.isMe=e,this.roomStatus=3},onStartTime:function(e){this.roomStatus=1,this.reset()},onStartAB:function(e){this.roomStatus=e.roomStatus,8!=e.roomStatus&&this.reset(),e.roomStatus>=5&&!this.showingJoker&&this.initJokerCard(e.commoncard),8!=e.roomStatus&&this.updateStatus()},updateStatus:function(){this.roomStatus}}),cc._RF.pop()},{ABCenterSeat:"ABCenterSeat",BaseComponent:"BaseComponent",CardFrameCache:"CardFrameCache",Command:"Command",LanguageData:"LanguageData",TableHintBar:"TableHintBar"}],ABControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"9009doLuv9EQLVO3iFAj61t","ABControlBar");var n=e("ABCenterSeat"),a=e("Command"),o=(e("GameData"),e("GameUtils")),s=e("TableHintBarAB"),r=e("LanguageData"),l=e("BaseComponent");cc.Class({extends:l,properties:{andarNode:cc.Node,baharNode:cc.Node,lblAndar:cc.Label,andarBtn:cc.Button,andarPlusBtn:cc.Button,andarMinusBtn:cc.Button,lblBahar:cc.Label,baharBtn:cc.Button,baharPlusBtn:cc.Button,baharMinusBtn:cc.Button,dealBtn:cc.Button,centerSeat:n,hintBar:s,andarAmount:{default:1,visible:!1},curAndarAmount:{default:1,visible:!1},andarNum:{default:0,visible:!1},baharAmount:{default:1,visible:!1},curBaharAmount:{default:1,visible:!1},baharNum:{default:0,visible:!1},andarLimit:{default:0,visible:!1},downTime:{default:-1,visible:!1},roomStatus:{default:1,visible:!1}},onLoad:function(){this._super(),this.hide()},update:function(e){-1!=this.downTime&&(new Date).getTime()>this.downTime&&(this.hide(),this.centerSeat.hideTimeBar())},initComplete:function(){this._super(),this.gameCore.gameMng.isFitHeight()||(this.andarNode.x+=50,this.baharNode.x-=50),this.andarLimit=ITeenPatti.getCurRoom().profile.nBetChips,this.andarAmount=this.curAndarAmount=ITeenPatti.getCurRoom().profile.nBootAmount,this.andarNum=ITeenPatti.getCurRoom().profile.nAddNum,this.baharAmount=this.curBaharAmount=ITeenPatti.getCurRoom().profile.nBootAmount,this.baharNum=ITeenPatti.getCurRoom().profile.nAddNum},getMyBalance:function(){return this.gameCore.userMng.myself.nChips},getHintBarPos:function(){return cc.v2(3,177)},addHint:function(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new cc.Color(255,255,255),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;n||(n=this.getHintBarPos()),this.hintBar.addHint(e,t,i,a,n,o)},onABJIS:function(e){this.roomStatus=e.start.roomStatus;var t=!1;for(var i in e.start.users)if(this.gameCore&&this.gameCore.userMng.myself&&this.gameCore.userMng.myself.strTPID==e.start.users[i].id){t=!0;break}5!=this.roomStatus&&8!=this.roomStatus||!t?this.hide():(this.show(),8==this.roomStatus&&(this.dealBtn.node.active=!0))},onStartTime:function(e){this.hide(),this.hintBar.clearHint();for(var t=(new Date).getTime(),i=0;i<e.i;i++)this.addHint(r.t("label_text.game_starting",{time:e.i-i}),1,t+1e3*i);this.addHint(r.t("label_text.game_starts"),1,t+1e3*e.i)},onStartAB:function(e){this.roomStatus=e.roomStatus,e.downTime&&(this.downTime=(new Date).getTime()+1e3*e.downTime),5!=e.roomStatus&&8!=e.roomStatus&&this.hide();var t=ITeenPatti.getCurPlayer();if(t&&t.role&&!t.role.isWatcher()){if(this.curAndarAmount>this.getMyBalance()&&(this.curAndarAmount=this.andarAmount,ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&(this.andarNum=ITeenPatti.getCurRoom().profile.nAddNum)),this.curBaharAmount>this.getMyBalance()&&(this.curBaharAmount=this.baharAmount,ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&(this.baharNum=ITeenPatti.getCurRoom().profile.nAddNum)),5==this.roomStatus||8==this.roomStatus){this.addHint(5==this.roomStatus?r.t("label_text.first_bet"):r.t("label_text.final_bet"),1,(new Date).getTime());var i=!1;for(var n in e.users)if(this.centerSeat&&this.centerSeat.tpUser&&this.centerSeat.tpUser.strTPID==e.users[n].id){i=!0;break}i&&(this.show(),this.dealBtn.node.active=8==this.roomStatus)}else this.hide();this.updateAndarBaharStatus()}},show:function(){this.node.active=!0},hide:function(){this.dealBtn.node.active=!1,this.node.active=!1,this.downTime=-1,ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&(this.andarNum=ITeenPatti.getCurRoom().profile.nAddNum,this.baharNum=ITeenPatti.getCurRoom().profile.nAddNum,this.andarAmount=this.curAndarAmount=ITeenPatti.getCurRoom().profile.nBootAmount,this.baharAmount=this.curBaharAmount=ITeenPatti.getCurRoom().profile.nBootAmount,this.updateAndarBaharStatus())},updateAndarBaharStatus:function(){this.gameCore&&this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role&&(this.andarMinusBtn.interactable=this.curAndarAmount>this.andarAmount,this.andarPlusBtn.interactable=this.andarNum>0,this.baharMinusBtn.interactable=this.curBaharAmount>this.baharAmount,this.baharPlusBtn.interactable=this.baharNum>0,this.lblAndar.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.curAndarAmount)}),this.lblBahar.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.curBaharAmount)}))},onBet:function(e){this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&this.centerSeat.tpUser&&e.userId==this.centerSeat.tpUser.strTPID&&this.hide()},onABDeal:function(e){this.addHint(r.t("label_text.dealing_cards"),1,(new Date).getTime())},onUserStandUp:function(e){e.user.isItMe&&this.hide()},onAndarBtnClk:function(e){this.gameCore.gameMng.hasEnoughChips(this.curAndarAmount)&&(ITeenPatti.sendMsg(a.SERVER_CMD_AB_BET,{bet:this.curAndarAmount,site:!0}),this.hide())},onAndarPlusBtnClk:function(e){this.gameCore.gameMng.hasEnoughChips(2*this.curAndarAmount)&&this.andarNum>0&&this.getMyBalance()>=2*this.curAndarAmount&&(this.gameCore.gameMng.playAudioEffect("addbet"),this.andarNum--,this.curAndarAmount*=2,this.updateAndarBaharStatus())},onAndarMinusBtnClk:function(e){this.curAndarAmount>this.andarAmount&&(this.gameCore.gameMng.playAudioEffect("addbet"),this.andarNum++,this.curAndarAmount/=2,this.updateAndarBaharStatus())},onBaharBtnClk:function(e){this.gameCore.gameMng.hasEnoughChips(this.curBaharAmount)&&(ITeenPatti.sendMsg(a.SERVER_CMD_AB_BET,{bet:this.curBaharAmount,site:!1}),this.hide())},onBaharPlusBtnClk:function(e){this.gameCore.gameMng.hasEnoughChips(2*this.curBaharAmount)&&this.baharNum>0&&this.getMyBalance()>=2*this.curBaharAmount&&(this.gameCore.gameMng.playAudioEffect("addbet"),this.baharNum--,this.curBaharAmount*=2,this.updateAndarBaharStatus())},onBaharMinusBtnClk:function(e){this.curBaharAmount>this.baharAmount&&(this.gameCore.gameMng.playAudioEffect("addbet"),this.baharNum++,this.curBaharAmount/=2,this.updateAndarBaharStatus())},onDealBtnClk:function(e){this.hide(),this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&(this.centerSeat.tpUser.role.ready=!0),ITeenPatti.sendMsg(a.SERVER_CMD_AB_READY,null)}}),cc._RF.pop()},{ABCenterSeat:"ABCenterSeat",BaseComponent:"BaseComponent",Command:"Command",GameData:"GameData",GameUtils:"GameUtils",LanguageData:"LanguageData",TableHintBarAB:"TableHintBarAB"}],ABGoldCenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"cbf55PZBcZAk7aj+RJQO2Ig","ABGoldCenterSeat");var n=e("LanguageData"),a=e("GameUtils"),o=e("Command"),s=e("ABCenterSeat");cc.Class({extends:s,properties:{},initComplete:function(){this._super(),ITeenPatti.addListener(o.SERVER_CMD_GOLD_TRANSFER,this,this.onGoldTransfer),ITeenPatti.addListener(o.SERVER_CMD_GOLD_RECEIVE,this,this.onGoldReceive)},onBankToChips:function(e){},onGoldTransfer:function(e,t){this.updateBalance(-t.change)},onGoldReceive:function(e,t){this.updateBalance(t.change)},onAcceptNotification:function(e,t){},updateBalance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.tpUser){if(null!=e)this.lastBalanceValue+=e;else{if(this.lastBalanceValue==this.tpUser.nGold&&!t)return void(this.needUpdateChips=!0);this.lastBalanceValue=this.tpUser.nGold}this.lblBalance.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.lastBalanceValue,1e7)});var i=ITeenPatti.getCurRoom();if(i){var o=i.profile.nBootAmount;this.lblBalance.node.color=new cc.Color(255,255,255),this.tpUser.getTeenPattiProfile().nGold<8*o?this.lblBalance.node.color=new cc.Color(255,0,0):this.tpUser.getTeenPattiProfile().nGold<16*o&&(this.lblBalance.node.color=new cc.Color(255,128,0))}}},onUserUpdate:function(e){if(this._super(e),this.tpUser&&e&&e.user.name==this.tpUser.strTPID&&e.changedVars)for(var t in e.changedVars)"gold"==e.changedVars[t]&&this.needUpdateChips&&(this.needUpdateChips=!1,this.updateBalance())}}),cc._RF.pop()},{ABCenterSeat:"ABCenterSeat",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ABGoldControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"9815ajqF1JKVYcGm9zzRCtE","ABGoldControlBar");var n=e("ABControlBar");cc.Class({extends:n,properties:{},getMyBalance:function(){return this.gameCore.userMng.myself.nGold}}),cc._RF.pop()},{ABControlBar:"ABControlBar"}],ABGoldHelp:[function(e,t,i){"use strict";cc._RF.push(t,"7d67484Ve1Nb4YWnJ3Sujag","ABGoldHelp");var n=e("ABHelp"),a=e("LanguageData");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},initComplete:function(){this._super()},updateWinPayout:function(){ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&(this.winPayoutLabel.string=a.t("label_text.ab_pvp_help",{number1:100*ITeenPatti.getCurRoom().profile.commissionPercentFirstRound+"%",number2:100*ITeenPatti.getCurRoom().profile.commissionPercentA+"%",number3:100*ITeenPatti.getCurRoom().profile.commissionPercentB+"%"}))}}),cc._RF.pop()},{ABHelp:"ABHelp",LanguageData:"LanguageData"}],ABGoldNormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"a4d16Itru1KJbrYAKjWpvpc","ABGoldNormalSeat");var n=e("ABNormalSeat");cc.Class({extends:n,properties:{},initComplete:function(){this._super()},inviteState:function(){this._super()},hasEnoughChipsToSit:function(){return this.gameCore.gameMng.hasEnoughChips2(ITeenPatti.getCurRoom().profile.nInitBootAmount)}}),cc._RF.pop()},{ABNormalSeat:"ABNormalSeat"}],ABGoldRoom:[function(e,t,i){"use strict";cc._RF.push(t,"7276dfZU4VBe4Gc3K0/n0ZD","ABGoldRoom");e("Command");var n=e("ABRoomProfile"),a=e("ABTable"),o=e("BaseRoom"),s=e("UIInfo");cc.Class({name:"ABGoldRoom",extends:o,properties:{},ctor:function(){this.profile=new n,this.table=new a,this.roomType=ROOM_TYPE.AB_GOLD,this.tableRulesUIInfo=s.AB_GOLD_HELP}}),cc._RF.pop()},{ABRoomProfile:"ABRoomProfile",ABTable:"ABTable",BaseRoom:"BaseRoom",Command:"Command",UIInfo:"UIInfo"}],ABGoldScene:[function(e,t,i){"use strict";cc._RF.push(t,"e147baeOjtBar8c5abtDvb8","ABGoldScene");var n=e("ABScene"),a=e("UIInfo");e("GameData");cc.Class({extends:n,properties:{},openRoomInfo:function(){this.gameCore.uiMng.openUI(a.GAME_ROOM_INFO_AB_GOLD)}}),cc._RF.pop()},{ABScene:"ABScene",GameData:"GameData",UIInfo:"UIInfo"}],ABGoldTableController:[function(e,t,i){"use strict";cc._RF.push(t,"c655eU2G7ZKy6xN+PqzXUPP","ABGoldTableController");var n=e("ABTableController"),a=e("TeenPattiUser"),o=e("GameUtils"),s=e("LanguageData"),r=e("Command"),l=e("FacebookIcon");cc.Class({extends:n,properties:{winner:cc.Node,winnerSpine:sp.Skeleton,dropChipsSpine:sp.Skeleton,winnerNameLabel:cc.Label,winnerChipsLabel:cc.Label,winnerIcon:l},getBetDuration:function(){return ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile?ITeenPatti.getCurRoom().profile.waitTime:0},onLoad:function(){this._super(),this.winner.active=!1},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(r.SERVER_CMD_AB_PVP_FINISH,this,this.onABFinish)},onABFinish:function(e){if(e.name){this.winner.active=!0,"en"==this.gameCore.gameMng.curLanguage?(this.winnerSpine.setAnimation(0,"animation",!1),this.winnerSpine.addAnimation(0,"animation2",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)):"bn"==this.gameCore.gameMng.curLanguage?(this.winnerSpine.setAnimation(0,"animation3",!1),this.winnerSpine.addAnimation(0,"animation4",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)):"hi"==this.gameCore.gameMng.curLanguage&&(this.winnerSpine.setAnimation(0,"animation5",!1),this.winnerSpine.addAnimation(0,"animation6",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)),this.gameCore.gameMng.playAudioEffect("bigWin");var t=new a;t.tpProfile.strIconID=e.icon,t.tpProfile.newIcon=e.newicon,t.fbProfile.strFBID=e.facebookID,this.winnerIcon.initWithTeenPattiUser(t),this.winnerNameLabel.string=e.name,this.winnerChipsLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e.wins).toLowerCase()}),this.schedule(this.hideBigWinner,5)}},hideBigWinner:function(){this.unschedule(this.hideBigWinner),this.winner.active=!1},onStartTime:function(e){this.hideBigWinner(),this._super(e)},onStartAB:function(e){this.hideBigWinner(),this._super(e)},sitMinBalanceAmount:function(){return ITeenPatti.getCurRoom().profile.nBootAmount}}),cc._RF.pop()},{ABTableController:"ABTableController",Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser"}],ABHelp:[function(e,t,i){"use strict";cc._RF.push(t,"9070bOofwhNortF2KawROY5","ABHelp");var n=e("BaseEdgePopup"),a=e("LanguageData");cc.Class({extends:n,properties:{winPayoutLabel:cc.Label},onLoad:function(){this._super()},initComplete:function(){this._super(),this.updateWinPayout()},updateWinPayout:function(){this.winPayoutLabel.string=a.t("label_text.ab_help_4",{number:"100%"})}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",LanguageData:"LanguageData"}],ABNormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"688f9FhE3pL574DQKjnpwZp","ABNormalSeat");var n=e("ABBaseSeat");cc.Class({extends:n,properties:{},initComplete:function(){this._super()}}),cc._RF.pop()},{ABBaseSeat:"ABBaseSeat"}],ABPVPCenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"b809fKN+OdB5pVp78vB9Xq9","ABPVPCenterSeat");var n=e("ABCenterSeat");cc.Class({extends:n,properties:{imgBanker:{default:null,visible:!1,override:!0},btnSitDown:{default:null,visible:!1,override:!0},btnInvite:{default:null,visible:!1,override:!0}},onLoad:function(){this._super(),this.andarAnimaName="abpvps_anim_a_stake_seat_0",this.baharAnimaName="abpvps_anim_b_stake_seat_0"},getCommissionPercent:function(){return.98},setImgBankerActive:function(e){},getAndarPosition:function(){return cc.v2(0,150)},getBaharPosition:function(){return cc.v2(0,110)},getGiftReceivePostion:function(e,t){if(19==t){if(0==this.seatId)return this.node.convertToWorldSpaceAR(cc.v2(-60,-10))}else if(20==t){if(0==this.seatId)return this.node.convertToWorldSpaceAR(cc.v2(0,21))}else if(25==t||27==t)return this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(10,30)));return this._super(e,t)}}),cc._RF.pop()},{ABCenterSeat:"ABCenterSeat"}],ABPVPCommonCard:[function(e,t,i){"use strict";cc._RF.push(t,"964dd7PX0hOJrMleTmScGSC","ABPVPCommonCard");var n=e("ABCommonCard");cc.Class({extends:n,properties:{tableController:{get:function(){return this._tableController},set:function(e){this._tableController=e,this.dealCard.setPosition(this._tableController.isBanker()?cc.v2(123,-106):cc.v2(11,99)),this.node.y=this._tableController.isBanker()?-280:-138}}},onLoad:function(){this._super()},getBaharPosition:function(){return this.tableController.isBanker()?cc.v2(134,9):cc.v2(134,-2)},getAndarPosition:function(){return this.tableController.isBanker()?cc.v2(-114,9):cc.v2(-114,-2)},getDealCardStartPosition:function(){return this.tableController.isBanker()?cc.v2(123,-106):cc.v2(11,99)},playJokerDealAnima:function(){var e=this.tableController.isBanker()?"abpvps_anim_dealer_card_to_joker":"abpvps_anim_dealer_card_to_joker1";this.node.getComponent(cc.Animation).playAdditive(e)}}),cc._RF.pop()},{ABCommonCard:"ABCommonCard"}],ABPVPControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"0d18esdr1xK04gI6Wqrtdtz","ABPVPControlBar");var n=e("ABControlBar");cc.Class({extends:n,properties:{tableController:{get:function(){return this._tableController},set:function(e){this._tableController=e}}},updateState:function(){this.hintBar.node.y=this.tableController.isBanker()?-153:160},getHintBarPos:function(){return this.tableController.isBanker()?cc.v2(3,-153):cc.v2(3,160)},onLoad:function(){this._super()},initComplete:function(){this._super()}}),cc._RF.pop()},{ABControlBar:"ABControlBar"}],ABPVPGoldCenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"d186fwDUnBGKY2reUcBX6c9","ABPVPGoldCenterSeat");var n=e("ABPVPCenterSeat"),a=e("GameUtils"),o=e("LanguageData"),s=e("Command");cc.Class({extends:n,properties:{},getCommissionPercent:function(){return ITeenPatti.getCurRoom().profile.commissionPercent},onLoad:function(){this._super()},initComplete:function(){this._super(),ITeenPatti.addListener(s.SERVER_CMD_GOLD_TRANSFER,this,this.onGoldTransfer),ITeenPatti.addListener(s.SERVER_CMD_GOLD_RECEIVE,this,this.onGoldReceive)},onBankToChips:function(e){},onGoldTransfer:function(e,t){this.updateBalance(-t.change)},onGoldReceive:function(e,t){this.updateBalance(t.change)},onAcceptNotification:function(e,t){},updateBalance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.tpUser){if(null!=e)this.lastBalanceValue+=e;else{if(this.lastBalanceValue==this.tpUser.nGold&&!t)return void(this.needUpdateChips=!0);this.lastBalanceValue=this.tpUser.nGold}this.lblBalance.string=o.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.lastBalanceValue,1e7)});var i=ITeenPatti.getCurRoom();if(i){var n=i.profile.nBootAmount;this.lblBalance.node.color=new cc.Color(255,255,255),this.tpUser.getTeenPattiProfile().nGold<8*n?this.lblBalance.node.color=new cc.Color(255,0,0):this.tpUser.getTeenPattiProfile().nGold<16*n&&(this.lblBalance.node.color=new cc.Color(255,128,0))}}},onUserUpdate:function(e){if(this._super(e),this.tpUser&&e&&e.user.name==this.tpUser.strTPID&&e.changedVars)for(var t in e.changedVars)"gold"==e.changedVars[t]&&this.needUpdateChips&&(this.needUpdateChips=!1,this.updateBalance())}}),cc._RF.pop()},{ABPVPCenterSeat:"ABPVPCenterSeat",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ABPVPGoldControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"0a79bVd4rxK/bn1u5tre7la","ABPVPGoldControlBar");var n=e("ABPVPControlBar");cc.Class({extends:n,properties:{},getMyBalance:function(){return this.gameCore.userMng.myself.nGold}}),cc._RF.pop()},{ABPVPControlBar:"ABPVPControlBar"}],ABPVPGoldHelp:[function(e,t,i){"use strict";cc._RF.push(t,"1724b89DpFI0aADMM6TMPBf","ABPVPGoldHelp");var n=e("ABGoldHelp"),a=e("LanguageData");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},initComplete:function(){this._super()},updateWinPayout:function(){ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&(this.winPayoutLabel.string=a.t("label_text.ab_pvp_help",{number1:100*ITeenPatti.getCurRoom().profile.commissionPercentFirstRound+"%",number2:100*ITeenPatti.getCurRoom().profile.commissionPercentA+"%",number3:100*ITeenPatti.getCurRoom().profile.commissionPercentB+"%"})+a.t("label_text.ab_pvp_help1",{number:100-100*ITeenPatti.getCurRoom().profile.commissionPercent+"%"}))}}),cc._RF.pop()},{ABGoldHelp:"ABGoldHelp",LanguageData:"LanguageData"}],ABPVPGoldNormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"a5e16yMAolOq6fkxIUc577C","ABPVPGoldNormalSeat");var n=e("ABPVPNormalSeat");cc.Class({extends:n,properties:{imgBanker:{default:null,visible:!1,override:!0}},getCommissionPercent:function(){return ITeenPatti.getCurRoom().profile.commissionPercent},setImgBankerActive:function(e){},changeToBankerMode:function(){this.lblName.node.y=67,this.lblAndarNode.y=-76,this.lblBaharNode.y=-112},updateSeatState:function(){this.cdTimeBar.hide();var e=ITeenPatti.getCurTable();e&&(e.myselfIsBanker||this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role&&!this.gameCore.userMng.myself.role.isWatcher()?this.inviteState():this.sitDownState())},getAndarPosition:function(){var e=cc.v2(0,112);return this.tableController.isBanker()?e=cc.v2(0,-76):3!=this.seatId&&5!=this.seatId||(e=cc.v2(0,102)),e},getBaharPosition:function(){var e=cc.v2(0,76);return this.tableController.isBanker()?e=cc.v2(0,-112):3!=this.seatId&&5!=this.seatId||(e=cc.v2(0,70)),e},hasEnoughChipsToSit:function(){return this.gameCore.gameMng.hasEnoughChips2(ITeenPatti.getCurRoom().profile.nInitBootAmount)},getGiftReceivePostion:function(e,t){if(19==t){if(0!=this.seatId)return this.node.convertToWorldSpaceAR(cc.v2(-55,-20))}else if(20==t){if(0!=this.seatId)return this.node.convertToWorldSpaceAR(cc.v2(-5,6))}else if(25==t||27==t)return this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(10,30)));return this._super(e,t)},inviteState:function(){this._super()}}),cc._RF.pop()},{ABPVPNormalSeat:"ABPVPNormalSeat"}],ABPVPGoldRoomSelectItem:[function(e,t,i){"use strict";cc._RF.push(t,"3ffc6XELatJy4Ma0y8TAZ12","ABPVPGoldRoomSelectItem");var n=e("ABPVPRoomSelectItem");cc.Class({extends:n,properties:{},playInRoom:function(e){return this.gameCore.userMng.playInABPVPRoom(e,!0)}}),cc._RF.pop()},{ABPVPRoomSelectItem:"ABPVPRoomSelectItem"}],ABPVPGoldRoomSelect:[function(e,t,i){"use strict";cc._RF.push(t,"a964bVW5khFZrqbTD7cbdvI","ABPVPGoldRoomSelect");var n=e("ABPVPRoomSelect"),a=e("GameUtils"),o=e("Command"),s=e("LanguageData");cc.Class({extends:n,properties:{},initListenerAndRequest:function(){this.gameCore.uiMng.addListener(o.UI_CMD_GOLD_CHANGE,this,this.updateGold),this.gameCore.uiMng.addListener(o.SERVER_CMD_AB_PVP_GOLD_MINCHIPS_REQUIRE,this,this.onMinChipsRequireList),this.gameCore.uiMng.addListener(o.SERVER_CMD_AB_PVP_GOLD_ROOMS,this,this.onPVPRoomList),this.gameCore.uiMng.addListener(o.SERVER_CMD_AB_PVP_GOLD_PLAY_IN_ROOM,this,this.onPlayInABPVPRoom),this.gameCore.uiMng.addListener("ABPVPRoomSelectItemClicked",this,this.onABPVPRoomSelectItemClicked),ITeenPatti.sendMsg(o.SERVER_CMD_AB_PVP_GOLD_MINCHIPS_REQUIRE)},updateBalanceLabel:function(e){this.totalChipsLabel.string=a.formatNumberWithRules(e||this.gameCore.userMng.myself.nGold)},requestRooms:function(){ITeenPatti.sendMsg(o.SERVER_CMD_AB_PVP_GOLD_ROOMS),this.unscheduleAllCallbacks(),this.scheduleOnce(handler(this,function(){this.requestRooms()}),60)},updateGold:function(e){this.totalChipsLabel&&e&&this.updateBalanceLabel(e.final)},hasEnoughChips:function(e){return this.gameCore.gameMng.hasEnoughGold(e,s.t("label_text.not_enough_gold_msg"))},createABPVPRoom:function(e){return this.gameCore.userMng.createABPVPRoom(e,!0)}}),cc._RF.pop()},{ABPVPRoomSelect:"ABPVPRoomSelect",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ABPVPGoldRoom:[function(e,t,i){"use strict";cc._RF.push(t,"53d9efrnS1NP6ygpS7mw7pp","ABPVPGoldRoom");e("Command");var n=e("ABRoomProfile"),a=e("ABPVPTable"),o=e("BaseRoom"),s=e("UIInfo");cc.Class({name:"ABPVPGoldRoom",extends:o,properties:{},ctor:function(){this.profile=new n,this.table=new a,this.roomType=ROOM_TYPE.AB_PVP_GOLD,this.tableRulesUIInfo=s.ABPVP_GOLD_HELP}}),cc._RF.pop()},{ABPVPTable:"ABPVPTable",ABRoomProfile:"ABRoomProfile",BaseRoom:"BaseRoom",Command:"Command",UIInfo:"UIInfo"}],ABPVPGoldScene:[function(e,t,i){"use strict";cc._RF.push(t,"bbf01zJYY5Pcpcdfq6uYDwp","ABPVPGoldScene");var n=e("ABPVPScene"),a=(e("GameData"),e("UIInfo"));cc.Class({extends:n,properties:{},openRoomInfo:function(){this.gameCore.uiMng.openUI(a.GAME_ROOM_INFO_AB_PVP_GOLD)}}),cc._RF.pop()},{ABPVPScene:"ABPVPScene",GameData:"GameData",UIInfo:"UIInfo"}],ABPVPGoldTableController:[function(e,t,i){"use strict";cc._RF.push(t,"dceb8ocSPhG8ZRZ768vbW1N","ABPVPGoldTableController");var n=e("ABPVPTableController");cc.Class({extends:n,properties:{},getBetDuration:function(){return ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile?ITeenPatti.getCurRoom().profile.waitTime:0},sitMinBalanceAmount:function(){return ITeenPatti.getCurRoom().profile.nBootAmount}}),cc._RF.pop()},{ABPVPTableController:"ABPVPTableController"}],ABPVPHelp:[function(e,t,i){"use strict";cc._RF.push(t,"cc132LCksBFzbyukHmiW/9E","ABPVPHelp");var n=e("ABHelp"),a=e("LanguageData");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},initComplete:function(){this._super()},updateWinPayout:function(){this.winPayoutLabel.string=a.t("label_text.ab_help_4",{number:"98%"})}}),cc._RF.pop()},{ABHelp:"ABHelp",LanguageData:"LanguageData"}],ABPVPNormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"1467aYgDYVGhJkyNj8D6JbC","ABPVPNormalSeat");var n=e("ABNormalSeat");cc.Class({extends:n,properties:{imgBanker:{default:null,visible:!1,override:!0}},getCommissionPercent:function(){return.98},setImgBankerActive:function(e){},changeToBankerMode:function(){this.lblName.node.y=67,this.lblAndarNode.y=-76,this.lblBaharNode.y=-112},updateSeatState:function(){this.cdTimeBar.hide();var e=ITeenPatti.getCurTable();e&&(e.myselfIsBanker||this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role&&!this.gameCore.userMng.myself.role.isWatcher()?this.inviteState():this.sitDownState())},getAndarPosition:function(){var e=cc.v2(0,112);return this.tableController.isBanker()?e=cc.v2(0,-76):3!=this.seatId&&5!=this.seatId||(e=cc.v2(0,102)),e},getBaharPosition:function(){var e=cc.v2(0,76);return this.tableController.isBanker()?e=cc.v2(0,-112):3!=this.seatId&&5!=this.seatId||(e=cc.v2(0,70)),e},hasEnoughChipsToSit:function(){return this.gameCore.gameMng.hasEnoughChips2(ITeenPatti.getCurRoom().profile.nInitBootAmount)},getGiftReceivePostion:function(e,t){if(19==t&&0!=this.seatId)return this.node.convertToWorldSpaceAR(cc.v2(-55,-20));if(20==t){if(0!=this.seatId)return this.node.convertToWorldSpaceAR(cc.v2(-5,6))}else if(25==t||27==t)return this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(10,30)));return this._super(e,t)}}),cc._RF.pop()},{ABNormalSeat:"ABNormalSeat"}],ABPVPRoomSelectItem:[function(e,t,i){"use strict";cc._RF.push(t,"03363hMo9xHiaJ6RKCQPbzB","ABPVPRoomSelectItem");var n=e("BaseComponent"),a=e("GameUtils"),o=e("FacebookIcon"),s=e("ClampLabel"),r=e("TeenPattiUser");cc.Class({extends:n,properties:{watchImg:cc.Node,joinImg:cc.Node,playerCountLabel:cc.Label,minBetLabel:cc.Label,nameLabel:s,headIcon:o},setData:function(e){this.data=e,this.playerCountLabel.string=e.users+"/5",this.watchImg.active=e.users>=5,this.joinImg.active=e.users<5,this.minBetLabel.string=a.formatNumberWithRules(e.minbet),this.nameLabel.string=e.banker;var t=new r;t.tpProfile.strIconID=e.icon,t.fbProfile.strFBID=e.facebook,this.headIcon.initWithTeenPattiUser(t)},onClk:function(e){this.playInRoom(this.data.name)&&(this.showNetworkDelayLoading(),this.gameCore.uiMng.dispatch("ABPVPRoomSelectItemClicked"))},showDelayLoading:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._super(cc.v2(0,0),this.node,.7)},playInRoom:function(e){return this.gameCore.userMng.playInABPVPRoom(e)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClampLabel:"ClampLabel",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",TeenPattiUser:"TeenPattiUser"}],ABPVPRoomSelect:[function(e,t,i){"use strict";cc._RF.push(t,"c244eECR8VMlKpkGF0QHzx+","ABPVPRoomSelect");var n=e("BaseUI"),a=e("Command"),o=e("GameUtils"),s=e("LanguageData");cc.Class({extends:n,properties:{loadingBgContainer:cc.Node,totalChipsLabel:cc.Label,helpDescPanel:cc.Node,createRoomItems:[cc.Button],minChipsRequireLabels:[cc.Label],roomItemPrefab:cc.Prefab,roomItem1Prefab:cc.Prefab,roomContainer:cc.Node,noRoom:cc.Node,firstTimeShowRooms:!0,roomItems:{default:[],visible:!1}},onLoad:function(){this._super(),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1;for(var e=0;e<this.minChipsRequireLabels.length;e++)this.minChipsRequireLabels[e].string=""},initComplete:function(){this._super(),this.showLoading(),this.helpDescPanel.active=!1,this.updateBalanceLabel(),this.initListenerAndRequest(),this.requestRooms()},initListenerAndRequest:function(){this.gameCore.uiMng.addListener(a.UI_CMD_CHIPS_CHANGE,this,this.updateChips),this.gameCore.uiMng.addListener(a.SERVER_CMD_AB_PVP_MINCHIPS_REQUIRE,this,this.onMinChipsRequireList),this.gameCore.uiMng.addListener(a.SERVER_CMD_AB_PVP_ROOMS,this,this.onPVPRoomList),this.gameCore.uiMng.addListener(a.SERVER_CMD_AB_PVP_PLAY_IN_ROOM,this,this.onPlayInABPVPRoom),this.gameCore.uiMng.addListener("ABPVPRoomSelectItemClicked",this,this.onABPVPRoomSelectItemClicked),ITeenPatti.sendMsg(a.SERVER_CMD_AB_PVP_MINCHIPS_REQUIRE)},updateBalanceLabel:function(e){this.totalChipsLabel.string=o.formatNumberWithRules(e||this.gameCore.userMng.myself.nChips)},onPlayInABPVPRoom:function(e){if(3002==e.errorcode){this.requestRooms();for(var t=0;t<this.createRoomItems.length;t++)this.createRoomItems[t].interactable=!0}},onABPVPRoomSelectItemClicked:function(){for(var e=0;e<this.roomItems.length;e++){var t=this.roomItems[e].getComponent(cc.Button);t&&(t.interactable=!1)}for(e=0;e<this.createRoomItems.length;e++)this.createRoomItems[e].interactable=!1},showLoading:function(){this.gameCore.uiMng.showLoading(cc.v2(0,0),null,.8,!0,this.loadingBgContainer)},requestRooms:function(){ITeenPatti.sendMsg(a.SERVER_CMD_AB_PVP_ROOMS),this.unscheduleAllCallbacks(),this.scheduleOnce(handler(this,function(){this.requestRooms()}),60)},updateStatus:function(){this.minChipsRequireReturned&&this.PVPRoomsReturned&&(this.firstTimeShowRooms&&this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.hideLoading(),this.showRooms())},onMinChipsRequireList:function(e){if(this.minChipsRequireReturned=!0,e.levels){this.roomLevels=table.createToArray(e.levels);for(var t=0;t<this.minChipsRequireLabels.length;t++)this.roomLevels[t]&&(this.minChipsRequireLabels[t].string=o.formatNumberWithRules(this.roomLevels[t].minchips,1e5,0).toLowerCase())}this.updateStatus()},getRoomLevel:function(e){if(this.roomLevels)for(var t=0;t<this.roomLevels.length;t++)if(this.roomLevels[t].minbet==e.minbet)return this.roomLevels[t].level;return 0},showRooms:function(){if(this.rooms&&this.gameCore){if(this.roomLevels){var e=this.gameCore.userMng.myself.nChips,t=[];this.roomLevels[0]&&e<5*this.roomLevels[0].minbet?t=[1,1,1,1]:this.roomLevels[1]&&e<5*this.roomLevels[1].minbet?t=[1,1]:this.roomLevels[2]&&e<5*this.roomLevels[2].minbet?t=[2,2,1]:this.roomLevels[3]&&e<5*this.roomLevels[3].minbet?t=[3,3,2]:this.roomLevels[3]&&e<50*this.roomLevels[3].minbet?t=[4,3,3,2]:this.roomLevels[3]&&e>=50*this.roomLevels[3].minbet&&(t=[4,4,3,2]);for(var i=[];t.length>0;)for(var n=t.shift(),a=0;a<this.rooms.length;a++)if(this.getRoomLevel(this.rooms[a])==n){i=i.concat(this.rooms.splice(a,1));break}this.rooms=i.concat(this.rooms)}for(a=0;a<this.roomItems.length;a++)this.roomItems[a].removeFromParent();this.roomItems.length=0;for(a=0;a<this.rooms.length;a++){var o=cc.instantiate(this.roomItemPrefab),s=o.getComponent("ABPVPRoomSelectItem");s.gameCore=this.gameCore,s.setData(this.rooms[a]),this.roomContainer.addChild(o),this.roomItems.push(o)}if(this.noRoom.active=0==this.rooms.length,this.rooms.length>0)for(a=this.rooms.length;a<6;a++){var r=cc.instantiate(this.roomItem1Prefab);this.roomContainer.addChild(r),this.roomItems.push(r)}this.firstTimeShowRooms=!1}},onPVPRoomList:function(e){this.PVPRoomsReturned=!0,this.rooms=[],e.rooms&&(this.rooms=table.createToArray(e.rooms)),this.updateStatus()},hasEnoughChips:function(e){return this.gameCore.gameMng.hasEnoughChips(e,s.t("label_text.not_enough_chips_banker"))},onCreateRoomBtnClk:function(e,t){if(this.roomLevels&&void 0!=this.roomLevels[t]){if(!this.hasEnoughChips(this.roomLevels[t].minchips))return;this.gameCore.gameMng.showAlert(s.t("label_text.create_table_banker"),"",2,handler(this,function(){this.createABPVPRoom(this.roomLevels[t].minchips)&&this.showLoading()}))}},createABPVPRoom:function(e){return this.gameCore.userMng.createABPVPRoom(e)},updateChips:function(e){this.totalChipsLabel&&e&&this.updateBalanceLabel(e.final)},onHelpBtnClk:function(e){this.helpDescPanel.active=!this.helpDescPanel.active},onHelpNodeTouchEnd:function(e){e.stopPropagation()},closeUI:function(e,t){this._super(e,t)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ABPVPRoom:[function(e,t,i){"use strict";cc._RF.push(t,"5afb1Dpg2dDjIniW5NSwiYf","ABPVPRoom");e("Command");var n=e("ABRoomProfile"),a=e("ABPVPTable"),o=e("BaseRoom"),s=e("UIInfo");cc.Class({name:"ABPVPRoom",extends:o,properties:{},ctor:function(){this.profile=new n,this.table=new a,this.roomType=ROOM_TYPE.AB_PVP,this.tableRulesUIInfo=s.ABPVP_HELP}}),cc._RF.pop()},{ABPVPTable:"ABPVPTable",ABRoomProfile:"ABRoomProfile",BaseRoom:"BaseRoom",Command:"Command",UIInfo:"UIInfo"}],ABPVPScene:[function(e,t,i){"use strict";cc._RF.push(t,"2e4b1Wo5O1CQopXvrVFBzDO","ABPVPScene");var n=e("ABScene"),a=e("Command"),o=e("GameData"),s=e("UIInfo");cc.Class({extends:n,properties:{bg:cc.Sprite,abCard:cc.Sprite},initPreloadData:function(){this.preloadPrefabs=this.preloadPrefabs.concat(o.AB_PVP_SCENE_PRELOAD_POPUP()),this._super()},initComplete:function(){this._super();ITeenPatti.getCurTable();this.gameCore.userMng.gameBgTex&&(this.bg.spriteFrame=new cc.SpriteFrame(this.gameCore.userMng.gameBgTex),this.gameCore.userMng.gameBgTex=null),this.gameCore.uiMng.addListener(a.SERVER_CMD_IN_LOBBY,this,this.onInLobby)},onInLobby:function(){ITeenPatti.roomLeaved(),this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},onBankerBuyBtnClk:function(e){this.tableController.isBanker()&&this.onBuyBtnClk(e)},onBackBtnClk:function(e){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(this.gameCore.uiMng.isPopUpByUIKey(s.BACK_MENU_ABPVP.name)||this.gameCore.uiMng.openUI(s.BACK_MENU_ABPVP))},onBackButtonClk:function(){this.gameCore.uiMng.isPopUpByUIKey(s.BACK_MENU_ABPVP.name)||this.gameCore.uiMng.openUI(s.BACK_MENU_ABPVP)},openRoomInfo:function(){this.gameCore.uiMng.openUI(s.GAME_ROOM_INFO_AB_PVP)}}),cc._RF.pop()},{ABScene:"ABScene",Command:"Command",GameData:"GameData",UIInfo:"UIInfo"}],ABPVPTableController:[function(e,t,i){"use strict";cc._RF.push(t,"9f372uYK81LQ7JjP3nhrUA2","ABPVPTableController");var n=e("ABTableController"),a=e("TeenPattiUser"),o=e("GameUtils"),s=e("LanguageData"),r=e("Command"),l=e("FacebookIcon");cc.Class({extends:n,properties:{winner:cc.Node,winnerSpine:sp.Skeleton,dropChipsSpine:sp.Skeleton,winnerNameLabel:cc.Label,winnerChipsLabel:cc.Label,winnerIcon:l},updateTableLowBarActive:function(e){this.tableLowBar.active=e&&!this.isBanker()},onLoad:function(){this._super(),this.winner.active=!1},initComplete:function(){this._super(),this.gameCore.userMng.invitations.length=0;var e=[-180,-152,-95,-152,-95];this.isBanker()&&(e=[204,184,58,184,58]);for(var t=1;t<this.arrSeat.length;t++)this.isBanker()&&this.arrSeat[t].changeToBankerMode(),this.arrSeat[t].node.y=e[t-1];this.judgeChipsBalance(),this.gameCore.uiMng.addListener(r.SERVER_CMD_AB_PVP_FINISH,this,this.onABFinish)},onABFinish:function(e){if(e.name){this.winner.active=!0,"en"==this.gameCore.gameMng.curLanguage?(this.winnerSpine.setAnimation(0,"animation",!1),this.winnerSpine.addAnimation(0,"animation2",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)):"bn"==this.gameCore.gameMng.curLanguage?(this.winnerSpine.setAnimation(0,"animation3",!1),this.winnerSpine.addAnimation(0,"animation4",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)):"hi"==this.gameCore.gameMng.curLanguage&&(this.winnerSpine.setAnimation(0,"animation5",!1),this.winnerSpine.addAnimation(0,"animation6",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)),this.gameCore.gameMng.playAudioEffect("bigWin");var t=new a;t.tpProfile.strIconID=e.icon,t.tpProfile.newIcon=e.newicon,t.fbProfile.strFBID=e.facebookID,this.winnerIcon.initWithTeenPattiUser(t),this.winnerNameLabel.string=e.name,this.winnerChipsLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e.wins).toLowerCase()}),this.schedule(this.hideBigWinner,5)}},getMessagePos:function(e){return 100==e?this.isBanker()?cc.v2(0,-340):cc.v2(0,80):this._super(e)},hideBigWinner:function(){this.unschedule(this.hideBigWinner),this.winner.active=!1},onStartTime:function(e){this.hideBigWinner(),this._super(e)},onStartAB:function(e){this.hideBigWinner(),this._super(e)},giftScale:function(e,t){var i=2==t?1.1:1;return 100==e&&this.isBanker()?.8*i:0!=e?.72*i:.76*i},getSeatWithUserId:function(e){var t=ITeenPatti.getCurTable();return t&&e==t.playerBankerID?this.dealer:this._super(e)},isBanker:function(){return this.table&&this.table.myselfIsBanker},judgeChipsBalance:function(){ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&!this.isBanker()&&!this.gameCore.gameMng.hasEnoughChips2(ITeenPatti.getCurRoom().profile.nInitBootAmount)&&(ITeenPatti.getCurPlayer().role.isWatcher()||ITeenPatti.sendMsg("standup",null))},onRewardComplete:function(){this._super(),this.dealer.updateBalance()}}),cc._RF.pop()},{ABTableController:"ABTableController",Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser"}],ABPVPTable:[function(e,t,i){"use strict";cc._RF.push(t,"87c81iSvFlJc6EirsiYhSJL","ABPVPTable");e("TeenPattiUser"),e("TeenPattiABRoler");var n=e("Command"),a=e("ABTable");cc.Class({extends:a,name:"ABPVPTable",properties:{playerBankerID:"",playerBankerName:"",playerBankerChips:0,playerBankerWins:0,playerBankerIcon:0,playerBankerFacebookID:"",myselfIsBanker:!1,isDisbanded:!1},initCallback:function(){this._super(),this.arrHandler[n.SERVER_CMD_PVP_DISBAND]=handler(this,this.onDisband)},onDisband:function(e,t){this.isDisbanded=!t.errorcode,this.myselfIsBanker?ITeenPatti.gameCore.gameMng.PVPBankerSummary={1:"disband#"+(ITeenPatti.gameCore.uiMng.isInGoldScene?"Gold":"Normal"),2:this.playerBankerWins}:ITeenPatti.gameCore.gameMng.PVPDisbanded=!0},onRoomJoin:function(e,t){if(this._super(e,t),t.room.variables.bn){this.playerBankerID=t.room.variables.bn.value;var i=ITeenPatti.getCurPlayer();this.myselfIsBanker=i&&i.strTPID==this.playerBankerID}this.updateRoomVariables(t.room.variables)},onRoomUpdate:function(e,t){this._super(e,t),this.updateRoomVariables(t.room.variables)},updateRoomVariables:function(e){e.bname&&(this.playerBankerName=e.bname.value),e.bc&&(this.playerBankerChips=e.bc.value),e.bw&&(this.playerBankerWins=e.bw.value),e.bi&&(this.playerBankerIcon=e.bi.value),e.bf&&(this.playerBankerFacebookID=e.bf.value)}}),cc._RF.pop()},{ABTable:"ABTable",Command:"Command",TeenPattiABRoler:"TeenPattiABRoler",TeenPattiUser:"TeenPattiUser"}],ABRoomProfile:[function(e,t,i){"use strict";cc._RF.push(t,"83791EUJU9GQqZmP4sksIri","ABRoomProfile");var n=e("RoomProfile");cc.Class({name:"ABRoomProfile",extends:n,properties:{commissionPercentFirstRound:.25,commissionPercentA:1,commissionPercentB:1},onRoomJoin:function(e,t){this._super(e,t),t.room.variables.rpt1&&(this.commissionPercentFirstRound=t.room.variables.rpt1.value),t.room.variables.rpt2&&(this.commissionPercentA=t.room.variables.rpt2.value),t.room.variables.rpt3&&(this.commissionPercentB=t.room.variables.rpt3.value)},onRoomUpdate:function(e,t){this._super(e,t),t.room.variables.rpt1&&(this.commissionPercentFirstRound=t.room.variables.rpt1.value),t.room.variables.rpt2&&(this.commissionPercentA=t.room.variables.rpt2.value),t.room.variables.rpt3&&(this.commissionPercentB=t.room.variables.rpt3.value)}}),cc._RF.pop()},{RoomProfile:"RoomProfile"}],ABRoom:[function(e,t,i){"use strict";cc._RF.push(t,"edfcf534fpKipPuNEDD/73q","ABRoom");e("Command");var n=e("ABRoomProfile"),a=e("ABTable"),o=e("BaseRoom"),s=e("UIInfo");cc.Class({name:"ABRoom",extends:o,properties:{},ctor:function(){this.profile=new n,this.table=new a,this.roomType=ROOM_TYPE.AB,this.tableRulesUIInfo=s.AB_HELP}}),cc._RF.pop()},{ABRoomProfile:"ABRoomProfile",ABTable:"ABTable",BaseRoom:"BaseRoom",Command:"Command",UIInfo:"UIInfo"}],ABSceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"f3a93Dg5iRBlp19DuCr6Yes","ABSceneAudio");var n=e("BaseSceneAudio");cc.Class({extends:n,properties:{bet:{type:cc.AudioClip,default:null},addbet:{type:cc.AudioClip,default:null},countdown:{type:cc.AudioClip,default:null},deal:{type:cc.AudioClip,default:null},win:{type:cc.AudioClip,default:null},levelup:{type:cc.AudioClip,default:null},tip:{type:cc.AudioClip,default:null},bigWin:{type:cc.AudioClip,default:null}},onLoad:function(){}}),cc._RF.pop()},{BaseSceneAudio:"BaseSceneAudio"}],ABScenePopup:[function(e,t,i){"use strict";cc._RF.push(t,"93392vNQY1EbqLuBh6qyWCI","ABScenePopup"),cc.Class({extends:cc.Component,properties:{prefabs:[cc.Prefab]}}),cc._RF.pop()},{}],ABScene:[function(e,t,i){"use strict";cc._RF.push(t,"bb45bDVk15H6aYz6EpS4NH3","ABScene");var n=e("Command"),a=e("UIInfo"),o=e("GameData"),s=e("DataAnalysisKey"),r=e("TableDealerAB"),l=e("ABControlBar"),c=e("ABTableController"),h=e("ABCommonCard"),u=e("BaseGameScene");cc.Class({extends:u,properties:{connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,modeNode:cc.Node,infoBtnNode:cc.Node,chatBtnNode:cc.Node,dealer:r,controlBar:l,tableController:c,commonCard:h},initPreloadData:function(){this.preloadPrefabs=this.preloadPrefabs.concat(o.AB_SCENE_PRELOAD_POPUP()),this._super()},onLoad:function(){this._super()},initComplete:function(){if(this._super(),isInstantGame){var e=this.infoBtnNode.getComponent(cc.Widget);e.right=10,e.bottom=90}ITeenPatti.addListener("ConnectionResume",this,this.onConnectResume),this.gameCore.uiMng.addListener(n.SERVER_CMD_AB_JIS,this,this.onABJIS),this.gameCore.uiMng.addListener(n.SERVER_CMD_START_TIME,this,this.onStartTime),this.gameCore.uiMng.addListener(n.SERVER_CMD_AB_BANKER,this,this.onBanker),this.gameCore.uiMng.addListener(n.SERVER_CMD_AB_CARD_SELECT,this,this.onCommonCardSelect),this.gameCore.uiMng.addListener(n.SERVER_CMD_START_AB,this,this.onStartAB),this.gameCore.uiMng.addListener(n.SERVER_CMD_AB_DEAL,this,this.onABDeal),this.gameCore.uiMng.addListener(n.SERVER_CMD_AB_BET,this,this.onABBet),this.gameCore.uiMng.addListener(n.SERVER_CMD_USER_ENTER_ROOM,this,this.onUserEnterRoom),ITeenPatti.addListener(n.SERVER_CMD_USER_UPDATE,this,this.onUserUpdate),this.openRoomInfo()},onEnterForeground:function(){this._super()},onConnectResume:function(e,t){ITeenPatti.sendMsg(n.SERVER_CMD_AB_JIS)},onABJIS:function(e){this.tableController.onABJIS(e),this.controlBar.onABJIS(e),this.dealer.onABJIS(e),this.updateGameIdValue()},onStartTime:function(e){this.dealer.onStartTime(e),this.controlBar.onStartTime(e),this.tableController.onStartTime(e),this.updateGameIdValue()},onBanker:function(e){this.tableController.onBanker(e)},onCommonCardSelect:function(e){this.tableController.onCommonCardSelect(e)},onStartAB:function(e){this.dealer.onStartAB(e),this.commonCard.onStartAB(e),this.controlBar.onStartAB(e),this.tableController.onStartAB(e),this.updateGameIdValue()},onABBet:function(e){e.errorcode||(this.controlBar.onBet(e),this.tableController.onBet(e),this.dealer.onBet(e))},onABDeal:function(e){e.errorcode||(this.tableController.onABDeal(e),this.controlBar.onABDeal(e))},onUserEnterRoom:function(e){this.tableController.onUserEnterRoom(e)},onUserExitRoom:function(e,t){this._super(e,t),this.tableController&&this.tableController.onUserExitRoom(t)},onUserUpdate:function(e,t){this.tableController.onUserUpdate(e,t)},onRoundFinish:function(e,t){this._super(e,t),this.tableController.onRoundFinish(e,t)},onRoomInfoBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(s.CLICK_AB_TABLEINFO,this.gameCore.dataAnalysisMng.gameBaseData),this.openRoomInfo()},openRoomInfo:function(){this.gameCore.uiMng.openUI(a.GAME_ROOM_INFO_AB)}}),cc._RF.pop()},{ABCommonCard:"ABCommonCard",ABControlBar:"ABControlBar",ABTableController:"ABTableController",BaseGameScene:"BaseGameScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",TableDealerAB:"TableDealerAB",UIInfo:"UIInfo"}],ABTableController:[function(e,t,i){"use strict";cc._RF.push(t,"4f20a8ITS5CLYOawYxHeeOx","ABTableController");var n=e("ABBaseSeat"),a=e("TableDealerAB"),o=e("ABCommonCard"),s=e("ABControlBar"),r=e("ABCenterSeat"),l=e("BaseTable"),c=e("LanguageData"),h=e("Command"),u=e("GameData"),d=e("BaseTableController");cc.Class({extends:d,properties:{table:l,pfbMsg:cc.Prefab,chatBtn:cc.Node,centerSeat:r,controlBar:s,dealer:a,commonCard:o,arrSeat:[n],arrPfbGift:{type:[cc.Prefab],default:[],override:!0},roomStatus:{default:1,visible:!1},startTime:0,downTime:0,tableLowBar:cc.Node,lblLowTips:cc.Label},onEnterForeground:function(){this._super(),5!=this.roomStatus&&6!=this.roomStatus&&this.node.stopAllActions()},updateTableLowBarActive:function(e){this.tableLowBar.active=e},onLoad:function(){this._super(),this.table=ITeenPatti.getCurTable()},initComplete:function(){this._super(),this.gameCore.gameMng.isFitHeight()||(this.tableLowBar.height=120),this.gameCore.uiMng.addListener("PublicMessage",this,this.onMessageReceive),this.gameCore.uiMng.addListener("sendmessage",this,this.onMessageReceive),this.gameCore.uiMng.addListener("UserStandUp",this,this.onUserStandUp),this.gameCore.uiMng.addListener(h.SERVER_CMD_USER_SIT_DOWN,this,this.onUserSitDown),this.updateChatBtnVisible(),this.dealer.tableController=this,this.controlBar.tableController=this,this.commonCard.tableController=this,this.centerSeat.tableController=this;for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].curTable=this.table,this.arrSeat[e].tableController=this;this.rearrangeSeat(!0),this.updateTableLowBarActive(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&ITeenPatti.getCurPlayer().role.isWatcher()),this.updateLowTipsLabel()},i18nRendersUpdate:function(){this._super(),this.updateLowTipsLabel()},updateCenterSeatVisible:function(){this.arrSeat[0].node.active=!ITeenPatti.getCurPlayer().role.isWatcher(),this.arrSeat[1].node.active=ITeenPatti.getCurPlayer().role.isWatcher()},rearrangeSeat:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){if(e)for(var t=-1!=ITeenPatti.getCurPlayer().role.playerId?ITeenPatti.getCurPlayer().role.playerId:1,i=0;i<this.arrSeat.length;i++){var n=this.arrSeat[i];n.playerId=i<2?t:(t+i-1)%5,n.playerId=0==n.playerId?5:n.playerId,n.seatId=i,n.clearSeat(!1)}this.updateCenterSeatVisible();for(var a=this.table.getUserList(),o=0;o<a.length;o++){var s=a[o].role.playerId,r=this.getSeatWithPlayerId(s);r&&r.onUserSitDown(a[o]),e&&r&&r.updateAndarBaharLabel(),r&&r.updateGameCrown()}this.updateSeatState()}},isBanker:function(){return!1},updateSeatState:function(){for(var e=1;e<this.arrSeat.length;e++)this.arrSeat[e].hasPlayer()||(ITeenPatti.getCurPlayer().role.isWatcher()&&!this.isBanker()?this.arrSeat[e].sitDownState():this.arrSeat[e].inviteState())},getSeatWithPlayerId:function(e){if(!ITeenPatti.getCurPlayer().role)return null;for(var t=!ITeenPatti.getCurPlayer().role.isWatcher()?0:1;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.playerId==e)return i}return null},getSeatWithUserId:function(e){for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.tpUser.userId==e)return i}return null},getBetDuration:function(){return 15},onABJIS:function(e){this.roomStatus=e.start.roomStatus,this.rearrangeSeat(!0);for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].onABJIS(e);if((5==this.roomStatus||8==this.roomStatus)&&e.start.downTime>0&&(this.startTime=(new Date).getTime()-1e3*(this.getBetDuration()-e.start.downTime),this.updateCountDown()),e.bankerId&&this.bankerLeftTime(e.bankerId,e.start.downTime),!this.isDealing){var i=this.commonCard.onABJIS(e);if(void 0!=i&&e.start.awarduser){this.dealer.dealBegin();var n=table.createToArray(e.start.a),a=table.createToArray(e.start.b);this.scheduleOnce(handler(this,function(){this.playRewardAnima(0,n.length<=a.length,e.start.awarduser,n.length<=1&&a.length<=1)}),i)}}},onUserEnterRoom:function(e){},onUserExitRoom:function(e){var t=this.getSeatWithUserId(e.user.name);t&&(t.onUserExitRoom(e),this.rearrangeSeat()),this.updateGameCrown()},onRoundFinish:function(e,t){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(t.roundID,this.table.roundID)},onMessageReceive:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=""+t.id;if(!ITeenPatti.getCurRoom().msgHistory.isBlocked(i)){var n=this.getSeatWithUserId(i);if(n){var a=cc.instantiate(this.pfbMsg);a.setPosition(this.getMessagePos(n.seatId)),n.node.addChild(a),a.getComponent("MsgPop").setPopText(t.msg,"sendmessage"==e)}}}},getMessagePos:function(e){return 0==e?cc.v2(0,95):cc.v2(0,80)},onUserStandUp:function(e){this.updateLowTipsLabel(),this.controlBar.onUserStandUp(e),this.dealer.onUserStandUp(null,e);var t=this.getSeatWithUserId(e.user.name);t&&t.onUserStandUp(),this.updateGameCrown(),ITeenPatti.getCurTable()&&0==ITeenPatti.getCurTable().getSitUserCount()&&(this.startTime=0,this.downTime=0,this.commonCard.reset(),this.controlBar.hintBar.clearHint()),t&&(this.rearrangeSeat(),t instanceof r&&this.commonCard.myselfStandUp()),this.updateGiftBtnVisible(),this.updateChatBtnVisible(),ITeenPatti.getCurPlayer().role&&ITeenPatti.getCurPlayer().role.isWatcher()&&this.updateTableLowBarActive(!0)},onUserSitDown:function(e){if((this.dealer.onUserSitDown(null,e),ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role)&&!(e.user.playerId<0)){if(this.updateGameCrown(),this.updateLowTipsLabel(),e.user.isItMe)this.updateTableLowBarActive(!0),this.centerSeat.balanceBar.active=!1,this.rearrangeSeat(!0),this.commonCard.myselfSitDown();else{var t=this.getSeatWithPlayerId(e.user.playerId);t&&t.onUserSitDown(this.table.getUserWithPlayerID(e.user.playerId))}this.updateGiftBtnVisible(),this.updateChatBtnVisible()}},updateChatBtnVisible:function(){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(this.chatBtn.active=!ITeenPatti.getCurPlayer().role.isWatcher()||this.isBanker())},updateGiftBtnVisible:function(){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role)for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].updateGiftBtnActive(!ITeenPatti.getCurPlayer().role.isWatcher()||this.isBanker())},updateGameCrown:function(){for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].updateGameCrown()},updateCountDown:function(){if((5==this.roomStatus||8==this.roomStatus)&&this.inCountDown())for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].startCountDown(this.startTime,this.getBetDuration(),Math.max(0,((new Date).getTime()-this.startTime)/1e3)/this.getBetDuration())},inCountDown:function(){return this.startTime>0&&(new Date).getTime()-this.startTime<1e3*this.getBetDuration()},onUserUpdate:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=t.user.playerId,n=this.getSeatWithPlayerId(i);n&&n.onUserUpdate(t)}},resetRoleInfo:function(){for(var e=this.table.getUserList(),t=0;t<e.length;t++)e[t]&&e[t].role&&(e[t].role.totalAndarAmount=0,e[t].role.lastTotalAndarAmount=0,e[t].role.totalBaharAmount=0,e[t].role.lastTotalBaharAmount=0,e[t].role.ready=!1)},getTotalAndarAmount:function(){var e=0;if(this.table)for(var t=this.table.getUserList(),i=0;i<t.length;i++)t[i]&&t[i].role&&(e+=t[i].role.totalAndarAmount);return e},getTotalBaharAmount:function(){var e=0;if(this.table)for(var t=this.table.getUserList(),i=0;i<t.length;i++)t[i]&&t[i].role&&(e+=t[i].role.totalBaharAmount);return e},hasAndarBet:function(){for(var e=this.table.getUserList(),t=0;t<e.length;t++)if(e[t].role&&e[t].role.totalAndarAmount>0)return!0;return!1},hasBaharBet:function(){for(var e=this.table.getUserList(),t=0;t<e.length;t++)if(e[t].role&&e[t].role.totalBaharAmount>0)return!0;return!1},playRewardAnima:function(e,t,i,n){if(this.dealer.dealEnd(),i||i[1]){var a=this.hasAndarBet(),o=this.hasBaharBet();if(a){var s=t&&o?e+1:e;this.node.runAction(cc.sequence(cc.delayTime(s),cc.callFunc(function(){for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].playAndarRewardAnima(0,i,n)},this)))}if(o){var r=!t&&a?e+1:e;this.node.runAction(cc.sequence(cc.delayTime(r),cc.callFunc(function(){for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].playBaharRewardAnima(0,i,n)},this)))}(t&&!a||!t&&!o)&&this.node.runAction(cc.sequence(cc.delayTime(e+1),cc.callFunc(this.onRewardComplete,this)))}},onRewardComplete:function(){this.isDealing=!1},onABDeal:function(e){this.roomStatus=6,this.controlBar.hide();var t=table.createToArray(e.andar),i=table.createToArray(e.bahar),n=handler(this,this.playRewardAnima,[0,t.length<=i.length,e.user,t.length<=1&&i.length<=1]);this.commonCard.onABDeal(t,i,!0,n,e.startTime,!e.notfinish);this.isBackground,this.isDealing=!0,this.dealer.dealBegin()},onCommonCardShowUp:function(){for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].onCommonCardShowUp()},onPlayerReady:function(e){},onStartAB:function(e){this.updateGameCrown(),this.roomStatus=e.roomStatus;for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].onStartAB(e);if(5==e.roomStatus||8==e.roomStatus)for(var i in this.startTime=e.startTime?e.startTime:(new Date).getTime()-1e3*(this.getBetDuration()-e.downTime),this.downTime=e.downTime,e.users)for(t=0;t<this.arrSeat.length;t++)e.users[i].isReady||this.arrSeat[t].startCountDownByUserId(e.users[i].id,this.startTime,this.getBetDuration(),Math.max(0,this.getBetDuration()-this.downTime)/this.getBetDuration());else this.startTime=0,this.downTime=0;var n=!1;for(var i in e.users)if(this.centerSeat&&this.centerSeat.tpUser&&this.centerSeat.tpUser.strTPID==e.users[i].id){n=!0;break}5==this.roomStatus&&(this.updateTableLowBarActive(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&ITeenPatti.getCurPlayer().role.isWatcher()||!n),this.centerSeat.balanceBar.active=n,this.updateLowTipsLabel())},onBet:function(e){for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].onABBet(e);this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&this.centerSeat.tpUser.strTPID==e.userId&&ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&8*ITeenPatti.getCurRoom().profile.nBootAmount>ITeenPatti.getCurPlayer().nChips&&this.gameCore.gameMng.openChipsNotEnough1()},bankerLeftTime:function(e,t,i,n){if(!(t<0)){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().getUserWithPlayerID(e))for(var a=ITeenPatti.getCurTable().getUserWithPlayerID(e),o=this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&this.centerSeat.tpUser.role.playerId==e,s=0,r=t,l=r;l>=1;l--)this.controlBar.addHint((o?c.t("label_text.select_card_msg"):c.t("label_text.selecting_card",{name:a.strTPName}))+" "+r+"s",1,(new Date).getTime()+1e3*s,new cc.Color(255,255,255),cc.v2(3,177),520),r--,s++;this.commonCard.onBanker(this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&this.centerSeat.tpUser.role.playerId==e,n);for(l=0;l<this.arrSeat.length;l++)this.arrSeat[l].startCountDownByPlayerId(e,i||(new Date).getTime()-1e3*(u.ABSelectDuration-t),u.ABSelectDuration,Math.max(0,u.ABSelectDuration-t)/u.ABSelectDuration)}},onBanker:function(e){this.bankerLeftTime(e.playerId,e.time,e.startTime,e.is)},onCommonCardSelect:function(e){this.controlBar.hintBar.clearHint(),this.commonCard.onJokerCard(e.index,e.commonCard);for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].hideTimeBar()},onStartTime:function(e){this.commonCard.onStartTime(e),this.resetRoleInfo();for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].onStartTime();this.judgeChipsBalance()},judgeChipsBalance:function(){ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&!ITeenPatti.getCurPlayer().role.isWatcher()&&!this.gameCore.gameMng.hasEnoughChips2(this.sitMinBalanceAmount())&&ITeenPatti.sendMsg("standup",null)},sitMinBalanceAmount:function(){return 8*ITeenPatti.getCurRoom().profile.nBootAmount},updateLowTipsLabel:function(){var e=ITeenPatti.getCurPlayer();e&&e.role&&(ITeenPatti.getCurPlayer().role.isWatcher()?ITeenPatti.getCurTable().isTableFull?this.lblLowTips.string=c.t("label_text.table_full"):this.lblLowTips.string=c.t("label_text.tap_to_sit"):this.lblLowTips.string=c.t("label_text.wait_to_start"))},giftScale:function(e,t){return 0!=e?.52:.66}}),cc._RF.pop()},{ABBaseSeat:"ABBaseSeat",ABCenterSeat:"ABCenterSeat",ABCommonCard:"ABCommonCard",ABControlBar:"ABControlBar",BaseTable:"BaseTable",BaseTableController:"BaseTableController",Command:"Command",GameData:"GameData",LanguageData:"LanguageData",TableDealerAB:"TableDealerAB"}],ABTable:[function(e,t,i){"use strict";cc._RF.push(t,"96b4fM1y5dGy7zDe8byw2fx","ABTable");var n=e("TeenPattiUser"),a=e("TeenPattiABRoler"),o=e("Command"),s=e("BaseTable");cc.Class({extends:s,name:"ABTable",properties:{},initCallback:function(){this.arrHandler={},this.arrHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrHandler.UserEnterRoom=handler(this,this.onUserEnterRoom),this.arrHandler.UserExitRoom=handler(this,this.onUserExitRoom),this.arrHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrHandler.UserSitDown=handler(this,this.onUserSitDown),this.arrHandler.UserUpdate=handler(this,this.onUserUpdate),this.arrHandler[o.SERVER_CMD_UPDATE_BONUS]=handler(this,this.onUserLevelUp),this.arrHandler.starttime=handler(this,this.onRoundReady),this.arrHandler.finish=handler(this,this.onRoundFinish),this.arrHandler[o.SERVER_CMD_AB_FIRST_BET]=handler(this,this.onPlayerReady),this.arrHandler[o.SERVER_CMD_AB_SECOND_BET]=handler(this,this.onPlayerReady),this.arrHandler[o.SERVER_CMD_AB_JIS]=handler(this,this.onABJIS)},getRoler:function(e){return new a(e)},onPlayerReady:function(e){for(var t=0;t<this.arrUser.length;t++)e.userId==this.arrUser[t].strTPID&&(this.users[t].role.ready=!0)},onABJIS:function(e){this.arrUser=[];for(var t=ITeenPatti.getCurRoomSFSUserList(),i=0;i<t.length;i++){var a=t[i],o=new n;o.initWithSFSPlayer(a),o.setRole(this.getRoler(a)),this.arrUser[this.arrUser.length]=o}}}),cc._RF.pop()},{BaseTable:"BaseTable",Command:"Command",TeenPattiABRoler:"TeenPattiABRoler",TeenPattiUser:"TeenPattiUser"}],AEAppDelegate:[function(e,t,i){"use strict";cc._RF.push(t,"e656e7e6lJLB5CBv+0FzmoY","AEAppDelegate");cc.Class({name:"AEAppDelegate",properties:{arrCmdHandler:{default:{}}},ctor:function(){},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)}});cc._RF.pop()},{}],AEApplication:[function(e,t,i){"use strict";cc._RF.push(t,"8f7b1MCpbpKwrGmi/bAo/xs","AEApplication"),function(){if(window.IApplication)t.exports=window.IApplication;else{var i=i||{};i.init=function(){var t=e("AEAppDelegate");i.delegate=new t},i.onMsgReceived=function(e,t){this.delegate&&this.delegate.onMsgReceived(e,t)},window.IApplication=i,t.exports=i}}(),cc._RF.pop()},{AEAppDelegate:"AEAppDelegate"}],AECanvas:[function(e,t,i){"use strict";cc._RF.push(t,"bccaaSPbI9O8KBXWYRNBK4u","AECanvas"),cc.Class({extends:cc.Component,properties:{_fitWidth:!1,_fitHeight:!0,fitHeight:{get:function(){return this._fitHeight},set:function(e){this._fitHeight!==e&&(this._fitHeight=e,this.applySettings())},tooltip:!1},fitWidth:{get:function(){return this._fitWidth},set:function(e){this._fitWidth!==e&&(this._fitWidth=e,this.applySettings())},tooltip:!1}},onLoad:function(){this._thisOnResized=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"window-resize",callback:this.onResized.bind(this)}),cc.sys.isMobile?window.addEventListener("resize",this._thisOnResized):cc.systemEvent.on("canvas-resize",this._thisOnResized,this),this.applySettings()},onResized:function(){this.applySettings()},applySettings:function(){var e=cc.visibleRect;this._fitWidth&&(this.node.width=e.width),this._fitHeight&&(this.node.height=e.height)}}),cc._RF.pop()},{}],AEDownloader:[function(e,t,i){"use strict";cc._RF.push(t,"b36f4lhOPhI6aZ4Zo2HCiP0","AEDownloader"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],AEHighScoreListView:[function(e,t,i){"use strict";cc._RF.push(t,"d063f4aVAxEZ4w11lzpcKiU","AEHighScoreListView"),cc.Class({extends:cc.Component,properties:{mask:{default:void 0,type:cc.Node},content:{default:void 0,type:cc.Node},item:cc.Prefab,itemData:{visible:!1,default:[]},arrItemView:{visible:!1,default:[]},itemInitCB:{visible:!1,default:null},beginIndex:{visible:!1,default:0},endIndex:{visible:!1,default:0},maxLine:{visible:!1,default:1},itemYGap:90,itemBeginX:-215,itemCount:{get:function(){return this.itemData.length}}},onLoad:function(){this.itemPool=new cc.NodePool;for(var e=0;e<10;++e){var t=cc.instantiate(this.item);this.itemPool.put(t)}this.node.on("scrolling",this.onScrolling,this),this.mask.on("size-changed",this.onSizeChanged,this)},onDestory:function(){this.node.off("scrolling",this.onScrolling,this),this.mask.off("size-changed",this.onSizeChanged,this)},setItemInitCb:function(e){this.itemInitCB=e},count:function(){return this.itemData.length},updateItemData:function(e,t){this.itemData[e]=t,this.arrItemView[e]&&this.itemInitCB&&this.itemInitCB(this.arrItemView[e],this.itemData[e])},addItemData:function(e,t){this.itemData[e]=t,this.content.height=this.itemYGap*this.itemData.length,this.mask.height/this.itemYGap>this.endIndex-this.beginIndex&&(this.onScrolling(),console.info("["+(new Date).toISOString()+"][Friend Request List]","---------- Add Friend Request Item End ----------------")),this.arrItemView[e]&&this.itemInitCB&&this.itemInitCB(this.arrItemView[e],this.itemData[e])},onSizeChanged:function(){this.mask.height/this.itemYGap>this.endIndex-this.beginIndex&&this.onScrolling()},onScrolling:function(){if(this.isValid&&this.itemPool){var e=this.mask.convertToWorldSpaceAR(cc.v2(0,this.mask.height*this.mask.anchorY)),t=this.mask.convertToWorldSpaceAR(cc.v2(0,this.mask.height*-this.mask.anchorY)),i=this.arrItemView[this.beginIndex],n=this.arrItemView[this.endIndex];if(!(i&&i.convertToWorldSpaceAR(cc.v2(0,0)).y>e.y+50&&n&&n.convertToWorldSpaceAR(cc.v2(0,0)).y<t.y-50)){for(var a=this.content.convertToNodeSpaceAR(cc.v2(0,e.y)),o=-Math.ceil(a.y/this.itemYGap),s=1+this.mask.height/this.itemYGap,r=Math.max(0,o),l=Math.min(this.itemData.length,r+s),c=r;c<l;c++)this.arrItemView[c]||(this.arrItemView[c]=this.createItemView(this.content),this.arrItemView[c].y=c*-this.itemYGap,this.arrItemView[c].x=this.itemBeginX,this.itemInitCB&&this.itemInitCB(this.arrItemView[c],this.itemData[c])),this.beginIndex=Math.min(this.beginIndex,c),this.endIndex=Math.max(this.endIndex,c);for(c=this.beginIndex;c<this.endIndex;c++){var h=this.arrItemView[c];if(h){if(!(h.convertToWorldSpaceAR(cc.v2(0,-h.height)).y>e.y+300))break;this.itemPool.put(h),this.arrItemView[c]=null,this.beginIndex+=1}}for(c=this.endIndex-1;c>=this.beginIndex;c--){var u=this.arrItemView[c];if(u){if(!(u.convertToWorldSpaceAR(cc.v2(0,0)).y<t.y-300))break;this.itemPool.put(u),this.arrItemView[c]=null,this.endIndex-=1}}}}},createItemView:function(e){var t=null;return(t=this.itemPool.size()>0?this.itemPool.get():cc.instantiate(this.item)).parent=e,t},getItemView:function(e){return this.arrItemView[e]},reset:function(){for(var e=0;e<this.arrItemView.length;e++)this.itemPool.put(this.arrItemView[e]);this.node.getComponent(cc.ScrollView).scrollToTop(),this.itemData.length=0,this.arrItemView.length=0,this.content.removeAllChildren(),this.content.height=0,this.beginIndex=0,this.endIndex=0}}),cc._RF.pop()},{}],AELoader:[function(e,t,i){"use strict";cc._RF.push(t,"2f044AQkjRNL7aIaNwsgTbD","AELoader");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("AEResCache"),o="AELoader";cc.Class({name:"AELoader",properties:{nTimeout:-1,nMaxThread:1,strExtent:".tmp",cache:null,downloader:null,succCb:null,failCb:null,txtLoader:null,jsonLoader:null,imageLoader:null},ctor:function(){arguments.length>0&&(this.nTimeout=arguments[0]),arguments.length>1&&(this.nMaxThread=arguments[1]),arguments.length>2&&(this.strExtent=arguments[2]),this.cache=new a},setOnTaskSuccCb:function(e){this.succCb=e},setOnTaskFailCb:function(e){this.failCb=e},createTextTask:function(e,t,i){var n=this;if(t){0,t.length>1&&"/"!=t.slice(-1)&&(t+="/");var a=i?t+i:t+CommonUtil.getFilename(e);this.txtLoader.createDownloadFileTask(e,a)}else cc.loader.load(e,function(t,i){if(t)return LogUtil.err(o,"Load Json Fail "+e,t),void n.onTaskFail(e);n.cache.cacheRes(e,i),n.onTaskSucc(e)})},createJsonTask:function(e,t,i){var a=this;if(t){0,t.length>1&&"/"!=t.slice(-1)&&(t+="/");var s=i?t+i:t+CommonUtil.getFilename(e);this.jsonLoader.createDownloadFileTask(e,s)}else cc.loader.load(e,function(t,i){return t?(LogUtil.err(o,"Load Json Fail "+e,t),void a.onTaskFail(e)):(console.log(""+(void 0===i?"undefined":n(i))),"object"!==(void 0===i?"undefined":n(i))?(LogUtil.err(o,"Paser Json Fail "+e,i),void a.onTaskFail(e)):(LogUtil.err(o,"Load Json Succ "+e,i),a.cache.cacheRes(e,i),void a.onTaskSucc(e)))})},createImageTask:function(e,t,i){var n=this;if(!t)return"http"!=e.substr(0,4)?void cc.loader.loadRes(e,cc.Texture2D,function(t,i){if(t)return LogUtil.err(o,"Load Image Fail "+e,t),void n.onTaskFail(e);n.cache.cacheRes(e,i),n.onTaskSucc(e)}):void cc.loader.load(e,function(t,i){if(t)return LogUtil.err(o,"Load Image Fail "+e,t),void n.onTaskFail(e);n.cache.cacheRes(e,i),n.onTaskSucc(e)});t.length>1&&"/"!=t.slice(-1)&&(t+="/");var a=i?t+i:t+CommonUtil.getFilename(e);this.imageLoader?this.imageLoader.createDownloadFileTask(e,a):LogUtil.err(o,"ImageLoader is Null Load Image Fail "+e)},createSkeletonTask:function(e){var t=new sp.SkeletonData;t.name=e.name,t.textures[0]=e.image,t.skeletonJson=this.cache.getJsonByKey(e.json),t.atlasText=this.cache.getTextByKey(e.atlas),this.cache.cacheRes(e.name,t)},getResWithUrl:function(e){return this.cache.getResByKey(e)},onTxtTaskSucc:function(e){var t=e.requestURL;LogUtil.debug(o,"Load Text Succ "+t);var i=jsb.fileUtils.getStringFromFile(e.storagePath);this.cache.cacheRes(t,i),this.onTaskSucc()},onTxtTaskFail:function(e){var t=e.requestURL;LogUtil.debug(o,"Load Text Fail "+t),this.onTaskFail()},onJsonTaskSucc:function(e){var t=e.requestURL,i=jsb.fileUtils.getStringFromFile(e.storagePath),n=null;try{n=JSON.parse(i)}catch(t){LogUtil.err(o,"There is error parse json "+e.requestURL,t)}n?(LogUtil.debug(o,"Load Json Succ "+t),this.cache.cacheRes(t,n),this.onTaskSucc()):this.onJsonTaskFail(e)},onJsonTaskFail:function(e){var t=e.requestURL;LogUtil.debug(o,"Load Json Fail "+t),this.onTaskFail()},onImageTaskSucc:function(e){var t=this;cc.loader.load(e.storagePath,handler(this,function(e,i,n){if(e)return LogUtil.err(o,"Load Image Fail1 "+n),void LogUtil.err(o,e.message);LogUtil.debug(o,"Load Image Succ "+n),t.cache.cacheRes(n,i),t.onTaskSucc(n)},e.requestURL))},onImageTaskFail:function(e){var t=e.requestURL;LogUtil.debug(o,"Load Image Fail2 "+t),this.onTaskFail(t)},onTaskSucc:function(e){this.succCb&&this.succCb(e)},onTaskFail:function(e){this.failCb&&this.failCb(e)}});cc._RF.pop()},{AEResCache:"AEResCache"}],AEMatchBet:[function(e,t,i){"use strict";cc._RF.push(t,"32442YCxHFK5rNrFKPuNdsY","AEMatchBet");cc.Class({name:"AEMatchBet",properties:{userID:"",betID:0,runner:"",session:"",betScore:0,isMore:!1,realScore:0,odds:0,amount:0,status:0,time:0,saveKey:""},ctor:function(){this.userID=arguments[0],this.betID=arguments[1],this.saveKey=string.format("AE_HISTORY_MATCH_CRICKET_RECORD_BET_{0}_{1}",this.userID,this.betID)},localFromRemote:function(e){e.teamodds?(this.runner=e.teamodds.team,this.odds=e.teamodds.odds,this.amount=e.amount,this.time=e.createtime,this.status=e.result):(this.time=e.createtime,this.status=e.result,this.runner=e.bet.team,this.session=e.bet.sessionid,this.betScore=e.bet.score,this.realScore=e.score,this.isMore=e.bet.over,this.amount=e.bet.amount)},loadFromLocal:function(){var e=JSON.parse(cc.sys.localStorage.getItem(this.saveKey));this.runner=e.runner,this.session=e.session,this.betScore=e.betScore,this.isMore=e.isMore,this.realScore=e.realScore,this.odds=e.odds,this.amount=e.amount,this.status=e.status},saveToLocal:function(){cc.sys.localStorage.setItem(this.saveKey,JSON.stringify(this))}});cc._RF.pop()},{}],AEMatchCricketBet:[function(e,t,i){"use strict";cc._RF.push(t,"dccc5voQP1BCoQzKhv2GARc","AEMatchCricketBet");cc.Class({name:"AEMatchCricketBet",properties:{userID:"",betID:0,runner:"",flagID:0,odds:0,amount:0,status:0,time:0,saveKey:""},ctor:function(){this.userID=arguments[0],this.betID=arguments[1],this.saveKey=string.format("AE_HISTORY_MATCH_CRICKET_RECORD_BET_{0}_{1}",this.userID,this.betID)},localFromRemote:function(e){this.runner=e.teamodds.team,this.odds=e.teamodds.odds,this.amount=e.amount,this.time=e.createtime,this.status=e.result},loadFromLocal:function(){var e=JSON.parse(cc.sys.localStorage.getItem(this.saveKey));this.runner=e.runner,this.odds=e.odds,this.amount=e.amount,this.status=e.status},saveToLocal:function(){cc.sys.localStorage.setItem(this.saveKey,JSON.stringify(this))}});cc._RF.pop()},{}],AEMatchCricketHistory:[function(e,t,i){"use strict";cc._RF.push(t,"1a29ezTVf9I3qE4GYSLVa+3","AEMatchCricketHistory");var n=e("AEMatchCricketRecord");cc.Class({name:"AEMatchCricketHistory",properties:{userID:"",arrMatch:[n],arrCmdHandler:{default:{}}},ctor:function(){this.userID=arguments[0],this.saveKey=string.format("AE_HISTORY_MATCH_CRICKET_{0}",this.userID),this.arrCmdHandler.bets=handler(this,this.onBetList),this.loadFromLocal()},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t),this.arrMatch.forEach(function(i){i.onMsgReceived(e,t)},this)},onBetList:function(e,t){for(var i in t.game){for(var a=t.game[i],o=!1,s=0;s<this.arrMatch.length;s++)if(this.arrMatch[s].matchID==a.gameid){o=!0;break}!o&&this.arrMatch.push(new n(this.userID,a.gameid))}this.saveToLocal()},loadFromLocal:function(){var e=JSON.parse(cc.sys.localStorage.getItem(this.saveKey));if(e)for(var t=0;t<e.length;t++){var i=e[t],a=new n(this.userID,i);a.loadFromLocal(),this.arrMatch.push(a)}},saveToLocal:function(){for(var e=[],t=0;t<this.arrMatch.length;t++){var i=this.arrMatch[t];e.push(i.matchID)}cc.sys.localStorage.setItem(this.saveKey,JSON.stringify(e))},getMatchList:function(){return this.arrMatch},getMatchWithID:function(e){for(var t=0;t<this.arrMatch.length;t++){this.arrMatch[t];if(this.arrMatch[t].matchID==e)return this.arrMatch[t]}return null},getBetIDs:function(){for(var e=[],t=0;t<this.arrMatch.length;t++)for(var i=this.arrMatch[t].getWinnerBetList(),n=0;n<i.length;n++){var a=i[n];0!=a.status&&e.push(a.betID)}return{winIds:{is:e}}}});cc._RF.pop()},{AEMatchCricketRecord:"AEMatchCricketRecord"}],AEMatchCricketInBeting:[function(e,t,i){"use strict";cc._RF.push(t,"7803ajAryNF4ZhS/kZFBKuF","AEMatchCricketInBeting");var n=e("AEMatchCricket"),a=e("AEMatchCricketRunner"),o=e("AEMatchCricketMarket");cc.Class({name:"AEMatchCricketInBeting",extends:n,properties:{status:"",matchName:"",matchTime:"",matchStage:"",betEnable:!0},ctor:function(){this.matchID=arguments[0],this.arrRunner=[],this.arrMarket=[],this.arrCmdHandler=[],this.arrCmdHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrCmdHandler.RoomUpdate=handler(this,this.onRoomUpdate)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onRoomJoin:function(e,t){this.onRoomUpdate(e,t)},onRoomUpdate:function(e,t){if(!t.room.variables.gameid)return this.arrRunner=[],void(this.arrMarket=[]);if(t.room.variables.team1){if(!this.arrRunner[0]||this.arrRunner[0].name!=t.room.variables.team1.value){var i=t.room.variables.score1?t.room.variables.score1.value:0,n=t.room.variables.odds1?t.room.variables.odds1.value:1;this.arrRunner[0]=new a(t.room.variables.team1.value,i,n)}this.arrMarket[0]&&this.arrMarket[0].runner==t.room.variables.team1.value||(this.arrMarket[0]=new o(t.room.variables.team1.value,t.room.variables.odds1.value))}if(t.room.variables.team2){if(!this.arrRunner[1]||this.arrRunner[1].name!=t.room.variables.team2.value){var s=t.room.variables.score2?t.room.variables.score2.value:0,r=t.room.variables.odds2?t.room.variables.odds2.value:1;this.arrRunner[1]=new a(t.room.variables.team2.value,s,r)}this.arrMarket[1]&&this.arrMarket[1].runner==t.room.variables.team2.value||(this.arrMarket[1]=new o(t.room.variables.team2.value,t.room.variables.odds2.value))}this.arrRunner[0].score=t.room.variables.score1?t.room.variables.score1.value:0,this.arrRunner[1].score=t.room.variables.score2?t.room.variables.score2.value:0,this.arrRunner[0].odds=t.room.variables.odds1.value,this.arrRunner[1].odds=t.room.variables.odds2.value,this.arrMarket[0].odds=t.room.variables.odds1.value,this.arrMarket[1].odds=t.room.variables.odds2.value,this.startTime=t.room.variables.starttime.value,this.maxbet=t.room.variables.mexbet.value,this.matchName=t.room.variables.gamesnum.value,this.matchState=t.room.variables.status?t.room.variables.status.value:null,this.betEnable=!t.room.variables.end||!t.room.variables.end.value,null!=this.matchState&&"error"!=this.matchState||(this.betEnable=!1)},getWinnerMarket:function(e){return 1==e||"1"==e?this.arrMarket[1]:this.arrMarket[0]}});cc._RF.pop()},{AEMatchCricket:"AEMatchCricket",AEMatchCricketMarket:"AEMatchCricketMarket",AEMatchCricketRunner:"AEMatchCricketRunner"}],AEMatchCricketMarket:[function(e,t,i){"use strict";cc._RF.push(t,"a49d8It59hGa41rl1xmAL/q","AEMatchCricketMarket");cc.Class({name:"AEMatchCricketMarket",properties:{runner:"",odds:0,enable:!0,canBet:!0},ctor:function(){this.runner=arguments[0],this.odds=arguments[1]},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)}});cc._RF.pop()},{}],AEMatchCricketOther:[function(e,t,i){"use strict";cc._RF.push(t,"8ab693Pk11CHZZhDvXBjK8A","AEMatchCricketOther");e("AEMatchBet"),e("AEMatchFootball"),e("AEMatchFootballMarket");var n=e("AEMatchCricketRunner");cc.Class({name:"AEMatchCricketOther",properties:{status:-1,arrRunner:[n]},ctor:function(){this.matchID=arguments[0],this.arrCmdHandler=[],this.arrCmdHandler.newcricketlist=handler(this,this.onMatchList)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onMatchList:function(e,t){for(var i in this.arrRunner=[],t.cricket){var a=t.cricket[i];if(a.roomname==this.matchID)return this.startTime=a.starttime,this.status=a.state,this.arrRunner.push(new n(a.teams[1].team,a.teams[1].odds)),void this.arrRunner.push(new n(a.teams[2].team,a.teams[2].odds))}},getMatchName:function(){return""}});cc._RF.pop()},{AEMatchBet:"AEMatchBet",AEMatchCricketRunner:"AEMatchCricketRunner",AEMatchFootball:"AEMatchFootball",AEMatchFootballMarket:"AEMatchFootballMarket"}],AEMatchCricketRecord:[function(e,t,i){"use strict";cc._RF.push(t,"62376lwRbJESquMmfcddBrl","AEMatchCricketRecord");var n=e("AEMatchCricket"),a=e("LanguageData"),o=e("AEMatchCricketBet"),s=(e("AEMatchCricketMarket"),e("AEMatchCricketRunner"));cc.Class({name:"AEMatchCricketRecord",extends:n,properties:{userID:"",arrWinnerBet:[o],arrRunner:[],saveKey:""},ctor:function(){this.userID=arguments[0],this.matchID=arguments[1],this.arrRunner=[],this.saveKey=string.format("AE_HISTORY_MATCH_CRICKET_RECORD_{0}_{1}",this.userID,this.matchID),this.loadFromLocal(),this.arrCmdHandler.bets=handler(this,this.onBetList)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onBetList:function(e,t){var i=null;for(var n in t.game)if(t.game[n].gameid==this.matchID){i=t.game[n];break}if(i){for(var a in this.arrRunner.length<1&&(this.arrRunner.push(new s(i.team1,i.teamnum1)),this.arrRunner.push(new s(i.team2,i.teamnum2))),i.winnerbets){var r=i.winnerbets[a],l=this.getWinnerBetIndex(r.betid);if(null==l){var c=new o(this.userID,r.betid);c.localFromRemote(r),this.arrWinnerBet.push(c)}else{this.arrWinnerBet[l].localFromRemote(r)}}this.saveToLocal()}},loadFromLocal:function(){this.arrRunner=[];var e=JSON.parse(cc.sys.localStorage.getItem(this.saveKey));e&&e.team1&&this.arrRunner.push(new s(e.team1,e.teamnum1)),e&&e.team2&&this.arrRunner.push(new s(e.team2,e.teamnum2));for(var t=e&&e.winner?e.winner:[],i=0;i<t.length;i++){var n=t[i];if(null==this.getWinnerBetIndex(n)){var a=new o(this.userID,n);a.loadFromLocal(),this.arrWinnerBet.push(a)}}},saveToLocal:function(){for(var e=[],t=0;t<this.arrWinnerBet.length;t++){var i=this.arrWinnerBet[t];0!=i.status&&(e.push(i.betID),i.saveToLocal())}cc.sys.localStorage.setItem(this.saveKey,JSON.stringify({winner:e,team1:this.arrRunner[0].name,team2:this.arrRunner[1].name,teamnum1:this.arrRunner[0].flagId,teamnum2:this.arrRunner[1].flagId}))},isExistBetRecord:function(){return this.arrWinnerBet.length>0},getWinnerBetIndex:function(e){for(var t=0;t<this.arrWinnerBet.length;t++){if(this.arrWinnerBet[t].betID==e)return t}return null},getWinnerBetList:function(){return this.arrWinnerBet},getTotalWin:function(){for(var e=0,t=0;t<this.arrWinnerBet.length;t++){var i=this.arrWinnerBet[t];2==i.status&&(e+=i.odds*i.amount)}return e},getMatchName:function(){return this.arrRunner.length>=2?this.arrRunner[0].name+" "+a.t("label_text.vs")+" "+this.arrRunner[1].name:""},getFlagIDWithRunner:function(e){return this.arrRunner[0].name==e?this.arrRunner[0].flagId:this.arrRunner[1].name==e?this.arrRunner[1].flagId:-1}});cc._RF.pop()},{AEMatchCricket:"AEMatchCricket",AEMatchCricketBet:"AEMatchCricketBet",AEMatchCricketMarket:"AEMatchCricketMarket",AEMatchCricketRunner:"AEMatchCricketRunner",LanguageData:"LanguageData"}],AEMatchCricketRunner:[function(e,t,i){"use strict";cc._RF.push(t,"e1e5c0n79xFyIBtWhJUcTtl","AEMatchCricketRunner");cc.Class({name:"AEMatchCricketRunner",properties:{name:"",score:"",odds:0},ctor:function(){this.name=arguments[0],this.score=arguments[1]?arguments[1]:"",this.odds=arguments[2]?arguments[2]:""}});cc._RF.pop()},{}],AEMatchCricket:[function(e,t,i){"use strict";cc._RF.push(t,"5f8ccGKMSpOz5JG8CdWFTZo","AEMatchCricket");e("AEMatchBet"),e("AEMatchCricketMarket"),e("AEMatchCricketRunner"),cc.Class({name:"AEMatchCricket",properties:{matchID:"",startTime:0,arrCmdHandler:{default:{}}},ctor:function(){this.matchID=arguments[0],this.arrCmdHandler=[]},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},getMatchName:function(){return""}});cc._RF.pop()},{AEMatchBet:"AEMatchBet",AEMatchCricketMarket:"AEMatchCricketMarket",AEMatchCricketRunner:"AEMatchCricketRunner"}],AEMatchFootballBet:[function(e,t,i){"use strict";cc._RF.push(t,"6ed61jk2tlOXJVWa1w2PWUf","AEMatchFootballBet");cc.Class({name:"AEMatchFootballBet",properties:{userID:"",betID:0,runner:"",flagID:0,odds:0,amount:0,status:0,time:0,saveKey:""},ctor:function(){this.userID=arguments[0],this.betID=arguments[1],this.saveKey=string.format("AE_HISTORY_MATCH_FOOTBALL_RECORD_BET_{0}_{1}",this.userID,this.betID)},localFromRemote:function(e){this.runner=e.teamodds.team,this.odds=e.teamodds.odds,this.amount=e.amount,this.time=e.createtime,this.status=e.result},loadFromLocal:function(){var e=JSON.parse(cc.sys.localStorage.getItem(this.saveKey));this.runner=e.runner,this.odds=e.odds,this.amount=e.amount,this.status=e.status},saveToLocal:function(){cc.sys.localStorage.setItem(this.saveKey,JSON.stringify(this))}});cc._RF.pop()},{}],AEMatchFootballHistory:[function(e,t,i){"use strict";cc._RF.push(t,"ec79ezIHnhPfoSZYblA1Kxu","AEMatchFootballHistory");var n=e("AEMatchFootballRecord");cc.Class({name:"AEMatchFootballHistory",properties:{userID:"",arrMatch:[n],arrCmdHandler:{default:{}}},ctor:function(){this.userID=arguments[0],this.saveKey=string.format("AE_HISTORY_MATCH_FOOTBALL_{0}",this.userID),this.arrCmdHandler.footballbets=handler(this,this.onBetList),this.loadFromLocal()},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t),this.arrMatch.forEach(function(i){i.onMsgReceived(e,t)},this)},onBetList:function(e,t){for(var i in t.game){for(var a=t.game[i],o=!1,s=0;s<this.arrMatch.length;s++)if(this.arrMatch[s].matchID==a.gameid){o=!0;break}o||this.arrMatch.push(new n(this.userID,a.gameid,a.isdraw))}this.saveToLocal()},loadFromLocal:function(){var e=JSON.parse(cc.sys.localStorage.getItem(this.saveKey));if(e)for(var t=0;t<e.length;t++){var i=e[t],a=new n(this.userID,i);a.loadFromLocal(),this.arrMatch.push(a)}},saveToLocal:function(){for(var e=[],t=0;t<this.arrMatch.length;t++){var i=this.arrMatch[t];e.push(i.matchID)}cc.sys.localStorage.setItem(this.saveKey,JSON.stringify(e))},getMatchList:function(){return this.arrMatch},getMatchWithID:function(e){for(var t=0;t<this.arrMatch.length;t++){this.arrMatch[t];if(this.arrMatch[t].matchID==e)return this.arrMatch[t]}return null},getBetIDs:function(){for(var e=[],t=0;t<this.arrMatch.length;t++)for(var i=this.arrMatch[t].getWinnerBetList(),n=0;n<i.length;n++){var a=i[n];0!=a.status&&e.push(a.betID)}return{winIds:{is:e}}}});cc._RF.pop()},{AEMatchFootballRecord:"AEMatchFootballRecord"}],AEMatchFootballInBeting:[function(e,t,i){"use strict";cc._RF.push(t,"df291hXvsRP6rMeQ1bXhCvm","AEMatchFootballInBeting");var n=e("AEMatchFootball"),a=e("AEMatchFootballRunner"),o=e("AEMatchFootballMarket");cc.Class({name:"AEMatchFootballInBeting",extends:n,properties:{status:"",matchName:"",matchTime:"",matchStage:"",betEnable:!0},ctor:function(){this.matchID=arguments[0],this.arrRunner=[],this.arrMarket=[],this.arrCmdHandler=[],this.arrCmdHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrCmdHandler.RoomUpdate=handler(this,this.onRoomUpdate)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onRoomJoin:function(e,t){this.onRoomUpdate(e,t)},onRoomUpdate:function(e,t){if(!t.room.variables.gameid)return this.arrRunner=[],void(this.arrMarket=[]);if(t.room.variables.team1){if(!this.arrRunner[0]||this.arrRunner[0].name!=t.room.variables.team1.value){var i=t.room.variables.score1?t.room.variables.score1.value:0,n=t.room.variables.pen1?t.room.variables.pen1.value:-1;this.arrRunner[0]=new a(t.room.variables.team1.value,t.room.variables.teamnum1.value,i,n)}this.arrMarket[0]&&this.arrMarket[0].runner==t.room.variables.team1.value||(this.arrMarket[0]=new o(t.room.variables.team1.value,t.room.variables.teamnum1.value,t.room.variables.odds1.value))}if(t.room.variables.team2){if(!this.arrRunner[1]||this.arrRunner[1].name!=t.room.variables.team2.value){var s=t.room.variables.score2?t.room.variables.score2.value:0,r=t.room.variables.pen2?t.room.variables.pen2.value:-1;this.arrRunner[1]=new a(t.room.variables.team2.value,t.room.variables.teamnum2.value,s,r)}this.arrMarket[1]&&this.arrMarket[1].runner==t.room.variables.team2.value||(this.arrMarket[1]=new o(t.room.variables.team2.value,t.room.variables.teamnum2.value,t.room.variables.odds2.value))}!this.arrMarket[2]&&t.room.variables.odds3&&(this.arrMarket[2]=new o("draw",0,t.room.variables.odds3.value),t.room.variables.isdraw&&(this.arrMarket[2].canBet=t.room.variables.isdraw.value)),this.arrRunner[0].score=t.room.variables.score1?t.room.variables.score1.value:0,this.arrRunner[1].score=t.room.variables.score2?t.room.variables.score2.value:0,this.arrRunner[0].scoreplus=t.room.variables.pen1?t.room.variables.pen1.value:-1,this.arrRunner[1].scoreplus=t.room.variables.pen2?t.room.variables.pen2.value:-1,this.arrMarket[2].enable=!t.room.variables.end||t.room.variables.end.value,this.arrMarket[0].odds=t.room.variables.odds1.value,this.arrMarket[1].odds=t.room.variables.odds2.value,this.arrMarket[2].odds=t.room.variables.odds3?t.room.variables.odds3.value:0,this.startTime=t.room.variables.starttime.value,this.maxbet=t.room.variables.maxbet.value,this.matchName=t.room.variables.leaguestage.value,this.matchTime=t.room.variables.time?t.room.variables.time.value:null,this.matchState=t.room.variables.gamestate?t.room.variables.gamestate.value:null,this.betEnable=!t.room.variables.end||!t.room.variables.end.value}});cc._RF.pop()},{AEMatchFootball:"AEMatchFootball",AEMatchFootballMarket:"AEMatchFootballMarket",AEMatchFootballRunner:"AEMatchFootballRunner"}],AEMatchFootballMarket:[function(e,t,i){"use strict";cc._RF.push(t,"bb7eamRe2xFvLWWhV0tg9Jo","AEMatchFootballMarket");cc.Class({name:"AEMatchFootballMarket",properties:{runner:"",flagId:0,odds:0,enable:!0,canBet:!0},ctor:function(){this.runner=arguments[0],this.flagId=arguments[1],this.odds=arguments[2]},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)}});cc._RF.pop()},{}],AEMatchFootballOther:[function(e,t,i){"use strict";cc._RF.push(t,"e8313gBnqlP4J1ms2d9W9r5","AEMatchFootballOther");e("AEMatchBet"),e("AEMatchFootball"),e("AEMatchFootballMarket");var n=e("AEMatchFootballRunner");cc.Class({name:"AEMatchFootballOther",properties:{status:-1,arrRunner:[n]},ctor:function(){this.matchID=arguments[0],this.arrCmdHandler=[],this.arrCmdHandler.footballlist=handler(this,this.onMatchList)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onMatchList:function(e,t){for(var i in this.arrRunner=[],t.football){var a=t.football[i];if(a.roomname==this.matchID)return this.startTime=a.starttime,this.status=a.state,this.arrRunner.push(new n(a.team1,a.teamnum1)),void this.arrRunner.push(new n(a.team2,a.teamnum2))}},getMatchName:function(){return""}});cc._RF.pop()},{AEMatchBet:"AEMatchBet",AEMatchFootball:"AEMatchFootball",AEMatchFootballMarket:"AEMatchFootballMarket",AEMatchFootballRunner:"AEMatchFootballRunner"}],AEMatchFootballRecord:[function(e,t,i){"use strict";cc._RF.push(t,"4e230aWy/9CmbhtQkLcuBXv","AEMatchFootballRecord");var n=e("AEMatchFootball"),a=e("LanguageData"),o=e("AEMatchFootballBet"),s=(e("AEMatchFootballMarket"),e("AEMatchFootballRunner"));cc.Class({name:"AEMatchFootballRecord",extends:n,properties:{userID:"",arrWinnerBet:[o],arrRunner:[],saveKey:"",canDraw:null},ctor:function(){this.userID=arguments[0],this.matchID=arguments[1],this.canDraw=arguments[2],this.arrRunner=[],this.saveKey=string.format("AE_HISTORY_MATCH_FOOTBALL_RECORD_{0}_{1}",this.userID,this.matchID),this.loadFromLocal(),this.arrCmdHandler.footballbets=handler(this,this.onBetList)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onBetList:function(e,t){var i=null;for(var n in t.game)if(t.game[n].gameid==this.matchID){i=t.game[n];break}if(i){for(var a in this.arrRunner.length<1&&(this.arrRunner.push(new s(i.team1,i.teamnum1)),this.arrRunner.push(new s(i.team2,i.teamnum2))),i.winnerbets){var r=i.winnerbets[a],l=this.getWinnerBetIndex(r.betid);if(null==l){var c=new o(this.userID,r.betid);c.localFromRemote(r),this.arrWinnerBet.push(c)}else{this.arrWinnerBet[l].localFromRemote(r)}}this.saveToLocal()}},loadFromLocal:function(){this.arrRunner=[];var e=JSON.parse(cc.sys.localStorage.getItem(this.saveKey));e&&(e.canDraw&&(this.canDraw=e.canDraw),e.team1&&this.arrRunner.push(new s(e.team1,e.teamnum1)),e.team2&&this.arrRunner.push(new s(e.team2,e.teamnum2)));for(var t=e&&e.winner?e.winner:[],i=0;i<t.length;i++){var n=t[i];if(null==this.getWinnerBetIndex(n)){var a=new o(this.userID,n);a.loadFromLocal(),this.arrWinnerBet.push(a)}}},saveToLocal:function(){for(var e=[],t=0;t<this.arrWinnerBet.length;t++){var i=this.arrWinnerBet[t];0!=i.status&&(e.push(i.betID),i.saveToLocal())}cc.sys.localStorage.setItem(this.saveKey,JSON.stringify({winner:e,team1:this.arrRunner[0].name,team2:this.arrRunner[1].name,teamnum1:this.arrRunner[0].flagId,teamnum2:this.arrRunner[1].flagId,canDraw:this.canDraw}))},isExistBetRecord:function(){return this.arrWinnerBet.length>0},getWinnerBetIndex:function(e){for(var t=0;t<this.arrWinnerBet.length;t++){if(this.arrWinnerBet[t].betID==e)return t}return null},getWinnerBetList:function(){return this.arrWinnerBet},getTotalWin:function(){for(var e=0,t=0;t<this.arrWinnerBet.length;t++){var i=this.arrWinnerBet[t];2==i.status&&(e+=i.odds*i.amount)}return e},getMatchName:function(){return this.arrRunner.length>=2?this.arrRunner[0].name+" "+a.t("label_text.vs")+" "+this.arrRunner[1].name:""},getFlagIDWithRunner:function(e){return this.arrRunner[0].name==e?this.arrRunner[0].flagId:this.arrRunner[1].name==e?this.arrRunner[1].flagId:-1}});cc._RF.pop()},{AEMatchFootball:"AEMatchFootball",AEMatchFootballBet:"AEMatchFootballBet",AEMatchFootballMarket:"AEMatchFootballMarket",AEMatchFootballRunner:"AEMatchFootballRunner",LanguageData:"LanguageData"}],AEMatchFootballRunner:[function(e,t,i){"use strict";cc._RF.push(t,"8a586piTCxEro01ONMmuG8a","AEMatchFootballRunner");cc.Class({name:"AEMatchFootballRunner",properties:{name:"",score:"",flagId:0},ctor:function(){this.name=arguments[0],this.flagId=arguments[1]?arguments[1]:"",this.score=arguments[2]?arguments[2]:""}});cc._RF.pop()},{}],AEMatchFootball:[function(e,t,i){"use strict";cc._RF.push(t,"a4e4bBw2aZDi7zrOyvB99h4","AEMatchFootball");e("AEMatchBet"),e("AEMatchFootballMarket"),e("AEMatchFootballRunner"),cc.Class({name:"AEMatchFootball",properties:{matchID:"",startTime:0,arrCmdHandler:{default:{}}},ctor:function(){this.matchID=arguments[0],this.arrCmdHandler=[]},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},getMatchName:function(){return""}});cc._RF.pop()},{AEMatchBet:"AEMatchBet",AEMatchFootballMarket:"AEMatchFootballMarket",AEMatchFootballRunner:"AEMatchFootballRunner"}],AEMatchHistory:[function(e,t,i){"use strict";cc._RF.push(t,"ec701DgMcBB2a0eWMFhQWkG","AEMatchHistory");var n=e("AEMatchRecord");cc.Class({name:"AEMatchHistory",properties:{userID:"",arrMatch:[n],arrCmdHandler:{default:{}}},ctor:function(){this.userID=arguments[0],this.saveKey=string.format("AE_HISTORY_MATCH_CRICKET_{0}",this.userID),this.arrCmdHandler.bets=handler(this,this.onBetList),this.loadFromLocal()},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t),this.arrMatch.forEach(function(i){i.onMsgReceived(e,t)},this)},onBetList:function(e,t){for(var i in t.game){for(var a=t.game[i],o=!1,s=0;s<this.arrMatch.length;s++)if(this.arrMatch[s].matchID==a.gameid){o=!0;break}!o&&this.arrMatch.push(new n(this.userID,a.gameid))}this.saveToLocal()},loadFromLocal:function(){for(var e=JSON.parse(cc.sys.localStorage.getItem(this.saveKey)),t=0;t<e.length;t++){var i=e[t],a=new n(this.userID,i);a.loadFromLocal(),this.arrMatch.push(a)}},saveToLocal:function(){for(var e=[],t=0;t<this.arrMatch.length;t++){var i=this.arrMatch[t];e.push(i.matchID)}cc.sys.localStorage.setItem(this.saveKey,JSON.stringify(e))},getMatchList:function(){return this.arrMatch},getMatchWithID:function(e){for(var t=0;t<this.arrMatch.length;t++){this.arrMatch[t];if(this.arrMatch[t].matchID==e)return this.arrMatch[t]}return null},getBetIDs:function(){for(var e=[],t=[],i=0;i<this.arrMatch.length;i++){for(var n=this.arrMatch[i],a=n.getWinnerBetList(),o=0;o<a.length;o++){0!=(s=a[o]).status&&e.push(s.betID)}a=n.getSessionBetList();for(o=0;o<a.length;o++){var s;0!=(s=a[o]).status&&t.push(s.betID)}}return{winIds:{is:e},sessionIds:{is:t}}}});cc._RF.pop()},{AEMatchRecord:"AEMatchRecord"}],AEMatchInPlay:[function(e,t,i){"use strict";cc._RF.push(t,"89ed3M9DS5G46GTjqXQbH4Q","AEMatchInPlay");var n=e("AEMatch"),a=e("AEMatchRunner"),o=e("AEMatchMarketWinner"),s=e("AEMatchMarketSession");cc.Class({name:"AEMatchInPlay",extends:n,properties:{status:"",matchName:""},ctor:function(){this.matchID=arguments[0],this.arrCmdHandler=[],this.arrCmdHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrCmdHandler.RoomUpdate=handler(this,this.onRoomUpdate)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onRoomJoin:function(e,t){t.room.variables.session&&(this.arrMarket[2]=new s(t.room.variables.session.value,t.room.variables.team.value)),this.onRoomUpdate(e,t)},onRoomUpdate:function(e,t){if(this.status=t.room.variables.status.value,this.matchName=t.room.variables.gamesnum?t.room.variables.gamesnum.value:"",t.room.variables.team1){if(!this.arrRunner[0]||this.arrRunner[0].name!=t.room.variables.team1.value){var i=t.room.variables.score1?t.room.variables.score1.value:0,n=t.room.variables.pen1?t.room.variables.pen1.value:-1;this.arrRunner[0]=new a(t.room.variables.team1.value,i,n)}this.arrMarket[0]&&this.arrMarket[0].runner==t.room.variables.team1.value||(this.arrMarket[0]=new o(t.room.variables.team1.value,t.room.variables.odds1.value))}if(t.room.variables.team2){if(!this.arrRunner[1]||this.arrRunner[1].name!=t.room.variables.team2.value){var r=t.room.variables.score2?t.room.variables.score2.value:0,l=t.room.variables.pen2?t.room.variables.pen2.value:-1;this.arrRunner[1]=new a(t.room.variables.team2.value,r,l)}this.arrMarket[1]&&this.arrMarket[1].runner==t.room.variables.team2.value||(this.arrMarket[1]=new o(t.room.variables.team2.value,t.room.variables.odds2.value))}t.room.variables.session||(this.arrMarket[2]=null),t.room.variables.session&&(this.arrMarket[2]&&this.arrMarket[2].sessionID==t.room.variables.session.value||(this.arrMarket[2]=new s(t.room.variables.session.value,t.room.variables.team.value))),this.arrRunner[0].score=t.room.variables.score1?t.room.variables.score1.value:0,this.arrRunner[1].score=t.room.variables.score2?t.room.variables.score2.value:0,this.arrRunner[0].scoreplus=t.room.variables.pen1?t.room.variables.pen1.value:-1,this.arrRunner[1].scoreplus=t.room.variables.pen2?t.room.variables.pen2.value:-1,this.arrMarket[0].odds=t.room.variables.odds1.value,this.arrMarket[1].odds=t.room.variables.odds2.value,t.room.variables.session&&(this.arrMarket[2].scoreLess=t.room.variables.socre.value-1,this.arrMarket[2].scoreMore=t.room.variables.socre.value,this.arrMarket[2].scoreCheck=t.room.variables.socrecheck.value)},getRunneres:function(){return this.arrRunner},getWinnerMarket:function(e){return 1==e||"1"==e?this.arrMarket[1]:this.arrMarket[0]},getWinnerMarketes:function(){return this.arrMarket.length>2?[this.arrMarket[0],this.arrMarket[1]]:[]},getSessionMarketes:function(){return this.arrMarket.length>2?this.arrMarket[2]:null},isMatchFinish:function(){return"readNone"==this.status},getMatchName:function(){return this.matchName.length>0?string.format("{0} Match,Indian Premier League,2018",this.matchName):""},getCurRunnerName:function(){return this.arrMarket[2]?this.arrMarket[2].runner:""}});cc._RF.pop()},{AEMatch:"AEMatch",AEMatchMarketSession:"AEMatchMarketSession",AEMatchMarketWinner:"AEMatchMarketWinner",AEMatchRunner:"AEMatchRunner"}],AEMatchMarketSession:[function(e,t,i){"use strict";cc._RF.push(t,"8c709QG4+JISZJVtUvNYcXz","AEMatchMarketSession");var n=e("LanguageData"),a=e("AEMatchMarket");cc.Class({name:"AEMatchMarketSession",extends:a,properties:{sessionID:-1,sessionName:"",runner:"",scoreLess:0,scoreMore:1,scoreCheck:""},ctor:function(){this.sessionID=arguments[0],this.runner=arguments[1],this.sessionName=this.converToSessionName(this.sessionID),this.arrCmdHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrCmdHandler.RoomUpdate=handler(this,this.onRoomUpdate)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onRoomJoin:function(e,t){t.room.socrecheck&&(this.scoreLess=t.room.socre-1,this.scoreMore=t.room.socre,this.scoreCheck=t.room.socrecheck)},onRoomUpdate:function(e,t){t.room.socrecheck&&this.sessionID==t.room.session&&(this.scoreLess=t.room.socre-1,this.scoreMore=t.room.socre,this.scoreCheck=t.room.socrecheck)},converToSessionName:function(e){var t=[];return t[1]=n.t("label_text.innings_overs",{number:"1,6"}),t[2]=n.t("label_text.innings_overs",{number:"1,10"}),t[3]=n.t("label_text.innings_overs",{number:"1,15"}),t[4]=n.t("label_text.innings_overs",{number:"1,20"}),t[5]=n.t("label_text.innings_overs",{number:"2,6"}),t[6]=n.t("label_text.innings_overs",{number:"2,6"}),t[e]||""}});cc._RF.pop()},{AEMatchMarket:"AEMatchMarket",LanguageData:"LanguageData"}],AEMatchMarketWinner:[function(e,t,i){"use strict";cc._RF.push(t,"d993bC34Z1LcrmJE9phfNuH","AEMatchMarketWinner");var n=e("AEMatchMarket");cc.Class({name:"AEMatchMarketWinner",extends:n,properties:{runner:"",odds:0},ctor:function(){this.runner=arguments[0],this.odds=arguments[1]},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)}});cc._RF.pop()},{AEMatchMarket:"AEMatchMarket"}],AEMatchMarket:[function(e,t,i){"use strict";cc._RF.push(t,"cd17fDggjBJF50WwFSRTFFL","AEMatchMarket");cc.Class({name:"AEMatchMarket",properties:{arrCmdHandler:{default:{}}},ctor:function(){}});cc._RF.pop()},{}],AEMatchRecord:[function(e,t,i){"use strict";cc._RF.push(t,"21d7dn9fmtHzYUXQW88U0av","AEMatchRecord");var n=e("AEMatch"),a=e("LanguageData"),o=e("AEMatchBet"),s=(e("AEMatchMarket"),e("AEMatchRunner"));cc.Class({name:"AEMatchRecord",extends:n,properties:{userID:"",arrWinnerBet:[o],arrSessionBet:[o],saveKey:""},ctor:function(){this.userID=arguments[0],this.matchID=arguments[1],this.saveKey=string.format("AE_HISTORY_MATCH_CRICKET_RECORD_{0}_{1}",this.userID,this.matchID),this.loadFromLocal(),this.arrCmdHandler.bets=handler(this,this.onBetList)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onBetList:function(e,t){var i=null;for(var n in t.game)if(t.game[n].gameid==this.matchID){i=t.game[n];break}if(i){for(var a in this.arrRunner.length<1&&(this.arrRunner.push(new s(i.team1)),this.arrRunner.push(new s(i.team2))),i.sessionbets){var r=i.sessionbets[a];if(null==(c=this.getSessionBetIndex(r.betid))){var l=new o(this.userID,r.betid);l.localFromRemote(r),this.arrSessionBet.push(l)}else{this.arrSessionBet[c].localFromRemote(r)}}for(var a in i.winnerbets){var c;r=i.winnerbets[a];if(null==(c=this.getWinnerBetIndex(r.betid))){var h=new o(this.userID,r.betid);h.localFromRemote(r),this.arrWinnerBet.push(h)}else{this.arrWinnerBet[c].localFromRemote(r)}}this.saveToLocal()}},loadFromLocal:function(){var e=JSON.parse(cc.sys.localStorage.getItem(this.saveKey));e&&e.team1&&this.arrRunner.push(new s(e.team1)),e&&e.team2&&this.arrRunner.push(new s(e.team2));for(var t=e&&e.winner?e.winner:[],i=0;i<t.length;i++){var n=t[i];if(null==this.getWinnerBetIndex(n))(r=new o(this.userID,n)).loadFromLocal(),this.arrWinnerBet.push(r)}var a=e&&e.session?e.session:[];for(i=0;i<a.length;i++){var r;n=a[i];if(null==this.getSessionBetIndex(n))(r=new o(this.userID,n)).loadFromLocal(),this.arrSessionBet.push(r)}},saveToLocal:function(){for(var e=[],t=0;t<this.arrWinnerBet.length;t++){0!=(n=this.arrWinnerBet[t]).status&&(e.push(n.betID),n.saveToLocal())}var i=[];for(t=0;t<this.arrSessionBet.length;t++){var n;0!=(n=this.arrSessionBet[t]).status&&(i.push(n.betID),n.saveToLocal())}cc.sys.localStorage.setItem(this.saveKey,JSON.stringify({winner:e,session:i,team1:this.arrRunner[0].name,team2:this.arrRunner[1].name}))},isExistBetRecord:function(){return this.arrWinnerBet.length>0||this.arrSessionBet.length>0},getWinnerBetIndex:function(e){for(var t=0;t<this.arrWinnerBet.length;t++){if(this.arrWinnerBet[t].betID==e)return t}return null},getWinnerBetList:function(){return this.arrWinnerBet},getSessionBetIndex:function(e){for(var t=0;t<this.arrSessionBet.length;t++){if(this.arrSessionBet[t].betID==e)return t}return null},getSessionBetList:function(){return this.arrSessionBet},getTotalWin:function(){for(var e=0,t=0;t<this.arrWinnerBet.length;t++){2==(i=this.arrWinnerBet[t]).status&&(e+=i.odds*i.amount)}for(t=0;t<this.arrSessionBet.length;t++){var i;2==(i=this.arrSessionBet[t]).status&&(e+=2*i.amount)}return e},getMatchName:function(){return this.arrRunner.length>=2?this.arrRunner[0].name+" "+a.t("label_text.vs")+" "+this.arrRunner[1].name:""}});cc._RF.pop()},{AEMatch:"AEMatch",AEMatchBet:"AEMatchBet",AEMatchMarket:"AEMatchMarket",AEMatchRunner:"AEMatchRunner",LanguageData:"LanguageData"}],AEMatchRunner:[function(e,t,i){"use strict";cc._RF.push(t,"a9e07na4yFLFZrMOZbi1dR4","AEMatchRunner");cc.Class({name:"AEMatchRunner",properties:{name:"",score:"",scoreplus:""},ctor:function(){this.name=arguments[0],this.score=arguments[1]?arguments[1]:"",this.scoreplus=-1!=arguments[2]?arguments[2]:""}});cc._RF.pop()},{}],AEMatchUpcoming:[function(e,t,i){"use strict";cc._RF.push(t,"34550UxFyJM3rj4kYtcVtGM","AEMatchUpcoming");var n=e("AEMatch"),a=e("LanguageData"),o=e("AEMatchRunner"),s=e("AEMatchMarketWinner");cc.Class({name:"AEMatchUpcoming",extends:n,properties:{betStartTime:0},ctor:function(){this.matchID=arguments[0],this.arrCmdHandler=[],this.arrCmdHandler.cricketlist=handler(this,this.onMatchList)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onMatchList:function(e,t){for(var i in this.arrMarket=[],this.arrRunner=[],t.games){var n=t.games[i];if(n.id==this.matchID){for(var a in this.startTime=n.starttime,this.location=n.location,this.betStartTime=n.starttime-86400,n.teams){var r=n.teams[a];this.arrRunner.push(new o(r.team)),this.arrMarket.push(new s(r.team,r.odds))}return}}},getRunneres:function(){return this.arrRunner},getWinnerMarket:function(e){return 1==e||"1"==e?this.arrMarket[1]:this.arrMarket[0]},getWinnerMarketes:function(){return this.arrMarket.length>=2?[this.arrMarket[0],this.arrMarket[1]]:[]},getMatchName:function(){return this.arrRunner[0].name+" "+a.t("label_text.vs")+" "+this.arrRunner[1].name}});cc._RF.pop()},{AEMatch:"AEMatch",AEMatchMarketWinner:"AEMatchMarketWinner",AEMatchRunner:"AEMatchRunner",LanguageData:"LanguageData"}],AEMatch:[function(e,t,i){"use strict";cc._RF.push(t,"ad712uChN5IIaPeoRrIqsM8","AEMatch");e("AEMatchBet");var n=e("AEMatchMarket"),a=e("AEMatchRunner");cc.Class({name:"AEMatch",properties:{matchID:-1,startTime:0,location:"",arrRunner:[a],arrMarket:[n],arrCmdHandler:{default:{}}},ctor:function(){},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onBetList:function(e,t){this.arrBet=[];for(var i=0;i<t.game.length;i++)for(var n=t.game[i];0<n.bets.length;index++)n.bets[0]},getMatchName:function(){return this.arrRunner[0]&&this.arrRunner[1]?this.arrRunner[0].name+" VS "+this.arrRunner[0].name:""}});cc._RF.pop()},{AEMatchBet:"AEMatchBet",AEMatchMarket:"AEMatchMarket",AEMatchRunner:"AEMatchRunner"}],AEMobile:[function(e,t,i){"use strict";cc._RF.push(t,"9bd3eXPlNJPh5r/eOrw5vz2","AEMobile");var n="AEMOBILE",a=e("AELoader"),o=e("ResLoader");window.ae&&cc.log("[Warn][%s] %s ",n,JSON.stringify(window.ae,null,4)),window.ae&&window.ae.loader?t.exports=window.ae:(window.ae=window.ae||{},window.ae.initAEMobile=function(){IAds.initAdUnit(),window.ae.loader=window.ae.loader||new a(10,10,".tmp"),window.ae.resloader=window.ae.resloader||new o,cc.log("[Warn][%s] %s ",n,JSON.stringify(window.ae,null,4))},cc.log("[Warn][%s] %s ",n,JSON.stringify(window.ae,null,4)),t.exports=window.ae),cc._RF.pop()},{AELoader:"AELoader",ResLoader:"ResLoader"}],AERankListView:[function(e,t,i){"use strict";cc._RF.push(t,"96f83xrKIJCo7ZhULJ+cxvM","AERankListView"),cc.Class({extends:cc.Component,properties:{mask:{default:void 0,type:cc.Node},content:{default:void 0,type:cc.Node},item:cc.Prefab,itemData:{visible:!1,default:[]},arrItemView:{visible:!1,default:[]},itemInitCB:{visible:!1,default:null},beginIndex:{visible:!1,default:0},endIndex:{visible:!1,default:0},maxLine:{visible:!1,default:1},itemYGap:85,itemBeginX:-268},onLoad:function(){this.itemPool=new cc.NodePool;for(var e=0;e<10;++e){var t=cc.instantiate(this.item);this.itemPool.put(t)}this.node.on("scrolling",this.onScrolling,this),this.mask.on("size-changed",this.onSizeChanged,this)},onDestory:function(){this.node.off("scrolling",this.onScrolling,this),this.mask.off("size-changed",this.onSizeChanged,this)},setItemInitCb:function(e){this.itemInitCB=e},forceItemInitCb:function(){for(var e in this.arrItemView)this.arrItemView[e]&&this.itemInitCB&&this.itemInitCB(this.arrItemView[e],this.itemData[e])},addItemData:function(e,t){this.itemData[e]=t,this.content.height=this.itemYGap*this.itemData.length,this.mask.height/this.itemYGap>this.endIndex-this.beginIndex&&(this.onScrolling(),console.info("["+(new Date).toISOString()+"][Friend Rank List]","---------- Add Friend Item End ----------------")),this.arrItemView[e]&&this.itemInitCB&&this.itemInitCB(this.arrItemView[e],this.itemData[e])},onSizeChanged:function(){this.mask.height/this.itemYGap>this.endIndex-this.beginIndex&&this.onScrolling()},onScrolling:function(){if(this.isValid&&this.itemPool){var e=this.mask.convertToWorldSpaceAR(cc.v2(0,this.mask.height*this.mask.anchorY)),t=this.mask.convertToWorldSpaceAR(cc.v2(0,this.mask.height*-this.mask.anchorY)),i=this.arrItemView[this.beginIndex],n=this.arrItemView[this.endIndex];if(!(i&&i.convertToWorldSpaceAR(cc.v2(0,0)).y>e.y+50&&n&&n.convertToWorldSpaceAR(cc.v2(0,0)).y<t.y-50)){for(var a=this.content.convertToNodeSpaceAR(cc.v2(0,e.y)),o=-Math.ceil(a.y/this.itemYGap),s=1+this.mask.height/this.itemYGap,r=Math.max(0,o),l=Math.min(this.itemData.length,r+s),c=r;c<l;c++)this.arrItemView[c]||(this.arrItemView[c]=this.createItemView(this.content),this.arrItemView[c].y=c*-this.itemYGap,this.arrItemView[c].x=this.itemBeginX,this.itemInitCB&&this.itemInitCB(this.arrItemView[c],this.itemData[c])),this.beginIndex=Math.min(this.beginIndex,c),this.endIndex=Math.max(this.endIndex,c);for(c=this.beginIndex;c<this.endIndex;c++){var h=this.arrItemView[c];if(h){if(!(h.convertToWorldSpaceAR(cc.v2(0,-h.height)).y>e.y+300))break;this.itemPool.put(h),this.arrItemView[c]=null,this.beginIndex+=1}}for(c=this.endIndex-1;c>=this.beginIndex;c--){var u=this.arrItemView[c];if(u){if(!(u.convertToWorldSpaceAR(cc.v2(0,0)).y<t.y-300))break;this.itemPool.put(u),this.arrItemView[c]=null,this.endIndex-=1}}}}},createItemView:function(e){var t=null;return(t=this.itemPool.size()>0?this.itemPool.get():cc.instantiate(this.item)).parent=e,t},getItemView:function(e){return this.arrItemView[e]},reset:function(){for(var e=0;e<this.arrItemView.length;e++)this.itemPool.put(this.arrItemView[e]);this.itemData.length=0,this.arrItemView.length=0,this.content.removeAllChildren(),this.content.height=0,this.beginIndex=0,this.endIndex=0}}),cc._RF.pop()},{}],AERequestListView:[function(e,t,i){"use strict";cc._RF.push(t,"ef52cI/4jNASIIAW6JUidfI","AERequestListView"),cc.Class({extends:cc.Component,properties:{mask:{default:void 0,type:cc.Node},content:{default:void 0,type:cc.Node},item:cc.Prefab,itemData:{visible:!1,default:[]},arrItemView:{visible:!1,default:[]},itemInitCB:{visible:!1,default:null},beginIndex:{visible:!1,default:0},endIndex:{visible:!1,default:0},maxLine:{visible:!1,default:1},itemYGap:120,itemBeginX:-218},onLoad:function(){this.itemPool=new cc.NodePool;for(var e=0;e<10;++e){var t=cc.instantiate(this.item);this.itemPool.put(t)}this.node.on("scrolling",this.onScrolling,this),this.mask.on("size-changed",this.onSizeChanged,this)},onDestory:function(){this.node.off("scrolling",this.onScrolling,this),this.mask.off("size-changed",this.onSizeChanged,this)},setItemInitCb:function(e){this.itemInitCB=e},addItemData:function(e,t){this.itemData[e]=t,this.content.height=this.itemYGap*this.itemData.length,this.mask.height/this.itemYGap>this.endIndex-this.beginIndex&&(this.onScrolling(),console.info("["+(new Date).toISOString()+"][Friend Request List]","---------- Add Friend Request Item End ----------------")),this.arrItemView[e]&&this.itemInitCB&&this.itemInitCB(this.arrItemView[e],this.itemData[e])},onSizeChanged:function(){this.mask.height/this.itemYGap>this.endIndex-this.beginIndex&&this.onScrolling()},onScrolling:function(){if(this.isValid&&this.itemPool){var e=this.mask.convertToWorldSpaceAR(cc.v2(0,this.mask.height*this.mask.anchorY)),t=this.mask.convertToWorldSpaceAR(cc.v2(0,this.mask.height*-this.mask.anchorY)),i=this.arrItemView[this.beginIndex],n=this.arrItemView[this.endIndex];if(!(i&&i.convertToWorldSpaceAR(cc.v2(0,0)).y>e.y+50&&n&&n.convertToWorldSpaceAR(cc.v2(0,0)).y<t.y-50)){for(var a=this.content.convertToNodeSpaceAR(cc.v2(0,e.y)),o=-Math.ceil(a.y/this.itemYGap),s=1+this.mask.height/this.itemYGap,r=Math.max(0,o),l=Math.min(this.itemData.length,r+s),c=r;c<l;c++)this.arrItemView[c]||(this.arrItemView[c]=this.createItemView(this.content),this.arrItemView[c].y=c*-this.itemYGap,this.arrItemView[c].x=this.itemBeginX,this.itemInitCB&&this.itemInitCB(this.arrItemView[c],this.itemData[c])),this.beginIndex=Math.min(this.beginIndex,c),this.endIndex=Math.max(this.endIndex,c);for(c=this.beginIndex;c<this.endIndex;c++){var h=this.arrItemView[c];if(!(h.convertToWorldSpaceAR(cc.v2(0,-h.height)).y>e.y+300))break;this.itemPool.put(h),this.arrItemView[c]=null,this.beginIndex+=1}for(c=this.endIndex-1;c>=this.beginIndex;c--){var u=this.arrItemView[c];if(u){if(!(u.convertToWorldSpaceAR(cc.v2(0,0)).y<t.y-300))break;this.itemPool.put(u),this.arrItemView[c]=null,this.endIndex-=1}}}}},createItemView:function(e){var t=null;return(t=this.itemPool.size()>0?this.itemPool.get():cc.instantiate(this.item)).parent=e,t},getItemView:function(e){return this.arrItemView[e]},reset:function(){for(var e=0;e<this.arrItemView.length;e++)this.itemPool.put(this.arrItemView[e]);this.itemData.length=0,this.arrItemView.length=0,this.content.removeAllChildren(),this.content.height=0,this.beginIndex=0,this.endIndex=0}}),cc._RF.pop()},{}],AEResCache:[function(e,t,i){"use strict";cc._RF.push(t,"c283dJuBrxAhaIeOlrIEZ5F","AEResCache");cc.Class({name:"AEResCache",properties:{_resource:{default:{}}},isResReady:function(e){return!!this._resource[e]},removeAllCache:function(){},cacheRes:function(e,t){this._resource[e]=t},getResByKey:function(e){return LogUtil.debug("AEResCache",e+"--"+this._resource[e]),this._resource[e]},getTextByKey:function(e){return this.getResByKey(e)},getJsonByKey:function(e){return this.getResByKey(e)},getSkeletonDataByKey:function(e){return this.getResByKey(e)},getImageByKey:function(e){return this.getResByKey(e)}});cc._RF.pop()},{}],AK47Help:[function(e,t,i){"use strict";cc._RF.push(t,"d7917i086tDJoxHUXXn9hdK","AK47Help");var n=e("BaseEdgePopup");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup"}],AK47Room:[function(e,t,i){"use strict";cc._RF.push(t,"e1214p3KfxIVZV+dEIlP1N3","AK47Room");var n=e("BaseRoom"),a=e("UIInfo");cc.Class({name:"AK47Room",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.AK47,this.tableRulesUIInfo=a.AK47_HELP}}),cc._RF.pop()},{BaseRoom:"BaseRoom",UIInfo:"UIInfo"}],ActionFactory:[function(e,t,i){"use strict";cc._RF.push(t,"e2e24kHBjBDJIJ5IgWfKnlg","ActionFactory"),cc.Class({extends:cc.Component,properties:{},createAction:function(e,t){}}),cc._RF.pop()},{}],ActionManager:[function(e,t,i){"use strict";cc._RF.push(t,"c8f54nbFuFN25jtjLWA1q3q","ActionManager"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],ActionPool:[function(e,t,i){"use strict";cc._RF.push(t,"fe6cdHIR/hCn7DSbdiA5L8c","ActionPool");cc.Class({extends:cc.Component,properties:{arrAction:{default:[],visible:!1}},removeAll:function(){LogUtil.info("ActionPool","Action Pool Clear");for(var e=this.arrAction.length-1;e>=0;--e)this.arrAction[e].destroy();this.arrAction=[]},runAction:function(e,t,i){e.strCmd=t,e.objData=i,this.arrAction.push(e),e.play(this)},onActionFinish:function(e){for(var t=this.arrAction.length-1;t>=0;--t)if(this.arrAction[t]==e)return void this.arrAction.splice(t,1)}}),cc._RF.pop()},{}],ActivityManager:[function(e,t,i){"use strict";cc._RF.push(t,"643f1TRCNpNJ7IFT4rQh1Vu","ActivityManager");var n=e("BaseManager"),a=e("Command"),o=e("LocalStorage"),s=e("UIInfo");cc.Class({extends:n,properties:{vipStarData:null,userVipStarData:null,gameReceivedStarCount:0,lastReceiveCount:0},setGameCoreComplete:function(){ITeenPatti.addListener(a.SERVER_CMD_VIP_STAR,this,this.onVIPStar),ITeenPatti.addListener(a.SERVER_CMD_USER_VIP_STAR,this,this.onUserVIPStar)},onVIPStar:function(e,t){this.vipStarData=t;var i=(new Date).getTime()/1e3;this.gameCore.gameMng.curLobbyType&&i>this.vipStarData.starttime&&i<this.vipStarData.endtime&&!o.getLocalData("filmFestival")&&(this.gameCore.uiMng.openUI(s.FILM_FESTIVAL),o.saveLocalData("filmFestival",1))},showGotStarEffect:function(){this.lastReceiveCount>0&&this.gameCore.uiMng.openUI(s.FILM_FESTIVAL_GOT_STAR,handler(this,function(e,t){e.updateCount(t),this.lastReceiveCount=0},this.lastReceiveCount))},onUserVIPStar:function(e,t){if(!t.errorcode){if(this.userVipStarData&&t.start>this.userVipStarData.start){var i=!0;for(var n in this.userVipStarData.claimetime)if(0==this.userVipStarData.claimetime[n]){i=!1;break}i||(this.lastReceiveCount=t.start-this.userVipStarData.start,this.gameReceivedStarCount+=this.lastReceiveCount,this.gameCore.uiMng.isInCasinoWarGame||this.showGotStarEffect())}if(this.userVipStarData)for(var n in this.userVipStarData.start=t.start,t.claimetime)this.userVipStarData.claimetime[n]=t.claimetime[n];else this.userVipStarData=t}this.gameCore.uiMng.dispatch("ui_update_film_festival_progress",t)},isFilmExpire:function(){var e=void 0;if(this.userVipStarData)for(var t in e=!0,this.userVipStarData.claimetime)if(0==this.userVipStarData.claimetime[t]){e=!1;break}var i=(new Date).getTime()/1e3;return!this.userVipStarData||!this.vipStarData||i<this.vipStarData.starttime||i>this.vipStarData.endtime+259200||i>this.vipStarData.endtime&&!0===e},showFilmProgress:function(){if(this.userVipStarData&&this.vipStarData&&!this.isFilmExpire()&&!this.gameCore.uiMng.isPopUpByUIKey(s.FILM_FESTIVAL_PROGRESS.name))for(var e=0;e<3;e++)this.userVipStarData.start>=this.vipStarData.starts[e+1]&&0==this.userVipStarData.claimetime[e+1]&&this.gameCore.uiMng.openUI(s.FILM_FESTIVAL_PROGRESS)}});cc._RF.pop()},{BaseManager:"BaseManager",Command:"Command",LocalStorage:"LocalStorage",UIInfo:"UIInfo"}],AdBonusPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"ca00fwtR/xGBocUdtQJAFNk","AdBonusPopUp");e("LanguageData");var n=e("BaseUI");cc.Class({extends:n,properties:{lblChipsCount:cc.Label,objAdAvail:cc.Node,objAdInavail:cc.Node},onLoad:function(){this._super()},initComplete:function(){this._super(),this.objAdAvail.active=this.gameCore.gameMng.hasRewardedVideo,this.objAdInavail.active=!this.objAdAvail.active},setAdBonusAmount:function(e,t){this.lblChipsCount.string=""+e},onBtnWatchOtherClicked:function(e){ITeenPatti.onMsgReceived("adshow",null),this.gameCore.userMng.showRewardedVideo(handler(this,this.onVideoAdWatched)),this.closeUI()},onVideoAdWatched:function(e){e&&(ITeenPatti.getCurPlayer().getTeenPattiProfile().advNum-=1,ITeenPatti.sendMsg("advchips",null))},onBtnCloseClicked:function(e){this.closeUI()},onBtnOkClicked:function(e){this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],AdFreeChipsPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"9bdb7ftV5tDvLv+gqNEdyvz","AdFreeChipsPopUp");e("LanguageData");var n=e("BaseUI");cc.Class({extends:n,properties:{lblChipsCount:cc.Label},onLoad:function(){this._super()},setAdBonusAmount:function(e,t){this.lblChipsCount.string=""+e},onBtnCloseClicked:function(e){this.closeUI()},onBtnFreeClicked:function(e){ITeenPatti.onMsgReceived("adshow",null),IAds.showVideoAd(function(e){e&&(ITeenPatti.getCurPlayer().getTeenPattiProfile().advNum-=1,ITeenPatti.sendMsg("advchips",null))}),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],AdNativePopUp:[function(e,t,i){"use strict";cc._RF.push(t,"b5ab27YItRHprxs5qqYT5pE","AdNativePopUp");e("LanguageData");var n=e("BaseUI");cc.Class({extends:n,properties:{imgIcon:cc.Sprite,imgAd:cc.Sprite,lblTitle:cc.Label,lblDesc:cc.Label,lblAction:cc.Label,lblCancel:cc.Label},onLoad:function(){this._super();var e=IAds.getAdJson(IAds.AD_NATIVE);this.loadImageFromWeb(this.imgIcon,e.icon),this.loadImageFromWeb(this.imgAd,e.cover)},start:function(){IAds.showAd(IAds.AD_NATIVE,handler(this,this.onBtnAdClicked)),this.addClickArea(this.imgIcon.node),this.addClickArea(this.imgAd.node)},loadImageFromWeb:function(e,t){cc.loader.load({url:t,type:"png"},function(i,n){i?LogUtil.err("AdNativePopUp","Down Facebook Ad Image Fail: "+t,i):e.spriteFrame=new cc.SpriteFrame(n)})},addClickArea:function(e){var t=e.convertToWorldSpaceAR(cc.v2(-1*e.width*e.anchorX,e.height*(1-e.anchorY))),i=e.convertToWorldSpaceAR(cc.v2(e.width*(1-e.anchorX),-1*e.height*e.anchorY));IAds.addClickArea(t.x,t.y,i.x-t.x,t.y-i.y)},closeUI:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];IAds.closeAd(),IAds.loadAd(IAds.AD_NATIVE),this._super()},onBtnAdClicked:function(){performWithDelay(this.node,.3,handler(this,this.onBtnCloseClicked))},onBtnCloseClicked:function(e){this.closeUI()},onBtnActionClicked:function(e){this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],AdsConfigConstant:[function(e,t,i){"use strict";cc._RF.push(t,"1f036ZAGDdPMKJZhNQZ7yR8","AdsConfigConstant"),function(){var e={},i={};cc.sys.platform==cc.sys.ANDROID&&(i={}),e.ADS_DEFAULT_CONFIG=i,t.exports=e}(),cc._RF.pop()},{}],AdsConfig:[function(e,t,i){"use strict";cc._RF.push(t,"7522fjx/jJFlpsQZP/HXC0y","AdsConfig"),e("function"),e("LogUtil");var n=e("OnlineFileLoader"),a=e("AdsConfigConstant");cc.Class({name:"AdsConfig",properties:{loader:n},ctor:function(){this.arrAdUnit=a.ADS_DEFAULT_CONFIG;var e=cc.sys.platform==cc.sys.ANDROID?"https://stusmiddle.blob.core.windows.net/bubblejourney/ads/patti/android/adsconfig.json":"https://stusmiddle.blob.core.windows.net/bubblejourney/ads/patti/ios/adsconfig.json";this.loader=new n(e,"AE_Ads_Config"),this.initWithFile(this.loader.getFileContent()),this.loader.loadFromNet(handler(this,this.initWithFile))},initWithFile:function(e){if("string"==typeof e&&e.length>0)try{var t=JSON.parse(e);t&&(this.arrAdUnit=t)}catch(e){LogUtil.err("AdsConfig","There is error parse ads json on js",e)}},getPlacementList:function(){var e=["IronSrc"];return e},getProviderList:function(e){var t=["IronSrc"];return t},getAdNativeId:function(e,t){var i=this.arrAdUnit&&this.arrAdUnit[e]?this.arrAdUnit[e].Provider:null;return i&&i[t]?i[t].UnitID:null},getLoadPercent:function(e){var t=0,i=this.arrAdUnit&&this.arrAdUnit[e]?this.arrAdUnit[e]:null;return i?t=i.Percent:t},getChiefProvider:function(e){return"IronSrc"},getAlternateProvider:function(e,t){var i=null;if(!e||!t)return i;var n=this.arrAdUnit&&this.arrAdUnit[e]?this.arrAdUnit[e].Provider:null;if(!n||!n[t])return i;var a=n[t].Priority,o=100;for(var s in n)o>n[s].Priority&&n[s].Priority>a&&(i=s,o=n[s].Priority);return i}});cc._RF.pop()},{AdsConfigConstant:"AdsConfigConstant",LogUtil:"LogUtil",OnlineFileLoader:"OnlineFileLoader",function:"function"}],AemobileConfig:[function(e,t,i){"use strict";var n,a;function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}cc._RF.push(t,"a9769i8tQZG8rEudmsfYHTm","AemobileConfig"),window.ROOM_TYPE={INVALID:-1,CLASSIC:"",NOLIMIT:"NoLimit",JOKER:"Joker",MUFLIS:"Muflis",HUKAM:"HuKam",POTBLIND:"PotBlind",AK47:"AK47",MATCH_CRICKET:"MatchCricket",CASINO_WAR:"war",MATCH_FOOTBALL:"MatchFootball",AB:"NAB",TEXAS_HOLDEM:"poker",RUMMY:"Rummy",PATTI_WAR:"pattiwar",DELUXE:"Deluxe",AB_PVP:"BAB",AB_GOLD:"GoldPVCAB",AB_PVP_GOLD:"GoldPVPAB",CASINO_WAR_GOLD:"GoldPVCWar",TEXAS_HOLDEM_GOLD:"Goldpoker",CASINO_WAR_PVP_GOLD:"GoldPVPWar",CLASSIC_GOLD:"Gold",WINGO_LOTTERY:"wingo"},window.TABLE_STATE=(o(n={INVALID:-1,WAIT:-1,READY:0,START:1,RUNNING:2,OVER:3,FINISH:4},"WAIT",5),o(n,"DELUXE_READY",6),n),window.UI_TABLE_STATE={INVALID:-1,INIT:0,WAIT:1,READY:2,START:3,COLLECT:4,DEAL:5,RUNNING:6,POT_LIMIT:7,SHOW:11,OVER:8,RESULT:12,AWARD:9,FINISH:10},window.USER_STATE={WAIT:1,BLIND:2,SEEN:3,CHAAL:4,SSHOW:5,SHOW:6,PACKED:7},window.SEAT_STATE={EMPTY:0,WAIT:1,READY:2,ANTE:3,SORT:4,ALIVE:5,WIN:6,LOSE:7,PACK:8,SSHOW:9,SIDE_WIN:10},window.USER_ACTION={INIT_BET:1,BET:2,SIDE_SHOW:3,SIDE_SHOW_ACCEPT:4,SIDE_SHOW_REFUSE:5,SHOW:6,PACK:7,SEEN:8,SHOW_REULT:9},window.TABLE_ACTION=(o(a={DEAL:14,BET:0,BET_BOOT:12,BET_SHOW:13,BET_SIDE:15,SEE_CARD:1,SEE_CARD_OVER:17,SEE_ACTION:16,SHOW:2,SIDE_SHOW:3,SIDE_PACK:10,SIDE_RESULT:11,SHOW_PACK:4,POT_LIMIT:5,SHOW_REULT:6,SHOW_AWARD:7,SHOW_EXP:8,RESET:9,SELF_DROP:101,OTHER_DROP:102,SELF_DRAW:103,OTHER_DRAW:104,SELF_DISCARD:105,OTHER_DISCARD:106},"SELF_DISCARD",107),o(a,"OTHER_DISCARD",108),o(a,"SELF_DECCLAREWIN",109),o(a,"OTHER_DECCLAREWIN",110),o(a,"SELF_TOWIN",111),o(a,"OTHER_TOWIN",112),a),window.USER_STATE_TEXAS={WAIT:0,SBLIND:1,BBLIND:2,CALL:3,CHCECK:4,RAISE:5,ALLIN:6,FOLD:7},window.UI_RUMMYTABLE_STATE={INVALID:-1,INIT:0,WAIT:1,READY:2,START:3,DEAL:4,RUNNING:5,DROP:6,DRAW:7,DECALARE:11,DISCARD:8,RESULT:12,AWARD:9,FINISH:10,TOWIN:13},window.USER_RUMMYSTATE={WAIT:1,INGAME:2,CHECKWIN:3,DECLARE:4,DROPEDFIRST:5,DROPED:6,WIN:7,FACKWIN:8},window.SEAT_RUMMYSTATE={EMPTY:0,WAIT:1,READY:2,START:3,SORT:4,ALIVE:5,DROP:6,DRAW:7,DISCARD:8,DECALARE:9,TOWIN:10,SHOWINTEGRAL:11},window.RUMMY_ROOM_STATE={NONE:1,WAIT_FOR_DRAW:2,WAIT_FOR_DISCARD:3,WAIT_FOR_WINNER_DECLARE:4,WAIT_FOR_OTHER_DECLARE:5,END:6},window.RUMMY_DECLARE_TIME=20,window.RUMMY_WAIT_TIME=30,window.CARD_ID_BACK=-1,window.CARD_ID_JOKER=-2,window.BANK_HISTORY_TYPE={ADD:0,TRANSFER:1,DRAW:2,GIFT:3,CONVERT:4,DIAMOND_CONVERT:5,TASK:6,RECEIVE:7,TO_GOLD:8},cc._RF.pop()},{}],Alert:[function(e,t,i){"use strict";cc._RF.push(t,"1ebaaJWVelMC5bt1m9xyNYF","Alert");e("LanguageData");var n=e("BaseUI");cc.Class({extends:n,properties:{titleLabel:cc.Label,contentLabel:cc.Label,titleLabelnoFont:cc.Label,contentLabelnoFont:cc.Label,confirmBtn:cc.Node,cancelBtn:cc.Node,confirmBtnLabel:cc.Label,cancelBtnLabel:cc.Label,closeBtn:cc.Node},onLoad:function(){this._super(),this.closeBtn.active=!1},updateUI:function(e,t,i,n,a,o,s,r){this.confirmFun=n,this.cancelFun=a,this.confirmBtn.setPosition(i<2?cc.v2(0,-85):cc.v2(139,-85)),this.cancelBtn.active=i>=2,i>1&&i<2?this.contentLabelnoFont.string=e:this.contentLabel.string=e,this.titleLabel.string=t||"",this.confirmBtnLabel.string=o,this.cancelBtnLabel.string=s,this.closeBtn.active=r,this.i18nFontUpdate()},onConfirmBtnClk:function(e){this.closeUI(),this.confirmFun&&this.confirmFun()},onCancelBtnClk:function(e){this.cancelFun&&this.cancelFun(),this.closeUI()},onBlackBgTouchEnd:function(e){e.stopPropagation()},onBackButtonClk:function(){}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],AudioUtils:[function(e,t,i){"use strict";cc._RF.push(t,"741fccrfPhOQruHX85EDl9K","AudioUtils");var n={playEffect:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=ITeenPatti.gameCore.gameMng;e&&n.sound&&!n.isBackground&&cc.audioEngine.play(e,t,i)}};t.exports=n,cc._RF.pop()},{}],AwardsChip:[function(e,t,i){"use strict";cc._RF.push(t,"3d21fIvBQlBsqt9kPH2zZnt","AwardsChip"),cc.Class({extends:cc.Component,properties:{chipsAmount:0},onLoad:function(){},setChipsAmount:function(e){this.chipsAmount=e},setAnimCb:function(e,t){this.hLeaveCb=e,this.hArriveCb=t},sendToPos:function(e,t,i){this.node.setPosition(t),this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(handler(this,this.playAnim)),cc.moveTo(.5,i)))},playAnim:function(){this.hLeaveCb&&this.hLeaveCb(this.chipsAmount),this.node.getComponent(cc.Animation).play("gs_anim_awards_icon_chips")},onAnimArrive:function(){this.hArriveCb&&this.hArriveCb(this.chipsAmount)},onAnimFinish:function(){this.node.removeFromParent()}}),cc._RF.pop()},{}],BackMenuABPVP:[function(e,t,i){"use strict";cc._RF.push(t,"0a876v6OfZKVZpD+zTY4kQ+","BackMenuABPVP");var n=e("BackMenu"),a=e("Command"),o=e("LanguageData");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},initComplete:function(){this._super(),this.lblLobby.string=this.isBanker()?o.t("label_text.disband"):o.t("label_text.lobby"),this.isBanker()&&(this.btnLobby.interactable=this.needShowDisband(),this.lblLobby.node.color=this.btnLobby.interactable?new cc.Color(255,255,255):new cc.Color(200,200,200));var e=ITeenPatti.getCurTable();e&&e.myselfIsBanker&&(this.popupBg.height-=90,this.btnStandUp.node.active=!1,this.btnTableRule.node.y+=90)},isBanker:function(){var e=ITeenPatti.getCurTable();return e&&e.myselfIsBanker},needShowDisband:function(){var e=ITeenPatti.getCurTable();return e&&e.myselfIsBanker&&!e.isDisbanded},onLobbyBtnClk:function(e){this.needShowDisband()?this.gameCore.gameMng.showAlert(o.t("label_text.disband_table"),"",2,handler(this,function(){ITeenPatti.sendMsg(a.SERVER_CMD_PVP_DISBAND),this.closeUI()})):this._super(e)}}),cc._RF.pop()},{BackMenu:"BackMenu",Command:"Command",LanguageData:"LanguageData"}],BackMenuPattiWar:[function(e,t,i){"use strict";cc._RF.push(t,"77ea76Ao9hJ3rK0dDK5Uz89","BackMenuPattiWar");var n=e("BackMenu");cc.Class({extends:n,properties:{lblStandUpNext:{default:null,visible:!1,override:!0},btnStandUpNext:{default:null,visible:!1,override:!0},lblSwitchTable:{default:null,visible:!1,override:!0},btnSwitchTable:{default:null,visible:!1,override:!0},noviceGuideBtn:cc.Button,noviceGuideBtnLabel:cc.Label},initComplete:function(){this._super();var e=ITeenPatti.getCurTable();e&&e.bankerId==this.gameCore.userMng.myself.strTPID&&this.disableButton(this.noviceGuideBtn,this.noviceGuideBtnLabel)},onNoviceGuideClk:function(e){this.gameCore.uiMng.dispatch("show_novice_guide"),this.closeUI()}}),cc._RF.pop()},{BackMenu:"BackMenu"}],BackMenuTournament:[function(e,t,i){"use strict";cc._RF.push(t,"82802KkM2dNWqo1oURwe/kc","BackMenuTournament");var n=e("BackMenu"),a=e("LanguageData"),o=e("UIInfo");cc.Class({extends:n,properties:{lblStandUp:{default:null,visible:!1,override:!0},btnStandUp:{default:null,visible:!1,override:!0},lblStandUpNext:{default:null,visible:!1,override:!0},btnStandUpNext:{default:null,visible:!1,override:!0},lblSwitchTable:{default:null,visible:!1,override:!0},btnSwitchTable:{default:null,visible:!1,override:!0}},onLobbyBtnClk:function(e){var t=this.gameCore.uiMng.getUIByUIKey(o.GAME_SCENE_TOUR.name);t&&t.isTourEnd?this.leaveRoom():this.gameCore.gameMng.showAlert(a.t("label_text.exit_game"),"",2,function(){this.leaveRoom()}.bind(this),null,a.t("label_text.yes"),a.t("label_text.no"))},closeUI:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.gameCore.uiMng.closeUI(o.ALERT),this._super(e,t)}}),cc._RF.pop()},{BackMenu:"BackMenu",LanguageData:"LanguageData",UIInfo:"UIInfo"}],BackMenuWingoLottery:[function(e,t,i){"use strict";cc._RF.push(t,"e6e31PC6U5My7rnd7lc0Bi4","BackMenuWingoLottery");var n=e("LanguageData"),a=e("BackMenu");cc.Class({extends:a,properties:{lblStandUpNext:{default:null,visible:!1,override:!0},btnStandUpNext:{default:null,visible:!1,override:!0},lblSwitchTable:{default:null,visible:!1,override:!0},btnSwitchTable:{default:null,visible:!1,override:!0}},initComplete:function(){this._super()},onLobbyBtnClk:function(e){var t=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);t&&t.tableController.betArea.hasBet?this.gameCore.gameMng.showAlert(n.t("label_text.leave_room_lose_bet"),"",2,handler(this,this._super)):this._super()}}),cc._RF.pop()},{BackMenu:"BackMenu",LanguageData:"LanguageData"}],BackMenu:[function(e,t,i){"use strict";cc._RF.push(t,"bf462weLHtPOYy62tD1vdN4","BackMenu");var n=e("BaseEdgePopup"),a=e("ITeenPatti"),o=e("UIInfo"),s=e("Command"),r=e("DataAnalysisKey");cc.Class({extends:n,properties:{lblStandUp:cc.Label,btnStandUp:cc.Button,lblStandUpNext:cc.Label,btnStandUpNext:cc.Button,lblSwitchTable:cc.Label,btnSwitchTable:cc.Button,lblTableRule:cc.Label,btnTableRule:cc.Button,btnClose:cc.Button,lblLobby:cc.Label,btnLobby:cc.Button,loadLobby:cc.Node},onLoad:function(){isInstantGame&&(this.popupBgWidget.isAlignLeft=!1,this.popupBgWidget.isAlignRight=!0),this._super(),this.hasCloseAction=!0;var e=!1;a.getCurPlayer()&&(a.getCurRoom()&&a.getCurRoom().roomType==ROOM_TYPE.RUMMY?a.getCurPlayer().rummyrole&&(e=a.getCurPlayer().rummyrole.isWatcher()):a.getCurPlayer().role&&(e=a.getCurPlayer().role.isWatcher())),e&&(this.btnStandUp&&(this.btnStandUp.interactable=!1),this.lblStandUp&&(this.lblStandUp.node.color=new cc.Color(200,200,200)),this.lblStandUpNext&&(this.lblStandUpNext.node.color=new cc.Color(200,200,200))),this.btnStandUpNext&&(this.btnStandUpNext.interactable=!a.requestedSUNR&&!e)},initComplete:function(){this._super(),a.addListener("UserStandUp",this,this.onUserStandUp),a.addListener("RoomJoin",this,this.onRoomJoin)},onLobbyBtnClk:function(e){this.leaveRoom()},leaveRoom:function(){if(a.getCurRoom()&&a.getCurRoom().roomType==ROOM_TYPE.RUMMY){if(!a.getCurPlayer().rummyrole)return}else if(!a.getCurPlayer().role)return;this.canClose=!1,this.gameCore.gameMng.lastGameEarn=a.getCurPlayer().curRoomWinChips,this.gameCore.gameMng.lastGameEarnGold=a.getCurPlayer().curRoomWinGold;var e=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);a.removeListener(s.SERVER_CMD_USER_EXIT_ROOM,e),a.removeListener("UserStandUp",this),a.addListener(s.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),a.sendMsg("leaveroom",null),this.gameCore.dataAnalysisMng.sendData(r.CLICK_BACKTOLOBBY,[this.gameCore.dataAnalysisMng.tableMode,this.gameCore.dataAnalysisMng.tableType,this.gameCore.dataAnalysisMng.bootAmount]),this.loadLobby.active=!0,this.disableButton(this.btnLobby,this.lblLobby),this.disableButton(this.btnStandUp,this.lblStandUp),this.disableButton(this.btnStandUpNext,this.lblStandUpNext),this.btnSwitchTable&&this.disableButton(this.btnSwitchTable,this.lblSwitchTable),this.disableButton(this.btnTableRule,this.lblTableRule),this.disableButton(this.btnClose),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.blackBg&&this.blackBg.off(cc.Node.EventType.TOUCH_END,this.onBlackBgTouchEnd,this),this.blackBg&&this.blackBg.on(cc.Node.EventType.TOUCH_END,this.onPopupBgTouchEnd,this),this.popupBg&&this.popupBg.on(cc.Node.EventType.TOUCH_END,this.onPopupBgTouchEnd,this)},onRoomJoin:function(){this.loadLobby&&(this.loadLobby.active=!1),this.closeUI()},onLeavingRoom:function(){this.btnLobby.interactable=!1,this.lblLobby.node.color=new cc.Color(200,200,200)},onBtnSwitchTableClk:function(e){this.gameCore.uiMng.openUI(o.SWITCH_TABLE_POPUP),this.gameCore.dataAnalysisMng.sendData(r.CLICK_SWITCHTABLE,[this.gameCore.dataAnalysisMng.tableMode,this.gameCore.dataAnalysisMng.tableType,this.gameCore.dataAnalysisMng.bootAmount]),this.closeUI(!1)},onBtnStandUpClk:function(e){var t=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);a.removeListener("UserStandUp",t),a.sendMsg("standup",null),this.scheduleOnce(this.onStandingUp,.1),this.gameCore.dataAnalysisMng.sendData(r.CLICK_STANDUP,[this.gameCore.dataAnalysisMng.tableMode,this.gameCore.dataAnalysisMng.tableType,this.gameCore.dataAnalysisMng.bootAmount])},onStandingUp:function(){this.btnStandUp.interactable=!1,this.lblStandUp.node.color=new cc.Color(200,200,200)},onBtnStandUpNextRoundClk:function(e){var t=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);a.removeListener("UserStandUp",t),a.sendMsg("sunr",null),this.gameCore.dataAnalysisMng.sendData(r.CLICK_STANDUPNEXTROUND,[this.gameCore.dataAnalysisMng.tableMode,this.gameCore.dataAnalysisMng.tableType,this.gameCore.dataAnalysisMng.bootAmount]),a.requestedSUNR=!0,this.closeUI()},onBtnTableRulesClk:function(e){this.gameCore.gameMng.openTableRules()},closeUI:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.isValid){if(this.btnLobby.enabled=!1,a.getCurRoom()){var i=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);a.addListener(s.SERVER_CMD_USER_EXIT_ROOM,i,i.onUserExitRoom)}this.unschedule(this.onStandingUp),this.unschedule(this.onLeavingRoom),this._super(e,t)}},disableButton:function(e,t){e&&(e.interactable=!1),t&&(t.node.color=new cc.Color(200,200,200))},onUserExitRoom:function(e,t){var i=a.getCurPlayer();t.user.name==i.userId?(this.hasCloseAction=!1,this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)):LogUtil.info("BackMenu","Exit User Is not Player!")},onUserStandUp:function(e,t){this.node&&this.node.isValid?a.getCurPlayer().userId==t.user.name&&(this.hasCloseAction=!0,this.closeUI()):a.removeListener("UserStandUp",this)}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",Command:"Command",DataAnalysisKey:"DataAnalysisKey",ITeenPatti:"ITeenPatti",UIInfo:"UIInfo"}],BankAlert:[function(e,t,i){"use strict";cc._RF.push(t,"c1d98FfeINP1Jhq7+IDt78g","BankAlert");var n=e("LanguageData"),a=e("BaseUI");cc.Class({extends:a,properties:{labelTitle:cc.Label,labelContent:cc.Label,labelButton:cc.Label},updateUI:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.t("label_text.congratulations"),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.t("label_text.ok"),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.labelTitle.string=t,this.labelContent.string=e,this.labelButton.string=i,this.confirmFun=a},onConfirmBtnClk:function(e){this.confirmFun&&this.confirmFun(),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],BankHistoryItem:[function(e,t,i){"use strict";cc._RF.push(t,"07a5eL7pTdEvKKSbBxDQxHp","BankHistoryItem");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseScrollViewItem"),s=new cc.Color(255,60,60),r=new cc.Color(255,255,255);cc.Class({extends:o,properties:{descriptionLabel:cc.Label,amountLabel:cc.Label,timeLabel:cc.Label,typeIconList:[cc.Node]},setData:function(e){if(this._super(e),e&&"more"!=e){var t="",i=e.receivename;if(-1==e.receivename.indexOf(e.receiverId)){var o=18;e.type==BANK_HISTORY_TYPE.RECEIVE&&(o=11),i.length>o&&(i=i.substring(0,o-3)+"..."),i+="(id:"+e.receiverId+")"}else i.length>20&&(i=i.substring(0,17)+"...");e.type==BANK_HISTORY_TYPE.ADD?t=a.t("label_text.purchase_bank_chips"):e.type==BANK_HISTORY_TYPE.TRANSFER?t=a.t("label_text.transfer_to",{name:i}):e.type==BANK_HISTORY_TYPE.DRAW?t=a.t("label_text.withdraw_chips"):e.type==BANK_HISTORY_TYPE.GIFT?t=a.t("label_text.gift_to",{name:i}):e.type==BANK_HISTORY_TYPE.TASK?t=a.t("label_text.daily_mission_bonus"):e.type==BANK_HISTORY_TYPE.RECEIVE?t=a.t("label_text.sent_bank_chips",{name:i}):e.type==BANK_HISTORY_TYPE.TO_GOLD&&(t=a.t("label_text.transfer_bank_gold")),this.descriptionLabel.string=t,e.amount>0?(this.amountLabel.node.color=s,this.amountLabel.string="+"+n.formatNumberWithRules(e.amount)):(this.amountLabel.node.color=r,this.amountLabel.string=n.formatNumberWithRules(e.amount)),e.type==BANK_HISTORY_TYPE.GIFT?(this.typeIconList[0].active=!1,this.typeIconList[1].active=!0,this.typeIconList[2].active=!1):e.type==BANK_HISTORY_TYPE.TRANSFER?(this.typeIconList[0].active=!1,this.typeIconList[1].active=!1,this.typeIconList[2].active=!0):(this.typeIconList[0].active=!0,this.typeIconList[1].active=!1,this.typeIconList[2].active=!1);var l=new Date(e.time);this.timeLabel.string=l.getMonth()+1+"/"+l.getDate()+"/"+l.getFullYear()+"  "+(l.getHours()<10?"0"+l.getHours():l.getHours())+":"+(l.getMinutes()<10?"0"+l.getMinutes():l.getMinutes())+":"+(l.getSeconds()<10?"0"+l.getSeconds():l.getSeconds())}}}),cc._RF.pop()},{BaseScrollViewItem:"BaseScrollViewItem",GameUtils:"GameUtils",LanguageData:"LanguageData"}],BankHistory:[function(e,t,i){"use strict";cc._RF.push(t,"325b8FASSxOFbt8uC/+mYmn","BankHistory");var n=e("Command"),a=e("LanguageData"),o=e("GameUtils"),s=e("BaseScrollViewUI"),r=0,l=1,c=2,h=3,u=4;cc.Class({extends:s,properties:{noRecordLabel:cc.Node,tmpDataList:[],timeFilterLabel:cc.Label,expenseNumLabel:cc.Label,incomeNumLabel:cc.Label,timeFilterPopup:cc.Node,timeFilterLabelList:[cc.Label]},onLoad:function(){this.itemYGap=80,this.itemScriptComponentName="BankHistoryItem",this.scrollView.verticalScrollBar.node.active=!1,this.noRecordLabel.active=!1,this.timeFilterPopup.active=!1,this._super()},initComplete:function(){this._super(),this.timeFilterTypeList=[{text:a.t("label_text.current_month"),type:r},{text:a.t("label_text.last_month"),type:l},{text:a.t("label_text.today"),type:c},{text:a.t("label_text.yesterday"),type:h},{text:a.t("label_text.last_days"),type:u}],this.curFilterType=r,this.timeFilterLabel.string=this.timeFilterTypeList[r].text,this.selectFilterList=[],this.gameCore.uiMng.addListener(n.SERVER_CMD_BANK_HISTORY,this,this.onBankHistory),this.requestNextPage()},showDelayLoading:function(){this._super(cc.v2(0,24))},requestNextPage:function(){this._super();var e=0,t=new Date,i=Math.floor(t.getTime()/1e3),a=(t.getDate(),t.getMonth()),o=t.getFullYear();if(this.curFilterType==r)t.setFullYear(o,a,1),t.setHours(0,0,0),e=Math.floor(t.getTime()/1e3);else if(this.curFilterType==l){t.setFullYear(o,a,1),t.setHours(0,0,0),i=Math.floor(t.getTime()/1e3)-1;var s=a-1,d=o;s<0&&(s=11,d=o-1),t.setFullYear(d,s,1),t.setHours(0,0,0),e=Math.floor(t.getTime()/1e3)}else this.curFilterType==c?(t.setHours(0,0,0),e=Math.floor(t.getTime()/1e3)):this.curFilterType==h?(t.setHours(0,0,0),i=Math.floor(t.getTime()/1e3)-1,e=Math.floor(t.getTime()/1e3)-86400):this.curFilterType==u&&(e=Math.floor(t.getTime()/1e3)-604800);ITeenPatti.sendMsg(n.SERVER_CMD_BANK_HISTORY,{page:this.curPage,num:10,time1:e,time2:i})},onBankHistory:function(e){if(!e.errorcode){this.noRecordLabel.active=0==e.totalPage,this.scrollView.verticalScrollBar.node.active=!0,this.totalPage=e.totalPage;for(var t=1;t<=table.length(e.bh);t++)this.tmpDataList.push({receiverId:e.bh[t].receiveId,receivename:e.bh[t].receivename,type:e.bh[t].type,amount:e.bh[t].amount,time:1e3*e.bh[t].time});e.sum1?this.incomeNumLabel.string="+"+o.formatNumberWithRules(e.sum1):this.incomeNumLabel.string="0",e.sum2?this.expenseNumLabel.string="-"+o.formatNumberWithRules(e.sum2):this.expenseNumLabel.string="0",this.dataList=this.tmpDataList,this.setDataProvider(this.dataList),this.requesting=!1}},onTimeFilterBtnClick:function(e,t){if(this.timeFilterPopup.active)this.timeFilterPopup.active=!1;else{this.selectFilterList=[];for(var i=0;i<this.timeFilterTypeList.length;i++)this.timeFilterTypeList[i].type!=this.curFilterType&&this.selectFilterList.push(this.timeFilterTypeList[i]);for(i=0;i<this.timeFilterLabelList.length;i++)this.timeFilterLabelList[i]&&this.selectFilterList[i]&&(this.timeFilterLabelList[i].string=this.selectFilterList[i].text);this.timeFilterPopup.active=!0}},onTimeFilterItemClick:function(e,t){this.selectFilterList[Number(t)]&&(this.curFilterType=this.selectFilterList[Number(t)].type,this.timeFilterLabel.string=this.selectFilterList[Number(t)].text,this.tmpDataList=[],this.curPage=0,this.totalPage=1,this.startIndex=0,this.endIndex=0,this.contentNode.y=220),this.timeFilterPopup.active=!1,this.requestNextPage()},onTimeFilterCloseBtnClick:function(e,t){this.timeFilterPopup.active=!1}}),cc._RF.pop()},{BaseScrollViewUI:"BaseScrollViewUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],BankPassword:[function(e,t,i){"use strict";cc._RF.push(t,"20b99QRRI1KYaaRGR5eDYOI","BankPassword");var n=e("BaseEditboxUI"),a=e("LanguageData"),o=e("UIInfo"),s=e("Command");cc.Class({extends:n,properties:{closeBtn:cc.Node,setPassword:cc.Node,setPWIncorrectTipsLabel:cc.Label,setPWDescLabel:cc.Label,pwEditbox:cc.EditBox,pwConfirmEditBox:cc.EditBox,setPWOKBtn:cc.Node,setPWSuccess:cc.Node,setPIN:cc.Node,setPINEditBox:cc.EditBox,setPinStars:[cc.Node],setPINIncorrectTips:cc.Node,setPINOKBtn:cc.Node,setPINSuccess:cc.Node,enterPassword:cc.Node,enterPWOKBtn:cc.Button,enterPWEditBox:cc.EditBox,enterPWEditBoxContainer:cc.Node,enterPWIncorrectTips:cc.Node,enterPWDescLabel:cc.Label,enterPWTitle:cc.Node,enterPIN:cc.Node,enterPINOKBtn:cc.Button,enterPINEditBox:cc.EditBox,enterPinStars:[cc.Node],enterPINIncorrectTips:cc.Node,changePINCode:cc.Node,changePINEditBox:cc.EditBox,changePinStars:[cc.Node],changePINOKBtn:cc.Node,changePINSuccess:cc.Node,changePINIncorrectTips:cc.Node,changePINDescLabel:cc.Label,accountLocked:cc.Node},setType:function(e,t,i){if(this.callback=t,this.reset(),"setPassword"==e)this.setPassword.active=!0,this.setPWSuccess.active=!1,this.setPWIncorrectTipsLabel.string="",this.popupBg.width=750,this.popupBg.height=482;else if("setPIN"==e){this.setPIN.active=!0,this.setPINIncorrectTips.active=!1,this.setPINSuccess.active=!1;for(var n=0;n<this.setPinStars.length;n++)this.setPinStars[n].active=!1;this.popupBg.width=586,this.popupBg.height=392}else if("enterPassword"==e)this.enterPassword.active=!0,this.enterPWIncorrectTips.active=!1,this.popupBg.width=546,this.popupBg.height=308+(i?60:0),i&&(this.enterPWTitle.y+=30,this.enterPWOKBtn.node.y-=30,this.enterPWEditBoxContainer.y-=35,this.enterPWIncorrectTips.y-=30,this.enterPWDescLabel.string=i);else if("enterPIN"==e){this.enterPIN.active=!0,this.enterPINIncorrectTips.active=!1;for(n=0;n<this.enterPinStars.length;n++)this.enterPinStars[n].active=!1;this.popupBg.width=546,this.popupBg.height=308}else if("changePIN"==e){this.changePINCode.active=!0,this.changePINSuccess.active=!1,this.changePINIncorrectTips.active=!1,this.closeBtn.active=!0,this.changePINDescLabel.string=i||a.t("label_text.change_confirm");for(n=0;n<this.changePinStars.length;n++)this.changePinStars[n].active=!1;this.popupBg.width=648,this.popupBg.height=386}else"accountLocked"==e&&(this.accountLocked.active=!0,this.popupBg.width=604,this.popupBg.height=308);var o=this.closeBtn.getComponent(cc.Widget);o&&o.updateAlignment()},reset:function(){this.setPassword.active=!1,this.setPIN.active=!1,this.enterPassword.active=!1,this.enterPIN.active=!1,this.changePINCode.active=!1,this.accountLocked.active=!1,this.setPWSuccess.active=!1,this.setPINSuccess.active=!1,this.changePINSuccess.active=!1},onLoad:function(){this._super(),this.editboxOffsetY=20,this.reset()},initComplete:function(){this._super(),this.closeBtn.active=!this.gameCore.uiMng.isInLoginScene,this.setPWDescLabel.string=this.gameCore.uiMng.isInLoginScene?a.t("label_text.protect_account"):a.t("label_text.set_password_msg")},onBlackBgTouchEnd:function(e){e.stopPropagation()},containsLetterAndNumber:function(e){for(var t=!1,i=!1,n=0;n<e.length;n++){var a=e.charCodeAt(n);a>=48&&a<=57?i=!0:(a>=97&&a<=122||a>=65&&a<=90)&&(t=!0)}return t&&i},isPWFormatValid:function(e){return!(e.length<8||e.length>20||!this.containsLetterAndNumber(e))},isAllNumber:function(e){for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);if(i<48||i>57)return!1}return!0},isPINFormatValid:function(e){if(e.length<4)return!1;for(var t=!0,i=!0,n=!0,a=0;a<e.length;a++){var o=e.charCodeAt(a);if(o<48||o>57)return!1;a>0&&(o!=e.charCodeAt(a-1)&&(t=!1),o-e.charCodeAt(a-1)!=1&&(i=!1),o-e.charCodeAt(a-1)!=-1&&(n=!1))}return!(t||i||n)},showDelayLoading:function(){var e=this.node;this.enterPassword.active?e=this.enterPWOKBtn.node:this.enterPIN.active&&(e=this.enterPINOKBtn.node),this._super(cc.v2(0,0),e,.5)},closeUIByCloseBtn:function(){this.gameCore.gameMng.closePWNeedGotoLogin&&!this.gameCore.uiMng.isInLoginScene&&(ITeenPatti.logout(),this.gameCore.uiMng.openUI(o.LOGIN_SCENE),this.gameCore.logout()),this.gameCore.gameMng.closePWNeedGotoLogin=!1,this._super()},closeUI:function(e,t){this.gameCore.gameMng.closePWNeedGotoLogin=!1,this._super(e,t)},setPasswordEditEnded:function(e){this.setPWIncorrectTipsLabel.string=this.pwEditbox.string!=this.pwConfirmEditBox.string?a.t("label_text.passwords_not_match"):this.isPWFormatValid(this.pwEditbox.string)?"":a.t("label_text.password_invalid")},setPasswordOKClk:function(){this.pwEditbox.string==this.pwConfirmEditBox.string&&this.isPWFormatValid(this.pwEditbox.string)&&(this.gameCore.uiMng.addListener(s.SERVER_CMD_BANK_PASSWORD,this,this.onSetPassword),ITeenPatti.sendMsg(s.SERVER_CMD_BANK_PASSWORD,{password:this.pwEditbox.string}))},onSetPassword:function(e){this.gameCore.uiMng.removeListener(s.SERVER_CMD_BANK_PASSWORD,this,this.onSetPassword),"success"==e.cmd&&(this.callback?(this.callback(),this.callback=null):(this.popupBg.active=!1,this.blackBg.active=!1,this.setPWSuccess.active=!0,performWithDelay(this.node,1,handler(this,function(){this.setPWSuccess.active=!1,this.popupBg.active=!0,this.blackBg.active=!0,this.setType("setPIN")}))),ITeenPatti.sendMsg(s.SERVER_CMD_BANK_PW_STATUS,null))},setPINOKClk:function(){this.isPINFormatValid(this.setPINEditBox.string)&&this.gameCore.userMng.transactionWithPassword(handler(this,function(){this.gameCore.uiMng.addListener(s.SERVER_CMD_BANK_PIN,this,this.onSetPIN),ITeenPatti.sendMsg(s.SERVER_CMD_BANK_PIN,{pin:parseInt(this.setPINEditBox.string)})}))},onSetPIN:function(e){this.gameCore.uiMng.removeListener(s.SERVER_CMD_BANK_PIN,this,this.onSetPIN),"success"==e.cmd&&(this.popupBg.active=!1,this.blackBg.active=!1,this.setPINSuccess.active=!0,performWithDelay(this.node,1.5,handler(this,function(){this.closeUI()})),ITeenPatti.sendMsg(s.SERVER_CMD_BANK_PW_STATUS,null))},setPINEditChanged:function(e,t){var i=e.charCodeAt(e.length-1);(i<48||i>57)&&(e=e.slice(0,e.length-1),this.setPINEditBox.string=e);for(var n=0;n<this.setPinStars.length;n++)this.setPinStars[n].active=e.length>n},setPINEditEnded:function(e){this.setPINIncorrectTips.active=!this.isPINFormatValid(this.setPINEditBox.string)},enterPWOKClk:function(){this.enterPWEditBox.string.length>0&&(this.enterPWOKBtn.interactable=!1,this.showNetworkDelayLoading(),this.gameCore.uiMng.addListener(s.SERVER_CMD_BANK_CHECK_PW,this,this.onCheckPW),ITeenPatti.sendMsg(s.SERVER_CMD_BANK_CHECK_PW,{i:this.enterPWEditBox.string}))},onCheckPW:function(e){this.hideNetworkDelayLoading(),this.gameCore.uiMng.removeListener(s.SERVER_CMD_BANK_CHECK_PW,this,this.onCheckPW),this.enterPWIncorrectTips.active=0!=e.i,0==e.i?(this.callback&&(this.callback(),this.callback=null),this.needRemindChangePIN?(this.needRemindChangePIN=!1,this.setType("changePIN",null,a.t("label_text.change_pin_msg"))):this.waiting||this.closeUI()):3==e.i?this.setType("accountLocked"):this.enterPWOKBtn.interactable=!0,ITeenPatti.sendMsg(s.SERVER_CMD_BANK_PW_STATUS,null)},enterPINOKClk:function(){this.isAllNumber(this.enterPINEditBox.string)&&4==this.enterPINEditBox.string.length&&(this.enterPINOKBtn.interactable=!1,this.showNetworkDelayLoading(),this.gameCore.uiMng.addListener(s.SERVER_CMD_BANK_CHECK_PIN,this,this.onCheckPIN),ITeenPatti.sendMsg(s.SERVER_CMD_BANK_CHECK_PIN,{i:parseInt(this.enterPINEditBox.string)}))},onCheckPIN:function(e){this.hideNetworkDelayLoading(),this.gameCore.uiMng.removeListener(s.SERVER_CMD_BANK_CHECK_PIN,this,this.onCheckPIN),this.enterPINIncorrectTips.active=0!=e.i,0==e.i?(this.callback&&(this.callback(),this.callback=null),this.waiting||this.closeUI()):3==e.i?this.gameCore.gameMng.showAlert(a.t("label_text.enter_transaction_password"),"",1,handler(this,function(){this.needRemindChangePIN=!0,this.setType("enterPassword")})):this.enterPINOKBtn.interactable=!0,ITeenPatti.sendMsg(s.SERVER_CMD_BANK_PW_STATUS,null)},enterPINEditChanged:function(e,t){var i=e.charCodeAt(e.length-1);(i<48||i>57)&&(e=e.slice(0,e.length-1),this.enterPINEditBox.string=e);for(var n=0;n<this.enterPinStars.length;n++)this.enterPinStars[n].active=e.length>n},changePINOKClk:function(){this.isPINFormatValid(this.changePINEditBox.string)&&this.gameCore.userMng.transactionWithPassword(handler(this,function(){this.waiting=!0,this.gameCore.uiMng.addListener(s.SERVER_CMD_BANK_PIN,this,this.onChangePIN),ITeenPatti.sendMsg(s.SERVER_CMD_BANK_PIN,{pin:parseInt(this.changePINEditBox.string)})}))},onChangePIN:function(e){this.waiting=!1,this.gameCore.uiMng.removeListener(s.SERVER_CMD_BANK_PIN,this,this.onChangePIN),"success"==e.cmd&&(this.popupBg.active=!1,this.blackBg.active=!1,this.changePINSuccess.active=!0,performWithDelay(this.node,1.5,handler(this,function(){this.closeUI()})),ITeenPatti.sendMsg(s.SERVER_CMD_BANK_PW_STATUS,null))},changePINEditChanged:function(e,t){var i=e.charCodeAt(e.length-1);(i<48||i>57)&&(e=e.slice(0,e.length-1),this.changePINEditBox.string=e);for(var n=0;n<this.changePinStars.length;n++)this.changePinStars[n].active=e.length>n},changePINEditEnded:function(e){this.changePINIncorrectTips.active=!this.isPINFormatValid(this.changePINEditBox.string)},onContactBtnClk:function(){this.gameCore.userMng.sendSupportMail()}}),cc._RF.pop()},{BaseEditboxUI:"BaseEditboxUI",Command:"Command",LanguageData:"LanguageData",UIInfo:"UIInfo"}],BankStore:[function(e,t,i){"use strict";cc._RF.push(t,"1ee17fbtnhNT6yXFMW3fngM","BankStore");var n=e("GameUtils"),a=e("GameData"),o=e("Command"),s=e("BaseUI");cc.Class({extends:s,properties:{loadingBgContainer:cc.Node,totalChipsLabel:cc.Label,bankAccountLabel:cc.Label,priceLabelList:[cc.Label],skuDetailsList:{default:[],visible:!1}},onLoad:function(){this._super()},initComplete:function(){if(this.onBankAccountChanged(),this.gameCore.uiMng.addListener(o.UI_CMD_CHIPS_CHANGE,this,this.updateChips),this.gameCore.uiMng.addListener(o.UI_CMD_BANK_ACCOUNT_CHANGED,this,this.onBankAccountChanged),this._super(),this.totalChipsLabel.string=n.formatNumberWithRules(this.gameCore.userMng.myself.nChips),cc.sys.isBrowser){this.skuDetailsList=a.facebookBankSkuDetails;for(var e=0;e<this.skuDetailsList.length;e++)this.priceLabelList[e]&&(this.priceLabelList[e].string=this.skuDetailsList[e].price)}else this.gameCore.uiMng.addListener(o.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails),this.gameCore.gameMng.getNativeSkuDetails()},updateChips:function(e){this.totalChipsLabel&&e&&(this.totalChipsLabel.string=n.formatNumberWithRules(e.final))},onBankAccountChanged:function(){this.gameCore&&this.gameCore.userMng&&this.gameCore.userMng.myself&&this.gameCore.userMng.myself.tpProfile&&(this.bankAccountLabel.string=n.formatNumberWithRules(this.gameCore.userMng.myself.tpProfile.bankChips))},showLoading:function(){this.gameCore.uiMng.showLoading(cc.v2(0,0),null,1,!0,this.loadingBgContainer)},onBuyBtnClk:function(e,t){this.showLoading(),this.skuDetailsList[t]&&this.gameCore.gameMng.buyStoreItem(this.skuDetailsList[t],a.PRE_BUY_P_BANK)},onGetSkuDetails:function(e){if(this.gameCore){this.gameCore.uiMng.removeListener(o.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails);var t=this.gameCore.gameMng.bankSkuDetailsFilter(e);if(0!=t.length){t.sort(function(e,t){return n.unformatNumber(e.title.slice(0,e.title.indexOf(" ")))-n.unformatNumber(t.title.slice(0,t.title.indexOf(" ")))}),this.skuDetailsList=t;for(var i=0;i<t.length;i++){var a=t[i];this.priceLabelList[i]&&(this.priceLabelList[i].string=a.price)}}}},closeUI:function(){this.gameCore.uiMng.hideLoading(),this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameData:"GameData",GameUtils:"GameUtils"}],BankToBank:[function(e,t,i){"use strict";cc._RF.push(t,"8ce82z06QBGmouDDCLzhqZN","BankToBank");var n=e("Command"),a=e("GameData"),o=e("LanguageData"),s=e("BaseEditboxUI");cc.Class({extends:s,properties:{transferAmountDesc:cc.Label,chipsEditBox:cc.EditBox,userIdEditBox:cc.EditBox,remind1:cc.Node,remind2:cc.Node},initComplete:function(){this._super(),this.editboxOffsetY=20,this.remind1.active=!1,this.remind2.active=!1,this.transferAmountDesc.string=o.t("label_text.chips_to_transfer",{chips:a.BANK_TRANSFER_MIN_AMOUNT})},onChipsToGiftChange:function(e,t){if(""!=e&&e){var i=new String(e);i=i.replace(new RegExp("[^0-9]","g"),"");var n=Math.max(1,parseInt(i));t.string=n}},onChipsToGiftChangeEnd:function(e){var t=new String(e.string);t=t.replace(new RegExp("[^0-9]","g"),"");var i=Math.max(50,parseInt(t));e.string=i},onUserIdChange:function(e,t){if(""!=e&&e){var i=new String(e);i=i.replace(new RegExp("[^0-9]","g"),""),t.string=i}},onGiftBtnClk:function(e){if(""==this.userIdEditBox.string||!this.userIdEditBox.string||""==this.chipsEditBox.string||!this.chipsEditBox.string)return this.remind1.active=""==this.chipsEditBox.string||!this.chipsEditBox.string,void(this.remind2.active=""==this.userIdEditBox.string||!this.userIdEditBox.string);this.gameCore.gameMng.hasEnoughBankBalance(1e7*Math.min(Math.floor(Number.MAX_SAFE_INTEGER/1e7),parseInt(this.chipsEditBox.string)))&&(this.gameCore.uiMng.addListener("getUserInfo",this,this.onProfile),this.requestUserID=parseInt(this.userIdEditBox.string),ITeenPatti.sendMsg("getUserInfo",{i:this.requestUserID}))},onProfile:function(e){if(e.errorcode||this.requestUserID==e.id)if(this.gameCore.uiMng.removeListener("getUserInfo",this,this.onProfile),e.errorcode)2001==e.errorcode&&this.gameCore.gameMng.showAlert(o.t("label_text.user_not_exist",{id:this.userIdEditBox.string}));else{var t=-1!=e.name.indexOf(this.requestUserID)?e.name:e.name+"(id:"+this.requestUserID+")";this.gameCore.gameMng.showAlert(o.t("label_text.transfer_confirm_msg",{userid:t,chips:this.chipsEditBox.string+"Cr"}),"",2,handler(this,this.sendGift))}},sendGift:function(){this.gameCore.userMng.transactionWithPassword(handler(this,function(){var e=this.chipsEditBox.string+"Cr chips\xa0from\xa0"+this.gameCore.userMng.myself.strTPName,t="Congratulations! "+this.chipsEditBox.string+"Cr have been added into your bank.",i={userId:parseInt(this.userIdEditBox.string),chips:this.chipsEditBox.string+"0000000",title:e,message:t};ITeenPatti.sendMsg(n.SERVER_CMD_BANK_TO_BANK,i),this.showNetworkDelayLoading()}))},showDelayLoading:function(){this._super(cc.v2(0,0))}}),cc._RF.pop()},{BaseEditboxUI:"BaseEditboxUI",Command:"Command",GameData:"GameData",LanguageData:"LanguageData"}],Base64:[function(e,t,i){(function(i){"use strict";cc._RF.push(t,"2abc9zkm/RC06AlQcS0f6wV","Base64"),function(i){var n,a=i.Base64;if(void 0!==t&&t.exports)try{n=e("buffer").Buffer}catch(e){}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(e){for(var t={},i=0,n=e.length;i<n;i++)t[e.charAt(i)]=i;return t}(o),r=String.fromCharCode,l=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?r(192|t>>>6)+r(128|63&t):r(224|t>>>12&15)+r(128|t>>>6&63)+r(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return r(240|t>>>18&7)+r(128|t>>>12&63)+r(128|t>>>6&63)+r(128|63&t)},c=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,h=function(e){return e.replace(c,l)},u=function(e){var t=[0,2,1][e.length%3],i=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[o.charAt(i>>>18),o.charAt(i>>>12&63),t>=2?"=":o.charAt(i>>>6&63),t>=1?"=":o.charAt(63&i)].join("")},d=i.btoa?function(e){return i.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,u)},m=n?n.from&&n.from!==Uint8Array.from?function(e){return(e.constructor===n.constructor?e:n.from(e)).toString("base64")}:function(e){return(e.constructor===n.constructor?e:new n(e)).toString("base64")}:function(e){return d(h(e))},g=function(e,t){return t?m(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):m(String(e))},p=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),C=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return r(55296+(t>>>10))+r(56320+(1023&t));case 3:return r((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return r((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},f=function(e){return e.replace(p,C)},b=function(e){var t=e.length,i=t%4,n=(t>0?s[e.charAt(0)]<<18:0)|(t>1?s[e.charAt(1)]<<12:0)|(t>2?s[e.charAt(2)]<<6:0)|(t>3?s[e.charAt(3)]:0),a=[r(n>>>16),r(n>>>8&255),r(255&n)];return a.length-=[0,0,2,1][i],a.join("")},I=i.atob?function(e){return i.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,b)},_=n?n.from&&n.from!==Uint8Array.from?function(e){return(e.constructor===n.constructor?e:n.from(e,"base64")).toString()}:function(e){return(e.constructor===n.constructor?e:new n(e,"base64")).toString()}:function(e){return f(I(e))},S=function(e){return _(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};if(i.Base64={VERSION:"2.3.2",atob:I,btoa:d,fromBase64:S,toBase64:g,utob:h,encode:g,encodeURI:function(e){return g(e,!0)},btou:f,decode:S,noConflict:function(){var e=i.Base64;return i.Base64=a,e}},"function"==typeof Object.defineProperty){var P=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};i.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",P(function(){return S(this)})),Object.defineProperty(String.prototype,"toBase64",P(function(e){return g(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",P(function(){return g(this,!0)}))}}i.Meteor&&(Base64=i.Base64),void 0!==t&&t.exports?t.exports.Base64=i.Base64:"function"==typeof define&&define.amd&&define([],function(){return i.Base64})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:void 0),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:2}],BaseCollectionViewItem:[function(e,t,i){"use strict";cc._RF.push(t,"fda85f1E3FA05mzC9QUYwXb","BaseCollectionViewItem");var n=e("BaseComponent");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},setData:function(e){}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],BaseCollectionViewUI:[function(e,t,i){"use strict";cc._RF.push(t,"5a8adtxHDRPRqgVSKlM1UeK","BaseCollectionViewUI");var n=e("BaseUI");cc.Class({extends:n,properties:{scrollView:cc.ScrollView,contentNode:cc.Node,itemPrefab:cc.Prefab,itemScriptComponentName:{get:function(){return this._itemScriptComponentName},set:function(e){this._itemScriptComponentName=e},visible:!1},itemXStart:{get:function(){return this._itemXStart},set:function(e){this._itemXStart=e},visible:!1},itemYStart:{get:function(){return this._itemYStart},set:function(e){this._itemYStart=e},visible:!1},itemXGap:{get:function(){return this._itemXGap},set:function(e){this._itemXGap=e},visible:!1},itemYGap:{get:function(){return this._itemYGap},set:function(e){this._itemYGap=e},visible:!1},horizontalItemCount:{get:function(){return this._horizontalItemCount},set:function(e){this._horizontalItemCount=e},visible:!1},reuseItemCount:{get:function(){return this._reuseItemCount},set:function(e){this._reuseItemCount=e},visible:!1},reuseRowCount:{get:function(){return this.reuseItemCount/this.horizontalItemCount},visible:!1},itemList:{default:[],visible:!1},dataList:{default:[],visible:!1},startIndex:{default:0,visible:!1},endIndex:{default:0,visible:!1}},onLoad:function(){this._super()},initComplete:function(){this._super(),this.itemXStart=-(this.horizontalItemCount/2-.5)*this.itemXGap,this.itemYStart=-this.itemYGap/2,this.contentNodeOriY=this.contentNode.y,this.lastContentNodeY=this.contentNode.y,this.reuseItemCount=(Math.ceil(this.scrollView.node.height/this.itemYGap)+1)*this.horizontalItemCount;for(var e=0;e<this.reuseItemCount;e++){var t=cc.instantiate(this.itemPrefab);t.getComponent(this.itemScriptComponentName).gameCore=this.gameCore,t.active=!1,this.contentNode.addChild(t),this.itemList.push(t)}},setDataProvider:function(e){this.dataList=e,this.reloadScollView()},reloadScollView:function(){this.endIndex<this.reuseItemCount-1&&(this.endIndex=Math.min(this.startIndex+this.reuseRowCount-1,Math.ceil(this.dataList.length/this.horizontalItemCount)-1));for(var e=0;e<this.itemList.length;e++)this.itemList[e].setPosition(e%this.horizontalItemCount*this.itemXGap+this.itemXStart,-this.itemYGap*parseInt((this.startIndex+e)/this.horizontalItemCount)+this.itemYStart),this.dataList.length>this.startIndex+e?(this.itemList[e].active=!0,this.itemList[e].getComponent(this.itemScriptComponentName).setData(this.dataList[this.startIndex+e])):this.itemList[e].active=!1;this.contentNode.height=Math.ceil(this.dataList.length/this.horizontalItemCount)*this.itemYGap},onScrolling:function(e,t){var i=this.contentNodeOriY-this.contentNode.y+this.itemYStart+this.itemYGap/2,n=i-this.scrollView.node.height;this.itemList.sort(function(e,t){return this.lastContentNodeY-this.contentNode.y>0?e.y-t.y:t.y-e.y}.bind(this)),this.lastContentNodeY=this.contentNode.y;for(var a=0;a<this.itemList.length;a++)if(a%this.horizontalItemCount==0)if(this.itemList[a].y>=i+this.itemYGap/2){if(this.endIndex<Math.ceil(this.dataList.length/this.horizontalItemCount)-1){this.startIndex++,this.endIndex++;for(var o=a;o<Math.min(a+this.horizontalItemCount,this.dataList.length);o++){this.itemList[o].y-=this.reuseRowCount*this.itemYGap;var s=this.endIndex*this.horizontalItemCount+o-a;this.itemList[o].active=s<this.dataList.length,this.itemList[o].active&&this.itemList[o].getComponent(this.itemScriptComponentName).setData(this.dataList[s])}}}else if(this.itemList[a].y<=n-this.itemYGap/2&&this.startIndex>0){this.startIndex--,this.endIndex--;for(o=a;o<Math.min(a+this.horizontalItemCount,this.dataList.length);o++){this.itemList[o].y+=this.reuseRowCount*this.itemYGap;s=this.startIndex*this.horizontalItemCount+o-a;this.itemList[o].active=s<this.dataList.length,this.itemList[o].active&&this.itemList[o].getComponent(this.itemScriptComponentName).setData(this.dataList[s])}}}}),cc._RF.pop()},{BaseUI:"BaseUI"}],BaseComponentGold:[function(e,t,i){"use strict";cc._RF.push(t,"2532d/lhuBHdZ8+NXDbIyeb","BaseComponentGold");var n=e("BaseComponent");cc.Class({extends:n,properties:{goldIconSF:cc.SpriteFrame,currencyIcons:[cc.Sprite]},initComplete:function(){this._super(),this.updateGoldFeature()},updateGoldFeature:function(){if(this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.isInGoldScene)for(var e=0;e<this.currencyIcons.length;e++)this.currencyIcons[e].spriteFrame=this.goldIconSF}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],BaseComponent:[function(e,t,i){"use strict";cc._RF.push(t,"33c61v5/AJEMI5MlRR6nJA9","BaseComponent");var n=e("RootComponent");cc.Class({extends:n,properties:{gameCore:{set:function(e){this._gameCore=e,this.gameCoreSetComplete()},get:function(){return this._gameCore},visible:!1}},onLoad:function(){this._super(),this.isLoaded=!0,this._judgeInit()},gameCoreSetComplete:function(){this._super(),this._judgeInit()},_judgeInit:function(){this.isLoaded&&this.gameCore&&(this.inited?this.initCompleteRepeat():(this.initComplete(),this.inited=!0))},initComplete:function(){this.initListener()},initListener:function(){},initCompleteRepeat:function(){}}),cc._RF.pop()},{RootComponent:"RootComponent"}],BaseEdgePopup:[function(e,t,i){"use strict";cc._RF.push(t,"719f9Pv9NdD4Z0nLaTGH6QZ","BaseEdgePopup");var n=e("GameData"),a=e("BaseEditboxUI");cc.Class({extends:a,properties:{hasCloseAction:!0,popupBgWidget:cc.Widget,actionDuration:.3,outFrom:null},onLoad:function(){this._super(),this.popupBgWidget.target=cc.director.getScene().getChildByName("Canvas"),this.popupBgWidget.updateAlignment(),this.popupBgWidget.enabled=!1;var e=this.popupBg.position;this.outFrom==n.DIRECTION.Up?this.popupBg.setPosition(this.popupBg.x,e.y+this.popupBg.height):this.popupBgWidget.isAlignRight?this.popupBg.setPosition(e.x+this.popupBg.width,this.popupBg.y):this.popupBgWidget.isAlignLeft&&this.popupBg.setPosition(e.x-this.popupBg.width,this.popupBg.y),this.canClose=!1,this.popupBg.runAction(cc.sequence(cc.moveTo(this.actionDuration,e),cc.callFunc(function(){this.openAnimationComplete()},this))),this.showBlackBgAnimation()},showBlackBgAnimation:function(){this.blackBg&&(this.blackBg.opacity=0,this.blackBg.runAction(cc.fadeTo(this.actionDuration,255)))},openAnimationComplete:function(){this.canClose=!0},playUICloseAudioEffect:function(){},closeAnimationComplete:function(){this.isLoaded=!1,null!=this.blackBg&&this.blackBg.off(cc.Node.EventType.TOUCH_END,this.onBlackBgTouchEnd,this),null!=this.popupBg&&this.popupBg.off(cc.Node.EventType.TOUCH_END,this.onPopupBgTouchEnd,this)},closeUI:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.removeAllListener(),e&&this.gameCore.gameMng.playAudioEffect("popup"),this.hasCloseAction){var t=handler(this,this._super);if(this.popupBgWidget.isAlignLeft||this.popupBgWidget.isAlignRight){this.canClose=!1;var i=this.popupBg.position.add(cc.v2(this.popupBg.width*(this.popupBgWidget.isAlignLeft?-1:1),0));this.outFrom==n.DIRECTION.Up&&(i=this.popupBg.position.add(cc.v2(0,this.popupBg.height))),this.popupBg.runAction(cc.sequence(cc.moveTo(this.actionDuration,i),cc.callFunc(function(){this.closeAnimationComplete(),t(e)},this)))}this.blackBg&&this.blackBg.runAction(cc.fadeTo(this.actionDuration,0))}else this.closeAnimationComplete(),this._super(e)},closeUIWithNoAnimation:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.hasCloseAction;this.hasCloseAction=!1,this.closeUI(e),this.hasCloseAction=t}}),cc._RF.pop()},{BaseEditboxUI:"BaseEditboxUI",GameData:"GameData"}],BaseEditboxUI:[function(e,t,i){"use strict";cc._RF.push(t,"6528fzGPf1EU7IsI6yP+WV4","BaseEditboxUI");var n=e("BaseUI"),a="BaseEditboxUI";cc.Class({extends:n,properties:{editboxOffsetY:{default:0,visible:!1}},onEditBegin:function(e,t){LogUtil.debug(a,"onEditBegin"),cc.sys.isBrowser||(this.editBoxScheduleFunc=handler(this,this.updateEditboxPos1,[e]),cc.sys.os==cc.sys.OS_IOS?this.schedule(this.editBoxScheduleFunc,.5,0):cc.sys.os==cc.sys.OS_ANDROID&&this.editBoxScheduleFunc(0))},updateEditboxPos1:function(e,t){this.updateEditboxPos(t)},updateEditboxPos:function(e){this.node.y=this.nodeOriPos.y+this.gameCore.gameMng.getEditBoxOffsetY(e.node)+this.editboxOffsetY},onEditEnd:function(e){LogUtil.debug(a,"onEditEnd"),this.editBoxScheduleFunc&&this.unschedule(this.editBoxScheduleFunc),this.node.y=this.nodeOriPos.y}}),cc._RF.pop()},{BaseUI:"BaseUI"}],BaseEffect:[function(e,t,i){"use strict";cc._RF.push(t,"b829320XH1JwJlB3Eo6HNho","BaseEffect");var n=e("BaseUI");cc.Class({extends:n,properties:{blackBg:{default:null,override:!0,visible:!1},popupBg:{default:null,override:!0,visible:!1}},onLoad:function(){this._super()},playUIOpenAudioEffect:function(){},playUICloseAudioEffect:function(){},onKeyDown:function(e){},onBackButtonClk:function(){}}),cc._RF.pop()},{BaseUI:"BaseUI"}],BaseGameScene:[function(e,t,i){"use strict";cc._RF.push(t,"914518Qa4BO5IVgHImcjzE7","BaseGameScene");var n=e("UIInfo"),a=e("DataAnalysisKey"),o=e("Command"),s=e("BaseScene"),r=e("LocalStorage"),l=e("LanguageData");cc.Class({extends:s,properties:{gameIdLabel:cc.Label,backBtnWidget:cc.Widget,friendsBtnWidget:cc.Widget,msgBtnWidget:cc.Widget,infoBtnWidget:cc.Widget,chatBtn:cc.Node},onLoad:function(){this._super(),isInstantGame?(this.msgBtnWidget.top=215,this.backBtnWidget.isAlignLeft=!1,this.backBtnWidget.isAlignRight=!0,this.backBtnWidget.top=60,this.backBtnWidget.right=-12):(this.backBtnWidget.isAlignLeft=!0,this.backBtnWidget.isAlignRight=!1,this.backBtnWidget.left=-2.5)},initComplete:function(){this._super(),isInstantGame&&this.infoBtnWidget&&(this.infoBtnWidget.left=29,this.gameCore.gameMng.isFitHeight()||(this.infoBtnWidget.top=60)),this.chatBtn&&(this.chatBtn.active=!this.gameCore.userMng.isSpectator&&ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&!ITeenPatti.getCurPlayer().role.isWatcher()),ITeenPatti.addListener(o.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),ITeenPatti.addListener(o.SERVER_CMD_FINISH,this,this.onRoundFinish),ITeenPatti.addListener(o.SERVER_CMD_UPDATE_BONUS,this,this.onUserLevelUp),ITeenPatti.addListener("UserStandUp",this,this.onUserStandUp),ITeenPatti.addListener("UserSitDown",this,this.onUserSitDown),ITeenPatti.addListener("switchdealer",this,this.onChipsNotEnough),this.updateGameIdValue()},onUserStandUp:function(e,t){t.user.isItMe&&(this.gameCore.uiMng.isPopUpByUIKey(n.CHIPS_NOT_ENOUGH_TWO_ITEM.name)||this.openWatchModePopup())},openWatchModePopup:function(){this.gameCore.uiMng.openUI(n.WATCH_MODE_POPUP)},onUserSitDown:function(e,t){t.user.isItMe&&(ITeenPatti.removeListener("UserStandUp",this),ITeenPatti.addListener("UserStandUp",this,this.onUserStandUp))},onUserExitRoom:function(e,t){t.user.isItMe&&this.gameCore&&(this.gameCore.uiMng.removeListener(o.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo))},onRoundFinish:function(e,t){if(this.btnLuckyCoin&&(this.btnLuckyCoin.node.active=!1),this.gameCore.userMng.myself.curExp=t.expbar.exp1,this.gameCore.userMng.myself.nextExp=t.expbar.exp2,ITeenPatti.getCurPlayer().role&&-1!=ITeenPatti.getCurPlayer().role.playerId){var i=r.getLocalData(r.keys.ROUND_FINISH_COUNT);i||(i=0),i++,r.saveLocalData(r.keys.ROUND_FINISH_COUNT,i),10===i&&IFBAnalytics&&IFBAnalytics.logUserEvent(IFBAnalytics.keys.ROUND_FINISH_COUNT,"count",">=10")}},onUserLevelUp:function(e,t){this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){this.gameCore&&this.gameCore.uiMng.openUI(n.LEVEL_UP_POPUP)}.bind(this))))},onChipsNotEnough:function(e,t){t.mess&&"Not enough chips."==t.mess&&this.gameCore.gameMng.hasEnoughChips(this.gameCore.userMng.myself.nChips+1)},updateGameIdValue:function(){this.gameIdLabel&&ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&(this.gameIdLabel.string=l.t("label_text.id",{id:ITeenPatti.getCurRoom().profile.gameId}))},onBackBtnClk:function(e){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&this.openBackMenu()},onBackButtonClk:function(){this.openBackMenu()},openBackMenu:function(){var t=n.BACK_MENU,i=e("NoLimitRoom");this.gameCore.gameMng.isPrivateRoom()&&ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom()instanceof i&&(t=n.BACK_MENU_WITHOUT_SWITCH),this.gameCore.uiMng.isPopUpByUIKey(t.name)||this.gameCore.uiMng.openUI(t)},onChatBtnClk:function(e){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&this.gameCore.uiMng.openUI(n.CHAT)},onGiftBtnClk:function(e){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(ITeenPatti.getCurPlayer().role.isWatcher()||this.gameCore.uiMng.openUI(n.GIFTS))},onInviteBtn:function(){this.gameCore.gameMng.openFriendsUI(0)},onRoomInfoBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(a.CLICK_TABLEINFO,this.gameCore.dataAnalysisMng.gameBaseData),this.gameCore.uiMng.openUI(n.GAME_ROOM_INFO)},onBuyBtnClk:function(e){if(this.gameCore.gameMng.hasPurchase()){this.gameCore.dataAnalysisMng.sendData(a.CLICK_STORE_TABLE,this.gameCore.dataAnalysisMng.gameBaseData);var t="",i=ITeenPatti.getCurRoom();i&&i.roomName&&(t=i.roomName.split(" ")[0]),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.OPEN_STORE_GAME,"",this.gameCore.uiMng.curSceneKey,t,0),this.gameCore.uiMng.isInGoldScene?this.gameCore.uiMng.changeUIStates(n.STORE.name,n.UI_STATE_TOGGLE_INDEX,2):this.gameCore.uiMng.changeUIStates(n.STORE.name,n.UI_STATE_TOGGLE_INDEX,0),this.gameCore.uiMng.openUI(n.STORE)}},onDestroy:function(){this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.removeCachedUI(n.CHAT.name),this._super()}}),cc._RF.pop()},{BaseScene:"BaseScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData",LocalStorage:"LocalStorage",NoLimitRoom:"NoLimitRoom",UIInfo:"UIInfo"}],BaseManager:[function(e,t,i){"use strict";cc._RF.push(t,"03e40f+witNGpMWI8vBt7C3","BaseManager");cc.Class({extends:cc.Component,properties:{gameCore:{set:function(e){this._gameCore=e,this.setGameCoreComplete()},get:function(){return this._gameCore}},isBackground:!1,uiCacheDataList:[]},ctor:function(){this.gameCore=arguments[0]},setGameCoreComplete:function(){},judgeUICache:function(){this.uiCacheDataList=[]},cacheUIData:function(e){-1==this.uiCacheDataList.indexOf(e)&&this.uiCacheDataList.push(e)},onSceneLoaded:function(){this.judgeUICache()},onEnterForeground:function(){this.isBackground=!1,this.judgeUICache()},onEnterBackground:function(){this.isBackground=!0},logout:function(){this.gameCore.uiMng.removeListenerWithTarget(this)}});cc._RF.pop()},{}],BaseRoom:[function(e,t,i){"use strict";cc._RF.push(t,"0e7a3d3tJlHJrqgvBAohn5o","BaseRoom");var n=e("RoomProfile"),a=e("BaseTable"),o=(e("ISmartFox"),e("Command")),s=e("RoomMsgHistory");e("UIInfo"),cc.Class({name:"BaseRoom",properties:{roomId:0,roomName:"",roomType:{get:function(){return this._roomType},set:function(e){this._roomType=e,this.profile.roomType=e}},city:{get:function(){return this.profile.city},set:function(e){this.profile.city=e}},isNoLimit:{get:function(){return this.profile&&this.profile.isNoLimit}},isDeluxe:{get:function(){return this.profile&&this.profile.isDeluxe}},isCasinoWar:{get:function(){return this.profile&&this.profile.isCasinoWar}},isAB:{get:function(){return this.profile&&this.profile.isAB}},isTournament:{get:function(){return this.profile&&this.profile.isTournament}},profile:n,table:a,msgHistory:s,arrCmdHandler:{default:{}},strRoomName:{get:function(){return this.profile.strRoomName}},tableRulesUIInfo:null},ctor:function(){this.profile=new n,this.table=new a,this.table.room=this,this.msgHistory=new s,this.arrCmdHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrCmdHandler.RoomUpdate=handler(this,this.onRoomUpdate)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t),e!=o.SERVER_CMD_DIAMOND_TO_BANK&&(this.table.onMsgReceived(e,t),this.msgHistory.onMsgReceived(e,t))},onRoomJoin:function(e,t){this.roomId=t.room.id,this.roomName=t.room.name,-1!=this.roomName.indexOf("Deluxe")?this.profile.isDeluxe=!0:-1!=this.roomName.indexOf("#tou")?this.profile.isTournament=!0:-1!=this.roomName.indexOf("NoLimit")?this.profile.isNoLimit=!0:-1!=this.roomName.indexOf("war")?this.profile.isCasinoWar=!0:-1!=this.roomName.indexOf("NAB")&&(this.profile.isAB=!0),this.table.initCallback(),t.room&&this.profile.onRoomJoin(e,t)},onRoomUpdate:function(e,t){t.room&&this.profile.onRoomUpdate(e,t)}});cc._RF.pop()},{BaseTable:"BaseTable",Command:"Command",ISmartFox:"ISmartFox",RoomMsgHistory:"RoomMsgHistory",RoomProfile:"RoomProfile",UIInfo:"UIInfo"}],BaseSceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"443a5jKDUNPP7mQwjcmg9Hq","BaseSceneAudio"),cc.Class({extends:cc.Component,properties:{popup:{type:cc.AudioClip,default:null}},playBg:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.currentBgAudioID=cc.audioEngine.play(this[e],!0,t),this.currentBgAudioID},playEffect:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.currentAudioID=cc.audioEngine.play(this[e],t,i),this.currentAudioID},stopCurEffect:function(){cc.audioEngine.stop(this.currentAudioID)}}),cc._RF.pop()},{}],BaseScene:[function(e,t,i){"use strict";cc._RF.push(t,"50f57RM9iND1o58QyuURzhn","BaseScene");var n=e("Command"),a=e("ITeenPattiConfig"),o=e("LanguageData"),s=e("UIInfo"),r=e("BaseUI");cc.Class({extends:r,properties:{floatAlertPrefab:cc.Prefab,blackBg:{default:null,visible:!1,override:!0},popupBg:{default:null,visible:!1,override:!0},rightLayout:{default:null,visible:!1},loadIndex:{default:0,visible:!1},preloadPrefabs:{default:[],visible:!1},lastGTime:{default:0,visible:!1}},onLoad:function(){this._super(),this.initPreloadData();var e=cc.visibleRect;e.width/e.height<=1.6&&(this.getComponent(cc.Canvas).fitHeight=!1,this.getComponent(cc.Canvas).fitWidth=!0),this.rightLayout=new cc.Node,this.rightLayout.anchorX=0,this.node.addChild(this.rightLayout),this.rightLayout.addComponent(cc.Layout).type=cc.Layout.Type.VERTICAL;var t=this.rightLayout.addComponent(cc.Widget);t.isAlignRight=!0,t.isAlignTop=!0,t.right=-this.rightLayout.width,t.top=70,cc.sys.isNative&&(cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this))},onDeviceMotionEvent:function(e){if(a.PATTI_HOST_TEST&&e.acc.x+e.acc.y+e.acc.z>4){var t=(new Date).getTime();t-this.lastGTime>2e3?this.lastGTime=t:this.lastGTime}},initPreloadData:function(){this.preloadPopup()},preloadPopup:function(){this.loadIndex>=this.preloadPrefabs.length||this.destroyed||a.PATTI_HOST_TEST||cc.loader.loadRes("Prefabs/Popup/"+this.preloadPrefabs[this.loadIndex].url,cc.Prefab,handler(this,function(e,t){this.destroyed||(this[this.preloadPrefabs[this.loadIndex].prefab]=t,this.loadIndex++,this.preloadPopup())}))},onDestroy:function(){this.destroyed=!0,this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.hideLoading(),this._super()},initComplete:function(){this._super(),this.gameCore.uiMng.isLoadingScene=!1,this.gameCore.uiMng.dispatch(n.UI_CMD_SCENE_LOADED),this.gameCore.uiMng.addListener(n.UI_CMD_GET_FB_PROFILE_SUCCESS,this,this.onGetFBProfileSuccess)},newGameCore:function(){var t=e("GameCore");this.gameCore=new t},firstSceneInit:function(){this.bHostCfgLoaded=!1,this.newGameCore(),this.gameCore.uiMng.curSceneKey=this.uiKey,this.gameCore.uiMng.loadingIndicator=cc.instantiate(this.loadingIndicatorPrefab),this.gameCore.uiMng.loadingIndicator1=cc.instantiate(this.loadingIndicatorPrefab1),this.gameCore.uiMng.loadingBg=cc.instantiate(this.loadingBgPrefab),this.gameCore.uiMng.loadingBgPrefab=this.loadingBgPrefab,this.gameCore.gameMng.robotoRegular=this.robotoRegular,this.gameCore.gameMng.robotoBold=this.robotoBold,this.gameCore.gameMng.droidHindi=this.droidHindi,this.gameCore.gameMng.LoadDefaultLanguage(),this.gameCore.gameMng.LoadDefaultLobby(),IFirebase.logLoginEvent("Login_HostCfg_Load"),ITeenPatti.loadHostCfg(handler(this,this.onHostCfgLoadSuccess)),IFirebase.logLoginEvent("Login_Proto_Load");ITeenPatti.loadProtoFile(["resources/Proto/commonproto.proto","resources/Proto/roomproto.proto","resources/Proto/zoneproto.proto","resources/Proto/cricketroomproto.proto","resources/Proto/footballproto.proto","resources/Proto/pokerproto.proto","resources/Proto/rummyproto.proto","resources/Proto/pattiwarproto.proto","resources/Proto/tournamentproto.proto","resources/Proto/abroomproto.proto"],handler(this,this.protoFileLoaded)),ITeenPatti.addListener(n.SERVER_CMD_CONNECT_LOST,this,this.onConnectLost),ITeenPatti.addListener(n.SERVER_CMD_LOGIN_ERROR,this,this.onLoginError),ITeenPatti.addListener(n.SERVER_CMD_JOIN_ZONE,this,this.onJoinZoneError),this.gameCore.uiMng.addListener(n.UI_CMD_CONNECT_FAIL,this,this.onConnectFail),this.gameCore.uiMng.addListener(n.UI_CMD_GET_FB_PROFILE_FAIL,this,this.onGetFBProfileFail)},onHostCfgLoadSuccess:function(e,t,i){!a.PATTI_HOST_TEST&&this.gameCore&&(this.gameCore.gameMng.smartfoxConfig=[e,t,i]),this.bHostCfgLoaded=!0},protoFileLoaded:function(){this.fbLoginBtnNode&&!this.isProtoLoaded&&IGoogleAnalytics.logLoginEvent("Login_Proto_Load_Finish",{hostcfg:this.bHostCfgLoaded,btnShow:this.fbLoginBtnNode.active}),this.isProtoLoaded=!0,LogUtil.debug("BaseScene","protoFileLoaded:this.bHostCfgLoaded:"+this.bHostCfgLoaded+";isBrowser:"+cc.sys.isBrowser+";window.FB:"+window.FB+";isInstantGame:"+isInstantGame),this.bHostCfgLoaded?isInstantGame?FBInstant.player.getSignedPlayerInfoAsync().then(function(e){this.gameCore.gameMng.strFBToken=e.getSignature(),this.gameCore.gameMng.onFBProfile(!0,{id:FBInstant.player.getID(),name:FBInstant.player.getName()})}.bind(this)):!cc.sys.isBrowser||window.FB?this.onProtoFileLoaded&&this.onProtoFileLoaded():this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(handler(this,this.protoFileLoaded)))):this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(handler(this,this.protoFileLoaded))))},onConnectLost:function(e){this.resetLoginStatus(),this.gameCore.uiMng.closeUI(s.ALERT),this.gameCore.gameMng.showAlert(o.t("label_text.connection_lost_desc")),this.gameCore.gameMng.sceneOpening=!1},onConnectFail:function(){this.resetLoginStatus(),this.gameCore.uiMng.closeUI(s.ALERT),this.gameCore.gameMng.showAlert(o.t("label_text.connection_lost_desc")),this.gameCore.gameMng.sceneOpening=!1},onGetFBProfileFail:function(){this.onFBLoginFail(),this.gameCore.uiMng.hideLoading(),this.gameCore.gameMng.isSupportSignInWithApple()?this.getAppleLoginStatus():(this.fbLoginBtnNode&&(this.fbLoginBtnNode.active=!0,this.fbLoginBtnNode.getComponent(cc.Button).interactable=!0),this.guestLoginBtnNode&&(this.guestLoginBtnNode.active=!0,this.guestLoginBtnNode.getComponent(cc.Button).interactable=!0))},onGetFBProfileSuccess:function(){var e=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);if(ITeenPatti.removeListener(n.SERVER_CMD_USER_EXIT_ROOM,e),ITeenPatti.getCurRoom())return ITeenPatti.sendMsg("leaveroom",null),void this.gameCore.uiMng.addListener(n.SERVER_CMD_USER_EXIT_ROOM,this,this.onRoomExit);this.gameCore.gameMng.startConnectSFSLogin()},onRoomExit:function(){this.gameCore.uiMng.removeListener(n.SERVER_CMD_USER_EXIT_ROOM,this,this.onRoomExit),this.gameCore.gameMng.startConnectSFSLogin()},onJoinZoneError:function(e,t){"error"==t.cmd&&this.onLoginError(e,t)},onLoginError:function(e,t){this.resetLoginStatus(),28==t.errorCode&&this.gameCore.gameMng.showAlert(t.errorMessage)},resetLoginStatus:function(){ITeenPatti.loadHostCfg(handler(this,this.onHostCfgLoadSuccess)),this.gameCore.uiMng.hideLoading(),this.fbLoginBtnNode&&(this.fbLoginBtnNode.active=!0,this.fbLoginBtnNode.getComponent(cc.Button).interactable=!0),this.appleLoginBtnNode&&this.gameCore.gameMng.isSupportSignInWithApple()&&(this.appleLoginBtnNode.active=!0,this.appleLoginBtnNode.getComponent(cc.Button).interactable=!0),this.guestLoginBtnNode&&(this.guestLoginBtnNode.active=!0,this.guestLoginBtnNode.getComponent(cc.Button).interactable=!0)},getAppleLoginStatus:function(){this.fbLoginBtnNode&&(this.fbLoginBtnNode.active=!0,this.fbLoginBtnNode.getComponent(cc.Button).interactable=!0),this.appleLoginBtnNode&&this.gameCore.gameMng.isSupportSignInWithApple()&&(this.appleLoginBtnNode.active=!0,this.appleLoginBtnNode.getComponent(cc.Button).interactable=!0),this.guestLoginBtnNode&&(this.guestLoginBtnNode.active=!0,this.guestLoginBtnNode.getComponent(cc.Button).interactable=!0)},onLoginStatusGet:function(e,t){if(!e||!t)if(cc.sys.isNative){if(this.gameCore.uiMng.hideLoading(),this.gameCore.gameMng.isSupportSignInWithApple())return void this.getAppleLoginStatus();this.fbLoginBtnNode&&(this.fbLoginBtnNode.active=!0,this.fbLoginBtnNode.getComponent(cc.Button).interactable=!0),this.guestLoginBtnNode&&(this.guestLoginBtnNode.active=!0,this.guestLoginBtnNode.getComponent(cc.Button).interactable=!0)}else this.FBLogin()},onBtnFBLoginClicked:function(e){this.FBLogin()&&this.gameCore.uiMng.showLoading()},FBLogin:function(){return this.gameCore.gameMng.fbLogin(handler(this,this.onFBLogin))},onFBLogin:function(e){if(!e){if(this.onFBLoginFail(),this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.hideLoading(),this.gameCore.gameMng.isSupportSignInWithApple())return void this.getAppleLoginStatus();this.fbLoginBtnNode&&(this.fbLoginBtnNode.active=!0,this.fbLoginBtnNode.getComponent(cc.Button).interactable=!0),this.guestLoginBtnNode&&(this.guestLoginBtnNode.active=!0,this.guestLoginBtnNode.getComponent(cc.Button).interactable=!0)}},onFBLoginFail:function(){},playUIOpenAudioEffect:function(){},playUICloseAudioEffect:function(){},onKeyDown:function(e){this.gameCore&&(this.gameCore.uiMng.hasPopupOpen()||this._super(e))},onBackButtonClk:function(){}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameCore:"GameCore",ITeenPattiConfig:"ITeenPattiConfig",LanguageData:"LanguageData",UIInfo:"UIInfo"}],BaseScrollViewItem:[function(e,t,i){"use strict";cc._RF.push(t,"2c2a7aaQdlP+4QN3vlptwgo","BaseScrollViewItem");e("BaseScrollViewUI");var n=e("BaseComponent");cc.Class({extends:n,properties:{content:cc.Node,moreBtn:cc.Button,scrollViewUI:{default:null,visible:!1}},onLoad:function(){this._super(),this.moreBtn.node.active=!1},setData:function(e){this.content.active="more"!=e,this.moreBtn.node.active="more"==e},onMoreBtnClk:function(e){this.moreBtn.node.active=!1,this.scrollViewUI.requestNextPage()}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BaseScrollViewUI:"BaseScrollViewUI"}],BaseScrollViewUI:[function(e,t,i){"use strict";cc._RF.push(t,"63947Ck969BoL8KsPJHgeUN","BaseScrollViewUI");var n=e("BaseUI");cc.Class({extends:n,properties:{scrollView:cc.ScrollView,contentNode:cc.Node,itemPrefab:cc.Prefab,itemScriptComponentName:{get:function(){return this._itemScriptComponentName},set:function(e){this._itemScriptComponentName=e},visible:!1},itemYStart:{get:function(){return this._itemYStart},set:function(e){this._itemYStart=e},visible:!1},itemYGap:{get:function(){return this._itemYGap},set:function(e){this._itemYGap=e},visible:!1},itemCount:{get:function(){return this._itemCount},set:function(e){this._itemCount=e},visible:!1},itemList:{default:[],visible:!1},dataList:{default:[],visible:!1},startIndex:{default:0,visible:!1},endIndex:{default:0,visible:!1},curPage:{default:0,visible:!1},totalPage:{default:1,visible:!1},requesting:{get:function(){return this._requesting},set:function(e){this._requesting=e,e?this.showNetworkDelayLoading():this.hideNetworkDelayLoading()},visible:!1}},onLoad:function(){this.totalPage=5,this.itemYStart=-this.itemYGap/2,this.contentNodeOriY=this.contentNode.y,this.lastContentNodeY=this.contentNode.y,this.itemCount=Math.ceil(this.scrollView.node.height/this.itemYGap)+1;for(var e=0;e<this.itemCount;e++){var t=cc.instantiate(this.itemPrefab);t.getComponent(this.itemScriptComponentName).scrollViewUI=this,t.active=!1,this.contentNode.addChild(t),this.itemList.push(t)}this._super()},showDelayLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cc.v2(0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scrollView.node,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._super(e,t,i)},requestNextPage:function(){this.curPage>=this.totalPage||(this.curPage++,this.requesting=!0)},setDataProvider:function(e){this.dataList=e,this.reloadScollView()},reloadScollView:function(){this.endIndex<this.itemCount-1&&(this.endIndex=Math.min(this.startIndex+this.itemCount-1,this.dataList.length-1));for(var e=0;e<this.itemList.length;e++)this.itemList[e].setPosition(0,-this.itemYGap*(this.startIndex+e)+this.itemYStart),this.dataList.length>this.startIndex+e?(this.itemList[e].active=!0,this.itemList[e].getComponent(this.itemScriptComponentName).setData(this.dataList[this.startIndex+e])):this.itemList[e].active=!1;this.contentNode.height=this.dataList.length*this.itemYGap},onScrolling:function(e,t){if(1!=this.requesting){var i=this.contentNodeOriY-this.contentNode.y+this.itemYStart+this.itemYGap/2,n=i-this.scrollView.node.height;this.itemList.sort(function(e,t){return this.lastContentNodeY-this.contentNode.y>0?e.y-t.y:t.y-e.y}.bind(this)),this.lastContentNodeY=this.contentNode.y;for(var a=0;a<this.itemList.length;a++)this.itemList[a].y>=i+this.itemYGap/2?this.endIndex<this.dataList.length-1&&(this.startIndex++,this.endIndex++,this.itemList[a].y-=this.itemCount*this.itemYGap,this.itemList[a].getComponent(this.itemScriptComponentName).setData(this.dataList[this.endIndex])):this.itemList[a].y<=n-this.itemYGap/2&&this.startIndex>0&&(this.startIndex--,this.endIndex--,this.itemList[a].y+=this.itemCount*this.itemYGap,this.itemList[a].getComponent(this.itemScriptComponentName).setData(this.dataList[this.startIndex]));!this.requesting&&this.curPage!=this.totalPage&&this.contentNode.y>this.contentNodeOriY+this.contentNode.height-this.scrollView.node.height&&this.requestNextPage()}}}),cc._RF.pop()},{BaseUI:"BaseUI"}],BaseSeatTour:[function(e,t,i){"use strict";cc._RF.push(t,"9b14ewO5VFKm52/D5ygZBBm","BaseSeatTour");var n=e("BaseSeat");cc.Class({extends:n,properties:{},updateBgState:function(){this._super(),(this.btnSitDown.node.active||this.btnInvite.node.active)&&(this.partner.shortBackground.active=this.partner.longBackground.active=!1)}}),cc._RF.pop()},{BaseSeat:"BaseSeat"}],BaseSeat:[function(e,t,i){"use strict";cc._RF.push(t,"f9597QWJjNLs5RIil9z2k5X","BaseSeat");var n=e("TeenPattiUser"),a=e("PattiPlayerView"),o=e("SeatExtend"),s=(e("UIInfo"),e("GameBaseSeat")),r=e("Command"),l=e("CardBar"),c="BaseSeat";cc.Class({extends:s,properties:{index:0,curTable:{default:null,visible:!1},partner:a,cardBar:l,cdTimeBar:cc.Node,imgBanker:cc.Sprite,btnSitDown:cc.Button,btnInvite:cc.Button,btnGift:cc.Button,playerId:0,seatId:0,state:SEAT_STATE.EMPTY,tpUser:n,extend:o,gameCrown:cc.Node,lastStakeBar:cc.Node,objGiftSender:cc.Node,objGiftReceiver:cc.Node,objGiftContainer:cc.Node},initComplete:function(){this._super(),this.gameCrown.active=!1,this.extend=this.node.getComponent("NormalSeat"),this.extend||(this.extend=this.node.getComponent("CenterSeat")),this.extend.gameCore=this.gameCore,this.state==SEAT_STATE.EMPTY&&this.clearSeat()},updateBgState:function(){this.partner.shortBackground&&(this.partner.shortBackground.active=this.btnSitDown.node.active||this.btnInvite.node.active||this.lastStakeBar&&!this.lastStakeBar.active),this.partner.longBackground&&(this.partner.longBackground.active=this.lastStakeBar&&this.lastStakeBar.active),this.partner.shortBackground&&this.partner.shortBackground.active&&(this.btnSitDown.node.active||this.btnInvite.node.active?(this.partner.shortBackground.setPosition(0,0),this.partner.shortBackground.width=150,this.partner.shortBackground.height=180):(this.partner.shortBackground.setPosition(0,9),this.partner.shortBackground.width=170,this.partner.shortBackground.height=180))},updateSitdownBtnActive:function(e){this.btnSitDown.node.active=e,this.updateBgState()},updateGiftBtnActive:function(e){this.btnGift.node.active=e,this.index>0&&(this.partner.lblName.node.x=e?this.index<=3?-13:13:0)},clearSeat:function(){this.nSortCard=0,this.gameCrown.active=!1,this.cardBar.node.active=!1,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.updateGiftBtnActive(!1),this.imgBanker.node.active=!1,this.partner.onUserStandUp(),this.partner.playerId=this.playerId,this.updateSitdownBtnActive(!0),this.state=SEAT_STATE.EMPTY,this.cardBar.onRoundReady(this.seatId),this.extend=this.node.getComponent("NormalSeat"),this.extend||(this.extend=this.node.getComponent("CenterSeat")),this.extend.clearSeat()},updateGameCrown:function(){var e=ITeenPatti.getCurRoom();e&&e.isTournament||this.tpUser&&(this.gameCrown.active=this.curTable.isCurRoomWinBiggest(this.tpUser.strTPID))},getDisplayName:function(){return this.partner.getDisplayName()},isUserAnte:function(){return!this.tpUser||this.state==SEAT_STATE.ANTE},isUserAlive:function(){return!1},isUserSorted:function(){return!this.tpUser||this.nSortCard>2},setBanker:function(e){this.imgBanker.node.active=this.tpUser&&e},getSortPos:function(e){return this.cardBar.getCardPos(e)},sortCard:function(e){this.tpUser&&(this.nSortCard=e,this.cardBar.node.active=!0,this.cardBar.sortCard(e),this.state=this.nSortCard>2?SEAT_STATE.ALIVE:SEAT_STATE.SORT)},onUserSitDown:function(e){e&&(LogUtil.debug(c,"Seat : "+this.seatId+" Sit Down "),this.tpUser=e,this.state=SEAT_STATE.WAIT,this.cdTimeBar.getComponent("CDTimeBar").isMe=this.tpUser.strTPID==this.gameCore.userMng.myself.strTPID,this.updateGiftBtnActive(!0),this.updateSitdownBtnActive(!1),this.node.scaleX=1,this.node.scaleY=1,this.partner.onUserSitDown(e),this.extend.onUserSitDown(e))},onUserStandUp:function(){LogUtil.debug(c,"Seat : "+this.seatId+" Stand Up "),this.tpUser=null,this.state=SEAT_STATE.EMPTY,this.gameCrown.active=!1,this.cardBar.node.active=!1,this.updateGiftBtnActive(!1),this.updateSitdownBtnActive(!0),this.btnSitDown.interactable=!1,this.imgBanker.node.active=!1,this._super(),this.extend=this.node.getComponent("NormalSeat"),this.extend||(this.extend=this.node.getComponent("CenterSeat")),this.partner.onUserStandUp(),this.extend.onUserStandUp();var e=0==this.seatId?this.partner.node:this.node;e.stopAllActions(),e.scaleX=1,e.scaleY=1},onOtherSitDown:function(){if(this.updateGiftBtnActive(this.tpUser&&!this.objGift&&ITeenPatti.getCurPlayer().role&&!ITeenPatti.getCurPlayer().role.isWatcher()),!this.tpUser){var e=!ITeenPatti.getMySelfRole().isWatcher();this.updateSitdownBtnActive(!e),this.btnSitDown.interactable=!1,this.extend.onOtherSitDown()}},onOtherStandUp:function(){this.updateGiftBtnActive(this.tpUser&&!this.objGift&&ITeenPatti.getCurPlayer().role&&!ITeenPatti.getCurPlayer().role.isWatcher()),this.seatId>0&&this.tpUser||(0!=this.seatId||this.tpUser)&&this.extend.onOtherStandUp()},onOtherUpdate:function(){this.tpUser&&this.extend.onOtherUpdate()},onUserUpdate:function(e,t){this.tpUser&&this.extend.onUserUpdate(e,t)},onUserAnteStake:function(){},onUserSortCard:function(e){this.state=SEAT_STATE.DEAL,this.hFinishCb=e,this.onAnimSortFinish(this.nSortCard+1)},onUserBet:function(e,t){this.tpUser&&this.state!=SEAT_STATE.SIDE_WIN&&(this.cdTimeBar.getComponent("CDTimeBar").hide(),this.extend.onUserBet(e,t))},onUserSee:function(e,t){this.tpUser&&(0==this.seatId&&this.tpUser.role.arrCard.length<1||this.state!=SEAT_STATE.WIN&&(LogUtil.debug(c,this.tpUser.role),LogUtil.debug(c,"Seat : "+this.seatId+" See "),this.cardBar.node.active=!0,this.cardBar.onUserAlive(),0!=this.seatId||"see"!=e&&e!=r.SERVER_CMD_TOUR_SEE||this.cardBar.onUserSee(this.tpUser),this.extend.onUserSee()))},onUserPack:function(){this.tpUser&&(this.state==SEAT_STATE.ALIVE&&(LogUtil.debug(c,"Seat : "+this.seatId+" Pack "),LogUtil.debug(c,this.tpUser.role),this.state=SEAT_STATE.PACK,this.cardBar.onUserPack(),this.seatId>0&&(this.cardBar.node.active=!1),this.cdTimeBar.getComponent("CDTimeBar").hide(),this.partner.onUserPack(),this.extend.onUserPack(),(this.seatId,this.node).runAction(cc.scaleTo(.5,.9))))},onUserSide:function(){this.tpUser&&(LogUtil.debug(c,"Seat : "+this.seatId+" Side "),this.partner.onUserSide(),this.extend.onUserSide())},onUserShow:function(){this.tpUser&&(this.cardBar.onUserShow(this.tpUser),this.extend.onUserShow())},onUserSideFinish:function(){this.tpUser&&this.partner.onUserSideFinish()},onUserSidePack:function(){this.onUserPack()},onUserSideWin:function(){this.tpUser&&(ITeenPatti.getCurPlayer().role.playerId!=ITeenPatti.getCurTable().arrWinerID[0]&&ITeenPatti.getCurPlayer().role.playerId!=ITeenPatti.getCurTable().arrLoserID[0]||(this.state=SEAT_STATE.SIDE_WIN,this.cardBar.onUserWin(this.tpUser),this.extend.onUserSideWin()))},onUserSideLose:function(){if(this.tpUser){this.partner.onUserSideLose(),this.extend.onUserSideLose(),this.cdTimeBar.getComponent("CDTimeBar").hide(),(0==this.seatId?this.partner.node:this.node).runAction(cc.scaleTo(.5,.9)),this.cardBar.onUserSideLose(this.tpUser),this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){})))}},onUserWin:function(){this.tpUser&&this.state!=SEAT_STATE.WIN&&(LogUtil.debug(c,"Seat : "+this.seatId+" Win "),LogUtil.debug(c,this.tpUser.role),this.state=SEAT_STATE.WIN,this.cardBar.onUserWin(this.tpUser),this.partner.onUserWin(),this.extend.onUserWin())},onUserLose:function(){this.tpUser&&(LogUtil.debug(c,"Seat : "+this.seatId+" Lose "),LogUtil.debug(c,this.tpUser.role),this.partner.onUserLose(),this.cardBar.onUserLose(this.tpUser),this.extend.onUserLose())},onUserAwards:function(){this.tpUser&&this.extend.onUserAwards()},onUserActive:function(){if(this.tpUser){this.tpUser.strTPID==this.gameCore.userMng.myself.strTPID&&(this.gameCore.gameMng.playAudioEffect("myturn"),this.gameCore.gameMng.vibrate());var e=ITeenPatti.getCurTable().cdStart,t=ITeenPatti.getCurTable().cdTime;this.cdTimeBar.active=!0,this.cdTimeBar.getComponent("CDTimeBar").startCountDown(e,t),this.partner.onUserActive(),this.extend.onUserActive(),this.cardBar.node.active=!0,this.tpUser.role.isAlivePartner()&&(this.cardBar.getComponent("CardBar").onUserAlive(),LogUtil.info(c,"--------------- onUserAlive ----------------- "+this.tpUser.role.playerId))}},onUserSilent:function(){this.cdTimeBar.getComponent("CDTimeBar").hide(),this.partner.onUserSilent(),this.extend.onUserSilent(),this.tpUser&&this.tpUser.role.isAlivePartner()&&ITeenPatti.getCurTable().isRoundPartner(this.tpUser.userId)&&(this.cardBar.node.active=!0,this.cardBar.onUserAlive(),LogUtil.info(c,"--------------- onUserSilent ----------------- "+this.tpUser.role.playerId))},onRoundReady:function(){this.tpUser&&(this.nSortCard=0,this.cardBar.onRoundReady(this.seatId),this.imgBanker.node.active=!1,this.partner.onRoundReady(),this.extend.onRoundReady(),this.node.scaleX=1,this.node.scaleY=1)},onRoundStart:function(e){this.tpUser&&(this.setBanker(ITeenPatti.getCurTable().bankerID==this.playerId),this.state=SEAT_STATE.ANTE)},onRoundRunning:function(){if(this.tpUser){var e=ITeenPatti.getCurTable();this.cardBar.node.active=e.isRoundPartner(this.tpUser.strTPID),this.cardBar.onUserRefresh(this.tpUser)}},onRoundRefresh:function(){if(this.tpUser){var e=ITeenPatti.getCurTable();this.node.scaleX=1,this.node.scaleY=1,e.contrller.state==UI_TABLE_STATE.RUNNING&&(this.partner.onUserRefresh(),this.extend.onUserRefresh(),this.cardBar.node.active=e.contrller.state==UI_TABLE_STATE.RUNNING&&e.isRoundPartner(this.tpUser.strTPID),this.cardBar.onRoundRefresh(this.tpUser),this.state=this.cardBar.node.active?SEAT_STATE.ALIVE:this.state,7==this.tpUser.role.refreshstate&&(this.state=SEAT_STATE.ALIVE))}},onUserRefresh:function(){if(this.tpUser){ITeenPatti.getCurTable();this.partner.onUserRefresh(),this.extend.onUserRefresh(),this.cardBar.onUserRefresh(this.tpUser)}},onRoundOver:function(){this.tpUser&&(this.nSortCard=0,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.state=SEAT_STATE.WAIT,this.extend.onRoundOver(),this.partner.onRoundOver())},onRoundFinish:function(){this.tpUser&&this.extend.onRoundFinish()},getGiftPostion:function(){return this.partner.node.convertToWorldSpaceAR(this.btnGift.node.getPosition())},getGiftSendPostion:function(e,t){return this.partner.node.convertToWorldSpaceAR(this.objGiftSender.getPosition())},getGiftReceivePostion:function(e,t){return 12==t||15==t||23==t?this.partner.node.convertToWorldSpaceAR(cc.v2(0,0)):25==t||27==t?this.partner.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(30,30))):19==t?0==this.seatId?this.partner.node.convertToWorldSpaceAR(cc.v2(-60,-45)):this.partner.node.convertToWorldSpaceAR(cc.v2(-70,-40)):20==t?0==this.seatId?this.partner.node.convertToWorldSpaceAR(cc.v2(7,-5)):this.partner.node.convertToWorldSpaceAR(cc.v2(0,8)):this.partner.node.convertToWorldSpaceAR(this.btnGift.node.getPosition())},onAnimBetFinish:function(){this.hFinishCb&&this.hFinishCb(this.seatId),this.hFinishCb=null},onAnimSortFinish:function(e){this.nSortCard+=1,this.cardBar.onDealCard(),this.nSortCard<3||(this.state=SEAT_STATE.ALIVE,this.cardBar.onDealFinish(),this.hFinishCb&&this.hFinishCb(this.seatId),this.hFinishCb=null)},onAnimGiftRemove:function(){}}),cc._RF.pop()},{CardBar:"CardBar",Command:"Command",GameBaseSeat:"GameBaseSeat",PattiPlayerView:"PattiPlayerView",SeatExtend:"SeatExtend",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],BaseTableController:[function(e,t,i){"use strict";cc._RF.push(t,"ec890r6aXtLx42LWlyXeNpq","BaseTableController");var n=e("Command"),a=e("GameData"),o=e("BaseComponent");cc.Class({extends:o,properties:{arrPfbGift:[cc.Prefab]},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(n.SERVER_CMD_SEND_GIFT,this,this.onUserSendGift)},getSeatWithUserId:function(e){for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.tpUser.userId==e)return i}return null},giftScale:function(e,t){return 0!=e?.855:.94},onUserSendGift:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=t.gift_id;if(16!=i&&!(i>a.giftCount)){var n=t.send_id,o=t.accept_id,s=!0,r=this.getSeatWithUserId(n,!0);if(r)for(var l in o)if(o.hasOwnProperty(l)){var c=""+o[l],h=this.getSeatWithUserId(c);if(h){for(var u=[],d=this.gameCore.gameMng.getGiftSendCount(i),m=0;m<d;m++){var g=cc.instantiate(this.arrPfbGift[i-1]);g&&(g.scale=this.giftScale(h.seatId,i),g.getComponent("ReceiveGift").setGiftID(i),g.getComponent("ReceiveGift").setSenderSeat(r),g.getComponent("ReceiveGift").setReceiverSeat(h),g.getComponent("ReceiveGift").setSoundEnable(s),this.node.addChild(g),u.push(g))}h.onGiftAccept(u),s=!1}}}}},onDestroy:function(){}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",GameData:"GameData"}],BaseTable:[function(e,t,i){"use strict";cc._RF.push(t,"12e74sdOd1FYo/n71u/9aUA","BaseTable");var n=e("TeenPattiUser"),a=e("TeenPattiRoler"),o=e("TeenPattiTourRoler"),s=(e("AemobileConfig"),e("Command")),r=(e("ISmartFox"),e("BaseRoom"),"BaseTable");cc.Class({name:"BaseTable",properties:{room:null,tableId:0,state:{get:function(){return this._state},set:function(e){this._state=e}},dealerID:1,roundID:0,bankerID:0,startID:0,arrComCardID:[],lastID:0,nextID:0,cdTime:0,cdStart:0,sshowID:0,arrWinerID:[cc.Integer],arrLoserID:[cc.Integer],bPotLimit:!1,curRoundExp:0,curUserLevel:0,curUserBonus:0,curLevelUpBonus:0,nextLevel:0,nextLevelBonus:0,poolAmount:0,arrAwardID:[cc.Integer],awardAmount:0,arrUser:[n],arrRoundPartner:[n],arrHandler:{default:{}},roundCount:0,maxRound:0,myLoopNum:0,isTableFull:{get:function(){return 5==this.getSitUserCount()}}},ctor:function(){this.state=TABLE_STATE.INVALID},initCallback:function(){this.arrHandler={},this.arrHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrHandler.jis=handler(this,this.onRoomRefresh),this.arrHandler.UserEnterRoom=handler(this,this.onUserEnterRoom),this.arrHandler.UserExitRoom=handler(this,this.onUserExitRoom),this.arrHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrHandler.UserSitDown=handler(this,this.onUserSitDown),this.arrHandler.UserUpdate=handler(this,this.onUserUpdate),this.arrHandler[s.SERVER_CMD_UPDATE_BONUS]=handler(this,this.onUserLevelUp),this.arrHandler.finish=handler(this,this.onRoundFinish),this.room.isTournament?(this.arrHandler[s.SERVER_CMD_TOUR_START_TIME]=handler(this,this.onRoundReady),this.arrHandler[s.SERVER_CMD_TOUR_START]=handler(this,this.onRoundStart),this.arrHandler[s.SERVER_CMD_TOUR_NEXT]=handler(this,this.onRoundNext),this.arrHandler[s.SERVER_CMD_TOUR_SIDE_SHOW]=handler(this,this.onRoundSideShow),this.arrHandler[s.SERVER_CMD_TOUR_CPOOL]=handler(this,this.onRoundAwards),this.arrHandler[s.SERVER_CMD_TOUR_GAMBLE]=handler(this,this.onUserAction),this.arrHandler[s.SERVER_CMD_TOUR_SEE]=handler(this,this.onUserSee),this.arrHandler[s.SERVER_CMD_TOUR_SHOW]=handler(this,this.onUserShow)):(this.arrHandler.starttime=handler(this,this.onRoundReady),this.arrHandler.start=handler(this,this.onRoundStart),this.arrHandler.next=handler(this,this.onRoundNext),this.arrHandler.sideshow=handler(this,this.onRoundSideShow),this.arrHandler.cpool=handler(this,this.onRoundAwards),this.arrHandler.gamble=handler(this,this.onUserAction),this.arrHandler.see=handler(this,this.onUserSee),this.arrHandler.show=handler(this,this.onUserShow))},getRoler:function(e){return this.room&&this.room.isTournament?new o(e):new a(e)},getUserList:function(){return this.arrUser},getUserWithPlayerID:function(e){for(var t=0;t<this.arrUser.length;t++){var i=this.arrUser[t];if(e==i.role.playerId)return i}return null},getUserWithUserID:function(e){for(var t=0;t<this.arrUser.length;t++){var i=this.arrUser[t];if(e==i.userId)return i}return null},getBeginPlayerID:function(){var e=ITeenPatti.getCurPlayer().role.playerId;if(null!=e&&e>0)return e;for(var t=[!1,!1,!1,!1,!1,!1],i=0;i<this.arrUser.length;i++){var n=this.arrUser[i].role.playerId;null!=n&&n>0&&(t[n]=!0)}for(i=1;i<t.length;i++)if(!t[i])return i;return 1},getEarlyHandOfSelf:function(){var e=ITeenPatti.getCurPlayer();if(!e||!e.role)return null;var t=e.role.playerId;if(null==t||t<1)return null;for(var i=t+5;i>t;i--){var n=i-1>5?i-1-5:i-1,a=this.getUserWithPlayerID(n);if(null!=a&&a.role&&a.role.isAlivePartner&&a.role.isAlivePartner())return a}return null},getEarlyHandOfPlayer:function(e){for(var t=e-1;t>0;t--){if(null!=(i=this.getUserWithPlayerID(t))&&i.role&&i.role.isAlivePartner())return i}for(t=5;t>e;t--){var i;if(null!=(i=this.getUserWithPlayerID(t))&&i.role&&i.role.isAlivePartner())return i}return null},getSitUserCount:function(){for(var e=0,t=0;t<this.arrUser.length;t++)this.arrUser[t].role.playerId>0&&(e+=1);return e},getAliveUserCount:function(){for(var e=0,t=0;t<this.arrRoundPartner.length;t++)this.arrRoundPartner[t]&&this.arrRoundPartner[t].role.isAlivePartner()&&(e+=1);return e},getAliveUserCountWithTourChips:function(){for(var e=0,t=0;t<this.arrRoundPartner.length;t++)this.arrRoundPartner[t]&&this.arrRoundPartner[t].role.isAlivePartner()&&this.arrRoundPartner[t].tpProfile.tournamentChips>0&&(e+=1);return e},isRoundPartner:function(e){if(!this.arrRoundPartner)return!1;for(var t=0;t<this.arrRoundPartner.length;t++)if(this.arrRoundPartner[t]&&this.arrRoundPartner[t].userId==e)return!0;return!1},isRoundOver:function(){return this.state!=TABLE_STATE.RUNNING},isRoundWinner:function(e){for(var t=0;t<this.arrAwardID.length;t++)if(this.arrAwardID[t]==e)return!0;return!1},isCurRoomWinBiggest:function(e){var t=!1,i=Number.NEGATIVE_INFINITY,n=this.arrUser.concat();n.sort(function(e,t){return e.role.playerId-t.role.playerId});var a=!1;ITeenPatti.gameCore&&ITeenPatti.gameCore.uiMng&&ITeenPatti.gameCore.uiMng.isInGoldScene&&(a=!0);for(var o=0;o<n.length;o++){var s=n[o],l=a?s.curRoomWinGold:s.curRoomWinChips;l>i&&s.role.playerId>0&&(i=l,t=s.strTPID==e)}return LogUtil.debug(r,"userId:"+e+" isWinBiggest:"+t),t},getPartnerIDList:function(){for(var e=[],t=this.bankerID<5?this.bankerID+1:1,i=t;i<t+5;i++)for(var n=i>5?i-5:i,a=0;a<this.arrRoundPartner.length;a++)if(this.arrRoundPartner[a]&&this.arrRoundPartner[a].role.playerId==n){e.push(n);break}return e},onMsgReceived:function(e,t){if(!(TEST_SINGLE&&this.roundCount>this.maxRound)){var i=this.arrHandler[e];i&&i(e,t);var n=ITeenPatti.getCurPlayer();if(n){n.role&&n.role.onMsgReceived(e,t);for(var a=0;a<this.arrUser.length;a++){var o=this.arrUser[a];o.role.onMsgReceived(e,t),o.tpProfile.onMsgReceived(e,t)}}}},onRoomJoin:function(e,t){this.arrRoundPartner=[],this.tableId=t.room.id;var i=ITeenPatti.getCurRoomSFSUserList();LogUtil.debug(r,i);for(var a=ITeenPatti.getCurPlayer(),o=0;o<i.length;o++){var s=i[o],l=new n;l.initWithSFSPlayer(s),l.setRole(this.getRoler(s)),this.arrUser[this.arrUser.length]=l,a.userId==l.userId&&a.setRole(l.role)}},onRoomUpdate:function(e,t){t.room;this.poolAmount=t.room.variables.po?t.room.variables.po:0},onRoomHasStart:function(e,t){for(var i in this.state=TABLE_STATE.RUNNING,this.bankerID=t.bankerId,this.nextID=t.nextId,this.cdStart=(new Date).getTime(),this.cdTime=33,this.arrRoundPartner=[],t.playIds)if(t.playIds.hasOwnProperty(i)){var n=this.getUserWithPlayerID(t.playIds[i]);if(!n)continue;this.arrRoundPartner.push(n),n.role.onRoundStart(e,t)}},onRoomRefresh:function(e,t){var i=this.room&&this.room.isTournament;switch(this.bankerID=t.bankerId,this.nextID=t.nextId,this.lastID=t.lastId,this.sshowID=-1,this.cdStart=(new Date).getTime()+1e3*t.delay-(i?15e3:3e4),this.cdTime=t.delay,this.arrComCardID=null!=t.commoncard&&t.commoncard>-1?[t.commoncard]:[],t.status){case 0:this.state=TABLE_STATE.WAIT;break;case 1:this.state=TABLE_STATE.READY,this.cdTime=5;break;case 2:this.state=TABLE_STATE.START;break;case 3:case 4:this.state=TABLE_STATE.RUNNING,this.cdTime=i?15:30;break;case 5:this.state=TABLE_STATE.FINISH}this.arrUser=[];for(var a=ITeenPatti.getCurRoomSFSUserList(),o=0;o<a.length;o++){var s=a[o];(c=new n).initWithSFSPlayer(s),c.setRole(this.getRoler(s)),this.arrUser[this.arrUser.length]=c}for(var l in this.arrRoundPartner=[],t.playIds){(c=this.getUserWithPlayerID(t.playIds[l]))&&this.arrRoundPartner.push(c)}for(var l in t.userstatus){(c=this.getUserWithPlayerID(l))&&(c.role.state=t.userstatus[l]),c&&(c.role.refreshstate=t.userstatus[l]),c&&(c.role.lastBetStake=t.lastbet[l])}if(this.state!=TABLE_STATE.WAIT&&this.state!=TABLE_STATE.READY)for(var l in t.user_cards){var c,h=t.user_cards[l];(c=this.getUserWithPlayerID(h.id))&&c.role.setUserCard(h)}this.sshowID=-1,3==t.lastOpe&&(this.sshowID=t.lastId,this.ssideID=t.sideshowed,this.cdStart=(new Date).getTime()+1e3*t.sideshowdelay-8e3,t.sideshowed==ITeenPatti.getCurPlayer().role.playerId&&ITeenPatti.onMsgReceived("sideshow",{i:this.sshowID})),LogUtil.info(r,"Table Info:---------------------------"),LogUtil.info(r,"Self: ID: "+ITeenPatti.getCurPlayer().role.playerId+" Name: "+ITeenPatti.getCurPlayer().strTPName),LogUtil.info(r,"User: 1    2    3    4    5");for(var u="Name: ",d=1;d<6;d++){for(var m="    ",g=0;g<a.length;g++){d==(s=a[g]).playerId&&(m=void 0!==s.variables.n?s.variables.n.value:"",m=(m+="     ").substring(0,4))}u+=m+" "}LogUtil.info(r,u),LogUtil.info(r,"Table Info:---------------------------")},onUserEnterRoom:function(e,t){var i=new n;i.initWithSFSPlayer(t.user);for(var a=0;a<this.arrUser.length;a++)if(this.arrUser[a].userId==i.userId)return(i=this.arrUser[a]).initWithSFSPlayer(t.user),void i.setRole(this.getRoler(t.user));i.initWithSFSPlayer(t.user),i.setRole(this.getRoler(t.user)),this.arrUser[this.arrUser.length]=i},onUserExitRoom:function(e,t){for(var i=t.user.name,n=this.arrRoundPartner.length-1;n>=0;n--){var a=this.arrRoundPartner[n];a||this.arrRoundPartner.splice(n,1),a&&i==a.userId&&this.arrRoundPartner.splice(n,1)}for(n=this.arrUser.length-1;n>=0;n--){var o=this.arrUser[n];if(o||this.arrRoundPartner.splice(n,1),o&&i==o.userId)return void this.arrUser.splice(n,1)}},onUserStandUp:function(e,t){for(var i=t.user.name,n=this.arrRoundPartner.length-1;n>=0;n--){var a=this.arrRoundPartner[n];if(a||this.arrRoundPartner.splice(n,1),a&&i==a.userId)return void this.arrRoundPartner.splice(n,1)}},onUserSitDown:function(e,t){},onUserUpdate:function(e,t){var i=t.user.name,n=this.getUserWithUserID(i);n&&n.onMsgReceived(e,t)},onUserLevelUp:function(e,t){this.curLevelUpBonus=t.i,ITeenPatti.getCurPlayer().role.onUserLevelUp(e,t)},onRoundReady:function(e,t){this.state=TABLE_STATE.READY,this.roundID+=1,this.bankerID=-1,this.lastID=0,this.cdTime=t.i,this.cdStart=(new Date).getTime(),this.poolAmount=0,this.arrAwardID=[],this.arrWinerID=[],this.arrLoserID=[],this.awardAmount=[],this.arrRoundPartner=[],this.arrComCardID=[],this.bIsUserPack=!1;for(var i=this.arrUser.length-1;i>=0;i--){var n=this.arrUser[i];n.role.playerId>0&&n.role.onRoundReady(e,t)}ITeenPatti.getCurPlayer().role.onRoundReady(e,t)},onRoundStart:function(e,t){this.state=TABLE_STATE.START,this.bankerID=t.bankerId,this.startID=t.startId,this.bIsUserPack=!1,this.cdTime=0,this.myLoopNum=0,this.arrComCardID=null!=t.commonCard&&t.commonCard>-1?[t.commonCard]:[];for(var i=this.arrUser.length-1;i>=0;i--){var n=this.arrUser[i];n.role.playerId>0&&n.role.onRoundStart(e,t)}ITeenPatti.getCurPlayer().role.playerId>0&&ITeenPatti.getCurPlayer().role.onRoundStart(e,t),cc.sys.isBrowser&&console.log(this.arrRoundPartner)},onRoundNext:function(e,t){this.state=TABLE_STATE.RUNNING,this.sshowID=-1,this.lastID=this.nextID,this.nextID=t.next_id,this.cdTime=t.wait_time,this.cdStart=(new Date).getTime();var i=this.getUserWithPlayerID(this.nextID);i&&i.userId==ITeenPatti.getCurPlayer().userId&&this.myLoopNum++;for(var n=this.arrUser.length-1;n>=0;n--){var a=this.arrUser[n];a.role.playerId>0&&a.role.onRoundNext(e,t)}},onRoundSideShow:function(e,t){var i=this.getEarlyHandOfPlayer(ITeenPatti.getCurPlayer().role.playerId),n=this.getEarlyHandOfPlayer(i);n&&(this.sshowID=n.role.playerId),this.cdStart=(new Date).getTime()},onRoundAwards:function(e,t){this.state=TABLE_STATE.OVER,this.nextID=0,this.arrAwardID=[];var i={};for(var n in t.playerId)t.num instanceof Object?i[t.playerId[n]]=t.num[n]:i[t.playerId[n]]=t.num;for(var n in this.awardAmount=i,this.bIsUserPack=this.arrWinerID.length<1,t.playerId)if(t.playerId.hasOwnProperty(n)){var a=t.playerId[n];this.arrAwardID.push(a),this.bIsUserPack&&this.arrWinerID.push(a)}for(var o=this.arrUser.length-1;o>=0;o--){var s=this.arrUser[o];s.role.playerId>0&&s.role.onRoundAwards(e,t)}ITeenPatti.getCurPlayer().role.onRoundAwards(e,t)},onRoundFinish:function(e,t){this.state=TABLE_STATE.FINISH,this.curRoundExp=t.exp,this.curUserLevel=t.expbar.level,null!=t.expbar.levelbonus&&(this.nextLevel=t.expbar.levelbonus.level,this.nextLevelBonus=t.expbar.levelbonus.bonus),this.roundCount+=1,this.nextID=0,this.lastID=0,this.arrComCardID=[];for(var i=this.arrUser.length-1;i>=0;i--){var n=this.arrUser[i];n.role.playerId>0&&n.role.onRoundFinish(e,t)}ITeenPatti.getCurPlayer().role.onRoundFinish(e,t)},clearWinerLoserID:function(){this.arrWinerID=[],this.arrLoserID=[]},onUserShow:function(e,t){for(var i in this.bPotLimit=!!t.is_limit&&t.is_limit,this.arrWinerID=[],t.win_id)t.win_id.hasOwnProperty(i)&&this.arrWinerID.push(t.win_id[i]);for(var i in this.arrLoserID=[],t.looser_id)t.looser_id.hasOwnProperty(i)&&this.arrLoserID.push(t.looser_id[i]);for(var n=[],a=0;a<this.arrRoundPartner.length;a++){(o=this.arrRoundPartner[a])&&o.role.isAlivePartner()&&n.push(o.role.playerId)}for(var i in t.user_cards)if(t.user_cards.hasOwnProperty(i)){var o,s=t.user_cards[i];(o=this.getUserWithPlayerID(s.id))&&o.role.setUserCard(s);for(a=0;a<n.length;a++)if(s.id==n[a]){n.splice(a,1);break}}n.length<1&&(this.state=TABLE_STATE.OVER)},onUserSee:function(e,t){var i=this.getUserWithPlayerID(t.id);i&&(i.userId==ITeenPatti.getCurPlayer().userId&&ITeenPatti.getCurPlayer().role.onUserSee(e,t),i.role.onUserSee(e,t))},onUserAction:function(e,t){var i=this.getUserWithPlayerID(t.playerId);if(i&&ITeenPatti.getCurPlayer())if(i.userId==ITeenPatti.getCurPlayer().userId&&ITeenPatti.getCurPlayer().role.onUserAction(e,t),i.role.onUserAction(e,t),t.action==USER_ACTION.INIT_BET){this.arrRoundPartner=this.arrRoundPartner||[];for(var n=0;n<this.arrRoundPartner.length;n++)if(this.arrRoundPartner[n].userId==i.userId)return;this.arrRoundPartner.push(i)}else t.action==USER_ACTION.SIDE_SHOW?this.sshowID=t.playerId:(t.action,USER_ACTION.SHOW);else LogUtil.err("BaseTable","Server Data Error, Cannot find the bet user!")}});cc._RF.pop()},{AemobileConfig:"AemobileConfig",BaseRoom:"BaseRoom",Command:"Command",ISmartFox:"ISmartFox",TeenPattiRoler:"TeenPattiRoler",TeenPattiTourRoler:"TeenPattiTourRoler",TeenPattiUser:"TeenPattiUser"}],BaseUIGold:[function(e,t,i){"use strict";cc._RF.push(t,"629f8YziQ1IdKYmsxED70dy","BaseUIGold");var n=e("BaseUI");cc.Class({extends:n,properties:{goldIconSF:cc.SpriteFrame,currencyIcons:[cc.Sprite]},myBalance:function(){return this.gameCore.uiMng.isInGoldScene?this.gameCore.userMng.myself.nGold:this.gameCore.userMng.myself.nChips},initComplete:function(){this._super(),this.updateGoldFeature()},updateGoldFeature:function(){if(this.gameCore.uiMng.isInGoldScene)for(var e=0;e<this.currencyIcons.length;e++)this.currencyIcons[e].spriteFrame=this.goldIconSF}}),cc._RF.pop()},{BaseUI:"BaseUI"}],BaseUI:[function(e,t,i){"use strict";cc._RF.push(t,"a2f8eZcEa9C2KWODLZx7X7f","BaseUI");var n=e("UIInfo"),a=e("RootComponent"),o=e("DataAnalysisKey");cc.Class({extends:a,properties:{blackBg:cc.Node,popupBg:cc.Node,autoDispose:{default:!0,visible:!1},isLoaded:{default:!1,visible:!1},isTopest:{default:!1,visible:!1},canClose:{default:!0,visible:!1},canCloseWhileChangeScene:{default:!0,visible:!1},shouldReaddAfterChangeScene:{default:!0,visible:!1},isClosed:{default:!1,visible:!1},recoverStates:{default:null,visible:!1},uiKey:{default:null,visible:!1},gameCore:{set:function(e){this._gameCore=e,this.gameCoreSetComplete()},get:function(){return this._gameCore},visible:!1}},onLoad:function(){if(this.isLoaded=!0,this.nodeOriPos=this.node?this.node.getPosition():{x:0,y:0},null!=this.blackBg&&(this.blackBg.width=1500,this.blackBg.on(cc.Node.EventType.TOUCH_END,this.onBlackBgTouchEnd,this),cc.sys.isBrowser&&(this.blackBg.on(cc.Node.EventType.MOUSE_ENTER,this.onBlackBgMouseEnter,this),this.blackBg.on(cc.Node.EventType.MOUSE_MOVE,this.nodeStopPropagation,this))),null!=this.popupBg&&(this.popupBg.on(cc.Node.EventType.TOUCH_END,this.onPopupBgTouchEnd,this),cc.sys.isBrowser&&(this.popupBg.on(cc.Node.EventType.MOUSE_ENTER,this.onPopupBgMouseEnter,this),this.popupBg.on(cc.Node.EventType.MOUSE_MOVE,this.nodeStopPropagation,this))),cc.sys.isBrowser&&this.node)for(var e=this.node.getComponentsInChildren(cc.ScrollView),t=0;t<e.length;t++)e[t].node.on(cc.Node.EventType.MOUSE_MOVE,this.nodeStopPropagation,this);cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this._judgeInit()},gameCoreSetComplete:function(){this._super(),this.playUIOpenAudioEffect(),this._judgeInit()},playUIOpenAudioEffect:function(){this.gameCore.gameMng.playAudioEffect("popup")},playUICloseAudioEffect:function(){this.gameCore.gameMng.playAudioEffect("popup")},_judgeInit:function(){this.isLoaded&&this.gameCore&&this.initComplete()},initComplete:function(){this.i18nFontUpdate(),this.gameCore.uiMng.uiLoaded(this),this.initListener()},initListener:function(){},onDestroy:function(){this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.uiRemoved(this)},noStatesRecover:function(){},statesRecover:function(e){this.recoverStates=e,this.schedule(this.statesRecoverUpdate,0,cc.macro.REPEAT_FOREVER)},statesRecoverUpdate:function(){this.unschedule(this.statesRecoverUpdate)},statesPersistence:function(){return null},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.back:case cc.macro.KEY.escape:var i=e("BaseScene");this.gameCore&&(this.isTopest||this instanceof i)&&this.gameCore.uiMng.canCloseUI&&this.onBackButtonClk()}},onBackButtonClk:function(){this.canClose&&this.closeUI()},onBlackBgMouseEnter:function(e){e.stopPropagation()},onPopupBgMouseEnter:function(e){e.stopPropagation()},onPopupBgTouchEnd:function(e){e.stopPropagation()},onBlackBgTouchEnd:function(e){e.stopPropagation(),this.canClose&&this.closeUIByBlackBg()},nodeStopPropagation:function(e){e.stopPropagation()},onCloseBtnClk:function(e){this.canClose&&this.closeUIByCloseBtn()},setInitData:function(e){},closeUIByBlackBg:function(){this.closeUI()},closeUIByCloseBtn:function(){this.closeUI()},closeUI:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._super(),this.isClosed=!0,this.unscheduleAllCallbacks(),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.sys.isBrowser&&(cc.game.canvas.style.cursor="default"),e&&this.playUICloseAudioEffect(),this.gameCore.uiMng.hideLoading(),this.gameCore.uiMng.uiRemoved(this),this.gameCore.uiMng.uiStatesPersistence(this),ITeenPatti.onMsgReceived("PopUpClose",{uiKey:this.uiKey,removeFromParent:t}),t&&this.node&&(this.node.removeFromParent(this.autoDispose),this.autoDispose&&this.node.destroy())},onSettingBtnClk:function(e){cc.sys.isBrowser?this.gameCore.uiMng.openUI(n.SETTING_FB):cc.sys.os==cc.sys.OS_IOS?this.gameCore.uiMng.openUI(n.SETTING_IOS):this.gameCore.uiMng.openUI(n.SETTING),this.gameCore.dataAnalysisMng.sendData(o.CLICK_SETTING_BUTTON)},onFriendsBtnClk:function(e){this.gameCore.uiMng.isInLobby?this.gameCore.dataAnalysisMng.sendData(o.OPEN_FRIENDS_LOBBY):this.gameCore.uiMng.isInGame&&this.gameCore.dataAnalysisMng.sendData(o.OPEN_FRIENDS_TABLE),this.gameCore.uiMng.openUI(n.FRIENDS)},onMessageBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(o.OPEN_INVITATIONLIST),this.gameCore.uiMng.openUI(n.INVITATION_MESSAGE)}}),cc._RF.pop()},{BaseScene:"BaseScene",DataAnalysisKey:"DataAnalysisKey",RootComponent:"RootComponent",UIInfo:"UIInfo"}],BetBootAction:[function(e,t,i){"use strict";cc._RF.push(t,"61484KU6TFHVZ+6YzqwRoiT","BetBootAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){LogUtil.debug("BetBootAction","Round Start Conllect Boot ");var t=0,i=(ITeenPatti.getCurTable(),ITeenPatti.getCurTable().contrller),n=ITeenPatti.getCurRoom().profile.nBootAmount;for(var a in this.objData.arrPartnerID){var o=i.getSeatWithPlayerId(this.objData.arrPartnerID[a]);o&&(t+=n,o.onUserBet(this.strCmd,this.objData),i.dealer.collectBoot(o.seatId,n,t))}var s=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){s.isValid&&ITeenPatti.onMsgReceived("startdeal",s.objData),e.onActionFinish(s),s.destroy()})))}}),cc._RF.pop()},{}],BlockConfirmPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"a7f18ELi+xEiaAtieGjs/+g","BlockConfirmPopUp");var n=e("BaseUI"),a=e("LanguageData"),o=e("DataAnalysisKey");cc.Class({extends:n,properties:{lblTitle:cc.Label,lblDesc:cc.Label,lblCancel:cc.Label,lblSure:cc.Label,strUserID:"",hBtnSureCb:null},onLoad:function(){this._super()},setUserInfo:function(e){this.strUserID=e;var t=ITeenPatti.getCurTable().getUserWithUserID(e);if(t){var i=t.getTeenPattiProfile().strTPName,n=ITeenPatti.getCurRoom().msgHistory;this.lblTitle.string=n.isBlocked(this.strUserID)?a.t("label_text.unblock")+" "+i:a.t("label_text.block")+" "+i,this.lblDesc.string=n.isBlocked(this.strUserID)?a.t("label_text.unblock_message",{name:i}):a.t("label_text.block_message",{name:i}),this.lblSure.string=n.isBlocked(this.strUserID)?a.t("label_text.unblock"):a.t("label_text.block")}},setSureCb:function(e){this.hBtnSureCb=e},onBtnSureClicked:function(e){var t=ITeenPatti.getCurRoom().msgHistory;this.gameCore.dataAnalysisMng.sendData(t.isBlocked(this.strUserID)?o.UNBLOCK_OTHERS:o.BLOCK_OTHERS,this.gameCore.dataAnalysisMng.gameBaseData),this.hBtnSureCb&&this.hBtnSureCb(this.strUserID),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],BoldLabel:[function(e,t,i){"use strict";cc._RF.push(t,"ad2fbpadtlBKZ+lYFdD52Ot","BoldLabel"),cc.Class({extends:cc.Label,properties:{},_initSgNode:function(){this._sgNode.enableBold(!0)}}),cc._RF.pop()},{}],Broke:[function(e,t,i){"use strict";cc._RF.push(t,"0c89f+pltNDe5FVSX4ecBwy","Broke");var n=e("GameUtils"),a=e("LanguageData"),o=e("ITeenPatti"),s=e("Command"),r=e("BaseUI");cc.Class({extends:r,properties:{contentLabel:cc.Label,prizeLabel:cc.Label,prize:{get:function(){return this._prize},set:function(e){this._prize=e,this.updateLabel()}}},onDestroy:function(){this.gameCore.gameMng.resumeChipsRefresh(),this._super()},updateLabel:function(){var e=n.formatNumberWithRules(this.prize,1e5);this.contentLabel.string=a.t("label_text.broke_tip",{chips:e}),this.prizeLabel.string=e},onCloseBtnClk:function(e){this.gameCore.uiMng.dispatch(s.UI_CMD_PAUSE_CHIPS_REFRESH),o.sendMsg(s.SERVER_CMD_ACCEPT_BROKEN,{i:this.prize}),this.gameCore.uiMng.addListener(s.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet)},onChipsGet:function(e){this.gameCore.uiMng.removeListener(s.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.uiMng.isInGame||this.gameCore.gameMng.playChipsFly(e,cc.v2(0,0),0),this.gameCore.uiMng.dispatch(s.UI_CMD_BROKE_REWARD_GOT),this.closeUI()},onBlackBgTouchEnd:function(e){e.stopPropagation()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData"}],ButtonAudio:[function(e,t,i){"use strict";cc._RF.push(t,"4390axJEn1Dc42D57TI8fAQ","ButtonAudio");var n=e("BaseComponent");cc.Class({extends:n,properties:{uncheckAudio:!1},onLoad:function(){this._super(),this.node.on(cc.Node.EventType.TOUCH_END,this.onButtonTouchEnd,this)},onButtonTouchEnd:function(){var e=this.node.getComponent(cc.Toggle);if(!e||!e.isChecked||this.uncheckAudio){var t=this.node.getComponent(cc.Button);t&&!t.interactable||this.gameCore.gameMng.playAudioEffect("popup")}}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],ButtonCursor:[function(e,t,i){"use strict";cc._RF.push(t,"95555YxuvZBH6qGD27tG3I/","ButtonCursor"),cc.Class({extends:cc.Component,properties:{ignoreToggle:!0,ignoreMouseUp:!1,ignoreButtonInteractable:!1,ignoreColorChange:!1,hoveredColor:new cc.Color(204,204,204),needChangeColorChildNodes:[cc.Node],hovered:{default:!1,visible:!1},originalColor:{default:new cc.Color(255,255,255),visible:!1}},onLoad:function(){if(cc.sys.isBrowser){if("closeBtn"==this.node.name){var e=this.node.getComponent(cc.Button);e&&e.target&&e.node.setContentSize(e.target.getContentSize())}this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this)}},onMouseEnter:function(e){var t=this.node.getComponent(cc.Toggle);if(!(t&&t.isChecked&&this.ignoreToggle)){var i=this.node.getComponent(cc.Button);if(!i||i.interactable||this.ignoreButtonInteractable){if(i&&!this.hovered&&(this.hovered=!0,!this.ignoreColorChange)){this.originalColor=i.target.color,i.target.color=this.hoveredColor;for(var n=0;n<this.needChangeColorChildNodes.length;n++)this.needChangeColorChildNodes[n]&&(this.needChangeColorChildNodes[n].color=this.hoveredColor)}cc.game.canvas.style.cursor="pointer",this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeaveUp,this),this.ignoreMouseUp||this.node.on(cc.Node.EventType.MOUSE_UP,this.onMouseLeaveUp,this)}}},onMouseLeaveUp:function(e){if(this.hovered){this.hovered=!1;var t=this.node.getComponent(cc.Button);if(t&&!this.ignoreColorChange){t.target.color=this.originalColor;for(var i=0;i<this.needChangeColorChildNodes.length;i++)this.needChangeColorChildNodes[i].color=this.originalColor}}cc.game.canvas.style.cursor="default",this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeaveUp,this),this.ignoreMouseUp||this.node.off(cc.Node.EventType.MOUSE_UP,this.onMouseLeaveUp,this)},start:function(){}}),cc._RF.pop()},{}],BuyIntoTablePopUp:[function(e,t,i){"use strict";cc._RF.push(t,"d736c6BEulIS6aIcUzoXhrj","BuyIntoTablePopUp");var n=e("BaseUIGold"),a=(e("UIInfo"),e("Command"),e("GameUtils"));e("DataAnalysisKey");cc.Class({extends:n,properties:{pnlMask:cc.Node,pnlPopUp:cc.Node,lblBanance:cc.Label,lblBlind:cc.Label,lblAmount:cc.Label,lblMin:cc.Label,lblMax:cc.Label,amountBar:cc.ProgressBar,amountSlider:cc.Slider,btnAuto:cc.Toggle},onLoad:function(){this._super();var e=this;this.pnlMask.active=!1,this.amountSlider.node.on("slide",function(t,i){e.onBarAmountSlide()})},initComplete:function(){this._super(),ITeenPatti.addListener("UserSitDown",this,this.onUserSitDown),ITeenPatti.addListener("pokerbuyin",this,this.onUserJoinError)},setInitData:function(e){this.playerId=e.playerId,this.minChips=e.minChips,this.maxBlind=2*e.blind,this.nAmount=Math.min(e.chips,10*e.minChips)-e.minChips,void 0===e.isAuto||e.isAuto?this.btnAuto.check():this.btnAuto.uncheck(),this.lblBanance.string=a.formatNumberWithRules(e.chips),this.lblBlind.string=a.formatNumberWithRules(e.blind)+"/"+a.formatNumberWithRules(2*e.blind),this.lblMin.string=a.formatNumberWithRules(e.minChips),this.lblMax.string=a.formatNumberWithRules(Math.min(e.chips,10*e.minChips));var t=e.chips>=2.5*this.minChips?1.5*this.minChips:0;this.amountBar.progress=this.amountSlider.progress=this.nAmount>0?t/this.nAmount:0,this.lblAmount.string=a.formatNumberWithRules(t+this.minChips)},onDestroy:function(){this._super(),ITeenPatti.removeListenerWithTarget(this)},onUserSitDown:function(e,t){t.user.isItMe&&this.closeUI()},onUserJoinError:function(e,t){"error"==t.cmd&&this.closeUI()},onBarAmountSlide:function(){this.amountBar.progress=this.amountSlider.progress;var e=Math.floor(this.nAmount*this.amountBar.progress);this.amountBar.progress<1&&(e=this.maxBlind*Math.floor(e/this.maxBlind)),this.lblAmount.string=a.formatNumberWithRules(e+this.minChips)},onBtnCancelClicked:function(e){this.onBlackBgTouchEnd(e)},onBtnAutoRebuyClk:function(e){ITeenPatti.getCurRoom()&&(ITeenPatti.getCurPlayer().role.isAuto=this.btnAuto.isChecked,ITeenPatti.sendMsg("pokersetrebuy",{i:this.btnAuto.isChecked}))},onBtnJoinClicked:function(e){if(ITeenPatti.getCurRoom()){this.pnlMask.active=!0,this.pnlPopUp.active=!1;var t=Math.floor(this.nAmount*this.amountBar.progress);this.amountBar.progress<1&&(t=this.maxBlind*Math.floor(t/this.maxBlind)),t+=this.minChips,ITeenPatti.sendMsg("pokerbuyin",{is:[t,this.playerId]})}}}),cc._RF.pop()},{BaseUIGold:"BaseUIGold",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",UIInfo:"UIInfo"}],CDTimeBar:[function(e,t,i){"use strict";cc._RF.push(t,"b67227DBkNP8KirphJIdLfY","CDTimeBar");var n=e("BaseComponent");cc.Class({extends:n,properties:{duration:1,startTime:0,isMe:!1,countDownAudioPlayed:!1,objProgressBar:cc.ProgressBar},onLoad:function(){this.objProgressBar=this.node.getComponent(cc.ProgressBar)},startCountDown:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.node.active=!0,this.startTime=e,this.duration=1e3*t,this.objProgressBar&&(this.objProgressBar.progress=i,this.objProgressBar.node.color=new cc.Color(255,230,0))},update:function(e){if(this.objProgressBar){var t=this.startTime+this.duration-(new Date).getTime();t=Math.max(0,t),this.isMe&&this.node.active&&t<=7e3&&!this.countDownAudioPlayed&&(this.countDownAudioPlayed=!0,this.gameCore&&(this.countdownAudioID=this.gameCore.gameMng.playAudioEffect("countdown")));var i=t/this.duration;this.objProgressBar.progress=1-i;var n=new cc.Color(0,255,0);i>.5?this.objProgressBar.barSprite.node.color=n:i>5/30?(n.setG(240*(i-5/30)/(10/30)),n.setR(240+15*(i-5/30)/(10/30)),this.objProgressBar.barSprite.node.color=n):this.objProgressBar.barSprite.node.color=new cc.Color(220,0,0)}},hide:function(){this.countDownAudioPlayed=!1,this.node.active=!1,this.gameCore&&this.gameCore.gameMng.stopAudioEffect(this.countdownAudioID)},onDestroy:function(){this.countdownAudioID&&this.gameCore&&this.gameCore.gameMng.stopAudioEffect(this.countdownAudioID)}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],CardBarTour:[function(e,t,i){"use strict";cc._RF.push(t,"98dfeiG/WNDDZl8+btHWIkc","CardBarTour");var n=e("CardBar");cc.Class({extends:n,properties:{},getRefreshAnimNamePrefix:function(){return"gstour_anim_seat_normal_card_bar_refresh"},getResetAnimNamePrefix:function(){return"gstour_anim_seat_normal_card_bar_reset"},getShowAnimNamePrefix:function(){return"gstour_anim_seat_normal_card_bar_show"},getShow1AnimNamePrefix:function(){return"gstour_anim_seat_normal_card_bar_show1"},getResetPos:function(){return[cc.v2(145,-53),cc.v2(103,-20),cc.v2(96,-20),cc.v2(96,-20),cc.v2(-96,-20),cc.v2(-96,-20)][this.seatId]}}),cc._RF.pop()},{CardBar:"CardBar"}],CardBar:[function(e,t,i){"use strict";cc._RF.push(t,"8cefanulupD+IjshczCyVOL","CardBar");var n="CardBar",a=e("CardFrameCache"),o=e("BaseComponent");cc.Class({extends:o,properties:{seatId:0,arrCard:[cc.Sprite],arrCardID:[],dealCount:0,bIsCardShow:!1,cardFrameCache:a},onLoad:function(){this._super(),this.dealCount=0;for(var e=0;e<this.arrCard.length;e++){this.arrCard[e].spriteFrame=this.getCardBackFrame(e)}},getCardBackFrame:function(e){return 0==e&&ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().roomType==ROOM_TYPE.JOKER?this.cardFrameCache.getJokerFrame():this.cardFrameCache.getCardBackFrame()},getCardPos:function(e){return this.node.convertToWorldSpaceAR(this.arrCard[e-1].node.position)},sortCard:function(e){LogUtil.info(n,"sortCard"),this.bIsCardSeen=!1;for(var t=0;t<this.arrCard.length;t++)this.arrCard[t].node.active=t<e,this.arrCard[t].spriteFrame=this.getCardBackFrame(t),this.arrCard[t].node.color=new cc.Color(255,255,255)},onRoundReady:function(e){this.seatId=e,this.resetCard()},onDealCard:function(){LogUtil.info(n,"onDealCard"),this.node.active=!0,this.dealCount+=1;for(var e=0;e<this.arrCard.length;e++)this.arrCard[e].spriteFrame=this.getCardBackFrame(e),this.arrCard[e].node.color=new cc.Color(255,255,255),e<this.dealCount?this.arrCard[e].node.active=!0:this.arrCard[e].node.active=!1},onDealFinish:function(){this.dealCount=0;for(var e=0;e<this.arrCard.length;e++){this.arrCard[e].spriteFrame=this.getCardBackFrame(e)}},getRefreshAnimNamePrefix:function(){return"gs_anim_seat_normal_card_bar_refresh"},getResetAnimNamePrefix:function(){return"gs_anim_seat_normal_card_bar_reset"},getShowAnimNamePrefix:function(){return"gs_anim_seat_normal_card_bar_show"},getShow1AnimNamePrefix:function(){return"gs_anim_seat_normal_card_bar_show1"},onRoundRefresh:function(e){ITeenPatti.getCurTable(),ITeenPatti.getCurTable().contrller;this.node.setPosition(this.getResetPos());var t=this.node.getComponent(cc.Animation);t.playAdditive(this.getRefreshAnimNamePrefix()),t.playAdditive("gs_anim_seat_center_card_bar_refresh"),t.stop("gs_anim_seat_center_card_bar_reset"),t.stop(this.getResetAnimNamePrefix()),LogUtil.info(n,"------------------------- onRoundRefresh -------------------------");for(var i=0;i<this.arrCard.length;i++)this.arrCard[i].spriteFrame=this.getCardBackFrame(i)},onUserRefresh:function(e){LogUtil.info(n,"------------------------- onUserRefresh -------------------------");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=e.role.getUserCard(),a=e.role.getUserCard2();if(!(i.length<1)){this.arrCardID=[],this.bIsCardSeen=!0,this.node.position=this.getShowPos();for(var o=0;o<i.length;o++)this.arrCardID[o]=a.length>0?a[o]:i[o],this.arrCard[o].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardID[o]),0==o&&ITeenPatti.getCurRoom().roomType==ROOM_TYPE.JOKER&&(this.arrCard[o].node.color=new cc.Color(200,200,200),this.arrCard[o].spriteFrame=this.cardFrameCache.getJokerFrame()),a.length>0&&null!=i[o]&&null!=a[o]&&(i[o]!=a[o]||-1!=t.dealer.commonCards.indexOf(Math.floor(a[o]/4)))&&(this.arrCard[o].node.color=new cc.Color(200,200,200),this.arrCard[o].spriteFrame=this.cardFrameCache.getJokerFrame())}},onUserAlive:function(){this.node.getComponent(cc.Animation).stop(this.getResetAnimNamePrefix());for(var e=0;e<this.arrCard.length;e++){this.arrCard[e].node.active=!0}},onUserWin:function(e){this.bIsCardShow||this.showCard(e)},onUserLose:function(e){this.bIsCardShow||this.showCard(e)},onUserPack:function(e){if(this.blackCard(),e){ITeenPatti.getCurTable(),ITeenPatti.getCurTable().contrller;var t=e.role.getUserCard();if(!(t.length<1)){this.arrCardID=[],this.node.position=this.getShowPos();for(var i=0;i<t.length;i++)this.arrCardID[i]=t[i],this.arrCard[i].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardID[i])}}},onUserSee:function(e){this.bIsCardShow?LogUtil.debug(n,"bIsCardShow is true return"):this.seeCard(e)},onUserShow:function(e){this.bIsCardShow||this.showCard(e)},onUserSideLose:function(e){this.blackCard(),this.bIsCardShow||this.showCard(e)},resetCard:function(){this.arrCardID=[],this.bIsCardShow=!1,this.bIsCardSeen=!1,this.node.setPosition(this.getResetPos());for(var e=0;e<this.arrCard.length;e++){this.arrCard[e].spriteFrame=this.getCardBackFrame(e)}var t=this.node.getComponent(cc.Animation);0==this.seatId?t.playAdditive("gs_anim_seat_center_card_bar_reset"):t.playAdditive(this.getResetAnimNamePrefix()),LogUtil.info(n,"------------------------- reset Card -------------------------")},blackCard:function(){LogUtil.debug(n,"blackCard:"+this.arrCard.length),this.node.getComponent(cc.Animation).stop("gs_anim_seat_center_card_bar_refresh");for(var e=0;e<this.arrCard.length;e++)this.arrCard[e].node.color=new cc.Color(128,128,128)},seeCard:function(e){if(1!=this.bIsCardSeen){var t=ITeenPatti.getCurTable();if(t){var i=e.role.getUserCard();if(i.length<1)LogUtil.debug(n,"arrUserCard length is 0 return");else{t.isRoundOver()&&e.role.getUserCard2().length>0&&(i=e.role.getUserCard2(),this.oriArrCardID=e.role.getUserCard()),this.bIsCardSeen=!0,this.arrCardID=[];for(var a=0;a<i.length;a++)this.arrCardID[a]=i[a],this.arrCard[a].node.active=!0,this.arrCard[a].spriteFrame=this.getCardBackFrame(a);var o=this.getShowPos(),s=this.node.getComponent(cc.Animation),r=ITeenPatti.getCurRoom().roomType==ROOM_TYPE.JOKER?"gs_anim_seat_center_card_bar_see_joker":"gs_anim_seat_center_card_bar_see";t.isRoundOver()&&e.role.getUserCard2().length>0&&(r="gs_anim_seat_center_card_bar_show"),LogUtil.debug(n,"Play Anim : "+r+" Pos : "+o.x+" "+o.y),s.playAdditive(r),this.node.runAction(cc.moveTo(.2,o))}}else LogUtil.debug(n,"curTable not exist return")}else LogUtil.debug(n,"bIsCardSeen is true return")},showCard:function(e){this.oriArrCardID=[];var t=e.role.getUserCard2();if(t.length<1?t=e.role.getUserCard():this.oriArrCardID=e.role.getUserCard(),!(t.length<1))if(1!=this.bIsCardSeen||this.bIsCardShow||0!=this.seatId){this.bIsCardShow=!0,this.arrCardID=[];for(var i=0;i<t.length;i++)this.arrCardID[i]=t[i],this.arrCard[i].node.active=!0,this.arrCard[i].spriteFrame=this.getCardBackFrame(i);var a=this.getShowPos(),o=this.node.getComponent(cc.Animation),s=0==this.seatId?"gs_anim_seat_center_card_bar_show":this.seatId<=3?this.getShowAnimNamePrefix():this.getShow1AnimNamePrefix();LogUtil.debug(n,"Play Anim : "+s+" Pos : "+a.x+" "+a.y),o.playAdditive(s),this.node.runAction(cc.moveTo(.2,a))}else this.showCardJoker(e)},showCardJoker:function(e){this.bIsCardShow=!0;var t=e.role.getUserCard2();0==t.length&&(t=e.role.getUserCard());for(var i=0;i<t.length;i++)this.arrCard[i].spriteFrame=this.cardFrameCache.getCardFrameWithID(t[i])},getResetPos:function(){return[cc.v2(145,-53),cc.v2(103,-20),cc.v2(96,-20),cc.v2(96,-20),cc.v2(-96,-20),cc.v2(-96,-20)][this.seatId]},getShowPos:function(){return[cc.v2(145,-53),cc.v2(103,-20),cc.v2(96,-20),cc.v2(96,-20),cc.v2(-96,-20),cc.v2(-96,-20)][this.seatId]},onAnimCardFaceUp:function(e){LogUtil.info(n,"onAnimaCardFaceUp");var t=2-e;if(null!=this.arrCardID[t]&&ITeenPatti.getCurRoom()&&(0==t&&ITeenPatti.getCurRoom().roomType==ROOM_TYPE.JOKER&&(this.arrCard[t].node.color=new cc.Color(200,200,200)),ITeenPatti.getCurRoom().roomType!=ROOM_TYPE.JOKER||0!=t||this.bIsCardShow)){t+1<=2&&(this.arrCard[t+1].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardID[t+1])),this.arrCard[t].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardID[t]);var i=ITeenPatti.getCurTable().contrller;LogUtil.debug(n,"oriArrCardID:"+this.oriArrCardID+"  arrCardID:"+this.arrCardID),this.oriArrCardID&&this.arrCardID&&null!=this.oriArrCardID[t]&&null!=this.arrCardID[t]&&(this.oriArrCardID[t]!=this.arrCardID[t]||-1!=i.dealer.commonCards.indexOf(Math.floor(this.arrCardID[t]/4)))&&(this.arrCard[t].node.color=new cc.Color(200,200,200))}},onAnimCardFaceUpEnd:function(){for(var e=0;e<this.arrCard.length;e++)this.arrCard[e]&&this.arrCardID[e]&&(this.arrCard[e].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardID[e]))},onAnimCenterCardFaceUp:function(e){LogUtil.info(n,"onAnimCenterCardFaceUp");var t=2-e;null!=this.arrCardID[t]&&ITeenPatti.getCurRoom()&&(0==t&&ITeenPatti.getCurRoom().roomType==ROOM_TYPE.JOKER&&(this.arrCard[t].node.color=new cc.Color(200,200,200)),(ITeenPatti.getCurRoom().roomType!=ROOM_TYPE.JOKER||0!=t||this.bIsCardShow)&&(this.arrCard[t].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardID[t])))},onAnimCenterCardFaceUpEnd:function(){var e=ITeenPatti.getCurPlayer();if(e.role&&ITeenPatti.getCurRoom()){var t=[],i=e.role.getUserCard2();if(i.length>0){for(var a=ITeenPatti.getCurTable().contrller,o=e.role.getUserCard(),s=this.node.getComponent(cc.Animation),r=0;r<i.length;r++)if(null!=o[r]&&null!=i[r]&&(this.isAK47Card(o[r])||o[r]!=i[r]||-1!=a.dealer.commonCards.indexOf(Math.floor(i[r]/4)))){var l=2-r;t.push(r),LogUtil.debug(n,"gs_anim_seat_center_card_bar_see"+l),s.playAdditive("gs_anim_seat_center_card_bar_see"+l)}}else LogUtil.debug(n,"No arrUserCard2");for(var c=0;c<this.arrCard.length;c++)this.arrCard[c]&&this.arrCardID[c]&&-1==t.indexOf(c)&&(this.arrCard[c].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardID[c]))}},isAK47Card:function(e){return LogUtil.debug(n,"isAK47Card:"+e),ITeenPatti.getCurRoom().roomType==ROOM_TYPE.AK47&&-1!=[2,5,11,12].indexOf(Math.floor(e/4))},onAnimSingleCardFaceUp:function(e){LogUtil.info(n,"onAnimSingleCardFaceUp");var t=2-e;null!=this.arrCardID[t]&&ITeenPatti.getCurRoom()&&(this.arrCard[t].node.color=new cc.Color(200,200,200),this.arrCard[t].spriteFrame=this.cardFrameCache.getJokerFrame())}}),cc._RF.pop()},{BaseComponent:"BaseComponent",CardFrameCache:"CardFrameCache"}],CardFrameCache:[function(e,t,i){"use strict";cc._RF.push(t,"a4462MlVuZIhLAnLDpF017E","CardFrameCache");cc.Class({extends:cc.Component,properties:{arrCardFrame:[cc.SpriteFrame],cardBackFrame:cc.SpriteFrame,cardJokerFrame:cc.SpriteFrame},onLoad:function(){for(var e=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],t=0;t<e.length;t++){var i=e[t];this.loadCardFrame(i+"_red_diamond",4*t+0),this.loadCardFrame(i+"_black_club",4*t+1),this.loadCardFrame(i+"_red_heart",4*t+2),this.loadCardFrame(i+"_black_spade",4*t+3)}},loadCardFrame:function(e,t){var i=this;cc.loader.loadRes("Common/pokers/"+e+".png",function(n,a){n?LogUtil.err("CardFrameCache","Load TeenPatti Card Fail "+e,n):i.arrCardFrame[t]=new cc.SpriteFrame(a)})},getCardFrameWithID:function(e){return null!=e&&this.arrCardFrame[e]?this.arrCardFrame[e]:e==CARD_ID_JOKER?this.cardJokerFrame:this.cardBackFrame},getCardBackFrame:function(){return this.cardBackFrame},getJokerFrame:function(){return this.cardJokerFrame}});cc._RF.pop()},{}],CasinoWarBaseSeat:[function(e,t,i){"use strict";cc._RF.push(t,"360faZGd31Gxr+JcobbyNSr","CasinoWarBaseSeat");e("TeenPattiUser");var n=e("FacebookIcon"),a=e("ClampLabel"),o=e("CDTimeBar"),s=(e("CasinoWarSeatCard"),e("DataAnalysisKey")),r=e("Command"),l=e("UIInfo"),c=e("LanguageData"),h=e("GameUtils"),u=e("GameBaseSeat");cc.Class({extends:u,properties:{tpUser:{default:null,visible:!1},curTable:{default:null,visible:!1},betAnimaName:{default:"cws_anim_bet_stake_seat_1",visible:!1},tieAnimaName:{default:"cws_anim_tie_stake_seat_1",visible:!1},stakeViewPrefab:cc.Prefab,lblName:a,icon:n,iconMask:cc.Node,card:cc.Sprite,lblBetNode:cc.Node,lblBet:cc.Label,lblTieNode:cc.Node,lblTie:cc.Label,cdTimeBar:o,btnSitDown:cc.Button,btnInvite:cc.Button,btnGift:cc.Button,gameCrown:cc.Node,readyTag:cc.Node,warTag:cc.Node,winAnima:cc.Animation,objGiftSender:cc.Node,objGiftReceiver:cc.Node,dealerPos:{default:[],visible:!1},tableController:{get:function(){return this._tableController},set:function(e){this._tableController=e,this.updateState()}}},onLoad:function(){this._super(),this.dealerPos=[cc.v2(0,350),cc.v2(0,350),cc.v2(227,336),cc.v2(430,219),cc.v2(-430,219),cc.v2(-227,336)]},updateState:function(){this.tableController.isBanker()&&(this.dealerPos=[cc.v2(15,-418),cc.v2(15,-418),cc.v2(242,-380),cc.v2(445,-245),cc.v2(-415,-245),cc.v2(-212,-380)])},initComplete:function(){this._super(),this.hideWarEffect(),this.card.node.getComponent("CasinoWarSeatCard").seat=this,this.gameCore.uiMng.addListener(r.SERVER_CMD_WAR_READY,this,this.onWarReady),this.gameCore.uiMng.addListener(r.SERVER_CMD_CASINO_BET,this,this.onCasinoBet),this.gameCore.uiMng.addListener(r.SERVER_CMD_WAR_BET,this,this.onWarBet),this.resetSeat()},onEnterForeground:function(){this._super(),cc.sys.isNative||this.tpUser&&this.tpUser.role&&(LogUtil.debug("casinowarseat","onEnterForeground"),3!=this.roomStatus||this.tpUser.role.inWar||(this.tpUser.role.totalBetAmount=0,this.tpUser.role.totalTieAmount=0),this.warTag.active=this.tpUser.role.inWar,this.node.stopAllActions(),this.updateBetTieLabel(),this.updateCard(),-1!=this.tpUser.role.card&&(this.onBetReceive(),this.onTieReceive()),this.readyTag.active=this.tpUser.role.ready&&!this.card.node.active,(this.tpUser.role.ready||this.card.node.active)&&this.cdTimeBar.hide())},hasPlayer:function(){return null!=this.tpUser},hideTimeBar:function(){this.cdTimeBar.hide()},onStartTime:function(){this.cdTimeBar.hide(),this.card.node.active=!1,this.hideWarEffect(),this.updateBetTieLabel()},onStartWar:function(e){if(this.roomStatus=e.roomStatus,this.cdTimeBar.hide(),this.card.node.active=!1,this.readyTag.active=!1,this.hideWarEffect(),this.tpUser&&this.tpUser.role)for(var t in this.tpUser.role.ready=!1,e.user)if(e.user[t].userId==this.tpUser.strTPID){3==e.roomStatus?(this.warTag.active=!0,this.tpUser.role.inWar=!0,this.tpUser.role.totalTieAmount=0):2==e.roomStatus&&(this.tpUser.role.totalBetAmount=e.user[t].priAmount,this.tpUser.role.totalTieAmount=e.user[t].sideAmount);break}this.updateBetTieLabel()},onWarReady:function(e){if(!e.errorcode&&this.tpUser&&this.tpUser.role&&this.tpUser.role.playerId==e.i){if(this.tpUser.role.ready=!0,this.isBackground)return;-1==this.tpUser.role.card&&(this.readyTag.active=!0),this.cdTimeBar.hide()}},hideWarEffect:function(){this.warTag.active=!1;for(var e=this.getAllChildComponentByType(cc.MotionStreak,this.warTag),t=0;t<e.length;t++)e[t]._motionStreak&&e[t].reset()},onCasinoBet:function(e){e.errorcode||this.tpUser&&this.tpUser.role&&this.tpUser.role.playerId==e.playerId&&(this.tpUser.role.totalBetAmount+=1==e.type?e.bet:0,this.tpUser.role.totalTieAmount+=2==e.type?e.bet:0,this.updateBetTieLabel())},onAnimaBetFinish:function(e){this.tpUser&&this.tpUser.role&&(this.tpUser.role.totalBetAmount+=e,this.updateBetTieLabel())},onAnimaTieFinish:function(e){this.tpUser&&this.tpUser.role&&(this.tpUser.role.totalTieAmount+=e,this.updateBetTieLabel())},updateCard:function(){if(this.tpUser&&this.tpUser.role)if(-1!=this.tpUser.role.card){var e=cc.director.getScene().getChildByName("Canvas").getComponent("CardFrameCache");this.card.node.active=!0,this.card.spriteFrame=e.getCardFrameWithID(this.tpUser.role.card)}else this.card.node.active=!1},onAllCard:function(e,t){if(this.cdTimeBar.hide(),null!=this.tpUser&&null!=this.tpUser.role)for(var i in LogUtil.debug("casinowarseat","onAllCard"),e.user)if(e.user[i].userId==this.tpUser.strTPID)return this.tpUser.role.card=e.user[i].card,this.gameCore.gameMng.isBackground?(this.tpUser.role.totalBetAmount=e.user[i].priAmount,this.tpUser.role.totalTieAmount=e.user[i].sideAmount):(this.readyTag.active=!1,this.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){this.tpUser&&this.tpUser.role&&-1!=this.tpUser.role.card?(this.updateCard(),this.gameCore.gameMng.playAudioEffect("deal"),this.playDealAnima(),this.tpUser.role.totalBetAmount=e.user[i].priAmount,this.tpUser.role.totalTieAmount=e.user[i].sideAmount):this.onAutoSurrender(e)},this)))),!0;return!1},playDealAnima:function(){this.card.node.getComponent(cc.Animation).play()},onAutoSurrender:function(e){if(this.tpUser&&this.tpUser.role)for(var t in e.user)if(e.user[t].userId==this.tpUser.strTPID){this.cdTimeBar.hide(),this.rewardSurrender(e.user[t].priAmount);break}},playStakeAnima:function(e,t,i){if(!this.gameCore.gameMng.isBackground){var n=cc.instantiate(this.stakeViewPrefab);this.node.addChild(n),n.getComponent("TableStakeViewCasinoWar").gameCore=this.gameCore,n.getComponent("TableStakeViewCasinoWar").playAnima(this,e,t,i)}},playStakeAnima1:function(t,i,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!this.gameCore.gameMng.isBackground){var r=cc.instantiate(this.stakeViewPrefab);this.node.addChild(r),r.getComponent("TableStakeViewCasinoWar").gameCore=this.gameCore;var l=e("CasinoWarCenterSeat");r.getComponent("TableStakeViewCasinoWar").playAnima1(t,i,n,a,o,s,this instanceof l)}},playWinEffect:function(){this.tpUser&&this.tpUser.role&&(0==this.seatId&&this.gameCore.gameMng.playAudioEffect("win"),this.winAnima.node.active=!0,this.winAnima.play())},onCommonCardShowUp:function(){if(3!=this.roomStatus||!this.tpUser||!this.tpUser.role||-1!=this.tpUser.role.card){var e=0;this.tpUser&&this.tpUser.role&&this.tpUser.role.totalTieAmount>this.tpUser.role.lastTotalTieAmount&&(this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(this.playWinEffect,this))),e+=1),this.onCommonCardShowUpDelay(e)}},getTiePos:function(){return 0==this.seatId?cc.v2(21,89):1==this.seatId||2==this.seatId||5==this.seatId?cc.v2(25,76):cc.v2(25,70)},getBetPos:function(){return 0==this.seatId?cc.v2(21,129):1==this.seatId||2==this.seatId||5==this.seatId?cc.v2(25,112):cc.v2(25,102)},getCommissionPercent:function(){return 1},onCommonCardShowUpDelay:function(e){if(this.tpUser&&this.tpUser.role&&ITeenPatti.getCurTable()){if(3==this.roomStatus&&(!this.tpUser.role.inWar||this.tpUser.role.isSurrender))return;var t=e,i=ITeenPatti.getCurTable().getUserList(),n=!1;this.tpUser.role.totalTieAmount>this.tpUser.role.lastTotalTieAmount&&this.playStakeAnima1(this.tpUser.role.totalTieAmount/this.getCommissionPercent()-this.tpUser.role.lastTotalTieAmount,this.dealerPos[this.seatId],this.getTiePos(),2,t,handler(this,this.onTieReceive));for(var a=0;a<i.length;a++)if(i[a].role.totalTieAmount>i[a].role.lastTotalTieAmount){t+=3,n=!0;break}var o=!1;this.tpUser.role.totalTieAmount<this.tpUser.role.lastTotalTieAmount&&(this.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(this.updateTieLabel,this))),this.playStakeAnima1((this.tpUser.role.lastTotalTieAmount-this.tpUser.role.totalTieAmount)*this.getCommissionPercent(),this.getTiePos(),this.dealerPos[this.seatId],2,t,handler(this,this.onTieLoseReceive)));for(a=0;a<i.length;a++)if(i[a].role.totalTieAmount<i[a].role.lastTotalTieAmount){t+=2,o=!0;break}var s=!1;this.tpUser.role.totalBetAmount>this.tpUser.role.lastTotalBetAmount&&(this.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(this.playWinEffect,this))),t+=1,this.playStakeAnima1(this.tpUser.role.totalBetAmount/this.getCommissionPercent()-this.tpUser.role.lastTotalBetAmount,this.dealerPos[this.seatId],this.getBetPos(),1,t,handler(this,this.onBetReceive)));for(a=0;a<i.length;a++)if(i[a].role.totalBetAmount>i[a].role.lastTotalBetAmount){t+=3,s=!0;break}var r=!1;this.tpUser.role.totalBetAmount<this.tpUser.role.lastTotalBetAmount&&(this.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(this.updateBetLabel,this))),this.playStakeAnima1((this.tpUser.role.lastTotalBetAmount-this.tpUser.role.totalBetAmount)*this.getCommissionPercent(),this.getBetPos(),this.dealerPos[this.seatId],1,t,handler(this,this.onBetLoseReceive)));for(a=0;a<i.length;a++)if(i[a].role.totalBetAmount<i[a].role.lastTotalBetAmount){r=!0;break}var l=t;r?l+=1:s?l-=3:o?l+=1:n&&(l-=3),this.node.runAction(cc.sequence(cc.delayTime(l),cc.callFunc(function(){this.tableController.onRewardComplete()},this)))}},onBet:function(e){this.tpUser&&this.tpUser.role&&2==e.type&&this.cdTimeBar.hide()},onBetReceive:function(){this.tpUser&&this.tpUser.role&&(this.updateBetLabel(),(this.tpUser.role.totalBetAmount>this.tpUser.role.lastTotalBetAmount||3==this.roomStatus&&this.tpUser.role.totalBetAmount>0)&&(this.gameCore.gameMng.isBackground||this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){this.tpUser&&this.tpUser.role&&(this.playStakeAnima1(this.tpUser.role.totalBetAmount,0==this.seatId?cc.v2(0,129):this.tableController.isBanker()?cc.v2(0,-76):cc.v2(0,110),0==this.seatId?cc.v2(0,-110):this.tableController.isBanker()?cc.v2(0,67):cc.v2(0,-60),1,0,handler(this,this.onBetReceiveFinish)),this.tpUser.role.totalBetAmount=0,this.updateBetLabel())}.bind(this))))))},onBetReceiveFinish:function(){},onBetLoseReceive:function(){},onTieReceive:function(){this.tpUser&&this.tpUser.role&&(this.updateTieLabel(),this.tpUser.role.totalTieAmount>0&&(this.gameCore.gameMng.isBackground||this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.tpUser&&this.tpUser.role&&(this.playStakeAnima1(this.tpUser.role.totalTieAmount,0==this.seatId?cc.v2(0,92):this.tableController.isBanker()?cc.v2(0,-110):cc.v2(0,78),0==this.seatId?cc.v2(0,-110):this.tableController.isBanker()?cc.v2(0,67):cc.v2(0,-60),2,0,handler(this,this.onTieReceiveFinish)),this.tpUser.role.totalTieAmount=0,this.updateTieLabel())}.bind(this))))))},getTieReceivePos:function(){},onTieReceiveFinish:function(){},onTieLoseReceive:function(){},onCardShowUp:function(){},onWarBet:function(t){if(!t.errorcode&&this.tpUser&&this.tpUser.role&&this.tpUser.role.playerId==t.playerId){if(t.bet)this instanceof e("CasinoWarCenterSeat")?(this.playStakeAnima(t.amount,this.betAnimaName,1),this.needUpdateChips=!1):(this.tpUser.role.totalBetAmount+=t.amount,this.updateBetLabel());else this.tpUser.role.isSurrender=!0,this.rewardSurrender(t.amount);this.cdTimeBar.hide()}},rewardSurrender:function(e){this.tpUser.role.totalBetAmount-=e,this.updateBetLabel(),this.playStakeAnima1(this.tpUser.role.lastTotalBetAmount-this.tpUser.role.totalBetAmount,0==this.seatId?cc.v2(0,92):cc.v2(0,78),this.dealerPos[this.seatId],1,0,handler(this,this.onSurrenderFinish))},onSurrenderFinish:function(){this.tpUser&&this.tpUser.role&&(this.playStakeAnima1(this.tpUser.role.totalBetAmount,0==this.seatId?cc.v2(0,92):cc.v2(0,78),0==this.seatId?cc.v2(0,-110):cc.v2(0,-60),1,0,handler(this,this.onSurrenderAwardFinish)),this.tpUser.role.totalBetAmount=0,this.updateBetLabel())},onSurrenderAwardFinish:function(){},updateBetLabel:function(){this.tpUser&&this.tpUser.role&&(this.lblBet.string=c.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(this.tpUser.role.totalBetAmount)}))},updateTieLabel:function(){this.tpUser&&this.tpUser.role&&(this.lblTie.string=c.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(this.tpUser.role.totalTieAmount)}))},updateBetTieLabel:function(){this.tpUser&&this.tpUser.role&&(this.lblBet.string=c.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(this.tpUser.role.totalBetAmount)}),this.lblTie.string=c.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(this.tpUser.role.totalTieAmount)}))},clearSeat:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.tpUser&&this.tpUser.role&&this.tpUser.role.reset(),this.tpUser=null},resetSeat:function(){this.cdTimeBar.hide(),this.lblBet.string=c.t("label_text.chips_with_symbol",{number:0}),this.lblTie.string=c.t("label_text.chips_with_symbol",{number:0}),this.lblName.node.active=!1,this.iconMask.active=!1,this.card.node.active=!1,this.lblBetNode.active=!1,this.lblTieNode.active=!1,this.readyTag.active=!1,this.hideWarEffect(),this.btnSitDown&&(this.btnSitDown.node.active=!1),this.btnInvite&&(this.btnInvite.node.active=!1),this.btnGift.node.active=!1,this.gameCrown.active=!1,this.objGiftSender.active=!1,this.objGiftReceiver.active=!1,this._super()},sitDownState:function(){this.resetSeat(),this.node.active=!0,this.btnSitDown&&(this.btnSitDown.node.active=!0)},inviteState:function(){this.resetSeat(),this.btnInvite&&(this.btnInvite.node.active=!0)},sitMinBalanceAmount:function(){return 8*ITeenPatti.getCurRoom().profile.nBootAmount},onBtnPlayerClicked:function(e){if(this.tpUser)return this.gameCore.uiMng.addListener(r.SERVER_CMD_PROFILE,this,this.onUserProfileGet),void ITeenPatti.sendMsg(r.SERVER_CMD_PROFILE,{i:parseInt(this.tpUser.userId)});if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role)if(ITeenPatti.getCurPlayer().role.isWatcher()&&!this.tableController.isBanker()){if(!this.gameCore.gameMng.hasEnoughChips2(this.sitMinBalanceAmount()))return;ITeenPatti.sendMsg(r.SERVER_CMD_SIT,{i:this.playerId}),this.gameCore.dataAnalysisMng.sendData(s.CLICK_SIT,this.gameCore.dataAnalysisMng.gameBaseData)}else this.gameCore.dataAnalysisMng.sendData(s.OPEN_TOTABLE_TABLE),this.gameCore.gameMng.openFriendsUI(0)},onBtnGiftClicked:function(){!ITeenPatti.getCurPlayer().role||ITeenPatti.getCurPlayer().role.isWatcher()&&!this.tableController.isBanker()||this.gameCore.uiMng.openUI(l.GIFTS,handler(this,function(e){e&&e.setReceiverID(this.tpUser.userId)}))},onUserProfileGet:function(e,t){if(this.gameCore&&this.gameCore.uiMng&&(this.gameCore.uiMng.removeListener(r.SERVER_CMD_PROFILE,this,this.onUserProfileGet),!t.errorcode)){t.user_id;this.gameCore.uiMng.openUI(this.gameCore.uiMng.inGamePlayerInfoUIData,function(e){e&&e.initWithMsgGetUserInfo(t)})}},startCountDown:function(e,t,i){this.tpUser&&this.tpUser.role&&!this.tpUser.role.ready&&this.cdTimeBar.startCountDown(e,t,i)},startCountDownByUserId:function(e,t,i,n){this.tpUser&&this.tpUser.strTPID==e&&this.tpUser.role&&!this.tpUser.role.ready&&this.cdTimeBar.startCountDown(t,i,n)},getGiftSendPostion:function(e,t){return this.node.convertToWorldSpaceAR(this.objGiftSender.getPosition())},getGiftReceivePostion:function(e,t){return 12==t||15==t||23==t?this.node.convertToWorldSpaceAR(cc.v2(0,0)):19==t?0!=this.seatId?this.node.convertToWorldSpaceAR(cc.v2(-45,-15)):this.node.convertToWorldSpaceAR(cc.v2(-60,-30)):20==t?this.node.convertToWorldSpaceAR(cc.v2(0,10)):25==t||27==t?this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(10,30))):this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition())},onUserSitDown:function(e){e&&e.role&&(this.tpUser=e,this.cdTimeBar.isMe=this.tpUser.strTPID==this.gameCore.userMng.myself.strTPID,this.btnSitDown&&(this.btnSitDown.node.active=!1),this.btnInvite&&(this.btnInvite.node.active=!1),-1==this.tpUser.role.card&&(this.card.node.active=!1),this.node.active=!0,this.gameCrown.active=!1,this.lblBetNode.active=!0,this.lblTieNode.active=!0,this.lblName.node.active=!0,this.lblName.string=e.strTPName,this.iconMask.active=!0,this.icon.initWithTeenPattiUser(e))},updateSeatState:function(){this.cdTimeBar.hide(),this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role&&!this.gameCore.userMng.myself.role.isWatcher()?this.inviteState():this.sitDownState()},onUserStandUp:function(){this.clearSeat(),this.updateSeatState()},onUserExitRoom:function(){this.clearSeat(),this.updateSeatState()},onUserUpdate:function(e){},updateGiftBtnActive:function(e){(!e||null!=this.tpUser&&null==this.objGift)&&(this.btnGift.node.active=e)},updateGameCrown:function(){this.tpUser&&(this.gameCrown.active=this.curTable.isCurRoomWinBiggest(this.tpUser.strTPID))}}),cc._RF.pop()},{CDTimeBar:"CDTimeBar",CasinoWarCenterSeat:"CasinoWarCenterSeat",CasinoWarSeatCard:"CasinoWarSeatCard",ClampLabel:"ClampLabel",Command:"Command",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon",GameBaseSeat:"GameBaseSeat",GameUtils:"GameUtils",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],CasinoWarCenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"aedeezRvJtG2Idw4++hU8bx","CasinoWarCenterSeat");var n=e("LanguageData"),a=e("GameUtils"),o=e("Command"),s=e("CasinoWarBaseSeat");cc.Class({extends:s,properties:{betAnimaName:{default:"cws_anim_bet_stake_seat_0",visible:!1,override:!0},tieAnimaName:{default:"cws_anim_tie_stake_seat_0",visible:!1,override:!0},isSit:{default:!1,visible:!1},lastBalanceValue:0,lblBalance:cc.Label,expBar:cc.Node,lblExp:cc.Label,balanceBar:cc.Node},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(o.SERVER_CMD_TIP,this,this.onTip),this.gameCore.uiMng.addListener(o.SERVER_CMD_SEND_GIFT,this,this.onSendGift),this.gameCore.uiMng.addListener(o.UI_CMD_CHIPS_CHANGE,this,this.onChipsChange),this.gameCore.uiMng.addListener(o.SERVER_CMD_SWITCH_DEALER,this,this.onSwitchDealer)},onTip:function(e){this.tpUser&&this.tpUser.strTPID==e.id&&this.updateBalance(-e.chip)},onSendGift:function(e){this.tpUser&&this.tpUser.strTPID==e.send_id&&this.gameCore&&this.updateBalance(-this.gameCore.gameMng.getPriceOfGift(e.gift_id))},onChipsChange:function(e){},onSwitchDealer:function(e){this.gameCore&&"error"!=e.cmd&&this.updateBalance()},onEnterForeground:function(){this._super(),this.updateBalance()},clearSeat:function(){this._super(),this.expBar.active=!1},onWarBtnClk:function(){this.tpUser&&this.tpUser.role&&this.updateBalance(-this.tpUser.role.totalBetAmount)},updateBalance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.tpUser){if(null!=e)this.lastBalanceValue+=e;else{if(this.lastBalanceValue==this.tpUser.nChips)return void(this.needUpdateChips=!0);this.lastBalanceValue=this.tpUser.nChips}this.lblBalance.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.lastBalanceValue,1e7)});var t=ITeenPatti.getCurRoom();if(t){var i=t.profile.nBootAmount;this.lblBalance.node.color=new cc.Color(255,255,255),this.tpUser.getTeenPattiProfile().nChips<8*i?this.lblBalance.node.color=new cc.Color(255,0,0):this.tpUser.getTeenPattiProfile().nChips<16*i&&(this.lblBalance.node.color=new cc.Color(255,128,0))}}},showExpAnima:function(){ITeenPatti.getCurTable()&&0!=ITeenPatti.getCurTable().curRoundExp&&!this.isBackground&&(this.lblExp.string="+ "+ITeenPatti.getCurTable().curRoundExp+"XP",this.expBar.active=!0,this.expBar.getComponent(cc.Animation).play(),ITeenPatti.getCurTable().curRoundExp=0,this.gameCore.gameMng.judgeBroken(),this.gameCore.activityMng.showGotStarEffect())},playStakeAnima:function(e,t,i){this._super(e,t,i),this.tpUser&&this.gameCore.gameMng.playAudioEffect("bet")},onCasinoBet:function(e){this.tpUser&&this.tpUser.role&&this.tpUser.role.playerId==e.playerId&&(this.playStakeAnima(e.bet,1==e.type?this.betAnimaName:this.tieAnimaName,e.type),this.updateBalance())},onTieReceive:function(){this._super()},onBetReceive:function(){this._super()},onBetReceiveFinish:function(){this.updateBalance(),this.showExpAnima()},onBetLoseReceive:function(){this._super(),this.showExpAnima()},onTieReceiveFinish:function(){this.updateBalance()},onSurrenderAwardFinish:function(){this.updateBalance(),this.showExpAnima()},onUserSitDown:function(e){this._super(e),this.isSit||this.updateBalance(),this.isSit=!0},onUserStandUp:function(){this._super(),this.isSit=!1},onUserUpdate:function(e){if(this._super(e),this.tpUser&&e&&e.user.name==this.tpUser.strTPID&&e.changedVars)for(var t in e.changedVars)"cp"==e.changedVars[t]&&this.needUpdateChips&&(this.needUpdateChips=!1,this.updateBalance())}}),cc._RF.pop()},{CasinoWarBaseSeat:"CasinoWarBaseSeat",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],CasinoWarCommonCard:[function(e,t,i){"use strict";cc._RF.push(t,"db6eaxAo6pCCKXycC0+JNvP","CasinoWarCommonCard");var n=e("CasinoWarTableController"),a=e("BaseComponent");cc.Class({extends:a,properties:{tableController:n},onCommonCardShowUp:function(){this.tableController&&this.tableController.onCommonCardShowUp()}}),cc._RF.pop()},{BaseComponent:"BaseComponent",CasinoWarTableController:"CasinoWarTableController"}],CasinoWarControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"4a6feE/8ANCKK1HaBpwd9y6","CasinoWarControlBar");var n=e("CasinoWarCenterSeat"),a=e("Command"),o=(e("GameData"),e("GameUtils")),s=e("TableHintBar"),r=e("LanguageData"),l=e("BaseComponent");cc.Class({extends:l,properties:{betNodeLeft:cc.Node,betNodeRight:cc.Node,betNode:cc.Node,lblBet:cc.Label,betBtn:cc.Button,betBtnLabelNode:cc.Node,betPlusBtn:cc.Button,betMinusBtn:cc.Button,lblTie:cc.Label,tieBtn:cc.Button,tiePlusBtn:cc.Button,tieMinusBtn:cc.Button,casinoWarNode:cc.Node,surrenderBtn:cc.Button,warBtn:cc.Button,betDisable:cc.Node,tieDisable:cc.Node,dealBtn:cc.Button,centerSeat:n,hintBar:s,betAmount:{default:1,visible:!1},curBetAmount:{default:1,visible:!1},betNum:{default:0,visible:!1},tieAmount:{default:1,visible:!1},curTieAmount:{default:1,visible:!1},tieNum:{default:0,visible:!1},betLimit:{default:0,visible:!1},downTime:{default:-1,visible:!1},roomStatus:{default:1,visible:!1}},onLoad:function(){this._super(),this.hide()},update:function(e){-1!=this.downTime&&(new Date).getTime()>this.downTime&&(this.hide(),this.centerSeat.hideTimeBar())},initComplete:function(){this._super(),this.gameCore.gameMng.isFitHeight()||(this.betNodeLeft.x+=50,this.betNodeRight.x-=50),this.betDisable.on(cc.Node.EventType.TOUCH_END,this.onDisableAreaTouchEnd,this),this.betDisable.on(cc.Node.EventType.MOUSE_ENTER,this.onDisableAreaTouchEnd,this),this.tieDisable.on(cc.Node.EventType.TOUCH_END,this.onDisableAreaTouchEnd,this),this.tieDisable.on(cc.Node.EventType.MOUSE_ENTER,this.onDisableAreaTouchEnd,this),this.betLimit=ITeenPatti.getCurRoom().profile.nBetChips,this.betAmount=this.curBetAmount=ITeenPatti.getCurRoom().profile.nBootAmount;var e=ITeenPatti.getCurRoom().profile.nAddNum;this.betNum=e,this.tieAmount=this.curTieAmount=ITeenPatti.getCurRoom().profile.nBootAmount;var t=ITeenPatti.getCurRoom().profile.tieAddNum;this.tieNum=t&&-1!=t?t:e},getMyBalance:function(){return this.gameCore.userMng.myself.nChips},onDisableAreaTouchEnd:function(e){e.stopPropagation()},onStartTime:function(e){this.hide(),this.hintBar.clearHint();for(var t=(new Date).getTime(),i=0;i<e.i;i++)this.hintBar.addHint(r.t("label_text.game_starting",{time:e.i-i}),1,t+1e3*i);this.hintBar.addHint(r.t("label_text.game_starts"),1,t+1e3*e.i),this.hintBar.addHint(r.t("label_text.bet_chips"),2,t+1e3*(e.i+1))},onStartWar:function(e){this.roomStatus=e.roomStatus,e.downTime&&(this.downTime=(new Date).getTime()+1e3*e.downTime),this.betNode.active=2==e.roomStatus,this.casinoWarNode.active=3==e.roomStatus,2!=e.roomStatus&&3!=e.roomStatus&&this.hide(),this.betDisable.active=!1,this.tieDisable.active=!0,this.dealBtn.node.active=!1,this.surrenderAndWarBtnInteractable(!0);var t=ITeenPatti.getCurPlayer();if(t&&t.role&&!t.role.isWatcher()){this.curBetAmount>this.getMyBalance()&&(this.curBetAmount=this.betAmount,ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&(this.betNum=ITeenPatti.getCurRoom().profile.nAddNum)),this.curTieAmount>this.gameCore.userMng.myself.nChips&&(this.curTieAmount=this.tieAmount,ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&(this.tieNum=ITeenPatti.getCurRoom().profile.nAddNum));var i=!1;for(var n in e.user)if(e.user[n].userId==t.strTPID){i=!0;break}this.node.active=1!=e.roomStatus&&4!=e.roomStatus&&i,3==e.roomStatus&&(i?this.hintBar.addHint(r.t("label_text.surrender_or_war"),this.tableController.getBetDuration()):this.hintBar.addHint(r.t("label_text.casino_war"),this.tableController.getBetDuration())),this.updateBetTieStatus()}},onAllCard:function(e){this.hide(),3==this.roomStatus&&this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&!this.centerSeat.tpUser.role.inWar||this.hintBar.clearHint()},show:function(){this.node.active=!0},hide:function(){this.dealBtn.node.active=!1,this.node.active=!1,this.downTime=-1},updateBetTieStatus:function(){this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role&&(this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&(this.betBtn.interactable=this.centerSeat.tpUser.role.totalBetAmount+this.curBetAmount<=this.betLimit,this.tieBtn.interactable=this.centerSeat.tpUser.role.totalTieAmount+this.curTieAmount<=this.betLimit),this.betMinusBtn.interactable=this.curBetAmount>this.betAmount,this.betPlusBtn.interactable=this.getMyBalance()>=2*this.curBetAmount&&this.betNum>0,this.tieMinusBtn.interactable=this.curTieAmount>this.tieAmount,this.tiePlusBtn.interactable=this.getMyBalance()>=2*this.curTieAmount&&this.tieNum>0,this.lblBet.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.curBetAmount)}),this.lblTie.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.curTieAmount)}))},onBet:function(e){this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&this.centerSeat.tpUser&&e.playerId==this.centerSeat.tpUser.role.playerId&&(this.updateBetTieStatus(),this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&!this.centerSeat.tpUser.role.ready&&(this.dealBtn.node.active=!0,this.betMinusBtn.interactable=!1,this.betPlusBtn.interactable=!1,this.betBtn.interactable=!1,2==e.type&&this.onDealBtnClk()),this.tieDisable.active=!1)},onPlayerReady:function(e){this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&e.i==this.centerSeat.tpUser.role.playerId&&this.hide()},onWarBet:function(e){e.errorcode?this.surrenderAndWarBtnInteractable(!0):this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&e.playerId==this.centerSeat.tpUser.role.playerId&&(this.hide(),this.hintBar.clearHint(),this.updateBetTieStatus())},onUserStandUp:function(e){e.user.isItMe&&(3==this.roomStatus&&this.hintBar.clearHint(),this.hide())},onBetBtnClk:function(e){this.gameCore.gameMng.hasEnoughChips(this.curBetAmount)&&(this.betBtn.interactable=!1,ITeenPatti.sendMsg(a.SERVER_CMD_CASINO_BET,{bet:this.curBetAmount,type:1}))},onBetPlusBtnClk:function(e){this.gameCore.gameMng.hasEnoughChips(2*this.curBetAmount)&&this.betNum>0&&this.getMyBalance()>=2*this.curBetAmount&&(this.gameCore.gameMng.playAudioEffect("addbet"),this.betNum--,this.curBetAmount*=2,this.updateBetTieStatus())},onBetMinusBtnClk:function(e){this.curBetAmount>this.betAmount&&(this.gameCore.gameMng.playAudioEffect("addbet"),this.betNum++,this.curBetAmount/=2,this.updateBetTieStatus())},onTieBtnClk:function(e){this.gameCore.gameMng.hasEnoughChips(this.curTieAmount)&&(this.tieBtn.interactable=!1,ITeenPatti.sendMsg(a.SERVER_CMD_CASINO_BET,{bet:this.curTieAmount,type:2}))},onTiePlusBtnClk:function(e){this.gameCore.gameMng.hasEnoughChips(2*this.curTieAmount)&&this.tieNum>0&&this.getMyBalance()>=2*this.curTieAmount&&(this.gameCore.gameMng.playAudioEffect("addbet"),this.tieNum--,this.curTieAmount*=2,this.updateBetTieStatus())},onTieMinusBtnClk:function(e){this.curTieAmount>this.tieAmount&&(this.gameCore.gameMng.playAudioEffect("addbet"),this.tieNum++,this.curTieAmount/=2,this.updateBetTieStatus())},surrenderAndWarBtnInteractable:function(e){this.surrenderBtn.interactable=e,this.warBtn.interactable=e},onSurrenderBtnClk:function(e){this.surrenderAndWarBtnInteractable(!1),ITeenPatti.sendMsg(a.SERVER_CMD_WAR_BET,{i:!1})},onWarBtnClk:function(e){this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&!this.gameCore.gameMng.hasEnoughChips(this.centerSeat.tpUser.role.totalBetAmount,r.t("label_text.balance_not_enough"))||(this.surrenderAndWarBtnInteractable(!1),ITeenPatti.sendMsg(a.SERVER_CMD_WAR_BET,{i:!0}),this.centerSeat.onWarBtnClk())},onDealBtnClk:function(e){this.hide(),this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&(this.centerSeat.tpUser.role.ready=!0),ITeenPatti.sendMsg(a.SERVER_CMD_WAR_READY,null)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",CasinoWarCenterSeat:"CasinoWarCenterSeat",Command:"Command",GameData:"GameData",GameUtils:"GameUtils",LanguageData:"LanguageData",TableHintBar:"TableHintBar"}],CasinoWarGoldCenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"26f18WahlRJm50K7vYbQH5s","CasinoWarGoldCenterSeat");var n=e("LanguageData"),a=e("GameUtils"),o=e("Command"),s=e("CasinoWarCenterSeat");cc.Class({extends:s,properties:{},initComplete:function(){this._super(),ITeenPatti.addListener(o.SERVER_CMD_GOLD_TRANSFER,this,this.onGoldTransfer),ITeenPatti.addListener(o.SERVER_CMD_GOLD_RECEIVE,this,this.onGoldReceive)},onGoldTransfer:function(e,t){this.updateBalance(-t.change)},onGoldReceive:function(e,t){this.updateBalance(t.change)},onSwitchDealer:function(e){},updateBalance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.tpUser){if(null!=e)this.lastBalanceValue+=e;else{if(this.lastBalanceValue==this.tpUser.nGold)return void(this.needUpdateChips=!0);this.lastBalanceValue=this.tpUser.nGold}this.lblBalance.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.lastBalanceValue,1e7)});var t=ITeenPatti.getCurRoom();if(t){var i=t.profile.nBootAmount;this.lblBalance.node.color=new cc.Color(255,255,255),this.tpUser.getTeenPattiProfile().nGold<8*i?this.lblBalance.node.color=new cc.Color(255,0,0):this.tpUser.getTeenPattiProfile().nGold<16*i&&(this.lblBalance.node.color=new cc.Color(255,128,0))}}},onUserUpdate:function(e){if(this._super(e),this.tpUser&&e&&e.user.name==this.tpUser.strTPID&&e.changedVars)for(var t in e.changedVars)"gold"==e.changedVars[t]&&this.needUpdateChips&&(this.needUpdateChips=!1,this.updateBalance())}}),cc._RF.pop()},{CasinoWarCenterSeat:"CasinoWarCenterSeat",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],CasinoWarGoldControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"26ed8AUeRZKhJbc1dZA+G/i","CasinoWarGoldControlBar");var n=e("CasinoWarControlBar");cc.Class({extends:n,properties:{},getMyBalance:function(){return this.gameCore.userMng.myself.nGold}}),cc._RF.pop()},{CasinoWarControlBar:"CasinoWarControlBar"}],CasinoWarGoldNormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"4a445kpBtBMnIJuhsCB+TNj","CasinoWarGoldNormalSeat");var n=e("CasinoWarNormalSeat");cc.Class({extends:n,properties:{},initComplete:function(){this._super()},sitMinBalanceAmount:function(){return ITeenPatti.getCurRoom().profile.nBootAmount},inviteState:function(){this._super()}}),cc._RF.pop()},{CasinoWarNormalSeat:"CasinoWarNormalSeat"}],CasinoWarGoldRoom:[function(e,t,i){"use strict";cc._RF.push(t,"822b3cAoSFBt4SNgm2Jia0O","CasinoWarGoldRoom");e("Command");var n=e("CasinoWarTable"),a=e("BaseRoom"),o=e("UIInfo");cc.Class({name:"CasinoWarGoldRoom",extends:a,properties:{},ctor:function(){this.table=new n,this.roomType=ROOM_TYPE.CASINO_WAR_GOLD,this.tableRulesUIInfo=o.CASINO_WAR_HELP}}),cc._RF.pop()},{BaseRoom:"BaseRoom",CasinoWarTable:"CasinoWarTable",Command:"Command",UIInfo:"UIInfo"}],CasinoWarGoldScene:[function(e,t,i){"use strict";cc._RF.push(t,"8605eOLS5lI07SDFiGNgP8F","CasinoWarGoldScene");e("Command");var n=e("UIInfo"),a=(e("GameData"),e("DataAnalysisKey"),e("TableDealerCasinoWar"),e("CasinoWarControlBar"),e("CasinoWarTableController"),e("CasinoWarScene"));cc.Class({extends:a,properties:{},openRoomInfo:function(){this.gameCore.uiMng.openUI(n.GAME_ROOM_INFO_CASINO_WAR_GOLD)}}),cc._RF.pop()},{CasinoWarControlBar:"CasinoWarControlBar",CasinoWarScene:"CasinoWarScene",CasinoWarTableController:"CasinoWarTableController",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",TableDealerCasinoWar:"TableDealerCasinoWar",UIInfo:"UIInfo"}],CasinoWarGoldTableController:[function(e,t,i){"use strict";cc._RF.push(t,"c0592GWWIFNwKHQTl470PtP","CasinoWarGoldTableController");var n=e("CasinoWarTableController"),a=e("TeenPattiUser"),o=e("GameUtils"),s=e("LanguageData"),r=e("Command"),l=e("FacebookIcon");cc.Class({extends:n,properties:{winner:cc.Node,winnerSpine:sp.Skeleton,dropChipsSpine:sp.Skeleton,winnerNameLabel:cc.Label,winnerChipsLabel:cc.Label,winnerIcon:l},getBetDuration:function(){return ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile?ITeenPatti.getCurRoom().profile.waitTime:0},sitMinBalanceAmount:function(){return ITeenPatti.getCurRoom().profile.nBootAmount},onLoad:function(){this._super(),this.winner.active=!1},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(r.SERVER_CMD_BIG_WIN,this,this.onBigWin)},onBigWin:function(e){if(e.name){this.winner.active=!0,"en"==this.gameCore.gameMng.curLanguage?(this.winnerSpine.setAnimation(0,"animation",!1),this.winnerSpine.addAnimation(0,"animation2",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)):"bn"==this.gameCore.gameMng.curLanguage?(this.winnerSpine.setAnimation(0,"animation3",!1),this.winnerSpine.addAnimation(0,"animation4",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)):"hi"==this.gameCore.gameMng.curLanguage&&(this.winnerSpine.setAnimation(0,"animation5",!1),this.winnerSpine.addAnimation(0,"animation6",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)),this.gameCore.gameMng.playAudioEffect("bigWin");var t=new a;t.tpProfile.strIconID=e.icon,t.tpProfile.newIcon=e.newicon,t.fbProfile.strFBID=e.facebookID,this.winnerIcon.initWithTeenPattiUser(t),this.winnerNameLabel.string=e.name,this.winnerChipsLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e.wins).toLowerCase()}),this.schedule(this.hideBigWinner,5)}},hideBigWinner:function(){this.unschedule(this.hideBigWinner),this.winner.active=!1},onStartTime:function(e){this.hideBigWinner(),this._super(e)},onStartWar:function(e){this.hideBigWinner(),this._super(e)}}),cc._RF.pop()},{CasinoWarTableController:"CasinoWarTableController",Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser"}],CasinoWarHelp:[function(e,t,i){"use strict";cc._RF.push(t,"73781uwkdJCyK/iVFm8/yX5","CasinoWarHelp");var n=e("BaseEdgePopup");e("LanguageData");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},initComplete:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",LanguageData:"LanguageData"}],CasinoWarModeButton:[function(e,t,i){"use strict";cc._RF.push(t,"ac376UKszVFT4zBb5mvBQnQ","CasinoWarModeButton");var n=e("LobbyLayoutButton"),a=e("BaseUI"),o=e("Command"),s=(e("GameData"),e("LocalizedSprite"),e("LanguageData"),e("LocalStorage")),r=e("DataAnalysisKey");cc.Class({extends:n,properties:{blackMask:cc.Node,newStatus:cc.Node,interface:a,mode:"",unlockLevel:{default:0,visible:!1},unlock:cc.Node,unlockLevelLabel:cc.Label},onLoad:function(){this.unlock&&(this.unlock.active=!1),this._super(),this.blackMask&&(this.blackMask.active=!1)},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(o.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),this.gameCore.uiMng.addListener(o.SERVER_CMD_PLAY_CASINO_WAR,this,this.onPlayResponse),this.gameCore.uiMng.addListener(o.SERVER_CMD_PLAY_AB,this,this.onPlayResponse),"pattiwar"==this.mode&&this.gameCore.uiMng.addListener(o.SERVER_CMD_PLAY_PATTI_WAR,this,this.onPlayPattiWarResponse),this.unlockLevel=ITeenPatti.onlineCfg.getUnlockLevel(this.mode),this.unlock&&this.unlockLevel>0&&ITeenPatti.gameCore.userMng.myself.nLevel<this.unlockLevel&&(this.unlock.active=!0,this.unlockLevelLabel.string="LV."+this.unlockLevel),this.updateNewStatus()},updateNewStatus:function(){if(this.newStatus&&(this.newStatus.active=!1,this.mode&&!(this.mode.length<1))){var e=s.getLocalData(this.mode);this.newStatus.active=(!e||e<1)&&!this.isLocked()}},onPlayPattiWarResponse:function(e){this.gameCore.uiMng.hideLoading(),this.interface&&(this.interface.canClose=!0),this.blackMask&&(this.blackMask.active=!1)},onPlayResponse:function(e,t){"error"==t.cmd&&(this.gameCore.uiMng.hideLoading(),this.blackMask&&(this.blackMask.active=!1),this.interface&&(this.interface.canClose=!0))},isLocked:function(){return this.gameCore.userMng.myself.nLevel<this.unlockLevel},onButtonClk:function(e){if(this.gameCore&&!this.isLocked())if(this.interface&&(this.interface.canClose=!1),"casinowar"==this.mode){if(!this.gameCore.userMng.playCasinoWar())return;s.saveLocalData(this.mode,!0),this.blackMask.active=!0,this.node.interactable=!1,this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.7),this.gameCore.dataAnalysisMng.sendData(r.CLICK_CASINO_WAR_BUTTON)}else if("ab"==this.mode){if(!this.gameCore.userMng.playAB())return;s.saveLocalData(this.mode,!0),this.gameCore.gameMng.ABNew=!1,this.blackMask.active=!0,this.node.interactable=!1,this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.7,!0),this.gameCore.dataAnalysisMng.sendData(r.CLICK_AB_BUTTON)}else if("pattiwar"==this.mode){if(!this.gameCore.userMng.playPattiWar())return;s.saveLocalData(this.mode,!0),this.blackMask.active=!0,this.node.interactable=!1,this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.7),this.gameCore.dataAnalysisMng.sendData(r.CLICK_PATTI_WAR_BUTTON)}else void 0!=this.released&&this.gameCore.gameMng.newModeRemind(this.released)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",LanguageData:"LanguageData",LobbyLayoutButton:"LobbyLayoutButton",LocalStorage:"LocalStorage",LocalizedSprite:"LocalizedSprite"}],CasinoWarModeSelect:[function(e,t,i){"use strict";cc._RF.push(t,"f9ff9Wp3q9N5LAu+aOntXMk","CasinoWarModeSelect");var n=e("BaseUI"),a=(e("UIInfo"),e("Command"),e("GameData"),e("DataAnalysisKey"),e("LobbyLayout"));cc.Class({extends:n,properties:{scrollView:cc.ScrollView,toggleGroup:cc.ToggleGroup,toggleItems:[cc.Node],modeButtonPrefab:cc.Prefab,page:0,totalPage:1,layout:a},onLoad:function(){this.layout.delegate=this,this.layout.level=2,this.layout.startX=120,this.layout.gapX=240,this.layout.layout=[{mode:"casinowar",order:100,visible:1},{mode:"pattiwar",order:200,visible:1},{mode:"comingsoon",order:300,visible:1},{mode:"comingsoon1",order:400,visible:1}],this._super(),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1},initComplete:function(){this._super(),this.oriContentX=this.scrollView.content.x,this.scrollView.node.on(cc.Node.EventType.TOUCH_START,this.onScrollViewTouchStart,this),this.scrollView.node.on("touch-up",this.onUITouchUp,this);for(var e=0;e<this.scrollView.node.children.length;e++)this.scrollView.node.children[e].on(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this)},updateScrollView:function(e){this.totalPage=Math.ceil(e/4);for(var t=0;t<this.toggleItems.length;t++)this.toggleItems[t].active=t<this.totalPage&&this.totalPage>1;this.scrollView.content.width=this.scrollView.node.width*this.totalPage},onScrollViewTouchStart:function(e){this.scrollView.node.on(cc.Node.EventType.TOUCH_END,this.onUITouchUp,this),this.scrollView.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this)},onUITouchUp:function(e){this.scrollView.node.off(cc.Node.EventType.TOUCH_END,this.onUITouchUp,this),this.scrollView.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this);var t=this.scrollView.content.x<this.oriContentX,i=Math.max(0,Math.abs((this.scrollView.content.x+480)/960)+(t?-.1:.1));this.page=t?Math.ceil(i):Math.floor(i),this.scrollView.stopAutoScroll(),this.oriContentX=-480-960*this.page,this.scrollView.content.runAction(cc.moveTo(.1,cc.v2(this.oriContentX,0))),this.toggleGroup.toggleItems.length>this.page&&this.toggleGroup.toggleItems[this.page].check()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",LobbyLayout:"LobbyLayout",UIInfo:"UIInfo"}],CasinoWarNormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"3bea0JyStVKqKkjz122VTSV","CasinoWarNormalSeat");var n=e("CasinoWarBaseSeat");cc.Class({extends:n,properties:{},initComplete:function(){this._super()}}),cc._RF.pop()},{CasinoWarBaseSeat:"CasinoWarBaseSeat"}],CasinoWarPVPCenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"52d0f6/36RAIYkd6BD8sfNC","CasinoWarPVPCenterSeat");var n=e("CasinoWarCenterSeat");cc.Class({extends:n,properties:{},initComplete:function(){this._super()},changeToBankerMode:function(){}}),cc._RF.pop()},{CasinoWarCenterSeat:"CasinoWarCenterSeat"}],CasinoWarPVPControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"1f5c9NwGZ1HoIztqPpIq+K+","CasinoWarPVPControlBar");var n=e("CasinoWarControlBar");cc.Class({extends:n,properties:{tableController:{get:function(){return this._tableController},set:function(e){this._tableController=e}}},onLoad:function(){this._super()},initComplete:function(){this._super()},getHintBarPos:function(){return this.tableController.isBanker()?cc.v2(3,0):cc.v2(3,32)}}),cc._RF.pop()},{CasinoWarControlBar:"CasinoWarControlBar"}],CasinoWarPVPGoldCenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"50c94u2TqVDcI4TwnEjcUSh","CasinoWarPVPGoldCenterSeat");var n=e("CasinoWarPVPCenterSeat"),a=e("GameUtils"),o=e("Command"),s=e("LanguageData");cc.Class({extends:n,properties:{},initComplete:function(){this._super(),ITeenPatti.addListener(o.SERVER_CMD_GOLD_TRANSFER,this,this.onGoldTransfer),ITeenPatti.addListener(o.SERVER_CMD_GOLD_RECEIVE,this,this.onGoldReceive)},onGoldTransfer:function(e,t){this.updateBalance(-t.change)},onGoldReceive:function(e,t){this.updateBalance(t.change)},getCommissionPercent:function(){return ITeenPatti.getCurRoom().profile.commissionPercent},updateBalance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.tpUser){if(null!=e)this.lastBalanceValue+=e;else{if(this.lastBalanceValue==this.tpUser.nGold&&!t)return void(this.needUpdateChips=!0);this.lastBalanceValue=this.tpUser.nGold}this.lblBalance.string=s.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.lastBalanceValue,1e7)});var i=ITeenPatti.getCurRoom();if(i){var n=i.profile.nBootAmount;this.lblBalance.node.color=new cc.Color(255,255,255),this.tpUser.getTeenPattiProfile().nGold<8*n?this.lblBalance.node.color=new cc.Color(255,0,0):this.tpUser.getTeenPattiProfile().nGold<16*n&&(this.lblBalance.node.color=new cc.Color(255,128,0))}}},onUserUpdate:function(e){if(this._super(e),this.tpUser&&e&&e.user.name==this.tpUser.strTPID&&e.changedVars)for(var t in e.changedVars)"gold"==e.changedVars[t]&&this.needUpdateChips&&(this.needUpdateChips=!1,this.updateBalance())}}),cc._RF.pop()},{CasinoWarPVPCenterSeat:"CasinoWarPVPCenterSeat",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],CasinoWarPVPGoldControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"ccc06x2VeBCap00X6S6RsSz","CasinoWarPVPGoldControlBar");var n=e("CasinoWarPVPControlBar");cc.Class({extends:n,properties:{},getMyBalance:function(){return this.gameCore.userMng.myself.nGold}}),cc._RF.pop()},{CasinoWarPVPControlBar:"CasinoWarPVPControlBar"}],CasinoWarPVPGoldNormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"74a98gJaWNDb5tjU/2Xmcww","CasinoWarPVPGoldNormalSeat");var n=e("CasinoWarPVPNormalSeat");cc.Class({extends:n,properties:{},initComplete:function(){this._super()},sitMinBalanceAmount:function(){return ITeenPatti.getCurRoom().profile.nBootAmount},getCommissionPercent:function(){return ITeenPatti.getCurRoom().profile.commissionPercent},updateSeatState:function(){this.cdTimeBar.hide();var e=ITeenPatti.getCurTable();e&&(e.myselfIsBanker||this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role&&!this.gameCore.userMng.myself.role.isWatcher()?this.inviteState():this.sitDownState())},inviteState:function(){this._super()}}),cc._RF.pop()},{CasinoWarPVPNormalSeat:"CasinoWarPVPNormalSeat"}],CasinoWarPVPGoldRoomSelectItem:[function(e,t,i){"use strict";cc._RF.push(t,"b0b15eyyWtHYIwISyOXfy92","CasinoWarPVPGoldRoomSelectItem");var n=e("CasinoWarPVPRoomSelectItem");cc.Class({extends:n,properties:{},playInRoom:function(e){return this.gameCore.userMng.playInCasinoWarPVPRoom(e,!0)}}),cc._RF.pop()},{CasinoWarPVPRoomSelectItem:"CasinoWarPVPRoomSelectItem"}],CasinoWarPVPGoldRoomSelect:[function(e,t,i){"use strict";cc._RF.push(t,"ff5f4IauBRKDa0fUELI2RgL","CasinoWarPVPGoldRoomSelect");var n=e("CasinoWarPVPRoomSelect"),a=e("GameUtils"),o=e("Command"),s=e("LanguageData");cc.Class({extends:n,properties:{},initListenerAndRequest:function(){this.gameCore.uiMng.addListener(o.UI_CMD_GOLD_CHANGE,this,this.updateGold),this.gameCore.uiMng.addListener(o.SERVER_CMD_CASINO_WAR_PVP_GOLD_MINCHIPS_REQUIRE,this,this.onMinChipsRequireList),this.gameCore.uiMng.addListener(o.SERVER_CMD_CASINO_WAR_PVP_GOLD_ROOMS,this,this.onPVPRoomList),this.gameCore.uiMng.addListener(o.SERVER_CMD_CASINO_WAR_PVP_GOLD_PLAY_IN_ROOM,this,this.onPlayInCasinoWarPVPRoom),this.gameCore.uiMng.addListener("CasinoWarPVPRoomSelectItemClicked",this,this.onCasinoWarPVPRoomSelectItemClicked),ITeenPatti.sendMsg(o.SERVER_CMD_CASINO_WAR_PVP_GOLD_MINCHIPS_REQUIRE)},updateBalanceLabel:function(e){this.totalChipsLabel.string=a.formatNumberWithRules(e||this.gameCore.userMng.myself.nGold)},requestRooms:function(){ITeenPatti.sendMsg(o.SERVER_CMD_CASINO_WAR_PVP_GOLD_ROOMS),this.unscheduleAllCallbacks(),this.scheduleOnce(handler(this,function(){this.requestRooms()}),60)},updateGold:function(e){this.totalChipsLabel&&e&&this.updateBalanceLabel(e.final)},hasEnoughChips:function(e){return this.gameCore.gameMng.hasEnoughGold(e,s.t("label_text.not_enough_gold_msg"))},createCasinoWarPVPRoom:function(e){return this.gameCore.userMng.createCasinoWarPVPRoom(e,!0)}}),cc._RF.pop()},{CasinoWarPVPRoomSelect:"CasinoWarPVPRoomSelect",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],CasinoWarPVPGoldRoom:[function(e,t,i){"use strict";cc._RF.push(t,"f7497jcs81FWbEzoq5jJMke","CasinoWarPVPGoldRoom");e("Command");var n=e("CasinoWarPVPTable"),a=e("BaseRoom"),o=e("CasinoWarRoomProfile"),s=e("UIInfo");cc.Class({name:"CasinoWarPVPGoldRoom",extends:a,properties:{},ctor:function(){this.profile=new o,this.table=new n,this.roomType=ROOM_TYPE.CASINO_WAR_PVP_GOLD,this.tableRulesUIInfo=s.CASINO_WAR_PVP_GOLD_HELP},onRoomJoin:function(e,t){this._super(e,t),t.room.variables.bbc&&(this.profile.nBetChips=t.room.variables.bbc.value)}}),cc._RF.pop()},{BaseRoom:"BaseRoom",CasinoWarPVPTable:"CasinoWarPVPTable",CasinoWarRoomProfile:"CasinoWarRoomProfile",Command:"Command",UIInfo:"UIInfo"}],CasinoWarPVPGoldScene:[function(e,t,i){"use strict";cc._RF.push(t,"ab0edudIStH3oTiJowEHbu3","CasinoWarPVPGoldScene");var n=e("CasinoWarPVPScene"),a=e("UIInfo");cc.Class({extends:n,properties:{},initComplete:function(){this._super()},openRoomInfo:function(){this.gameCore.uiMng.openUI(a.GAME_ROOM_INFO_CASINO_WAR_PVP_GOLD)}}),cc._RF.pop()},{CasinoWarPVPScene:"CasinoWarPVPScene",UIInfo:"UIInfo"}],CasinoWarPVPGoldTableController:[function(e,t,i){"use strict";cc._RF.push(t,"942abUs1LJDa4wwYZzulVsr","CasinoWarPVPGoldTableController");var n=e("CasinoWarPVPTableController");cc.Class({extends:n,properties:{},initComplete:function(){this._super()},getBetDuration:function(){return ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile?ITeenPatti.getCurRoom().profile.waitTime:0},sitMinBalanceAmount:function(){return ITeenPatti.getCurRoom().profile.nBootAmount}}),cc._RF.pop()},{CasinoWarPVPTableController:"CasinoWarPVPTableController"}],CasinoWarPVPNormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"88ffcLK57lJ5q5DTwRNVy+C","CasinoWarPVPNormalSeat");var n=e("CasinoWarNormalSeat");cc.Class({extends:n,properties:{},initComplete:function(){this._super()},playDealAnima:function(){var e=this.card.node.getComponent(cc.Animation),t=e.getClips();e.play(this.tableController.isBanker()?t[1].name:t[0].name)},changeToBankerMode:function(){this.lblName.node.y=67,1==this.seatId||2==this.seatId||5==this.seatId?(this.lblBetNode.y=-76,this.lblTieNode.y=-112):(this.lblBetNode.y=-70,this.lblTieNode.y=-102)},getTiePos:function(){return 0==this.seatId?cc.v2(21,89):1==this.seatId||2==this.seatId||5==this.seatId?this.tableController.isBanker()?cc.v2(25,-112):cc.v2(25,76):this.tableController.isBanker()?cc.v2(25,-102):cc.v2(25,70)},getBetPos:function(){return 0==this.seatId?cc.v2(21,129):1==this.seatId||2==this.seatId||5==this.seatId?this.tableController.isBanker()?cc.v2(25,-76):cc.v2(25,112):this.tableController.isBanker()?cc.v2(25,-70):cc.v2(25,102)}}),cc._RF.pop()},{CasinoWarNormalSeat:"CasinoWarNormalSeat"}],CasinoWarPVPRoomSelectItem:[function(e,t,i){"use strict";cc._RF.push(t,"34d23NkVxNCKJnTkFGR3mr2","CasinoWarPVPRoomSelectItem");var n=e("BaseComponent"),a=e("GameUtils"),o=e("FacebookIcon"),s=e("ClampLabel"),r=e("TeenPattiUser");cc.Class({extends:n,properties:{watchImg:cc.Node,joinImg:cc.Node,playerCountLabel:cc.Label,minBetLabel:cc.Label,nameLabel:s,headIcon:o},setData:function(e){this.data=e,this.playerCountLabel.string=e.users+"/5",this.watchImg.active=e.users>=5,this.joinImg.active=e.users<5,this.minBetLabel.string=a.formatNumberWithRules(e.minbet),this.nameLabel.string=e.banker;var t=new r;t.tpProfile.strIconID=e.icon,t.fbProfile.strFBID=e.facebook,this.headIcon.initWithTeenPattiUser(t)},onClk:function(e){this.playInRoom(this.data.name)&&(this.showNetworkDelayLoading(),this.gameCore.uiMng.dispatch("CasinoWarPVPRoomSelectItemClicked"))},showDelayLoading:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._super(cc.v2(0,0),this.node,.7)},playInRoom:function(e){return this.gameCore.userMng.playInCasinoWarPVPRoom(e)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClampLabel:"ClampLabel",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",TeenPattiUser:"TeenPattiUser"}],CasinoWarPVPRoomSelect:[function(e,t,i){"use strict";var n;function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}cc._RF.push(t,"60905mAkQtK4bL/ASp/sGvg","CasinoWarPVPRoomSelect");var o=e("BaseUI"),s=e("Command"),r=e("GameUtils"),l=e("LanguageData");cc.Class((a(n={extends:o,properties:{loadingBgContainer:cc.Node,totalChipsLabel:cc.Label,helpDescPanel:cc.Node,createRoomItems:[cc.Button],minChipsRequireLabels:[cc.Label],roomItemPrefab:cc.Prefab,roomItem1Prefab:cc.Prefab,roomContainer:cc.Node,noRoom:cc.Node,firstTimeShowRooms:!0,roomItems:{default:[],visible:!1}},initComplete:function(){this._super()},onLoad:function(){this._super(),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1;for(var e=0;e<this.minChipsRequireLabels.length;e++)this.minChipsRequireLabels[e].string=""}},"initComplete",function(){this._super(),this.showLoading(),this.helpDescPanel.active=!1,this.updateBalanceLabel(),this.initListenerAndRequest(),this.requestRooms()}),a(n,"initListenerAndRequest",function(){this.gameCore.uiMng.addListener(s.UI_CMD_CHIPS_CHANGE,this,this.updateChips),this.gameCore.uiMng.addListener(s.SERVER_CMD_AB_PVP_MINCHIPS_REQUIRE,this,this.onMinChipsRequireList),this.gameCore.uiMng.addListener(s.SERVER_CMD_AB_PVP_ROOMS,this,this.onPVPRoomList),this.gameCore.uiMng.addListener(s.SERVER_CMD_AB_PVP_PLAY_IN_ROOM,this,this.onPlayInCasinoWarPVPRoom),this.gameCore.uiMng.addListener("CasinoWarPVPRoomSelectItemClicked",this,this.onCasinoWarPVPRoomSelectItemClicked),ITeenPatti.sendMsg(s.SERVER_CMD_AB_PVP_MINCHIPS_REQUIRE)}),a(n,"updateBalanceLabel",function(e){this.totalChipsLabel.string=r.formatNumberWithRules(e||this.gameCore.userMng.myself.nChips)}),a(n,"onPlayInCasinoWarPVPRoom",function(e){if(3002==e.errorcode){this.requestRooms();for(var t=0;t<this.createRoomItems.length;t++)this.createRoomItems[t].interactable=!0}}),a(n,"onCasinoWarPVPRoomSelectItemClicked",function(){for(var e=0;e<this.roomItems.length;e++){var t=this.roomItems[e].getComponent(cc.Button);t&&(t.interactable=!1)}for(e=0;e<this.createRoomItems.length;e++)this.createRoomItems[e].interactable=!1}),a(n,"showLoading",function(){this.gameCore.uiMng.showLoading(cc.v2(0,0),null,.8,!0,this.loadingBgContainer)}),a(n,"requestRooms",function(){ITeenPatti.sendMsg(s.SERVER_CMD_AB_PVP_ROOMS),this.unscheduleAllCallbacks(),this.scheduleOnce(handler(this,function(){this.requestRooms()}),60)}),a(n,"updateStatus",function(){this.minChipsRequireReturned&&this.PVPRoomsReturned&&(this.firstTimeShowRooms&&this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.hideLoading(),this.showRooms())}),a(n,"onMinChipsRequireList",function(e){if(this.minChipsRequireReturned=!0,e.levels){this.roomLevels=table.createToArray(e.levels);for(var t=0;t<this.minChipsRequireLabels.length;t++)this.roomLevels[t]&&(this.minChipsRequireLabels[t].string=r.formatNumberWithRules(this.roomLevels[t].minchips,1e5,0).toLowerCase())}this.updateStatus()}),a(n,"getRoomLevel",function(e){if(this.roomLevels)for(var t=0;t<this.roomLevels.length;t++)if(this.roomLevels[t].minbet==e.minbet)return this.roomLevels[t].level;return 0}),a(n,"showRooms",function(){if(this.rooms&&this.gameCore){if(this.roomLevels){var e=this.gameCore.userMng.myself.nChips,t=[];this.roomLevels[0]&&e<5*this.roomLevels[0].minbet?t=[1,1,1,1]:this.roomLevels[1]&&e<5*this.roomLevels[1].minbet?t=[1,1]:this.roomLevels[2]&&e<5*this.roomLevels[2].minbet?t=[2,2,1]:this.roomLevels[3]&&e<5*this.roomLevels[3].minbet?t=[3,3,2]:this.roomLevels[3]&&e<50*this.roomLevels[3].minbet?t=[4,3,3,2]:this.roomLevels[3]&&e>=50*this.roomLevels[3].minbet&&(t=[4,4,3,2]);for(var i=[];t.length>0;)for(var n=t.shift(),a=0;a<this.rooms.length;a++)if(this.getRoomLevel(this.rooms[a])==n){i=i.concat(this.rooms.splice(a,1));break}this.rooms=i.concat(this.rooms)}for(a=0;a<this.roomItems.length;a++)this.roomItems[a].removeFromParent();this.roomItems.length=0;for(a=0;a<this.rooms.length;a++){var o=cc.instantiate(this.roomItemPrefab),s=o.getComponent("CasinoWarPVPRoomSelectItem");s.gameCore=this.gameCore,s.setData(this.rooms[a]),this.roomContainer.addChild(o),this.roomItems.push(o)}if(this.noRoom.active=0==this.rooms.length,this.rooms.length>0)for(a=this.rooms.length;a<6;a++){var r=cc.instantiate(this.roomItem1Prefab);this.roomContainer.addChild(r),this.roomItems.push(r)}this.firstTimeShowRooms=!1}}),a(n,"onPVPRoomList",function(e){this.PVPRoomsReturned=!0,this.rooms=[],e.rooms&&(this.rooms=table.createToArray(e.rooms)),this.updateStatus()}),a(n,"hasEnoughChips",function(e){return this.gameCore.gameMng.hasEnoughChips(e,l.t("label_text.not_enough_chips_banker"))}),a(n,"onCreateRoomBtnClk",function(e,t){if(this.roomLevels&&void 0!=this.roomLevels[t]){if(!this.hasEnoughChips(this.roomLevels[t].minchips))return;this.gameCore.gameMng.showAlert(l.t("label_text.create_table_banker"),"",2,handler(this,function(){this.createCasinoWarPVPRoom(this.roomLevels[t].minchips)&&this.showLoading()}))}}),a(n,"createCasinoWarPVPRoom",function(e){return this.gameCore.userMng.createCasinoWarPVPRoom(e)}),a(n,"updateChips",function(e){this.totalChipsLabel&&e&&this.updateBalanceLabel(e.final)}),a(n,"onHelpBtnClk",function(e){this.helpDescPanel.active=!this.helpDescPanel.active}),a(n,"onHelpNodeTouchEnd",function(e){e.stopPropagation()}),a(n,"closeUI",function(e,t){this._super(e,t)}),n)),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],CasinoWarPVPScene:[function(e,t,i){"use strict";cc._RF.push(t,"46e9a1UT0hAKapDnvL9opYe","CasinoWarPVPScene");var n=e("CasinoWarScene"),a=e("UIInfo");cc.Class({extends:n,properties:{bg:cc.Sprite},initComplete:function(){this._super(),this.gameCore.userMng.gameBgTex&&(this.bg.spriteFrame=new cc.SpriteFrame(this.gameCore.userMng.gameBgTex),this.gameCore.userMng.gameBgTex=null)},onBankerBuyBtnClk:function(e){this.tableController.isBanker()&&this.onBuyBtnClk(e)},onBackBtnClk:function(e){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(this.gameCore.uiMng.isPopUpByUIKey(a.BACK_MENU_ABPVP.name)||this.gameCore.uiMng.openUI(a.BACK_MENU_ABPVP))},onBackButtonClk:function(){this.gameCore.uiMng.isPopUpByUIKey(a.BACK_MENU_ABPVP.name)||this.gameCore.uiMng.openUI(a.BACK_MENU_ABPVP)}}),cc._RF.pop()},{CasinoWarScene:"CasinoWarScene",UIInfo:"UIInfo"}],CasinoWarPVPTableController:[function(e,t,i){"use strict";cc._RF.push(t,"bed52LoiztAcrY9lTZM/F5u","CasinoWarPVPTableController");var n=e("CasinoWarTableController"),a=e("FacebookIcon"),o=e("TeenPattiUser"),s=e("Command"),r=e("LanguageData"),l=e("GameUtils");cc.Class({extends:n,properties:{winner:cc.Node,winnerSpine:sp.Skeleton,dropChipsSpine:sp.Skeleton,winnerNameLabel:cc.Label,winnerChipsLabel:cc.Label,winnerIcon:a},updateTableLowBarActive:function(e){this.tableLowBar.active=e&&!this.isBanker()},initComplete:function(){this._super();var e=[-170,-157,-40,-40,-157];this.isBanker()&&(e=[213,175,40,40,175]);for(var t=1;t<this.arrSeat.length;t++)this.isBanker()&&this.arrSeat[t].changeToBankerMode(),this.arrSeat[t].node.y=e[t-1];this.gameCore.uiMng.addListener(s.SERVER_CMD_BIG_WIN,this,this.onBigWin)},onBigWin:function(e){if(e.name){this.winner.active=!0,"en"==this.gameCore.gameMng.curLanguage?(this.winnerSpine.setAnimation(0,"animation",!1),this.winnerSpine.addAnimation(0,"animation2",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)):"bn"==this.gameCore.gameMng.curLanguage?(this.winnerSpine.setAnimation(0,"animation3",!1),this.winnerSpine.addAnimation(0,"animation4",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)):"hi"==this.gameCore.gameMng.curLanguage&&(this.winnerSpine.setAnimation(0,"animation5",!1),this.winnerSpine.addAnimation(0,"animation6",!0),this.dropChipsSpine.setAnimation(0,"animation7",!1)),this.gameCore.gameMng.playAudioEffect("bigWin");var t=new o;t.tpProfile.strIconID=e.icon,t.tpProfile.newIcon=e.newicon,t.fbProfile.strFBID=e.facebookID,this.winnerIcon.initWithTeenPattiUser(t),this.winnerNameLabel.string=e.name,this.winnerChipsLabel.string=r.t("label_text.chips_with_symbol",{number:l.formatNumberWithRules(e.wins).toLowerCase()}),this.schedule(this.hideBigWinner,5)}},getMessagePos:function(e){return 100==e?this.isBanker()?cc.v2(0,-340):cc.v2(0,80):this.isBanker()?cc.v2(0,78):this._super(e)},hideBigWinner:function(){this.unschedule(this.hideBigWinner),this.winner.active=!1},onStartTime:function(e){this.hideBigWinner(),this._super(e)},onStartWar:function(e){this.hideBigWinner(),this._super(e)},getSeatWithUserId:function(e){var t=ITeenPatti.getCurTable();return t&&e==t.playerBankerID?this.dealer:this._super(e)},isBanker:function(){return this.table&&this.table.myselfIsBanker},onRewardComplete:function(){this.dealer.updateBalance()}}),cc._RF.pop()},{CasinoWarTableController:"CasinoWarTableController",Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser"}],CasinoWarPVPTable:[function(e,t,i){"use strict";cc._RF.push(t,"109f0x5MORMdopcvA2rVLjr","CasinoWarPVPTable");e("TeenPattiUser"),e("TeenPattiABRoler");var n=e("Command"),a=e("CasinoWarTable");cc.Class({extends:a,name:"CasinoWarPVPTable",properties:{playerBankerID:"",playerBankerName:"",playerBankerChips:0,playerBankerWins:0,playerBankerIcon:0,playerBankerFacebookID:"",myselfIsBanker:!1,isDisbanded:!1},initCallback:function(){this._super(),this.arrHandler[n.SERVER_CMD_PVP_DISBAND]=handler(this,this.onDisband)},onDisband:function(e,t){this.isDisbanded=!t.errorcode,this.myselfIsBanker?ITeenPatti.gameCore.gameMng.PVPBankerSummary={1:"disband#"+(ITeenPatti.gameCore.uiMng.isInGoldScene?"Gold":"Normal"),2:this.playerBankerWins}:ITeenPatti.gameCore.gameMng.PVPDisbanded=!0},onRoomJoin:function(e,t){if(this._super(e,t),t.room.variables.bn){this.playerBankerID=t.room.variables.bn.value;var i=ITeenPatti.getCurPlayer();this.myselfIsBanker=i&&i.strTPID==this.playerBankerID}this.updateRoomVariables(t.room.variables)},onRoomUpdate:function(e,t){this._super(e,t),this.updateRoomVariables(t.room.variables)},updateRoomVariables:function(e){e.bname&&(this.playerBankerName=e.bname.value),e.bc&&(this.playerBankerChips=e.bc.value),e.bw&&(this.playerBankerWins=e.bw.value),e.bi&&(this.playerBankerIcon=e.bi.value),e.bf&&(this.playerBankerFacebookID=e.bf.value)}}),cc._RF.pop()},{CasinoWarTable:"CasinoWarTable",Command:"Command",TeenPattiABRoler:"TeenPattiABRoler",TeenPattiUser:"TeenPattiUser"}],CasinoWarRoomProfile:[function(e,t,i){"use strict";cc._RF.push(t,"5c645pQVDdFZoWzkrN6g249","CasinoWarRoomProfile");var n=e("RoomProfile");cc.Class({name:"CasinoWarRoomProfile",extends:n,properties:{tieAddNum:-1},onRoomJoin:function(e,t){this._super(e,t),t.room.variables.tan&&(this.tieAddNum=t.room.variables.tan.value)},onRoomUpdate:function(e,t){this._super(e,t),t.room.variables.tan&&(this.tieAddNum=t.room.variables.tan.value)}}),cc._RF.pop()},{RoomProfile:"RoomProfile"}],CasinoWarRoom:[function(e,t,i){"use strict";cc._RF.push(t,"25e54Isxk1Lyqwt9PU4fRTt","CasinoWarRoom");e("Command");var n=e("CasinoWarTable"),a=e("BaseRoom"),o=e("UIInfo");cc.Class({name:"CasinoWarRoom",extends:a,properties:{},ctor:function(){this.table=new n,this.roomType=ROOM_TYPE.CASINO_WAR,this.tableRulesUIInfo=o.CASINO_WAR_HELP}}),cc._RF.pop()},{BaseRoom:"BaseRoom",CasinoWarTable:"CasinoWarTable",Command:"Command",UIInfo:"UIInfo"}],CasinoWarSceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"0d028RtnI9JyJi8QAUUk52e","CasinoWarSceneAudio");var n=e("BaseSceneAudio");cc.Class({extends:n,properties:{bet:{type:cc.AudioClip,default:null},addbet:{type:cc.AudioClip,default:null},countdown:{type:cc.AudioClip,default:null},deal:{type:cc.AudioClip,default:null},win:{type:cc.AudioClip,default:null},levelup:{type:cc.AudioClip,default:null},tip:{type:cc.AudioClip,default:null}},onLoad:function(){}}),cc._RF.pop()},{BaseSceneAudio:"BaseSceneAudio"}],CasinoWarScenePopup:[function(e,t,i){"use strict";cc._RF.push(t,"bbb5egvp35LjZrq2mevv7QD","CasinoWarScenePopup"),cc.Class({extends:cc.Component,properties:{prefabs:[cc.Prefab]}}),cc._RF.pop()},{}],CasinoWarScene:[function(e,t,i){"use strict";cc._RF.push(t,"cd1c9k+SkhESrc1ylfbhyqL","CasinoWarScene");var n=e("Command"),a=e("UIInfo"),o=e("GameData"),s=e("DataAnalysisKey"),r=e("TableDealerCasinoWar"),l=e("CasinoWarControlBar"),c=e("CasinoWarTableController"),h=e("BaseGameScene");cc.Class({extends:h,properties:{connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,modeNode:cc.Node,infoBtnNode:cc.Node,chatBtnNode:cc.Node,dealer:r,controlBar:l,tableController:c},initPreloadData:function(){this.preloadPrefabs=this.preloadPrefabs.concat(o.CASINOWAR_SCENE_PRELOAD_POPUP()),this._super()},onLoad:function(){this._super()},initComplete:function(){(this._super(),this.gameCore.gameMng.isFitHeight())||(this.chatBtnNode.getComponent(cc.Widget).right=20);this.gameCore.uiMng.addListener(n.SERVER_CMD_START_TIME,this,this.onStartTime),this.gameCore.uiMng.addListener(n.SERVER_CMD_START_WAR,this,this.onStartWar),this.gameCore.uiMng.addListener(n.SERVER_CMD_CASINO_BET,this,this.onBet),this.gameCore.uiMng.addListener(n.SERVER_CMD_WAR_BET,this,this.onWarBet),this.gameCore.uiMng.addListener(n.SERVER_CMD_WAR_READY,this,this.onPlayerReady),this.gameCore.uiMng.addListener(n.SERVER_CMD_ALL_CARD,this,this.onAllCard),this.gameCore.uiMng.addListener(n.SERVER_CMD_USER_ENTER_ROOM,this,this.onUserEnterRoom),ITeenPatti.addListener(n.SERVER_CMD_USER_UPDATE,this,this.onUserUpdate),this.openRoomInfo()},onEnterForeground:function(){this._super()},onStartTime:function(e){this.dealer.onStartTime(e),this.controlBar.onStartTime(e),this.tableController.onStartTime(e),this.updateGameIdValue()},onStartWar:function(e){this.dealer.onStartWar(e),this.controlBar.onStartWar(e),this.tableController.onStartWar(e),this.updateGameIdValue()},onBet:function(e){e.errorcode||(this.controlBar.onBet(e),this.tableController.onBet(e))},onWarBet:function(e){e.errorcode||this.controlBar.onWarBet(e)},onPlayerReady:function(e){e.errorcode||(this.controlBar.onPlayerReady(e),this.tableController.onPlayerReady(e))},onAllCard:function(e){this.controlBar.onAllCard(e),this.tableController.onAllCard(e)},onUserEnterRoom:function(e){this.tableController.onUserEnterRoom(e)},onUserExitRoom:function(e,t){this._super(e,t),this.tableController&&this.tableController.onUserExitRoom(t)},onUserUpdate:function(e,t){this.tableController.onUserUpdate(e,t)},onRoundFinish:function(e,t){this._super(e,t),this.tableController.onRoundFinish(e,t)},onRoomInfoBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(s.CLICK_CASINO_WAR_TABLEINFO,this.gameCore.dataAnalysisMng.gameBaseData),this.openRoomInfo()},openRoomInfo:function(){this.gameCore.uiMng.openUI(a.GAME_ROOM_INFO_CASINO_WAR)}}),cc._RF.pop()},{BaseGameScene:"BaseGameScene",CasinoWarControlBar:"CasinoWarControlBar",CasinoWarTableController:"CasinoWarTableController",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",TableDealerCasinoWar:"TableDealerCasinoWar",UIInfo:"UIInfo"}],CasinoWarSeatCard:[function(e,t,i){"use strict";cc._RF.push(t,"adb03auVfBDzK6YI/vSQ2EO","CasinoWarSeatCard");var n=e("BaseComponent");cc.Class({extends:n,properties:{seat:{default:null,visible:!1}},onCardShowUp:function(){this.seat&&this.seat.onCardShowUp()}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],CasinoWarTableController:[function(e,t,i){"use strict";cc._RF.push(t,"bf7faZihQhHcZUxoswmTlCQ","CasinoWarTableController");var n=e("CasinoWarBaseSeat"),a=e("TableDealerCasinoWar"),o=e("CasinoWarControlBar"),s=e("CasinoWarCenterSeat"),r=e("BaseTable"),l=e("LanguageData"),c=e("Command"),h=(e("GameData"),e("BaseTableController"));cc.Class({extends:h,properties:{table:r,pfbMsg:cc.Prefab,chatBtn:cc.Node,centerSeat:s,controlBar:o,dealer:a,arrSeat:[n],roomStatus:{default:1,visible:!1},startTime:0,downTime:0,tableLowBar:cc.Node,lblLowTips:cc.Label},updateTableLowBarActive:function(e){this.tableLowBar.active=e},onLoad:function(){this.table=ITeenPatti.getCurTable(),this._super()},initComplete:function(){this._super(),this.gameCore.gameMng.isFitHeight()||(this.tableLowBar.height=120),this.gameCore.uiMng.addListener("PublicMessage",this,this.onMessageReceive),this.gameCore.uiMng.addListener("sendmessage",this,this.onMessageReceive),this.gameCore.uiMng.addListener("UserStandUp",this,this.onUserStandUp),this.gameCore.uiMng.addListener(c.SERVER_CMD_USER_SIT_DOWN,this,this.onUserSitDown),this.updateChatBtnVisible(),this.dealer.tableController=this,this.centerSeat.tableController=this,this.controlBar.tableController=this;for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].curTable=this.table,this.arrSeat[e].tableController=this;this.rearrangeSeat(!0),this.updateGiftBtnVisible(),this.updateTableLowBarActive(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&ITeenPatti.getCurPlayer().role.isWatcher()),this.updateLowTipsLabel()},i18nRendersUpdate:function(){this._super(),this.updateLowTipsLabel()},getMessagePos:function(e){return 0==e?cc.v2(0,170):cc.v2(0,150)},updateCenterSeatVisible:function(){this.arrSeat[0].node.active=!ITeenPatti.getCurPlayer().role.isWatcher(),this.arrSeat[1].node.active=ITeenPatti.getCurPlayer().role.isWatcher()},rearrangeSeat:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){if(e)for(var t=-1!=ITeenPatti.getCurPlayer().role.playerId?ITeenPatti.getCurPlayer().role.playerId:1,i=0;i<this.arrSeat.length;i++){var n=this.arrSeat[i];n.playerId=i<2?t:(t+i-1)%5,n.playerId=0==n.playerId?5:n.playerId,n.seatId=i,n.clearSeat(!1)}this.updateCenterSeatVisible();for(var a=this.table.getUserList(),o=0;o<a.length;o++){var s=a[o].role.playerId,r=this.getSeatWithPlayerId(s);r&&r.onUserSitDown(a[o]),e&&r&&r.updateBetTieLabel(),r&&r.updateGameCrown()}this.updateSeatState()}},isBanker:function(){return!1},updateSeatState:function(){for(var e=1;e<this.arrSeat.length;e++)this.arrSeat[e].hasPlayer()||(ITeenPatti.getCurPlayer().role.isWatcher()&&!this.isBanker()?this.arrSeat[e].sitDownState():this.arrSeat[e].inviteState())},getSeatWithPlayerId:function(e){if(!ITeenPatti.getCurPlayer().role)return null;for(var t=!ITeenPatti.getCurPlayer().role.isWatcher()?0:1;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.playerId==e)return i}return null},getSeatWithUserId:function(e){for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.tpUser.userId==e)return i}return null},onUserEnterRoom:function(e){},onUserExitRoom:function(e){var t=this.getSeatWithUserId(e.user.name);t&&(t.onUserExitRoom(e),this.rearrangeSeat(),this.updateCountDown()),this.updateGameCrown()},onRoundFinish:function(e,t){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(t.roundID,this.table.roundID)},onMessageReceive:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=""+t.id;if(!ITeenPatti.getCurRoom().msgHistory.isBlocked(i)){var n=this.getSeatWithUserId(i);if(n){var a=cc.instantiate(this.pfbMsg);a.setPosition(this.getMessagePos(n.seatId)),n.node.addChild(a),a.getComponent("MsgPop").setPopText(t.msg,"sendmessage"==e)}}}},onUserStandUp:function(e){this.updateLowTipsLabel(),this.controlBar.onUserStandUp(e),this.dealer.onUserStandUp(null,e);var t=this.getSeatWithUserId(e.user.name);t&&t.onUserStandUp(),this.updateGameCrown(),ITeenPatti.getCurTable()&&0==ITeenPatti.getCurTable().getSitUserCount()&&(this.startTime=0,this.downTime=0),t&&(this.rearrangeSeat(),this.updateCountDown()),this.updateGiftBtnVisible(),this.updateChatBtnVisible(),ITeenPatti.getCurPlayer().role&&ITeenPatti.getCurPlayer().role.isWatcher()&&this.updateTableLowBarActive(!0)},onUserSitDown:function(e){if((this.dealer.onUserSitDown(null,e),ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role)&&!(e.user.playerId<0)){if(this.updateGameCrown(),this.updateLowTipsLabel(),e.user.isItMe)this.rearrangeSeat(!0),this.inCountDown()&&2==this.roomStatus?(this.controlBar.show(),this.updateTableLowBarActive(!1),this.centerSeat.balanceBar.active=!0):(this.updateTableLowBarActive(!0),this.centerSeat.balanceBar.active=!1);else{var t=this.getSeatWithPlayerId(e.user.playerId);t&&t.onUserSitDown(this.table.getUserWithPlayerID(e.user.playerId))}this.updateCountDown(),this.updateGiftBtnVisible(),this.updateChatBtnVisible()}},updateChatBtnVisible:function(){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(this.chatBtn.active=!ITeenPatti.getCurPlayer().role.isWatcher()||this.isBanker())},updateGiftBtnVisible:function(){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role)for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].updateGiftBtnActive(!ITeenPatti.getCurPlayer().role.isWatcher()||this.isBanker())},updateCountDown:function(){if(3!=this.roomStatus&&this.inCountDown())for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].startCountDown(this.startTime,this.getBetDuration(),Math.max(0,((new Date).getTime()-this.startTime)/1e3)/this.getBetDuration())},updateGameCrown:function(){for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].updateGameCrown()},inCountDown:function(){return this.startTime>0&&(new Date).getTime()-this.startTime<1e3*this.getBetDuration()},onUserUpdate:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=t.user.playerId,n=this.getSeatWithPlayerId(i);n&&n.onUserUpdate(t)}},resetRoleInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.dealer.commonCardValue=-1;for(var t=this.table.getUserList(),i=0;i<t.length;i++)if(t[i]&&t[i].role){if(2==this.roomStatus&&(t[i].role.totalBetAmount=0,t[i].role.inWar=!1,t[i].role.isSurrender=!1),null!=e){var n=!1;for(var a in e.user)if(e.user[a].userId==t[i].strTPID){n=!0;break}n||(t[i].role.totalBetAmount=0,t[i].role.lastTotalBetAmount=0)}t[i].role.totalTieAmount=0,t[i].role.lastTotalTieAmount=0,t[i].role.ready=!1,t[i].role.card=-1}},onAllCard:function(e){if(this.startTime=0,this.downTime=0,3==this.roomStatus&&-1==e.commonCard)for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].onAutoSurrender(e);else{var i=1.5;for(t=0;t<this.arrSeat.length;t++)this.arrSeat[t].onAllCard(e,i)&&(i+=.5);this.dealer.onAllCard(e,i)}this.dealer.dealBegin()},onCommonCardShowUp:function(){for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].onCommonCardShowUp()},onPlayerReady:function(e){},onStartWar:function(e){this.updateGameCrown(),this.roomStatus=e.roomStatus,2!=e.roomStatus&&3!=e.roomStatus||this.resetRoleInfo(e);for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].onStartWar(e);if(2==e.roomStatus||3==e.roomStatus?(this.startTime=(new Date).getTime()-1e3*(this.getBetDuration()-e.downTime),this.downTime=e.downTime):(this.startTime=0,this.downTime=0),1!=e.roomStatus&&4!=e.roomStatus&&5!=e.roomStatus&&6!=e.roomStatus)for(var i in e.user)for(t=0;t<this.arrSeat.length;t++)3==e.roomStatus?this.arrSeat[t].startCountDownByUserId(e.user[i].userId,this.startTime,this.getBetDuration(),Math.max(0,this.getBetDuration()-e.downTime)/this.getBetDuration()):this.arrSeat[t].startCountDown(this.startTime,this.getBetDuration(),Math.max(0,this.getBetDuration()-e.downTime)/this.getBetDuration());2==this.roomStatus&&(this.updateTableLowBarActive(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&ITeenPatti.getCurPlayer().role.isWatcher()),this.centerSeat.balanceBar.active=!0)},onBet:function(e){for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].onBet(e);this.centerSeat.tpUser&&this.centerSeat.tpUser.role&&this.centerSeat.tpUser.role.playerId==e.playerId&&1==e.type&&this.centerSeat.tpUser.role.totalBetAmount+e.bet>ITeenPatti.getCurPlayer().nChips-e.bet&&this.gameCore.gameMng.openChipsNotEnough1()},sitMinBalanceAmount:function(){return 8*ITeenPatti.getCurRoom().profile.nBootAmount},onStartTime:function(e){for(var t=0;t<this.arrSeat.length;t++)this.resetRoleInfo(),this.arrSeat[t].onStartTime();ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&!ITeenPatti.getCurPlayer().role.isWatcher()&&!this.gameCore.gameMng.hasEnoughChips2(this.sitMinBalanceAmount())&&ITeenPatti.sendMsg("standup",null)},updateLowTipsLabel:function(){var e=ITeenPatti.getCurPlayer();e&&e.role&&(ITeenPatti.getCurPlayer().role.isWatcher()?ITeenPatti.getCurTable().isTableFull?this.lblLowTips.string=l.t("label_text.table_full"):this.lblLowTips.string=l.t("label_text.tap_to_sit"):this.lblLowTips.string=l.t("label_text.wait_to_start"))},giftScale:function(e,t){var i=1;return 23==t&&(i=0!=e?1/.52:1/.66),0!=e?.52*i:.66*i},getBetDuration:function(){return 10},onRewardComplete:function(){}}),cc._RF.pop()},{BaseTable:"BaseTable",BaseTableController:"BaseTableController",CasinoWarBaseSeat:"CasinoWarBaseSeat",CasinoWarCenterSeat:"CasinoWarCenterSeat",CasinoWarControlBar:"CasinoWarControlBar",Command:"Command",GameData:"GameData",LanguageData:"LanguageData",TableDealerCasinoWar:"TableDealerCasinoWar"}],CasinoWarTable:[function(e,t,i){"use strict";cc._RF.push(t,"d3eaegzZOxEx4jbZAnKyEKi","CasinoWarTable");e("TeenPattiUser");var n=e("TeenPattiCasinoWarRoler"),a=e("Command"),o=e("BaseTable");cc.Class({extends:o,name:"CasinoWarTable",properties:{},initCallback:function(){this.arrHandler={},this.arrHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrHandler.UserEnterRoom=handler(this,this.onUserEnterRoom),this.arrHandler.UserExitRoom=handler(this,this.onUserExitRoom),this.arrHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrHandler.UserSitDown=handler(this,this.onUserSitDown),this.arrHandler.UserUpdate=handler(this,this.onUserUpdate),this.arrHandler[a.SERVER_CMD_UPDATE_BONUS]=handler(this,this.onUserLevelUp),this.arrHandler.starttime=handler(this,this.onRoundReady),this.arrHandler.finish=handler(this,this.onRoundFinish),this.arrHandler[a.SERVER_CMD_WAR_READY]=handler(this,this.onPlayerReady)},getRoler:function(e){return new n(e)},onPlayerReady:function(e){for(var t=0;t<this.arrUser.length;t++)e.playerId==this.arrUser[t].strTPID&&(this.users[t].role.ready=!0)}}),cc._RF.pop()},{BaseTable:"BaseTable",Command:"Command",TeenPattiCasinoWarRoler:"TeenPattiCasinoWarRoler",TeenPattiUser:"TeenPattiUser"}],CenterSeatCardBarTour:[function(e,t,i){"use strict";cc._RF.push(t,"2ebaczT5khJs57qO+kXw1E7","CenterSeatCardBarTour");var n=e("CenterSeatCardBar"),a=e("Command");cc.Class({extends:n,properties:{},initListener:function(){ITeenPatti.addListener(a.SERVER_CMD_TOUR_SEE,this,this.onCardBarSeeResp)},onCardBarSeeResp:function(e,t){this.seeing=!1}}),cc._RF.pop()},{CenterSeatCardBar:"CenterSeatCardBar",Command:"Command"}],CenterSeatCardBar:[function(e,t,i){"use strict";cc._RF.push(t,"d7f79TNcmhGjLx5fZZDvMSo","CenterSeatCardBar");var n=e("UIInfo"),a=e("CardBar");cc.Class({extends:a,properties:{hsm:cc.Node,hsmLevels:[cc.Node],degree:1,times:0,seeing:{default:!1,visible:!1}},onLoad:function(){this._super(),this.hsm.active=!1},initComplete:function(){this._super()},initListener:function(){ITeenPatti.addListener("see",this,this.onCardBarSeeResp)},onRoundReady:function(e){this._super(e),this.hsm.active=!1},onUserRefresh:function(e){this._super(e);var t=e.role.getUserCard(),i=ITeenPatti.getCurTable().contrller;t.length<1||i.state!=UI_TABLE_STATE.RUNNING||this.showHSM()},onBtnSeeClicked:function(){this.seeing=!0},showLoading:function(){this.indicator=this.gameCore.uiMng.showLoading1(cc.v2(0,150),this.node,.5)},onCardBarSeeResp:function(e,t){this.seeing=!1,this.degree=t.degree?t.degree:1,this.times=t.num?t.num:0},showHSM:function(){var e=ITeenPatti.getCurTable();if(e&&e.contrller){var t=ITeenPatti.getCurRoom();if(t&&!t.isTournament&&this.gameCore.gameMng.handStrengthMeter&&e.contrller.state!=UI_TABLE_STATE.OVER){this.hsm.active=!0;for(var i=0;i<this.hsmLevels.length;i++)this.hsmLevels[i].active=!1;for(i=0;i<this.degree;i++)this.hsm.runAction(cc.sequence(cc.delayTime(.08*i),cc.callFunc(function(e,t){this.hsmLevels[t].active=!0},this,i)));1==this.times&&this.gameCore.uiMng.openUI(n.HSM_TIPS)}}},onAnimCenterCardFaceUpEnd:function(){this._super(),this.showHSM()},onAnimCenterCardFaceUpEndJoker:function(){this.showHSM()}}),cc._RF.pop()},{CardBar:"CardBar",UIInfo:"UIInfo"}],CenterSeatTour:[function(e,t,i){"use strict";cc._RF.push(t,"1aa28SGA+xLLqJP4YP4N0Zl","CenterSeatTour");var n=e("CenterSeat"),a=e("GameUtils"),o=e("LanguageData");cc.Class({extends:n,properties:{},updateBalance:function(){this.tpUser&&(this.lblBalance.string=o.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.tpUser.getTeenPattiProfile().tournamentChips,1e7)}),this.controlBar.updateBarOnActive(!1))},onRoundReady:function(){this._super(),this.controlBar.node.active=!1},onRoundStart:function(){this.controlBar.node.active=!1},onUserUpdate:function(e,t){if(this.tpUser){var i=!0;if(t&&t.changedVars)for(var n in i=!1,t.changedVars)"vc"==t.changedVars[n]&&(i=!0);if(i){var a=ITeenPatti.getCurTable();a.isRoundPartner(this.tpUser.userId)&&a.state==TABLE_STATE.OVER||this.updateBalance()}}}}),cc._RF.pop()},{CenterSeat:"CenterSeat",GameUtils:"GameUtils",LanguageData:"LanguageData"}],CenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"afa6aIpDb1IB6JrcOCeqDOS","CenterSeat");var n="CenterSeat",a=e("GameUtils"),o=e("SeatExtend"),s=e("LanguageData"),r=e("ControlBar");cc.Class({extends:o,properties:{btnSee:cc.Button,balanceBar:cc.Node,controlBar:r,expBar:cc.Node,lblSee:cc.Label,lblBalance:cc.Label,lblExp:cc.Label},onLoad:function(){this.lblSee.string="See",this.tpUser||this.clearSeat(),this._super()},clearSeat:function(){this.btnSee.node.active=!1,this.controlBar.hide(),this.balanceBar.active=!0,this.lblBalance.string=s.t("label_text.chips_with_symbol",{number:0}),this.expBar.active=!1,this.expBar.getComponent(cc.Animation).stop("gs_anim_seat_exp")},updateBalance:function(){this.lblBalance.string=s.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.tpUser.getTeenPattiProfile().nChips,1e7)});var e=ITeenPatti.getCurRoom().profile.nCompareChaalLimit;this.lblBalance.node.color=new cc.Color(255,255,255),this.tpUser.getTeenPattiProfile().nChips<e?this.lblBalance.node.color=new cc.Color(255,0,0):this.tpUser.getTeenPattiProfile().nChips<2*e&&(this.lblBalance.node.color=new cc.Color(255,128,0)),this.controlBar.updateBarOnActive()},onOtherStandUp:function(){this.controlBar.onOtherStandUp()},onOtherSitDown:function(){},onOtherUpdate:function(){this.controlBar.onOtherUpdate()},onUserSitDown:function(e){this._super(e),this.updateBalance(),this.expBar.getComponent(cc.Animation).stop("gs_anim_seat_exp")},onUserStandUp:function(){this._super(),this.clearSeat()},onUserUpdate:function(e,t){if(this.tpUser){var i=!0;if(t&&t.changedVars)for(var n in i=!1,t.changedVars)"cp"==t.changedVars[n]&&(i=!0);if(i){var a=ITeenPatti.getCurTable();a.isRoundPartner(this.tpUser.userId)&&a.state==TABLE_STATE.OVER||this.updateBalance()}}},btnSeeVisible:function(){return!(ITeenPatti.getCurRoom()instanceof e("PotBlindRoom"))},onRoundRefresh:function(){if(this.tpUser){var e=ITeenPatti.getCurTable(),t=(ITeenPatti.getCurTable().contrller,ITeenPatti.getCurPlayer().role,this.tpUser.role.playerId==e.nextID&&e.nextID!=e.lastID);this.controlBar.node.active=t,this.controlBar.onUserRefresh(),this.btnSee.node.active=this.tpUser.role.state==USER_STATE.BLIND&&e.isRoundPartner(this.tpUser.role.userId),LogUtil.debug(n,"onRoundRefresh btnSee active "+this.btnSee.node.active+" bIsMeRound"+t)}},onUserActive:function(){this._super();var e=ITeenPatti.getCurTable(),t=ITeenPatti.getCurPlayer().role;t&&(this.controlBar.node.active=!0,this.controlBar.onUserActive(),this.btnSee.node.active=e.contrller.state==UI_TABLE_STATE.RUNNING&&t.isAlivePartner()&&!t.isCardSeen()&&this.btnSeeVisible()&&e.isRoundPartner(t.userId),LogUtil.debug(n,"onUserActive btnSee active "+this.btnSee.node.active))},onUserSilent:function(){this._super();var e=ITeenPatti.getCurTable(),t=ITeenPatti.getCurPlayer().role;t&&(this.controlBar.hide(),this.btnSee.node.active=e.contrller.state==UI_TABLE_STATE.RUNNING&&!ITeenPatti.getCurTable().isRoundOver()&&e.isRoundPartner(t.userId)&&t.isAlivePartner()&&!t.isCardSeen()&&this.btnSeeVisible(),LogUtil.debug(n,"onUserSilent btnSee active "+this.btnSee.node.active))},onUserSee:function(){this._super(),this.gameCore.gameMng.playAudioEffect("see"),this.btnSee.node.active=!1,this.controlBar.onUserSee()},onRoundReady:function(){this.expBar.active=!1,this.controlBar.onRoundReady()},onRoundOver:function(){this._super(),this.controlBar.hide(),this.btnSee.node.active=!1},onRoundFinish:function(){this.expBar.active=!0,this.lblExp.string="+ "+ITeenPatti.getCurTable().curRoundExp+"XP",this.expBar.getComponent(cc.Animation).playAdditive("gs_anim_seat_exp")},onUserPack:function(){this._super(),this.controlBar.hide(),this.btnSee.node.active=!1},onUserLose:function(){this._super(),this.controlBar.hide(),this.btnSee.node.active=!1},onUserWin:function(){this.controlBar.hide(),this.btnSee.node.active=!1},onUserSide:function(){this.controlBar.hide()},onBtnSeeClicked:function(){},onBtnBuyClicked:function(){}}),cc._RF.pop()},{ControlBar:"ControlBar",GameUtils:"GameUtils",LanguageData:"LanguageData",PotBlindRoom:"PotBlindRoom",SeatExtend:"SeatExtend"}],Chat:[function(e,t,i){"use strict";cc._RF.push(t,"e4bae/qa7VDiLHsMjlLjuwo","Chat");var n=e("BaseEdgePopup"),a=e("UIInfo"),o=e("EmojiCache"),s=e("DataAnalysisKey");cc.Class({extends:n,properties:{autoDispose:{default:!1,override:!0,visible:!1},panelList:[cc.Node],toggleGroup:cc.ToggleContainer,chatEditBoxBg:cc.Node,chatEditBox:cc.EditBox,leftWordsLabel:cc.Label,quickMessageContent:cc.Node,quickMessageBtnPrefab:{default:null,type:cc.Prefab,tooltip:"\u6587\u5b57\u5feb\u6377\u56de\u590d\u5355\u4e2a\u6309\u94ae"},emojiLoadMask:cc.Node,emojiContent:cc.Node,emojiBtnPrefab:{default:null,type:cc.Prefab,tooltip:"\u8868\u60c5\u5feb\u6377\u56de\u590d\u5355\u4e2a\u6309\u94ae"},emojiCache:{visible:!1,type:o,default:null},messageTemplate:cc.Prefab,historyScrollView:cc.Widget,historyList:cc.Node,nHistoryHeight:0,strReceiverID:null,objMessageList:{default:[],visible:!1}},onLoad:function(){this.editboxOffsetY=2,this.emojiCache=cc.director.getScene().getChildByName("Canvas").getComponent("EmojiCache"),ITeenPatti.addListener("PublicMessage",this,this.onMessageReceive),ITeenPatti.addListener("sendmessage",this,this.onMessageReceive),this.node.on(cc.Node.EventType.TOUCH_START,this.onSelfTouchEnd,this,!0),isInstantGame&&(this.historyScrollView.left=-685),this.historyList.removeAllChildren(),this.nHistoryHeight=0,this.objMessageList=[],this.i18nRendersUpdate(),this._super()},showBlackBgAnimation:function(){},openAnimationComplete:function(){if(this._super(),ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().msgHistory)for(var e=ITeenPatti.getCurRoom().msgHistory.getAllMsg(),t=0;t<e.length;t++)this.onMessageReceive("",e[t])},initComplete:function(){this._super(),this.quickMessageBtnList=[],this.quickMessageCount=12,this.quickMessageContent.removeAllChildren();for(var e=0;e<this.quickMessageCount;e++){var t=cc.instantiate(this.quickMessageBtnPrefab);t.setPosition(0,70*-e-32),this.quickMessageContent.addChild(t),this.quickMessageBtnList.push(t),t.getComponent("QuickMessageBtn").setBtnClickCb(handler(this,this.onBtnFastMsgClicked)),t.getComponent("QuickMessageBtn").index=e}this.quickMessageContent.height=70*this.quickMessageCount,this.emojiContent.removeAllChildren(),this.emojiLoadMask&&(this.emojiLoadMask.active=!1),this.emojiCache.isEmojiLoad()?this.initEmojiList():ITeenPatti.addListener("EmojiLoad",this,this.onEmojiLoad),this.i18nRendersUpdate(),this.injectGameCore(),this.gameCore.dataAnalysisMng.sendData(s.CHAT_ROOM_OPEN,this.gameCore.dataAnalysisMng.gameBaseData)},onSelfTouchEnd:function(e){},initEmojiList:function(){this.emojiContent.removeAllChildren(),this.emojiLoadMask&&(this.emojiLoadMask.active=!1);for(var e=cc.v2(-90,-45),t=this.emojiCache.getEmojiCount(),i=0;i<t;i++){var n=cc.instantiate(this.emojiBtnPrefab);this.emojiContent.addChild(n),n.setPosition(e.x+i%3*90,e.y+-90*Math.floor(i/3)),this.emojiContent.height=Math.max(620,Math.abs(n.y+e.y));var a=n.getComponent("EmojiBtnTemplate");a.setEmojiInfo(i,this.emojiCache),a.setClickCb(handler(this,this.onBtnEmojiClicked)),a.index=i}},setReceiverID:function(e){this.strReceiverID=e},i18nRendersUpdate:function(){if(this.quickMessageBtnList){for(var t=e("LanguageData"),i=0;i<this.quickMessageBtnList.length;i++){this.quickMessageBtnList[i].getChildByName("Label").getComponent(cc.Label).string=t.t("label_text.quick_msg"+(i+1))}this.chatEditBox.placeholder=t.t("label_text.enter_chat_message")}},statesRecoverUpdate:function(){this.toggleGroup._isOnLoadCalled&&(void 0!=this.recoverStates[a.UI_STATE_TOGGLE_INDEX]&&this.toggleGroup.toggleItems.length>this.recoverStates[a.UI_STATE_TOGGLE_INDEX]&&this.toggleGroup.toggleItems[this.recoverStates[a.UI_STATE_TOGGLE_INDEX]].check(),this.chatEditBox._isOnLoadCalled&&(void 0!=this.recoverStates[a.UI_STATE_WORDS]&&(this.chatEditBox.string=this.recoverStates[a.UI_STATE_WORDS],this.updateLeftWordsLabelText()),this._super()))},statesPersistence:function(){for(var e={},t=0;t<this.toggleGroup.toggleItems.length;t++)if(this.toggleGroup.toggleItems[t].isChecked){e[a.UI_STATE_TOGGLE_INDEX]=t;break}return e[a.UI_STATE_WORDS]=this.chatEditBox.string,e},onToggleClk:function(e,t){for(var i=0;i<this.panelList.length;i++)this.panelList[i].active=t==i;this.emojiLoadMask&&(this.emojiLoadMask.active=this.panelList[1].active&&this.emojiContent.childrenCount<1)},onEditBoxTextChange:function(e,t){this.updateLeftWordsLabelText()},updateLeftWordsLabelText:function(){this.leftWordsLabel.string=this.chatEditBox.string.length+"/70"},onEmojiLoad:function(e,t){ITeenPatti.removeListener(e,this),this.emojiLoadMask&&(this.emojiLoadMask.active=!1),this.initEmojiList()},onMessageReceive:function(e,t){var i=this,n=cc.instantiate(this.messageTemplate);this.historyList.addChild(n),n.getComponent("MessageTemplate").setContent(t.id+"",t.name,t.msg,this.emojiCache),n.setPosition(0,-this.nHistoryHeight),this.nHistoryHeight+=n.height+10,this.historyList.height=this.nHistoryHeight,this.nHistoryHeight>this.popupBg.height-12&&this.historyList.setPosition(this.historyList.x,this.nHistoryHeight-this.popupBg.height-12),this.objMessageList.push(n),n.on("size-changed",function(e,t){i.nHistoryHeight=0;for(var n=0;n<this.objMessageList.length;n++)i.nHistoryHeight+=this.objMessageList[n].height+10;i.nHistoryHeight>this.popupBg.height+20&&(i.historyList.height=this.nHistoryHeight,i.historyList.setPosition(i.historyList.x,i.nHistoryHeight-this.popupBg.height+20))}.bind(this))},onBtnEmojiClicked:function(e,t){this.chatEditBox.string=e,this.sendMessage(),this.gameCore.dataAnalysisMng.sendData(this.strReceiverID?s.SEND_MESSAGE_EMOJI:s.CHAT_ROOM_EMOJI,this.gameCore.dataAnalysisMng.gameBaseData.concat("other_data:"+t))},onBtnSendClicked:function(){this.gameCore.dataAnalysisMng.sendData(this.strReceiverID?s.SEND_MESSAGE_ENTERWORD:s.CHAT_ROOM_ENTERWORD,this.gameCore.dataAnalysisMng.gameBaseData),this.sendMessage()},sendMessage:function(){this.strReceiverID?(ITeenPatti.sendMsg("sendmessage",{id:parseInt(this.strReceiverID),msg:this.chatEditBox.string}),ITeenPatti.onMsgReceived("sendmessage",{id:parseInt(ITeenPatti.getCurPlayer().userId),msg:this.chatEditBox.string,name:ITeenPatti.getCurPlayer().getTeenPattiProfile().strTPName})):ITeenPatti.sendMsg("publicmsg",this.chatEditBox.string),this.chatEditBox.string="",this.closeUI()},onBtnFastMsgClicked:function(e,t,i){this.strReceiverID?(ITeenPatti.sendMsg("sendmessage",{id:parseInt(this.strReceiverID),msg:t}),ITeenPatti.onMsgReceived("sendmessage",{id:parseInt(ITeenPatti.getCurPlayer().userId),msg:t,name:ITeenPatti.getCurPlayer().getTeenPattiProfile().strTPName})):ITeenPatti.sendMsg("publicmsg",t),this.chatEditBox.string="",this.gameCore.dataAnalysisMng.sendData(this.strReceiverID?s.SEND_MESSAGE_FASTWORD:s.CHAT_ROOM_FASTWORD,this.gameCore.dataAnalysisMng.gameBaseData.concat("other_data:"+i)),this.closeUI()},closeUI:function(){this.gameCore.dataAnalysisMng.sendData(s.CHAT_ROOM_CLOSE,this.gameCore.dataAnalysisMng.gameBaseData),this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",DataAnalysisKey:"DataAnalysisKey",EmojiCache:"EmojiCache",LanguageData:"LanguageData",UIInfo:"UIInfo"}],ChipsFlyEffect:[function(e,t,i){"use strict";cc._RF.push(t,"72ad9JDxOxLbrmsCmJa/fdC","ChipsFlyEffect");var n=e("Command"),a=e("GameUtils"),o=e("LanguageData"),s=e("BaseEffect");cc.Class({extends:s,properties:{chipRotate:cc.Prefab,chipRotateGreen:cc.Prefab,chipsCount:10,startPos:cc.v2(0,0),chipsChangeObj:{default:null,visible:!1},hUpdateCb:{visible:!1,default:null},hFinishCb:{visible:!1,default:null}},onLoad:function(){this._super()},flyBezier:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isValid){this.startPos=e||cc.v2(0,0),this.endPos=[cc.v2(-190,this.gameCore.userMng.endPosY),cc.v2(241,179),cc.v2(154,59),cc.v2(0,-282)];cc.v2((this.endPos.x-this.startPos.x)/2,(this.endPos.y-this.startPos.y)/2);for(var r=0;r<this.chipsCount;r++){var l=0==i?cc.instantiate(this.chipRotate):cc.instantiate(this.chipRotateGreen);0==i&&(l.rotation=360*Math.random()),1==i?l.setPosition(this.startPos.add(cc.v2(-25,-25)).add(cc.v2(50*Math.random(),50*Math.random()))):l.setPosition(this.startPos.add(cc.v2(-50,-50)).add(cc.v2(100*Math.random(),100*Math.random())));var c=[cc.delayTime(.08*r),cc.spawn([cc.callFunc(function(e){this&&this.isValid&&this.node.addChild(e)},this,l),cc.scaleTo(0==i?.7:.3,1==i?1:0==t?.9:.7),cc.moveTo(0==i?.7:.3,this.endPos[t])])];0==r?c.unshift(cc.callFunc(function(){this.gameCore&&this.gameCore.gameMng.playAudioEffect("bonus")},this)):r==this.chipsCount-1&&c.push(cc.callFunc(function(){if(this&&this.isValid&&(this.gameCore.userMng.chipsFlyStartPos=null,this.gameCore.gameMng.resumeChipsRefresh(),this.chipsChangeObj))if(0==i?this.gameCore.uiMng.dispatch(n.UI_CMD_CHIPS_CHANGE,this.chipsChangeObj):1==i&&this.gameCore.uiMng.dispatch(n.UI_CMD_BANK_CHIPS_CHANGE,this.chipsChangeObj),s){var e=new cc.Node;e.opactiy=0;var r=e.addComponent(cc.Label);r.overflow=cc.Label.Overflow.NONE,r.fontSize=24,r.horizontalAlign=cc.Label.HorizontalAlign.LEFT,r.verticalAlign=cc.Label.VerticalAlign.CENTER,r.string=o.t("label_text.chips_with_symbol_plus",{number:a.formatNumberWithRules(this.chipsChangeObj.change)}),e.setPosition(this.endPos[t].add(cc.v2(-92,-40))),this.node.addChild(e),e.runAction(cc.sequence(cc.fadeTo(.3,255),cc.delayTime(.2),cc.callFunc(function(e){this.closeUI()},this,e)))}else this.closeUI()},this)),l.runAction(cc.sequence(c))}}},fly:function(e,t){this.nChipAdd=0,this.startPos=e?this.node.convertToNodeSpaceAR(e):cc.v2(0,0),this.endPos=this.node.convertToNodeSpaceAR(t);for(var i=this.startPos.sub(this.endPos).mag()/300,a=0;a<this.chipsCount;a++){var o=cc.instantiate(this.chipRotate);o.setPosition(this.startPos),this.node.addChild(o);var s=[cc.delayTime(.08*a),cc.spawn([cc.scaleTo(.7,i),cc.moveTo(.7,this.endPos)]),cc.callFunc(function(){this.onChipUpdate()},this)];0==a?s.unshift(cc.callFunc(function(){this.gameCore.gameMng.playAudioEffect("bonus")},this)):a==this.chipsCount-1&&s.push(cc.callFunc(function(){this.gameCore.userMng.chipsFlyStartPos=null,this.gameCore.gameMng.resumeChipsRefresh(),this.chipsChangeObj&&this.gameCore.uiMng.dispatch(n.UI_CMD_CHIPS_CHANGE,this.chipsChangeObj),this.onChipFinish(),this.closeUI()},this)),o.runAction(cc.sequence(s))}},onChipUpdate:function(){this.nChipAdd+=1,this.hUpdateCb&&this.hUpdateCb(this.nChipAdd)},onChipFinish:function(){this.hFinishCb&&this.hFinishCb()},setUpdateCb:function(e,t){this.hUpdateCb=e,this.hFinishCb=t}}),cc._RF.pop()},{BaseEffect:"BaseEffect",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ChipsNotEnough1:[function(e,t,i){"use strict";cc._RF.push(t,"45555H71shAubAiPXu6Ym63","ChipsNotEnough1");e("Command");var n=e("UIInfo"),a=e("GameUtils"),o=e("LanguageData"),s=e("BaseEdgePopup"),r=e("DataAnalysisKey"),l=e("GameData");cc.Class({extends:s,properties:{lblTitle:cc.Label,lblDesc:cc.Label,bg:cc.Node,lblAmount:cc.Label,lblPrice:cc.Label,imgProduct:cc.Sprite,lblNovicePrice:cc.Label,nomalPanel:cc.Node,novicePanel:cc.Node},onLoad:function(){this._super(),this.bg.on(cc.Node.EventType.TOUCH_END,this.onBlackBgTouchEnd,this)},initComplete:function(){this._super(),this.gameCore.dataAnalysisMng.sendData(r.POPUP_CHIPSLESS_SHORTCUT,this.gameCore.dataAnalysisMng.gameBaseData),this.gameCore.uiMng.isInCasinoWarGame?this.lblDesc.string=o.t("label_text.balance_not_enough"):this.gameCore.uiMng.curSceneKey==n.AB_SCENE.name||this.gameCore.uiMng.curSceneKey==n.AB_GOLD_SCENE.name?this.lblDesc.string=o.t("label_text.insuffient_chips_msg"):this.gameCore.uiMng.curSceneKey==n.AB_PVP_SCENE.name||this.gameCore.uiMng.curSceneKey==n.AB_PVP_GOLD_SCENE.nam?this.lblDesc.string=o.t("label_text.insuffient_chips_msg"):this.gameCore.uiMng.curSceneKey==n.RUMMY_SCENE.name?this.lblDesc.string=o.t("label_text.insuffient_chips_msg"):this.gameCore.uiMng.curSceneKey==n.TEXAS_HOLDEM_SCENE.name?this.lblDesc.string=o.t("label_text.insuffient_chips_msg"):this.lblDesc.string=o.t("label_text.chips_not_enough1_desc")},onGetSkuDetails:function(e,t){if(this.gameCore){var i=null,n=[];if(t&&""!=t)for(var o=(n=cc.sys.isBrowser?l.facebookNovicePackSkuIDList:this.gameCore.gameMng.noviceSkuDetailsFilter(e)).length-1;o>=0;o--){if(h=cc.sys.isBrowser?n[o]:JSON.parse(n[o]))if((cc.sys.isBrowser?h.id:h.productId)==t){this.novicePanel.active=!0,this.nomalPanel.active=!1,i=h,this.lblNovicePrice.string=h.price,this.product=h;break}}if(null==i){this.novicePanel.active=!1,this.nomalPanel.active=!0,(n=cc.sys.isBrowser?e:this.gameCore.gameMng.skuDetailsFilter(e)).sort(function(e,t){return cc.sys.isBrowser?t.count-e.count:a.unformatNumber(JSON.parse(t).title.slice(0,JSON.parse(t).title.indexOf(" ")))-a.unformatNumber(JSON.parse(e).title.slice(0,JSON.parse(e).title.indexOf(" ")))});var s=[cc.v2(-10,15),cc.v2(0,0),cc.v2(0,0),cc.v2(0,10),cc.v2(0,10),cc.v2(0,10)],r=0,c=0;if(null!=t&&""!=t)for(o=n.length-1;o>=0;o--){var h=cc.sys.isBrowser?n[o]:JSON.parse(n[o]);if((cc.sys.isBrowser?h.id:h.productId)==t){i=h,r=o,c=cc.sys.isBrowser?h.count:a.unformatNumber(h.title.slice(0,h.title.indexOf(" ")));break}}if(null==i)for(o=n.length-1;o>=0;o--){h=cc.sys.isBrowser?n[o]:JSON.parse(n[o]);var u=cc.sys.isBrowser?h.count:a.unformatNumber(h.title.slice(0,h.title.indexOf(" ")));if(0==o||u>this.gameCore.gameMng.getGameRoomChipsLimit()-this.gameCore.userMng.myself.nChips){i=h,r=o,c=u;break}}null!=i&&(this.lblPrice.string=i.price,this.lblAmount.string=a.formatNumberWithRules(c),this.imgProduct.node.setPosition(s[r]),cc.loader.loadRes("Common/Chips/chips_"+r,cc.SpriteFrame,function(e,t){e?LogUtil.err("Chips Not Enough1","Down Icon Icon Fail",e):this.imgProduct&&(this.imgProduct.spriteFrame=t)}.bind(this)),this.product=i)}}},onBtnBuyClicked:function(){this.product&&(this.gameCore.gameMng.buyStoreItem(this.product,l.PRE_BUY_P_CHIP_LESS),this.gameCore.dataAnalysisMng.sendData(r.CLICK_CHIPSLESS_SHORTCUT,this.gameCore.dataAnalysisMng.gameBaseData.concat("Exchange_Id:"+this.product.productId)),this.closeUI())}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],ChipsNotEnough2:[function(e,t,i){"use strict";cc._RF.push(t,"11b53DU3MZGIJhVoRp9N9nx","ChipsNotEnough2");var n=e("BaseUI"),a=e("UIInfo"),o=e("Command"),s=e("LanguageData"),r=e("DataAnalysisKey");cc.Class({extends:n,properties:{lblTitle:cc.Label,lblDesc:cc.Label,lblSwitch:cc.Label,lblBuy:cc.Label,btnSwitch:cc.Button,btnBuy:cc.Button,btnBuyLevel:cc.Button,btnMask:cc.Button,pnlMask:cc.Node},onLoad:function(){this.btnMask.node.active=!1,this.btnMask.interactable=!1,ITeenPatti.addListener(o.SERVER_CMD_ROOM_JOIN,this,handler(this,this.onRoomJoin)),this.lblDesc.string=s.t("label_text.chips_not_enough2_desc"),this._super()},initComplete:function(){this._super(),this.lblDesc.string=s.t("label_text.chips_not_enough3_desc"),this.btnSwitch.node.active=!1,this.btnBuy.node.active=!1,this.btnBuyLevel.node.active=!0},onBtnBuyClicked:function(e){if(this.gameCore.gameMng.hasPurchase()){this.gameCore.dataAnalysisMng.sendData(r.CLICK_CHIPSOUT_BUY,this.gameCore.dataAnalysisMng.gameBaseData);var t="",i=ITeenPatti.getCurRoom();i&&i.roomName&&(t=i.roomName.split(" ")[0]),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.OPEN_STORE_CHIPSOUT_GAME,"",this.gameCore.uiMng.curSceneKey,t,0),this.gameCore.uiMng.openUI(a.STORE)}},onBtnSwitchClicked:function(e){this.gameCore.dataAnalysisMng.sendData(r.CLICK_CHIPSOUT_SWITCH,this.gameCore.dataAnalysisMng.gameBaseData),this.lastRoom=ITeenPatti.getCurRoom(),this.lastRoomName=ITeenPatti.getCurRoom().roomName;var t=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);ITeenPatti.removeListener(o.SERVER_CMD_USER_EXIT_ROOM,t),ITeenPatti.addListener("UserExitRoom",this,this.onRoomExit),ITeenPatti.sendMsg("leaveroom",null),this.btnMask.interactable=!0,this.btnMask.node.active=!0,this.pnlMask.active=!0,this.popupBg.active=!1},onRoomExit:function(e,t){t.user.isItMe&&(ITeenPatti.removeListener("UserExitRoom",this,this.onRoomExit),this.lastRoom&&this.lastRoom.isNoLimit||(this.lastRoom&&this.lastRoom.isDeluxe?this.gameCore.userMng.play(o.SERVER_CMD_PLAY_DELUXE,ITeenPatti.roomType,!1,this.lastRoomName):this.lastRoom&&this.lastRoom.isCasinoWar?this.gameCore.userMng.playCasinoWar(!1,this.lastRoomName):this.lastRoom&&this.lastRoom.isAB?this.gameCore.userMng.playAB(!1,this.lastRoomName):this.lastRoom&&this.lastRoom.roomType==ROOM_TYPE.TEXAS_HOLDEM?this.gameCore.userMng.playTexasHoldem(!1,this.lastRoomName):this.gameCore.userMng.play(o.SERVER_CMD_PLAY,ITeenPatti.roomType,!1,this.lastRoomName)))},onRoomJoin:function(e,t){ITeenPatti.removeListenerWithTarget(this),this.gameCore.gameMng.openGameScene(),this.gameCore.dataAnalysisMng.sendData(r.JOIN_TABLE_SUCCESS,this.gameCore.dataAnalysisMng.gameBaseData)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData",UIInfo:"UIInfo"}],ChipsNotEnough3:[function(e,t,i){"use strict";cc._RF.push(t,"fd32aNtswJAf4FjydM4z/0t","ChipsNotEnough3");var n=e("BaseUI"),a=e("LanguageData"),o=e("UIInfo"),s=(e("Command"),e("DataAnalysisKey"));cc.Class({extends:n,properties:{lblTitle:cc.Label,lblDesc:cc.Label,lblBuy:cc.Label,btnBuy:cc.Button,btnFreeChips:cc.Node},onLoad:function(){this._super()},initComplete:function(){this._super(),this.btnBuy.node.active=this.gameCore.gameMng.hasPurchase()&&this.gameCore.userMng.myself.nLevel>=3,this.lblDesc.string=this.gameCore.gameMng.hasPurchase()?a.t("label_text.chips_not_enough3_desc"):a.t("label_text.chips_not_enough3_desc2")},updateDesc:function(e){this.lblDesc.string=e},onVideoAdWatched:function(e){e&&(ITeenPatti.getCurPlayer().getTeenPattiProfile().advNum-=1,ITeenPatti.sendMsg("advchips",null))},onBtnFreeChipsClicked:function(e){isInstantGame&&this.gameCore.userMng.showRewardedVideo(handler(this,this.onVideoAdWatched))&&this.closeUI()},onBtnBuyClicked:function(e){if(this.gameCore.gameMng.hasPurchase()){this.gameCore.dataAnalysisMng.sendData(s.CLICK_CHIPSOUT_GIFT_BUY,this.gameCore.dataAnalysisMng.gameBaseData);var t="",i=ITeenPatti.getCurRoom();i&&i.roomName&&(t=i.roomName.split(" ")[0]),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.OPEN_STORE_CHIPSOUT_OTHER,"",this.gameCore.uiMng.curSceneKey,t,0),this.gameCore.uiMng.openUI(o.STORE),this.closeUI()}else isInstantGame&&(this.gameCore.gameMng.openPrivateStore(),this.closeUI())}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData",UIInfo:"UIInfo"}],ChipsNotEnoughTwoItem:[function(e,t,i){"use strict";cc._RF.push(t,"21088v2V/REW5/4bFrkxqan","ChipsNotEnoughTwoItem");var n=e("BaseUI"),a=e("GameData"),o=e("GameUtils"),s=e("LanguageData"),r=e("Command");cc.Class({extends:n,properties:{subTitle1:cc.Node,subTitle2:cc.Node,loadingBgContainer:cc.Node,balanceLabel:cc.Label,chipsNeedLabel:cc.Label,buyBtnList:[cc.Node],buyBtnLabelList:[cc.Label],countLabelList:[cc.Label],oriCountLabelList:[cc.Label]},initComplete:function(){this._super();for(var e=0;e<this.buyBtnList.length;e++)this.buyBtnList[e].active=!1,this.countLabelList[e].string="",this.oriCountLabelList[e].string="";this.initListener(),this.updateBalanceLabel()},initListener:function(){this.gameCore.uiMng.addListener(r.UI_CMD_CHIPS_CHANGE,this,this.updateChips)},updateBalanceLabel:function(e){this.balanceLabel.string=o.formatNumberWithRules(e||this.gameCore.userMng.myself.nChips)},initData:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.twoItems=t,this.subTitle1.active=null==i,this.subTitle2.active=null!=i,null!=i&&(this.chipsNeedLabel.string=o.formatNumberWithRules(i)),this.subTitle1.getComponent(cc.Label).string=null!=n?n:this.getSubTitleText();for(var a=0;a<t.length;a++)this.buyBtnList[a].active=!0,t[a]&&(this.countLabelList[a].string=o.formatNumberWithRules(t[a].count),this.oriCountLabelList[a].string=o.formatNumberWithRules(t[a].basicCount),this.buyBtnLabelList[a].string=t[a].price)},getSubTitleText:function(){return s.t("label_text.buy_to_continue")},onBuyClk:function(e,t){this.twoItems&&this.twoItems[t]&&(this.gameCore.uiMng.showLoading(cc.v2(0,0),null,1,!0,this.loadingBgContainer),this.gameCore.gameMng.buyStoreItem(this.twoItems[t],a.PRE_BUY_P_CHIPS_NOT_ENOUGH))},closeUI:function(){this.gameCore.uiMng.hideLoading(),this._super()},updateChips:function(e){this.isChipsRefreshPaused||this.balanceLabel&&e&&this.updateBalanceLabel(e.final)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameData:"GameData",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ClampLabel:[function(e,t,i){"use strict";cc._RF.push(t,"55260Fk4cpGt4Otu81trB2+","ClampLabel");cc.Class({extends:cc.Component,properties:{label:cc.Label,labelRT:cc.RichText,string:{visible:!1,get:function(){return this._string},set:function(e){this._string=e,this.updateLabelString(e)}},maxWidth:120},updateLabelString:function(e){this.label&&(this.label.string=e),this.labelRT&&(this.labelRT.string=e)},checkLabelString:function(){this.label&&this.label.node.width>this.maxWidth&&this.string&&this.label&&(this.label.string=this.string.slice(0,this.string.length-4)+".."),this.labelRT&&this.labelRT.node.width>this.maxWidth&&this.string&&this.labelRT&&(this.labelRT.string=this.string.slice(0,this.string.length-4)+"..")},labelSizeChanged:function(e,t){this.checkLabelString()},onLoad:function(){this.label&&this.label.node.on(cc.Node.EventType.SIZE_CHANGED,this.labelSizeChanged,this),this.labelRT&&this.labelRT.node.on(cc.Node.EventType.SIZE_CHANGED,this.labelSizeChanged,this),this.checkLabelString()}}),cc._RF.pop()},{}],ClassicGoldCenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"bd4bdV+x4xD/qA/w4P8Yj5q","ClassicGoldCenterSeat");var n=e("LanguageData"),a=e("GameUtils"),o=(e("Command"),e("CenterSeat"));cc.Class({extends:o,properties:{},initComplete:function(){this._super()},updateBalance:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lblBalance.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.tpUser.getTeenPattiProfile().nGold,1e7)});var e=ITeenPatti.getCurRoom().profile.nCompareChaalLimit;this.lblBalance.node.color=new cc.Color(255,255,255),this.tpUser.getTeenPattiProfile().nGold<e?this.lblBalance.node.color=new cc.Color(255,0,0):this.tpUser.getTeenPattiProfile().nGold<2*e&&(this.lblBalance.node.color=new cc.Color(255,128,0)),this.controlBar.updateBarOnActive()},onUserUpdate:function(e){if(this.tpUser){var t=!0;if(e&&e.changedVars)for(var i in t=!1,e.changedVars)"gold"==e.changedVars[i]&&(t=!0);if(t){var n=ITeenPatti.getCurTable();n.isRoundPartner(this.tpUser.userId)&&n.state==TABLE_STATE.OVER||this.updateBalance()}}}}),cc._RF.pop()},{CenterSeat:"CenterSeat",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ClassicGoldControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"aa18c1kIThHQ5t1bdHmGyXD","ClassicGoldControlBar");var n=e("ControlBar");cc.Class({extends:n,properties:{},myBalance:function(){return ITeenPatti.getCurPlayer().getTeenPattiProfile().nGold}}),cc._RF.pop()},{ControlBar:"ControlBar"}],ClassicGoldNormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"331bbxoeHZJHbIybjTTArEY","ClassicGoldNormalSeat");var n=e("NormalSeat");cc.Class({extends:n,properties:{},initComplete:function(){this._super()},updateInviteBtnActive:function(e){this._super()},updateBgState:function(){this._super(),null==this.tpUser?this.partner.frame.active=!1:this.partner.frame.active=!0}}),cc._RF.pop()},{NormalSeat:"NormalSeat"}],ClassicGoldRoom:[function(e,t,i){"use strict";cc._RF.push(t,"f7afbu28RVCXZwUyyhP/Zau","ClassicGoldRoom");var n=e("ClassicRoom"),a=e("ClassicTable"),o=e("UIInfo");cc.Class({name:"ClassicGoldRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.CLASSIC_GOLD,this.table=new a,this.table.room=this,this.tableRulesUIInfo=o.CLASSIC_HELP}});cc._RF.pop()},{ClassicRoom:"ClassicRoom",ClassicTable:"ClassicTable",UIInfo:"UIInfo"}],ClassicGoldScene:[function(e,t,i){"use strict";cc._RF.push(t,"2247cHPAWVA0baRwDDsyJDm","ClassicGoldScene");var n=e("GameScene"),a=e("UIInfo");cc.Class({extends:n,properties:{},getBalance:function(){return ITeenPatti.getCurPlayer().nGold},getRoomInfoUIData:function(){return a.GAME_ROOM_INFO_CLASSIC_GOLD}}),cc._RF.pop()},{GameScene:"GameScene",UIInfo:"UIInfo"}],ClassicGoldTableDealer:[function(e,t,i){"use strict";cc._RF.push(t,"07ed9wx2VVG26Mg7hFC3eP9","ClassicGoldTableDealer");var n=e("TableDealer");cc.Class({extends:n,properties:{},getBalance:function(){return ITeenPatti.getCurPlayer().nGold}}),cc._RF.pop()},{TableDealer:"TableDealer"}],ClassicHelp:[function(e,t,i){"use strict";cc._RF.push(t,"f9543g7xQZAJrOH/GknP26n","ClassicHelp");var n=e("BaseEdgePopup");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup"}],ClassicRoom:[function(e,t,i){"use strict";cc._RF.push(t,"e7494v/oXNO2YkRaFRoHrlB","ClassicRoom");var n=e("BaseRoom"),a=e("UIInfo");cc.Class({name:"ClassicRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.CLASSIC,this.tableRulesUIInfo=a.CLASSIC_HELP}});cc._RF.pop()},{BaseRoom:"BaseRoom",UIInfo:"UIInfo"}],ClassicTable:[function(e,t,i){"use strict";cc._RF.push(t,"9c8bfP3th1JvruIWg0tlsU/","ClassicTable");var n=e("BaseTable");cc.Class({extends:n,name:"ClassicTable",properties:{}});cc._RF.pop()},{BaseTable:"BaseTable"}],Command:[function(e,t,i){"use strict";cc._RF.push(t,"c733e7cBstAUJ9UI+Rqf9W7","Command");t.exports={UI_CMD_CONNECT_FAIL:"ui_cmd_connect_fail",UI_CMD_FB_LOGIN_FAIL:"ui_cmd_fb_login_fail",UI_CMD_GET_FB_PROFILE_FAIL:"ui_cmd_get_fb_profile_fail",UI_CMD_GET_FB_PROFILE_SUCCESS:"ui_cmd_get_fb_profile_success",UI_CMD_SCENE_LOADED:"ui_cmd_scene_loaded",UI_CMD_HEAD_ICON_CHANGE:"ui_cmd_head_icon_change",UI_CMD_CHIPS_CHANGE:"ui_cmd_chips_change",UI_CMD_GOLD_CHANGE:"ui_cmd_gold_change",UI_CMD_BANK_CHIPS_CHANGE:"ui_cmd_bank_chips_change",UI_CMD_HSM_CHANGE:"ui_cmd_hsm_change",UI_CMD_NOTIFICATION_CHANGE:"ui_cmd_notification_change",UI_CMD_FRIEND_ONLINE:"ui_cmd_friend_online",UI_CMD_USER_INFO_GOTTEN:"ui_cmd_user_info_gotten",UI_CMD_SIGN_IN:"ui_cmd_sign_in",UI_CMD_INVITATION_COUNT:"ui_cmd_invitation_count",UI_CMD_GET_SKU_DETAILS:"ui_cmd_get_sku_details",UI_CMD_IAB_SERVICE_IS_NOT_CONNECTED:"ui_cmd_iab_service_is_not_connected",UI_CMD_IAB_SERVICE_CONNECTED:"ui_cmd_iab_service_connected",UI_CMD_INVITE_FB_FRIEND_COMPLETE:"ui_cmd_invite_fb_friend_complete",UI_CMD_SWITCHING_DEALER:"ui_cmd_switching_dealer",UI_CMD_WEB_STORE_STATE_CHANGED:"ui_cmd_web_store_state_changed",UI_CMD_BANK_ACCOUNT_CHANGED:"ui_cmd_bank_account_changed",UI_CMD_ADD_MORE_BANK_BALANCE:"ui_cmd_add_more_bank_balance",UI_CMD_STORE_NEW_STATUS_CHANGED:"ui_cmd_store_new_status_changed",UI_CMD_CASINO_WAR_NEW_STATUS_CHANGED:"ui_cmd_casino_war_new_status_changed",UI_CMD_STORE_SHOW_LOADING:"ui_cmd_store_show_loading",UI_CMD_PAUSE_CHIPS_REFRESH:"ui_cmd_pause_chips_refresh",UI_CMD_RESUME_CHIPS_REFRESH:"ui_cmd_resume_chips_refresh",UI_CMD_INSTANTGAME_REWARDED_VIDEO_LOADED:"ui_cmd_instantgame_rewarded_video_loaded",UI_CMD_INVITABLE_FRIEND_CLICK:"ui_cmd_invitable_friend_click",UI_CMD_PURCHASE_FAIL:"ui_cmd_purchase_fail",UI_CMD_NETWORK_DELAY_TIME:"ui_cmd_network_delay_time",UI_CMD_PROMOTION_ICON_SHOW:"ui_cmd_promotion_icon_show",UI_CMD_TOP_POSITION_PROMOTION_LOADED:"ui_cmd_top_position_promotion_loaded",UI_CMD_TOP_POSITION_PROMOTION_REMOVED:"ui_cmd_top_position_promotion_removed",UI_CMD_BROKE_REWARD_GOT:"ui_cmd_broke_reward_got",UI_CMD_TASK_COMPLETED:"ui_cmd_task_completed",UI_CMD_FRIEND_REQUEST_COUNT:"ui_cmd_friend_request_count",UI_CMD_UPDATE_FRIEND_LIST:"ui_cmd_update_friend_list",UI_CMD_UPDATE_VIP_STATUS:"ui_cmd_update_vip_status",SERVER_CMD_CONNECT:"Connect",SERVER_CMD_CONNECT_LOST:"ConnectionLost",SERVER_CMD_CONNECT_RETRY:"ConnectionRetry",SERVER_CMD_CONNECT_RESUME:"ConnectionResume",SERVER_CMD_SOCKET_ERROR:"SocketError",SERVER_CMD_KEEP_CONNECTION:"keepconnection",SERVER_CMD_LOGIN:"Login",SERVER_CMD_LOGIN_ERROR:"LoginError",SERVER_CMD_LOGINED:"logined",SERVER_CMD_LOGOUT:"Logout",SERVER_CMD_SYSTEM_MESSAGE:"systemmessage",SERVER_CMD_ROOM_JOIN:"RoomJoin",SERVER_CMD_ROOM_UPDATE:"RoomUpdate",SERVER_CMD_PLAY:"play",SERVER_CMD_PLAY_CLASSIC_GOLD:"gclassic",SERVER_CMD_PLAY_DELUXE:"deluxeplay",SERVER_CMD_PLAY_NOLIMIT:"nlplay",SERVER_CMD_NOLIMIT_MIN_CHIPS:"nlminchips",SERVER_CMD_PLAY_WINGO:"joinWinGoRoom",SERVER_CMD_SPORT:"sport",SERVER_CMD_PLAY_CASINO_WAR:"war",SERVER_CMD_PLAY_CASINO_WAR_GOLD:"gwar",SERVER_CMD_PLAY_AB:"nab",SERVER_CMD_PLAY_AB_GOLD:"gab",SERVER_CMD_PLAY_PATTI_WAR:"pattiwar",SERVER_CMD_PLAY_TEXAS_HOLDEM:"playPoker",SERVER_CMD_PLAY_TEXAS_HOLDEM_GOLD:"gpoker",SERVER_CMD_PLAY_IN_ROOM:"playinRoom",SERVER_CMD_NOLIMIT_BOOT_LIST:"nlboot",SERVER_CMD_WINGO_BOOT_LIST:"getWinGoInfo",SERVER_CMD_PRIVATE_BOOT_LIST:"pboot",SERVER_CMD_PRIVATE_NOLIMIT_BOOT_LIST:"pnlboot",SERVER_CMD_PRIVATE_POKER_BOOT_LIST:"ppokerboot",SERVER_CMD_PLAY_RUMMY:"playRummy",SERVER_CMD_CREATE_PRIVATE_ROOM:"createNewPriRoom",SERVER_CMD_CREATE_PRIVATE_POKER_ROOM:"createNewPriPokerRoom",SERVER_CMD_CREATE_FRIEND_ROOM:"createFriRoom",SERVER_CMD_USER_ENTER_ROOM:"UserEnterRoom",SERVER_CMD_USER_EXIT_ROOM:"UserExitRoom",SERVER_CMD_USER_SIT_DOWN:"UserSitDown",SERVER_CMD_USER_STAND_UP:"UserStandUp",SERVER_CMD_LEAVE_ROOM:"leaveroom",SERVER_CMD_INVITATION:"Invitation",SERVER_CMD_FRIEND_LIST:"friendlist",SERVER_CMD_INVITE_FB_FRIEND:"invitefbfriend",SERVER_CMD_ADD_FRIENDS:"addfbfriends",SERVER_CMD_FRIEND_ONLINE:"friendonline",SERVER_CMD_FRIEND_HISTORY:"friendhistory",SERVER_CMD_ADD_FRIEND_REQUEST:"addFriReq",SERVER_CMD_ADD_FRIEND_DECISION:"addFriDec",SERVER_CMD_DELETE_FRIEND:"delFri",SERVER_CMD_GET_USER_INFO:"getUserInfo",SERVER_CMD_EDIT_USER_ICON:"editusericon",SERVER_CMD_CACHE_USER_ICON:"cacheusericon",SERVER_CMD_USER_UPDATE:"UserUpdate",SERVER_CMD_SIGN_IN:"signin",SERVER_CMD_SET_DEGREE:"setdegree",SERVER_CMD_SET_NOTIFICATION:"setnotification",SERVER_CMD_BANK_ACCOUNT:"bankaccount",SERVER_CMD_DIAMOND_ACCOUNT:"diamondaccount",SERVER_CMD_ADD_DIAMONDS:"adddiamonds",SERVER_CMD_DIAMOND_TO_BANK:"diamondtobank",SERVER_CMD_BANK_TO_CHIPS:"banktochips",SERVER_CMD_BANK_TO_BANK:"banktobank",SERVER_CMD_BANK_HISTORY:"bankhistory",SERVER_CMD_GOLD_TRANSFER:"goldtransfer",SERVER_CMD_GOLD_RECEIVE:"goldreceive",SERVER_CMD_GOLD_HISTORY:"goldhistory",SERVER_CMD_GOLD_VIPS:"goldvips",SERVER_CMD_GOLD_VIPS_EXCHANGE:"goldvipsexchange",SERVER_CMD_MY_GOLD_VIP:"mygoldvip",SERVER_CMD_VIP_COLLECT:"goldvipscollect",SERVER_CMD_BANK_PASSWORD:"bankpassword",SERVER_CMD_BANK_PIN:"bankpin",SERVER_CMD_BANK_PW_STATUS:"passwordstatus",SERVER_CMD_BANK_CHECK_PW:"checkpassword",SERVER_CMD_BANK_CHECK_PIN:"checkpin",SERVER_CMD_GET_PAYLOAD:"getpayload",SERVER_CMD_ANDROID_BUY:"androidbuy",SERVER_CMD_IOS_BUY:"iosBuy",SERVER_CMD_FACEBOOK_BUY:"facebookBuy",SERVER_CMD_FACEBOOK_INSTANTGAME_BUY:"facebooksmallbuy",SERVER_CMD_WEB_STORE:"webstore",SERVER_CMD_AD_BONUS:"advchips",SERVER_CMD_BUY_STATUS:"buystatus",SERVER_CMD_PRE_BUY:"buy",SERVER_CMD_BROKEN:"broken",SERVER_CMD_ACCEPT_BROKEN:"acceptbroken",SERVER_CMD_VIDEO_AD_NUM:"advnum",SERVER_CMD_CHECK_REDEEM_CODE:"checkredeemcode",SERVER_CMD_REDEEM_CODE:"redeemcode",SERVER_CMD_INVITE_CODE:"invitecode",SERVER_CMD_INVITED_BONUS:"invitedbonus",SERVER_CMD_INVITE_BONUS:"invitebonus",SERVER_CMD_BANNED_USER:"banneduser",SERVER_CMD_SPORT_ACCESS:"sportaccess",SERVER_CMD_GET_ENOUGH_ITEM:"getEnoughItem",SERVER_CMD_CHIPS_WIN_HIGH_SCORE_LIST:"cwhslist",SERVER_CMD_HANDS_WIN_HIGH_SCORE_LIST:"hwhslist",SERVER_CMD_HIGH_SCORE_INFO:"hsinfo",SERVER_CMD_HIGH_SCORE_AWARD:"hsaward",SERVER_CMD_HIGH_SCORE_AWARD_ACCEPT:"hsaccept",SERVER_CMD_IN_LOBBY:"inlobby",SERVER_CMD_IOS_SUBS_BUY:"iosSubsBuy",SERVER_CMD_IOS_SUBS_USER_LIST:"iosSubsUserList",SERVER_CMD_IOS_SUBS_PROFILE:"iosSubsProfile",SERVER_CMD_IOS_SUBS_ACCEPT:"iosSubsAccept",SERVER_CMD_VIP_STAR:"vipstar",SERVER_CMD_USER_VIP_STAR:"uservipstar",SERVER_CMD_CLAIM_VIP_STAR:"claimvipstar",SERVER_CMD_START_TIME:"starttime",SERVER_CMD_START:"start",SERVER_CMD_BET:"bet",SERVER_CMD_SEE:"see",SERVER_CMD_PACK:"pack",SERVER_CMD_SIDE_SHOW:"sideshow",SERVER_CMD_AGRESS_SIDE:"agreeside",SERVER_CMD_SHOW:"show",SERVER_CMD_FINISH:"finish",SERVER_CMD_CPOOL:"cpool",SERVER_CMD_SEND_GIFT:"sendgift",SERVER_CMD_SEND_MESSAGE:"sendmessage",SERVER_CMD_TIP:"tip",SERVER_CMD_STAND_UP:"standup",SERVER_CMD_SIT:"sit",SERVER_CMD_INVITE_TO_GAME:"inviteToGame",SERVER_CMD_GAMBLE:"gamble",SERVER_CMD_STANDUP_NEXTROUND:"sunr",SERVER_CMD_PROFILE:"profile",SERVER_CMD_MY_PROFILE:"myprofile",SERVER_CMD_SWITCH_DEALER:"switchdealer",SERVER_CMD_UPDATE_BONUS:"updatebonus",SERVER_CMD_JOINE_START:"jis",SERVER_CMD_DEGREE:"degree",SERVER_CMD_PVP_DISBAND:"disband",SERVER_CMD_RUMMY_DROP:"rummydrop",SERVER_CMD_RUMMY_DRAW:"rummydraw",SERVER_CMD_RUMMY_DISCARD:"rummydiscard",SERVER_CMD_RUMMY_TOWIN:"rummytowin",SERVER_CMD_RUMMY_DECLAREWIN:"rummydeclarewin",SERVER_CMD_RUMMY_DECLARETEMP:"rummydeclaretemp",SERVER_CMD_RUMMY_DECLARE:"rummydeclare",SERVER_CMD_RUMMY_MIN_CHIPS:"rummymin",SERVER_CMD_RUMMY_JOIN_START:"rummyjis",SERVER_CMD_START_WAR:"startwar",SERVER_CMD_ALL_CARD:"allcard",SERVER_CMD_CASINO_BET:"casinobet",SERVER_CMD_WAR_BET:"warbet",SERVER_CMD_WAR_READY:"warready",SERVER_CMD_CASINO_WAR_PVP_GOLD_MINCHIPS_REQUIRE:"gbankerwarchips",SERVER_CMD_CASINO_WAR_PVP_GOLD_ROOMS:"gbankerwarrooms",SERVER_CMD_CASINO_WAR_PVP_GOLD_CREATE_ROOM:"gcreatebwarRoom",SERVER_CMD_CASINO_WAR_PVP_GOLD_PLAY_IN_ROOM:"gplayinbwarRoom",SERVER_CMD_START_AB:"startab",SERVER_CMD_AB_DEAL:"abdeal",SERVER_CMD_AB_BET:"abbet",SERVER_CMD_AB_READY:"abready",SERVER_CMD_AB_BANKER:"abbanker",SERVER_CMD_AB_CARD_SELECT:"abselect",SERVER_CMD_AB_JIS:"abjis",SERVER_CMD_AB_PVP_MINCHIPS_REQUIRE:"bankerabchips",SERVER_CMD_AB_PVP_ROOMS:"bankerabrooms",SERVER_CMD_AB_PVP_CREATE_ROOM:"createABRoom",SERVER_CMD_AB_PVP_PLAY_IN_ROOM:"playinABRoom",SERVER_CMD_AB_PVP_GOLD_MINCHIPS_REQUIRE:"gbankerabchips",SERVER_CMD_AB_PVP_GOLD_ROOMS:"gbankerabrooms",SERVER_CMD_AB_PVP_GOLD_CREATE_ROOM:"gcreateABRoom",SERVER_CMD_AB_PVP_GOLD_PLAY_IN_ROOM:"gplayinABRoom",SERVER_CMD_AB_PVP_BANKER_SUMMARY:"abRoomLose",SERVER_CMD_AB_PVP_FINISH:"abfinish",SERVER_CMD_BIG_WIN:"bigwin",SERVER_CMD_START_PATTI_WAR:"startpw",SERVER_CMD_PATTI_WAR_USERCARDS:"usercards",SERVER_CMD_PATTI_WAR_COUNT:"count",SERVER_CMD_PATTI_WAR_SITEBET:"sitebet",SERVER_CMD_PATTI_WAR_BEBANKER:"bebanker",SERVER_CMD_PATTI_WAR_CHANGEPOT:"changepot",SERVER_CMD_PATTI_WAR_CANCELBANKER:"cancelbanker",SERVER_CMD_PATTI_WAR_BANKER_UNAVAILABLE:"bankerunavailable",SERVER_CMD_PATTI_WAR_JIS:"pwjis",SERVER_CMD_PATTI_WAR_DIVIDE_JACKPOT:"dividejackpot",SERVER_CMD_TASK_LIST:"tasklist",SERVER_CMD_ACCEPT_TASK:"acceptTask",SERVER_CMD_SEND_INVITE:"sendinvite",SERVER_CMD_TASK_COMPLETED:"taskcompleted",SERVER_CMD_TOURNAMENT:"tournament",SERVER_CMD_PLAY_TOURNAMENT:"playtour",SERVER_CMD_TOUR_START_TIME:"tourstarttime",SERVER_CMD_TOUR_START:"tourstart",SERVER_CMD_TOUR_SEE:"toursee",SERVER_CMD_TOUR_PACK:"tourpack",SERVER_CMD_TOUR_SIDE_SHOW:"toursideshow",SERVER_CMD_TOUR_AGREE_SIDE:"touragreeside",SERVER_CMD_TOUR_SHOW:"tourshow",SERVER_CMD_TOUR_BET:"tourbet",SERVER_CMD_TOUR_CPOOL:"tourcpool",SERVER_CMD_TOUR_GAMBLE:"tourgamble",SERVER_CMD_TOUR_NEXT:"tournext",SERVER_CMD_TOUR_RESULT:"tourresult",SERVER_CMD_TOUR_RANK:"rank",SERVER_CMD_TOUR_TOTAL_RANK:"tourrank",GAME_ROOM_COMMAND_LIST:function(){return[this.SERVER_CMD_START_TIME,this.SERVER_CMD_START,this.SERVER_CMD_BET,this.SERVER_CMD_SEE,this.SERVER_CMD_PACK,this.SERVER_CMD_SIDE_SHOW,this.SERVER_CMD_AGRESS_SIDE,this.SERVER_CMD_SHOW,this.SERVER_CMD_FINISH,this.SERVER_CMD_CPOOL,this.SERVER_CMD_SEND_GIFT,this.SERVER_CMD_SEND_MESSAGE,this.SERVER_CMD_TIP,this.SERVER_CMD_STAND_UP,this.SERVER_CMD_SIT,this.SERVER_CMD_INVITE_TO_GAME,this.SERVER_CMD_GAMBLE,this.SERVER_CMD_STANDUP_NEXTROUND,this.SERVER_CMD_PROFILE,this.SERVER_CMD_SWITCH_DEALER,this.SERVER_CMD_UPDATE_BONUS,this.SERVER_CMD_JOINE_START,this.SERVER_CMD_DEGREE]},CASINO_WAR_COMMAND_LIST:function(){return[]},CASINO_WAR_COMMAND_LIST_WEB:function(){return[this.SERVER_CMD_START_TIME,this.SERVER_CMD_START_WAR,this.SERVER_CMD_ALL_CARD,this.SERVER_CMD_CASINO_BET,this.SERVER_CMD_WAR_BET,this.SERVER_CMD_WAR_READY,this.SERVER_CMD_USER_EXIT_ROOM,this.SERVER_CMD_USER_SIT_DOWN,this.SERVER_CMD_USER_STAND_UP]}},cc._RF.pop()},{}],CommonUtil:[function(e,t,i){"use strict";cc._RF.push(t,"e8747cBCKlNnZO3ZxsF2iN+","CommonUtil");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var e={UUID:String,onLoad:function(){},isSimulator:function(){return!cc.sys.isBrowser&&(cc.sys.os,cc.sys.OS_ANDROID,!1)},getDeviceDetail:function(){return cc.sys.isBrowser?null:cc.sys.os!=cc.sys.OS_ANDROID?null:jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","getDeviceDetail","()Ljava/lang/String;")},getDeviceId:function(){if(cc.sys.isBrowser&&window.localStorage){cc.log("-------------------- Web ----------------");var e=window.localStorage.getItem("Token");return null==(e=window.DEVICEID||null)&&(e=parseInt(1e6*Math.random())+""+(new Date).getTime(),window.localStorage.setItem("Token",e),window.DEVICEID=e),e}return cc.log("-------------------- Native ----------------"),ae.DeviceUtil.getUUID()},stringformatOne:function(e,t){for(var i=""+e,n=0;n<t-i.length;n=n)i="0"+i;for(n=0;n<i.length-t;n=n)i=i.substr(1);return i},stringformat:function(e,t,i){var n="";if(e.length!=t.length)return cc.log("string.format : numArray.length != countArray.length"),n;i=i||"";for(var a=0;a<e.length;a++)n+=this.stringformatOne(e[a],t[a]),a!=e.length-1&&(n+=i);return n},getTimeString:function(e){var t=Math.floor(e%60),i=Math.floor(Math.floor(e/60)%60),n=Math.floor(e/3600);return n>=100?this.stringformat([n,i,t],[3,2,2],":"):this.stringformat([n,i,t],[2,2,2],":")},convertToTime:function(e){var t=new Date(e),i=function(e){return e<10?"0"+e:e};return string.format("{0}/{1}/{2} {3}:{4}:{5}",i(t.getMonth()+1),i(t.getDate()),i(t.getFullYear()),i(t.getHours()),i(t.getMinutes()),i(t.getSeconds()))},convertToISTTime:function(e){var t=new Date(0);t.setUTCSeconds(e),t.setHours(t.getHours()+5),t.setMinutes(t.getMinutes()+30);var i=function(e){return e<10?"0"+e:e};return string.format("{0}/{1}/{2} {3}:{4}:{5}",i(t.getUTCDate()),i(t.getUTCMonth()+1),i(t.getUTCFullYear()),i(t.getUTCHours()),i(t.getUTCMinutes()),i(t.getUTCSeconds()))},convertNetDataLong:function(e){var i,a={};for(var o in e)if(e.hasOwnProperty(o))if(null!=e[o])if(t(e[o]))for(var s in a[o]=table.createFromArray(e[o]),a[o])(t(a[o][s])||"object"==n(a[o][s]))&&(dcodeIO.Long.isLong(a[o][s])?(i=a[o][s],a[o][s]=i.toNumber()):a[o][s]=this.convertNetDataLong(a[o][s]));else"object"==n(e[o])?dcodeIO.Long.isLong(e[o])?(i=e[o],a[o]=i.toNumber()):a[o]=this.convertNetDataLong(e[o]):a[o]=e[o];else a[o]=null;return a},saveToFile:function(e,t,i){return void 0===i?(cc.log("Remote download file failed."),!1):(jsb.fileUtils.isDirectoryExist(e)||jsb.fileUtils.createDirectory(e),jsb.fileUtils.writeDataToFile(new Uint8Array(i),t)?(cc.log("Remote write file succeed."),!0):(cc.log("Remote write file failed."),!1))},getFilename:function(e){return e?((e=e.substring(e.lastIndexOf("/")+1)).match(/[^.]+(\.[^?#]+)?/)||[])[0]:""},convertCachePath:function(e,t){return"/"!=t.slice(-1)&&(t+="/"),t+this.getFilename(e)},sumOfArray:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t},averageOfArray:function(e){return this.sumOfArray(e)/e.length},putCrashReportUserData:function(e,t){isInstantGame||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","putCrashReportUserData","(Ljava/lang/String;Ljava/lang/String;)V",e,t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("DeviceUtil","putCrashReportUserData:userValue:",e,t))}};function t(e){return"[object Array]"===Object.prototype.toString.apply(e)}window.CommonUtil=e})(),cc._RF.pop()},{}],ConnectionLost:[function(e,t,i){"use strict";cc._RF.push(t,"627ednkUt9CBZrOZ0z0SzND","ConnectionLost");var n=e("BaseUI"),a=e("LanguageData"),o=e("ITeenPattiConfig");cc.Class({extends:n,properties:{labelTitle:cc.Label,labelContent:cc.Label,type:{set:function(e){1==e?(this.labelTitle.string=a.t("label_text.connection_lost"),this.labelContent.string=a.t("label_text.connection_lost_kick_desc")):2==e&&(this.labelTitle.string=a.t("label_text.connection_lost"),this.labelContent.string=a.t("label_text.connection_lost_desc"))}}},onLoad:function(){this._super()},onBlackBgTouchEnd:function(e){e.stopPropagation()},onBackButtonClk:function(){},onReconnectBtnClk:function(){this.closeUI(),cc.sys.os!=cc.sys.OS_ANDROID||jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","hasNetwork","()Z")?ITeenPatti.loadHostCfgFromCache(handler(this,this.onHostCfgRefresh)):this.gameCore.serverMng.connectionProblem(2,!0)},onHostCfgRefresh:function(e,t,i){o.PATTI_HOST_TEST||window.reconnectToAnotherServer||(this.gameCore.gameMng.smartfoxConfig=[e,t,i]),this.gameCore.gameMng.reconnectSFS(),ITeenPatti.loadHostCfg()}}),cc._RF.pop()},{BaseUI:"BaseUI",ITeenPattiConfig:"ITeenPattiConfig",LanguageData:"LanguageData"}],ControlBarTour:[function(e,t,i){"use strict";cc._RF.push(t,"90839sBleBPIJwEvYxW+yfj","ControlBarTour");var n=e("ControlBar"),a=e("Command"),o=e("LanguageData"),s=e("GameUtils");cc.Class({extends:n,properties:{},myBalance:function(){return ITeenPatti.getCurPlayer()?ITeenPatti.getCurPlayer().getTeenPattiProfile().tournamentChips:0},btnPlusInteractable:function(){return this.plusBtnClickCount<3&&this.nMaxChaal/(this.gameCore.userMng.myself.role.isCardSeen()?1:2)>=2*this.nBetChip&&this.myBalance()>=2*this.nBetChip},canBet:function(){return this.myBalance()>=this.curBetAmount()},canSideShow:function(){return this.myBalance()>this.curBetAmount()},canShow:function(){return 2==ITeenPatti.getCurTable().getAliveUserCountWithTourChips()},updateBarOnActive:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._super();var t=ITeenPatti.getCurRoom();t&&-1!=t.roomName.indexOf("#allin")&&(this.btnSee.node.active=!1),e&&this.myBalance()<=this.nStakeAmout&&("label_text.side_show"==this.lblShowStrKey?this.btnShow.interactable=!1:"label_text.show"==this.lblShowStrKey&&(this.btnShow.interactable=!0),this.btnBet.interactable=!0,this.lblBetStrKey="label_text.all_in",this.lblStake.string=o.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(this.myBalance())})),this.i18nRendersUpdate()},onBtnPlusClicked:function(e){this._super(e),this.myBalance()<=this.nBetChip&&(this.lblBetStrKey="label_text.all_in",this.i18nRendersUpdate())},onBtnMinusClicked:function(e){if(this._super(),this.myBalance()>this.nBetChip){var t=ITeenPatti.getCurPlayer();if(!t||!t.role)return;this.lblBetStrKey="label_text.blind",t.role.isCardSeen()&&(this.lblBetStrKey="label_text.chaal"),this.i18nRendersUpdate()}},hasEnoughChips:function(e){return!0},sendMsgSee:function(e){ITeenPatti.sendMsg(a.SERVER_CMD_TOUR_SEE)},sendMsgPack:function(){ITeenPatti.sendMsg(a.SERVER_CMD_TOUR_PACK)},sendMsgBet:function(e){ITeenPatti.sendMsg(a.SERVER_CMD_TOUR_BET,{i:e})},sendMsgSideShow:function(e){ITeenPatti.sendMsg(a.SERVER_CMD_TOUR_SIDE_SHOW,{i:e})},sendMsgShow:function(e){ITeenPatti.sendMsg(a.SERVER_CMD_TOUR_SHOW,{i:e})}}),cc._RF.pop()},{Command:"Command",ControlBar:"ControlBar",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"f589fu9uk5LF4GnV6gnmDvN","ControlBar");var n="ControlBar",a=e("CenterSeatCardBar"),o=e("CDTimeBar"),s=e("GameUtils"),r=e("DataAnalysisKey"),l=e("BaseComponent"),c=e("LanguageData");cc.Class({extends:l,properties:{cdTimeBar:o,centerSeatCardBar:a,loadingSee:cc.Node,btnSee:cc.Button,btnBet:cc.Button,btnPlus:cc.Button,btnMinus:cc.Button,btnPack:cc.Button,btnShow:cc.Button,lblBet:cc.Label,lblStake:cc.Label,lblShow:cc.Label,lblChip:cc.Label,nBetChip:1e3,nBlindCount:0,nStakeAmout:0,nBootAmount:0,nMaxBlinds:1,nMaxChaal:1e3,nMaxPool:1e3,plusBtnClickCount:0},myBalance:function(){return ITeenPatti.getCurPlayer().getTeenPattiProfile().nChips},onLoad:function(){this._super(),this.nBootAmount=ITeenPatti.getCurRoom().profile.nBootAmount,this.nBetChip=this.nBootAmount,this.btnEnable=!1,this.loadingSee.active=!1,this.reset()},initComplete:function(){this._super(),this.gameCore.gameMng.isFitHeight()||(this.node.height=120)},canShow:function(){return 2==ITeenPatti.getCurTable().getAliveUserCount()},i18nRendersUpdate:function(){this._super(),this.lblBet&&this.lblBetStrKey&&(this.lblBet.string=c.t(this.lblBetStrKey)),this.lblShow&&this.lblShowStrKey&&(this.lblShow.string=c.t(this.lblShowStrKey))},hide:function(){LogUtil.debug(n,"hide"),this.node.active=!1,this.plusBtnClickCount=0},reset:function(){if(ITeenPatti.getCurRoom()){var e=ITeenPatti.getCurRoom().profile;this.nMaxBlinds=e.nMaxBlinds,this.nMaxChaal=e.nChaalLimit,this.nMaxPool=e.nPotLimit,this.nBetChip=e.nBootAmount,this.nStakeAmout=this.nBetChip,this.nBlindCount=0,this.loadingSee.active=!1,this.lblBetStrKey="label_text.blind",this.lblStake.string=c.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(this.nBetChip)}),this.i18nRendersUpdate()}},onRoundReady:function(){this.reset()},onSeatStart:function(){this.reset()},onOtherStandUp:function(){var e=ITeenPatti.getCurTable(),t=e.getEarlyHandOfSelf(),i=ITeenPatti.getCurPlayer();e&&(this.lblShowStrKey="label_text.side_show",this.btnShow.interactable=!1,e.getAliveUserCount()>2&&t&&t.role.isCardSeen()&&i.role.isCardSeen()&&(this.btnShow.interactable=!0),this.canShow()&&(this.lblShowStrKey="label_text.show",this.btnShow.interactable=!0),this.i18nRendersUpdate())},onOtherUpdate:function(){this.updateBarOnActive()},onUserUpdate:function(){this.updateBarOnActive()},onUserRefresh:function(){this.loadingSee.active=!1,this.updateBarOnActive()},onShow:function(){this.btnSee.node.active=!1},onUserSee:function(){if(this.loadingSee.active=!1,!(this.nStakeAmout>=2*Math.pow(2,this.plusBtnClickCount)*ITeenPatti.getCurRoom().profile.nStakeAmout)){var e=ITeenPatti.getCurTable(),t=e.getEarlyHandOfSelf(),i=ITeenPatti.getCurPlayer();e&&(this.lblBetStrKey="label_text.chaal",this.nStakeAmout=2*Math.pow(2,this.plusBtnClickCount)*ITeenPatti.getCurRoom().profile.nStakeAmout,this.nBetChip<.5*this.nMaxChaal&&this.btnPlus.interactable,this.myBalance()<2*this.nBetChip&&(this.btnPlus.interactable=!1),this.lblShowStrKey="label_text.side_show",this.btnShow.interactable=!1,e.getAliveUserCount()>2&&t&&t.role.isCardSeen()&&i.role.isCardSeen()&&(this.btnShow.interactable=!0),this.canShow()&&(this.lblShowStrKey="label_text.show",this.btnShow.interactable=!0),this.i18nRendersUpdate())}},onUserActive:function(){this.btnEnable=!0,this.updateBarOnActive();var e=ITeenPatti.getCurPlayer();this.nBlindCount>=this.nMaxBlinds&&!e.role.isCardSeen()&&(this.sendMsgSee(this.nBetChip>=this.nMaxChaal),this.btnSee.node.active=!1)},onUserSilent:function(){this.btnEnable=!1},btnSeeVisible:function(){return!(ITeenPatti.getCurRoom()instanceof e("PotBlindRoom"))&&!this.centerSeatCardBar.seeing},curBetAmount:function(){return Math.min(this.nMaxChaal,Math.max(this.nStakeAmout,this.nBootAmount))},canBet:function(){return this.myBalance()>=this.curBetAmount()},canSideShow:function(){return this.myBalance()>=this.curBetAmount()},updateBarOnActive:function(){var e=ITeenPatti.getCurTable();if(e){LogUtil.info(n,"------------ update Bar On Active ------------"+e.getAliveUserCount());var t=e.getEarlyHandOfSelf(),i=ITeenPatti.getCurPlayer();i&&i.role&&(this.btnPack.interactable=this.btnEnable&&!0,this.btnBet.interactable=this.btnEnable&&this.canBet(),this.btnSee.node.active=e.contrller.state==UI_TABLE_STATE.RUNNING&&(!ITeenPatti.getCurPlayer().role.isCardSeen()||0==i.role.getUserCard().length)&&ITeenPatti.getCurPlayer().role.isAlivePartner()&&this.btnSeeVisible()&&e.isRoundPartner(i.userId),LogUtil.debug(n,"updateBarOnActive btnSee active "+this.btnSee.node.active+" user card length:"+i.role.getUserCard().length),this.btnEnable&&(this.btnPlus.interactable=this.btnEnable&&this.btnPlusInteractable(),this.btnMinus.interactable=this.plusBtnClickCount>0,this.nStakeAmout=Math.pow(2,this.plusBtnClickCount)*ITeenPatti.getCurRoom().profile.nStakeAmout,this.nStakeAmout=i.role.isCardSeen()?2*this.nStakeAmout:this.nStakeAmout,this.nBetChip=Math.min(this.myBalance(),Math.min(this.nMaxChaal,Math.max(this.nStakeAmout,this.nBootAmount))),this.lblBetStrKey="label_text.blind",i.role.isCardSeen()&&(this.lblBetStrKey="label_text.chaal"),this.lblStake.string=c.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(this.nBetChip)})),(i.role.isCardSeen()&&this.nBetChip>=this.nMaxChaal||!i.role.isCardSeen()&&this.nBetChip>=.5*this.nMaxChaal)&&(this.btnPlus.interactable=!1),this.lblShowStrKey="label_text.side_show",this.btnShow.interactable=!1,e.getAliveUserCount()>2&&t&&t.role.isCardSeen()&&i.role.isCardSeen()&&(this.btnShow.interactable=this.btnEnable&&this.canSideShow),this.canShow()&&(this.lblShowStrKey="label_text.show",this.btnShow.interactable=this.btnEnable&&!0),this.myBalance()<2*this.nBetChip&&(this.btnPlus.interactable=!1),this.myBalance()<this.curBetAmount()&&(this.btnPlus.interactable=!1,this.btnBet.interactable=!1,this.btnShow.interactable=!1),this.i18nRendersUpdate())}},onUserClicked:function(){this.btnEnable=!1,this.btnPack.interactable=!1,this.btnMinus.interactable=!1,this.btnPlus.interactable=!1,this.btnShow.interactable=!1,this.btnBet.interactable=!1},onBtnSeeClicked:function(){if(ITeenPatti.getCurRoom()){var e=this;this.gameCore.dataAnalysisMng.sendData(r.CLICK_SEE_CARD,this.gameCore.dataAnalysisMng.gameBaseData1),this.sendMsgSee(this.nBetChip>=this.nMaxChaal),this.nStakeAmout=2*Math.pow(2,this.plusBtnClickCount)*ITeenPatti.getCurRoom().profile.nStakeAmout,this.nBetChip=Math.min(this.nMaxChaal,Math.max(this.nStakeAmout,this.nBootAmount)),this.lblBetStrKey="label_text.chaal",this.lblStake.string=c.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(this.nBetChip)}),performWithDelay(this.node,.2,function(){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(e.loadingSee.active=!ITeenPatti.getCurPlayer().role.isCardSeen())}),this.btnSee.node.active=!1,this.btnPlus.interactable=this.nBetChip<.5*this.nMaxChaal,this.centerSeatCardBar.onBtnSeeClicked(),this.i18nRendersUpdate()}},onBtnPackClicked:function(e){this.gameCore.dataAnalysisMng.sendData(r.PACK_CLICK,this.gameCore.dataAnalysisMng.gameBaseData1),this.sendMsgPack(),this.onUserClicked()},onBtnShowClicked:function(e){var t="sideshow";ITeenPatti.getCurTable()&&(this.canShow()?(t="show",this.gameCore.dataAnalysisMng.sendData(r.SHOW_CLICK,this.gameCore.dataAnalysisMng.gameBaseData1.concat("bet:"+this.nBetChip))):this.gameCore.dataAnalysisMng.sendData(r.SIDESHOW_CLICK_CLIENT,this.gameCore.dataAnalysisMng.gameBaseData1.concat("bet:"+this.nBetChip)),"sideshow"==t?this.sendMsgSideShow(this.nBetChip):this.sendMsgShow(this.nBetChip),this.onUserClicked())},onBtnBetClicked:function(e){this.sendMsgBet(this.nBetChip);var t=ITeenPatti.getCurPlayer();t&&t.role&&(t.role.isCardSeen()?this.gameCore.dataAnalysisMng.sendData(r.CLICK_CHAAL_CHIPS,this.gameCore.dataAnalysisMng.gameBaseData1.concat("bet:"+this.nBetChip)):(this.nBlindCount+=1,this.gameCore.dataAnalysisMng.sendData(r.CLICK_BLIND_CHIPS,this.gameCore.dataAnalysisMng.gameBaseData1.concat("bet:"+this.nBetChip))),this.onUserClicked())},btnPlusInteractable:function(){var t=ITeenPatti.getCurRoom(),i=e("NoLimitRoom");ITeenPatti.getCurPlayer();return t instanceof i?this.plusBtnClickCount<3:this.plusBtnClickCount<1&&this.myBalance()>=2*this.nBetChip},onBtnPlusClicked:function(e){if(this.gameCore.gameMng.playAudioEffect("addbet"),this.hasEnoughChips(2*this.nBetChip)){this.nBetChip*=2,this.lblStake.string=c.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(this.nBetChip)}),this.plusBtnClickCount++,this.btnPlus.interactable=this.btnPlusInteractable(),this.btnMinus.interactable=!0;var t="";this.gameCore&&this.gameCore.userMng&&this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role&&(t=this.gameCore.userMng.myself.role.isCardSeen()),this.gameCore.dataAnalysisMng.sendData(r.CLICK_ADD_BET,this.gameCore.dataAnalysisMng.gameBaseData1.concat("isSeen:"+t))}},onBtnMinusClicked:function(e){this.plusBtnClickCount>0&&(this.plusBtnClickCount--,this.gameCore.gameMng.playAudioEffect("addbet"),this.nBetChip*=.5,this.lblStake.string=c.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(this.nBetChip)}),this.btnPlus.interactable=!0,this.btnMinus.interactable=0!=this.plusBtnClickCount,this.gameCore.dataAnalysisMng.sendData(r.CLICK_MINUS_BET,this.gameCore.dataAnalysisMng.gameBaseData1.concat("isSeen:"+this.gameCore.userMng.myself.role.isCardSeen())))},hasEnoughChips:function(e){return this.gameCore.gameMng.hasEnoughChips2(e)},sendMsgSee:function(e){ITeenPatti.sendMsg("see",{i:e})},sendMsgPack:function(){ITeenPatti.sendMsg("pack")},sendMsgBet:function(e){ITeenPatti.sendMsg("bet",{i:e})},sendMsgSideShow:function(e){ITeenPatti.sendMsg("sideshow",{i:e})},sendMsgShow:function(e){ITeenPatti.sendMsg("show",{i:e})}}),cc._RF.pop()},{BaseComponent:"BaseComponent",CDTimeBar:"CDTimeBar",CenterSeatCardBar:"CenterSeatCardBar",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData",NoLimitRoom:"NoLimitRoom",PotBlindRoom:"PotBlindRoom"}],CricketBetHistoryPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"a92c4GnzBtMAqg2svx3mk0y","CricketBetHistoryPopUp");var n=e("BaseUI"),a=(e("GameUtils"),e("LanguageData"),e("UIInfo"),e("DataAnalysisKey"),e("AEMatchCricketRunner"),e("AEMatchCricketRecord"));cc.Class({extends:n,properties:{contentView:cc.Node,noRecordBar:cc.Node,pfbMatchRecord:cc.Prefab,scrollView:cc.ScrollView,scrollViewHeight:{default:506,visible:!1},scrollItemHeight:{default:60,visible:!1},nextY:{default:0,visible:!1},startIndex:{default:0,visible:!1},endIndex:{default:0,visible:!1},itemScriptComponentName:{default:"CricketBetMatchRecordView",visible:!1},recordList:{default:[],visible:!1},recordViewReuseList:{default:[],visible:!1},isExpandingOrCollapsing:{get:function(){return this._isExpandingOrCollapsing},set:function(e){this._isExpandingOrCollapsing=e,this.scrollView.enabled=!e},visible:!1}},onLoad:function(){this._super();var e=cc.visibleRect;e.width<1136&&(this.popupBg.scale=e.width/1136),this.contentView.removeAllChildren(),this.contentNodeOriY=this.lastContentNodeY=this.contentView.y,this.scheduleOnce(handler(this,this.initRecordView),0)},initRecordView:function(){this.itemCount=Math.ceil(this.scrollViewHeight/this.scrollItemHeight)+1;for(var e=0;e<this.itemCount;e++){var t=cc.instantiate(this.pfbMatchRecord);t.active=!1,this.contentView.addChild(t),this.recordViewReuseList.push(t)}this.initMatchBetRecord(),ITeenPatti.sendMsg("bets",ITeenPatti.room.matchHistory.getBetIDs()),ITeenPatti.addListener("bets",this,this.onHistroyRefresh)},onEnable:function(){this.contentView.children.forEach(function(e){e.on("ae-match-record-expand",this.onItemExpand,this),e.on("ae-match-record-expand-finish",this.onItemExpandOrCollapseFinish,this),e.on("ae-match-record-collapse",this.onItemCollapse,this),e.on("ae-match-record-collapse-finish",this.onItemExpandOrCollapseFinish,this)}.bind(this))},onDisable:function(){this.contentView.children.forEach(function(e){e.off("ae-match-record-expand",this.onItemExpand,this),e.off("ae-match-record-expand-finish",this.onItemExpandOrCollapseFinish,this),e.off("ae-match-record-collapse",this.onItemCollapse,this),e.off("ae-match-record-collapse-finish",this.onItemExpandOrCollapseFinish,this)}.bind(this))},onScrolling:function(e,t){var i=this.contentNodeOriY-this.contentView.y,n=i-this.scrollViewHeight;this.recordViewReuseList.sort(function(e,t){return this.lastContentNodeY-this.contentView.y>0?e.y-t.y:t.y-e.y}.bind(this));for(var a=0;a<this.recordViewReuseList.length;a++)if(this.recordViewReuseList[a].y>=i+this.recordViewReuseList[a].getComponent(this.itemScriptComponentName).nodeHeight&&this.lastContentNodeY<this.contentView.y){if(this.endIndex<this.recordList.length-1){this.startIndex++,this.endIndex++,this.recordViewReuseList[a].getComponent(this.itemScriptComponentName).setMatchData(this.recordList[this.endIndex]);for(var o=0,s=0;s<this.recordViewReuseList.length;s++){var r=this.recordViewReuseList[s].getComponent(this.itemScriptComponentName).nodeHeight;this.recordViewReuseList[a]!=this.recordViewReuseList[s]&&this.recordViewReuseList[s].y-r<o&&(o=this.recordViewReuseList[s].y-r)}this.recordViewReuseList[a].y=o}}else if(this.recordViewReuseList[a].y<=n&&this.lastContentNodeY>this.contentView.y&&this.startIndex>0){this.startIndex--,this.endIndex--,this.recordViewReuseList[a].getComponent(this.itemScriptComponentName).setMatchData(this.recordList[this.startIndex]);var l=Number.NEGATIVE_INFINITY;for(s=0;s<this.recordViewReuseList.length;s++)this.recordViewReuseList[a]!=this.recordViewReuseList[s]&&this.recordViewReuseList[s].y>l&&(l=this.recordViewReuseList[s].y);this.recordViewReuseList[a].y=l+this.recordViewReuseList[a].getComponent(this.itemScriptComponentName).nodeHeight}this.lastContentNodeY=this.contentView.y},reloadScollView:function(){this.endIndex<this.itemCount-1&&(this.endIndex=Math.min(this.startIndex+this.itemCount-1,this.recordList.length-1));for(var e=0;e<this.recordViewReuseList.length;e++)this.recordViewReuseList[e].setPosition(0,-this.scrollItemHeight*(this.startIndex+e)),this.recordList.length>this.startIndex+e?(this.recordViewReuseList[e].active=!0,this.recordViewReuseList[e].getComponent(this.itemScriptComponentName).setMatchData(this.recordList[this.startIndex+e])):this.recordViewReuseList[e].active=!1;this.contentView.height=this.recordList.length*this.scrollItemHeight},onItemExpand:function(e){this.isExpandingOrCollapsing=!0;for(var t=e,i=0;i<this.recordList.length;i++)this.recordList[i]!=t.data&&(this.recordList[i].isExpanded=!1,this.recordList[i].nodeHeight=this.scrollItemHeight);for(i=0;i<this.recordViewReuseList.length;i++)t.node!=this.recordViewReuseList[i]&&this.recordViewReuseList[i].getComponent(this.itemScriptComponentName).collapse()},onItemCollapse:function(e){this.isExpandingOrCollapsing=!0},onItemExpandOrCollapseFinish:function(e){for(var t=0,i=0;i<this.recordList.length;i++)t+=this.recordList[i].nodeHeight;this.contentView.height=Math.max(t,this.scrollViewHeight),this.recordViewReuseList.sort(function(e,t){return t.y-e.y}.bind(this));for(i=0;i<this.recordViewReuseList.length;i++){for(var n=0,a=0;a<this.recordList.length&&this.recordViewReuseList[i].getComponent(this.itemScriptComponentName).objMatchData!=this.recordList[a];a++)n+=this.recordList[a].nodeHeight;this.recordViewReuseList[i].y=-n}this.schedule(function(){this.isExpandingOrCollapsing=!1}.bind(this),.1)},initMatchBetRecord:function(){var e=ITeenPatti.getCurRoom(),t=e?e.getMatchHistroy():null,i=t?t.getMatchList():[],n=e?e.getMatchInBet():null;if(this.noRecordBar.active=i.length<1&&!n,this.noRecordBar.active)return this.onEnable(),void this.i18nFontUpdate();if(this.recordList=[],n){var o=t.getMatchWithID(n.matchID);o||((o=new a(ITeenPatti.getCurPlayer().strTPID,n.matchID)).arrRunner.push(n.arrRunner[0]),o.arrRunner.push(n.arrRunner[1])),this.addRecord(o)}for(var s=i.length-1;s>=0;s--)n&&i[s].matchID==n.matchID||this.addRecord(i[s]);this.reloadScollView(),this.onEnable(),this.recordViewReuseList.length>0&&this.recordViewReuseList[0].getComponent(this.itemScriptComponentName).expandOnLoad(),this.i18nFontUpdate()},addRecord:function(e){e.isExpanded=!1,e.nodeHeight=this.scrollItemHeight,this.recordList.push(e)},onBtnCloseClk:function(){this.closeUI()},onHistroyRefresh:function(e,t){this.initMatchBetRecord()}}),cc._RF.pop()},{AEMatchCricketRecord:"AEMatchCricketRecord",AEMatchCricketRunner:"AEMatchCricketRunner",BaseUI:"BaseUI",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],CricketBetMatchBetRecordView:[function(e,t,i){"use strict";cc._RF.push(t,"7cc2d9OP+ZCXoxkWSUUsVbS","CricketBetMatchBetRecordView");var n=e("LanguageData"),a=e("GameUtils");cc.Class({extends:cc.Component,properties:{lblRunner:cc.Label,lblOdds:cc.Label,lblAmount:cc.Label,lblStatus:cc.Label,lblEmpty:cc.Label,objInfo:cc.Node,objRunner:cc.Node},setBetData:function(e){if(!e)return this.lblEmpty.node.active=!0,void(this.objInfo.active=!1);this.lblRunner.string=e.runner,this.lblOdds.string=a.subStrDecimalNumber(e.odds,3),this.lblAmount.string=e.amount,this.objRunner.active="draw"!=e.runner;var t=Math.round(1e3*e.odds)*(e.amount/1e3);switch(e.status){case-1:this.lblStatus.string="Cancel";break;case 0:this.lblStatus.string=n.t("label_text.ongoing");break;case 1:this.lblStatus.string=n.t("label_text.lost")+" "+a.formatNumberWithRules(Math.floor(e.amount));break;case 2:this.lblStatus.string=n.t("label_text.win")+" "+a.formatNumberWithRules(Math.floor(t));break;case 3:this.lblStatus.string=n.t("label_text.refund_chips",{chips:a.formatNumberWithRules(Math.floor(e.amount))})}}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],CricketBetMatchRecordView:[function(e,t,i){"use strict";cc._RF.push(t,"217ef0u5QlJ86/lOxMSoA9w","CricketBetMatchRecordView");var n=e("CricketMatchWinnerBetListView"),a=e("GameUtils");cc.Class({extends:cc.Component,properties:{expandContent:cc.Node,totalWinBar:cc.Node,lblTotalWin:cc.Label,objSelected:cc.Node,lblRunnerA:cc.Label,lblRunnerB:cc.Label,runnerANode:cc.Node,runnerBNode:cc.Node,splitLabel:cc.Node,winnerBetList:n,isExpanded:{get:function(){return this._isExpanded},set:function(e){this._isExpanded=e,this.objMatchData&&(this.objMatchData.isExpanded=this._isExpanded)},visible:!1},nodeHeight:{get:function(){return this.objMatchData?this.objMatchData.nodeHeight:60},visible:!1}},ctor:function(){this.isExpanded=!1},onLoad:function(){this.objSelected.active=!1,this.expandContent.active=!0,this.expandContent.scaleY=0,this.node.height=-1*this.expandContent.y+this.expandContent.height*this.expandContent.scaleY},update:function(e){this.node.height=-1*this.expandContent.y+this.expandContent.height*this.expandContent.scaleY},setMatchData:function(e){if(this.node.active=void 0!=e,e){this.objMatchData=e,this.isExpanded=this.objMatchData.isExpanded,this.winnerBetList.clearBetRecord();for(var t=e.getWinnerBetList(),i=0;i<t.length;i++)t[i].flagID=e.getFlagIDWithRunner(t[i].runner),this.winnerBetList.addBetRecord(t[i]);t.length<1&&this.winnerBetList.addBetRecord(null),this.lblRunnerA.node.on("size-changed",function(){this.splitLabel.x=this.lblRunnerA.node.x+this.lblRunnerA.node.width+20,this.runnerBNode.x=this.splitLabel.x+this.splitLabel.width+this.runnerANode.x+20}.bind(this)),this.lblRunnerA.string=e.arrRunner[0].name,this.lblRunnerB.string=e.arrRunner[1].name,this.lblTotalWin.string=a.formatNumberWithRules(Math.floor(e.getTotalWin())),this.totalWinBar.y=0,this.winnerBetList.node.active&&(this.totalWinBar.y=this.winnerBetList.node.y-this.winnerBetList.node.height),this.expandContent.height=-this.totalWinBar.y+this.totalWinBar.height,this.objSelected.active=this.isExpanded,this.expandContent.scaleY=this.isExpanded?1:0,this.node.height=this.isExpanded?-this.expandContent.y+this.expandContent.height:-this.expandContent.y,this.updateNodeHeight()}},updateNodeHeight:function(){this.objMatchData&&(this.objMatchData.nodeHeight=this.isExpanded?this.expandContent.height+55:60)},onBtnClk:function(){this.isExpanded?this.collapse():this.expand()},expandOnLoad:function(){this.isExpanded=!0,this.objSelected.active=!0,this.expandContent.scaleY=1,this.node.height=this.isExpanded?-this.expandContent.y+this.expandContent.height:-this.expandContent.y,this.onExpandFinish()},expand:function(){this.isExpanded=!0,this.objSelected.active=!0,this.expandContent.stopAllActions(),this.node.emit("ae-match-record-expand",{node:this.node,data:this.objMatchData}),this.expandContent.runAction(cc.sequence(cc.scaleTo(.1,1,1),cc.callFunc(function(){this.onExpandFinish()},this)))},onExpandFinish:function(){this.updateNodeHeight(),this.node.emit("ae-match-record-expand-finish",{node:this.node,data:this.objMatchData})},collapse:function(){this.isExpanded&&(this.isExpanded=!1,this.objSelected.active=!1,this.expandContent.stopAllActions(),this.node.emit("ae-match-record-collapse",{node:this.node,data:this.objMatchData}),this.expandContent.runAction(cc.sequence(cc.scaleTo(.1,1,0),cc.callFunc(function(){this.onCollapseFinish()},this))))},onCollapseFinish:function(){this.updateNodeHeight(),this.node.emit("ae-match-record-collapse-finish",{node:this.node,data:this.objMatchData})}}),cc._RF.pop()},{CricketMatchWinnerBetListView:"CricketMatchWinnerBetListView",GameUtils:"GameUtils"}],CricketBetSessionItem:[function(e,t,i){"use strict";cc._RF.push(t,"6de3e5M1OBN/5WZt/nSQrHK","CricketBetSessionItem");var n=e("LanguageData");cc.Class({extends:cc.Component,properties:{lblRunner:cc.Label,lblBet:cc.Label,lblScore:cc.Label,lblAmount:cc.Label,lblResult:cc.Label,imgMore:cc.Node,imgLess:cc.Node},setData:function(e,t,i,n,a,o){this.lblRunner.string=e,this.lblBet.string=t,this.lblScore.string=i,this.lblAmount.string=n,this.lblResult.string=a,this.imgMore.active=null!=o&&1==o,this.imgLess.active=null!=o&&0==o},setInitData:function(e,t){this.lblScore.string=t.score,this.lblRunner.string=t.runner,this.lblBet.string=t.runner,this.lblAmount.string=betItem.amount,this.lblResult.string=this.converToResult(betItem.status,betItem.amount,betItem.odds),this.imgMore&&(this.imgMore.active=betData.isMore),this.imgLess&&(this.imgLess.active=!betData.isMore)},setBetBgShow:function(e){},converToResult:function(e,t,i){var a=i<0?2*t:t*i;switch(e){case-1:return"Cancel";case 0:return n.t("label_text.ongoing");case 1:return n.t("label_text.lost")+" "+Math.floor(t);case 2:return n.t("label_text.win")+" "+Math.floor(a)}return""}}),cc._RF.pop()},{LanguageData:"LanguageData"}],CricketBetSessionPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"2a8b3duZmZHrYaKXCyPvp5o","CricketBetSessionPopUp");var n=e("BaseUI"),a=e("GameUtils"),o=e("LanguageData"),s=(e("UIInfo"),e("DataAnalysisKey"));cc.Class({extends:n,properties:{lblBalance:cc.Label,lblDesc:cc.Label,lblProfit:cc.Label,lblAmount:cc.EditBox,bIsMore:{visible:!1,default:!1},objMatch:{visible:!1,default:null},objMarket:{visible:!1,default:null}},onLoad:function(){this._super(),this.lblAmount.node.on("text-changed",this.onBetAmountUpdate,this),ITeenPatti.addListener("UserUpdate",this,this.onUserUpdate)},onDestory:function(){this.lblAmount.node.off("text-changed",this.onBetAmountUpdate,this)},setInitData:function(e,t,i){this.bIsMore=i,this.objMatch=e,this.objMarket=t,this.lblBalance.string=a.formatNumberWithRules(ITeenPatti.getCurPlayer().nChips);var n=o.t("label_text.bet_msg2",{number:this.converToSessionName(t.sessionID),bet:t.scoreMore+1}),s=o.t("label_text.bet_msg1",{number:this.converToSessionName(t.sessionID),bet:t.scoreMore});this.lblDesc.string=i?n:s,this.i18nFontUpdate()},onUserUpdate:function(e,t){t.user.isItMe&&(this.lblBalance.string=a.formatNumberWithRules(ITeenPatti.getCurPlayer().nChips))},onBetAmountUpdate:function(e){this.lblProfit.string=Math.floor(2*new Number(this.lblAmount.string).valueOf())},onBtnBetClk:function(){var e=new Number(this.lblAmount.string).valueOf();if(e<1)return ITeenPatti.gameCore.gameMng.showAlert(o.t("label_text.enter_bet"),"",1),void this.closeUI();if(e>ITeenPatti.getCurPlayer().getTeenPattiProfile().nChips)return this.gameCore.gameMng.openChipsNotEnoughTwoItem(e),void this.gameCore.dataAnalysisMng.sendData(s.POPUP_CHIPSOUT_GIFT,this.gameCore.dataAnalysisMng.gameBaseData);var t={amount:e,sessionid:this.objMarket.sessionID,score:this.objMarket.scoreMore,over:this.bIsMore,team:this.objMarket.runner};ITeenPatti.sendMsg("sessionbet",{gameid:this.objMatch.matchID,socrecheck:this.objMarket.scoreCheck,bet:t}),this.closeUI()},converToSessionName:function(e){var t=[];return t[1]="1,6",t[2]="1,10",t[3]="1,15",t[4]="1,20",t[5]="2,6",t[6]="2,6",t[e]||""}}),cc._RF.pop()},{BaseUI:"BaseUI",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],CricketBetSummaryPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"8666dD/K9xDIaNrD+2wVoqj","CricketBetSummaryPopUp");var n=e("BaseUI"),a=e("GameUtils"),o=e("LanguageData");cc.Class({extends:n,properties:{winnerBetPrefab:cc.Prefab,winnerBetList:cc.Node,sessionBetPrefab:cc.Prefab,sessionBetList:cc.Node,lblSessionTitle:cc.Label,lblTotalWin:cc.Label,lblGetChip:cc.Label,arrSessionBetId:{visible:!1,default:[]},arrWinnerBetId:{visible:!1,default:[]}},onLoad:function(){this._super(),this.initWinnerList(),this.initSessionList(),this.blackBg.off(cc.Node.EventType.TOUCH_END,this.onBlackBgTouchEnd,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},setInitData:function(e){this.matchName=" VS ";var t=0,i=0;this.winnerBetList.removeAllChildren();var n=cc.instantiate(this.winnerBetPrefab);n.getComponent("CricketBetWinnerItem").setData(o.t("label_text.team_name"),o.t("label_text.odds"),o.t("label_text.bet_amount"),o.t("label_text.bet_status")),this.winnerBetList.addChild(n),t+=n.height;var s=e.winnerbets;for(var r in s){if(3!=(d=s[r]).result){var l=1==d.result?o.t("label_text.lost")+" "+a.formatNumberWithRules(Math.floor(d.amount)):o.t("label_text.win")+" "+a.formatNumberWithRules(Math.floor(d.teamodds.odds*d.amount)),c=cc.instantiate(this.winnerBetPrefab);c.getComponent("CricketBetWinnerItem").setData(d.teamodds.team,d.teamodds.odds,d.amount,l),c.setPosition(0,-t),this.winnerBetList.addChild(c),t+=c.height,this.arrWinnerBetId.push(d.betid),2==d.result&&(i+=d.teamodds.odds*d.amount)}}this.winnerBetList.height=t,t=0,this.sessionBetList.removeAllChildren(),(n=cc.instantiate(this.sessionBetPrefab)).getComponent("CricketBetSessionItem").setData(o.t("label_text.team_name"),o.t("label_text.bet"),o.t("label_text.score"),o.t("label_text.bet_amount"),o.t("label_text.bet_status")),this.sessionBetList.addChild(n),t+=n.height;var h=0,u=e.sessionbets;for(var r in u){var d;h=(d=u[r]).bet.sessionid;var m=cc.instantiate(this.sessionBetPrefab),g=1==d.result?o.t("label_text.lost")+" "+d.bet.amount:o.t("label_text.win")+" "+2*d.bet.amount,p=d.bet.over?o.t("label_text.yes_at",{bet:d.bet.score+1}):o.t("label_text.no_at",{bet:d.bet.score});m.getComponent("CricketBetSessionItem").setData(d.bet.team,p,d.score,d.bet.amount,g,d.bet.over),m.setPosition(0,-t),this.sessionBetList.addChild(m),t+=m.height,this.arrSessionBetId.push(d.betid),2==d.result&&(i+=2*d.bet.amount)}this.sessionBetList.height=t,this.lblTotalWin.string=a.formatNumberWithRules(Math.floor(i)),this.lblGetChip.string=i<1?o.t("label_text.ok"):o.t("label_text.get_chips"),this.lblSessionTitle.string=this.converToSessionName(h),this.i18nFontUpdate()},initWinnerList:function(){var e=0;this.winnerBetList.removeAllChildren();var t=cc.instantiate(this.winnerBetPrefab);t.getComponent("CricketBetWinnerItem").setData("Team Name","Odds","Bet Amount","Result"),this.winnerBetList.addChild(t),e+=t.height,this.winnerBetList.height=e},initSessionList:function(){var e=0;this.sessionBetList.removeAllChildren();var t=cc.instantiate(this.sessionBetPrefab);t.getComponent("CricketBetSessionItem").setData("Team Name","Bet","Score","Bet Amount","Result"),this.sessionBetList.addChild(t),e+=t.height,this.sessionBetList.height=e},onBtnGetClk:function(){ITeenPatti.sendMsg("claimbets",{winnerbet:{is:this.arrWinnerBetId},sessionbet:{is:this.arrSessionBetId}}),this.closeUI()},converToSessionName:function(e){var t=[];return t[1]=o.t("label_text.bet_summary",{number:"1,6"}),t[2]=o.t("label_text.bet_summary",{number:"1,10"}),t[3]=o.t("label_text.bet_summary",{number:"1,15"}),t[4]=o.t("label_text.bet_summary",{number:"1,20"}),t[5]=o.t("label_text.bet_summary",{number:"2,6"}),t[6]=o.t("label_text.bet_summary",{number:"2,6"}),t[e]||""}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",LanguageData:"LanguageData"}],CricketBetSummaryRefundPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"184c6ayaiZPy4AsGCXq8T5E","CricketBetSummaryRefundPopUp");var n=e("BaseUI"),a=e("GameUtils");cc.Class({extends:n,properties:{refundAmountLabel:cc.Label,team1Label:cc.Label,team2Label:cc.Label},setInitData:function(e){this.team1Label.string=e.team1,this.team2Label.string=e.team2,this.refundAmountLabel.string=a.formatNumberWithRules(e.returnAmount)}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils"}],CricketBetWinnerItem:[function(e,t,i){"use strict";cc._RF.push(t,"3ca8fA7r1ZD4I8ngT0AXihE","CricketBetWinnerItem"),cc.Class({extends:cc.Component,properties:{lblRunner:cc.Label,lblOdds:cc.Label,lblAmount:cc.Label,lblResult:cc.Label},setData:function(e,t,i,n){this.lblRunner.string=e,this.lblOdds.string=t,this.lblAmount.string=i,this.lblResult.string=n}}),cc._RF.pop()},{}],CricketBetWinnerPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"90555iS2o9DqpV10DpZm3yW","CricketBetWinnerPopUp");var n=e("BaseUI"),a=e("GameUtils"),o=e("LanguageData"),s=(e("UIInfo"),e("DataAnalysisKey"));cc.Class({extends:n,properties:{lblOdds:cc.Label,lblBalance:cc.Label,lblProfit:cc.Label,lblRunner:cc.Label,lblAmount:cc.EditBox,objMatch:{visible:!1,default:null},objMarket:{visible:!1,default:null}},onLoad:function(){this._super(),this.lblAmount.node.on("text-changed",this.onBetAmountUpdate,this),ITeenPatti.addListener("UserUpdate",this,this.onUserUpdate)},onDestory:function(){this.lblAmount.node.off("text-changed",this.onBetAmountUpdate,this)},setInitData:function(e,t){this.objMatch=e,this.objMarket=t,this.lblOdds.string=a.subStrDecimalNumber(this.objMarket.odds,3),this.lblRunner.string=this.objMarket.runner,this.lblBalance.string=a.formatNumberWithRules(ITeenPatti.getCurPlayer().nChips),this.i18nFontUpdate()},onUserUpdate:function(e,t){t.user.isItMe&&(this.lblBalance.string=a.formatNumberWithRules(ITeenPatti.getCurPlayer().nChips))},onEditBoxChangeEnd:function(e){},onBetAmountUpdate:function(e){var t=new String(this.lblAmount.string);t=t.replace(new RegExp("[^0-9]","g"),"");var i=Math.min(this.objMatch.maxbet,parseInt(t));this.lblAmount.string=i,this.lblProfit.string=(this.objMarket.odds*new Number(this.lblAmount.string).valueOf()).toString().split(".")[0]},onBtnBetClk:function(){var e=new Number(this.lblAmount.string).valueOf();return e<1?(ITeenPatti.gameCore.gameMng.showAlert(o.t("label_text.enter_bet"),"",1),void this.closeUI()):e>ITeenPatti.getCurPlayer().getTeenPattiProfile().nChips?(this.gameCore.gameMng.openChipsNotEnoughTwoItem(e),void this.gameCore.dataAnalysisMng.sendData(s.POPUP_CHIPSOUT_GIFT,this.gameCore.dataAnalysisMng.gameBaseData)):(ITeenPatti.sendMsg("winnerbet",{gameid:this.objMatch.matchID,amount:e,teamodds:{team:this.objMarket.runner,odds:this.objMarket.odds}}),void this.closeUI())},onBtnCloseClk:function(){this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],CricketHelpPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"19f08BA5otDPYuQhSLo4a9x","CricketHelpPopUp");var n=e("BaseUI"),a=(e("GameUtils"),e("LanguageData"));cc.Class({extends:n,properties:{scrollContent:cc.Node,contentLabelRT:cc.Label},onBtnCloseClk:function(){this.closeUI()},onLoad:function(){this._super();var e=cc.visibleRect;e.width<1136&&(this.popupBg.scale=e.width/1136)},initComplete:function(){this._super(),this.contentLabelRT.scheduleOnce(handler(this,this.updateLabel),0)},updateLabel:function(){var e=[a.t("label_text.cricket_bet_help1"),a.t("label_text.cricket_bet_help2"),a.t("label_text.cricket_bet_help3"),a.t("label_text.cricket_bet_help5"),a.t("label_text.cricket_bet_help6"),a.t("label_text.cricket_bet_help7"),a.t("label_text.cricket_bet_help8"),a.t("label_text.cricket_bet_help9")];this.contentLabelRT.string=e.join("\n")}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",LanguageData:"LanguageData"}],CricketMatchInBetView:[function(e,t,i){"use strict";cc._RF.push(t,"7604cYJe4hG7LJwginHhydt","CricketMatchInBetView");var n=e("UIInfo"),a=(e("Command"),e("LanguageData")),o=e("GameUtils"),s=e("BaseComponent");cc.Class({extends:s,properties:{lblRunnerA:cc.Label,lblScoreA:cc.Label,lblOddsA:cc.Label,lblRunnerB:cc.Label,lblScoreB:cc.Label,lblOddsB:cc.Label,inBetBar:cc.Node,noMatchBar:cc.Node,stateNode:cc.Node,stateLabel:cc.Label,lblMatch:cc.Label,lblMatchNum:cc.Label,interval:{visible:!1,default:0},matchInBet:{visible:!1,default:null}},onBtnBetClk:function(e,t){ITeenPatti.gameCore.uiMng.openUI(n.CRICKET_BET_WINNER_POPUP,handler(this,function(e){e.setInitData(this.matchInBet,this.matchInBet.getWinnerMarket(t))}))},onRoomUpdate:function(e,t){var i=ITeenPatti.getCurRoom();i&&(this.matchInBet=i?i.getMatchInBet():null,this.inBetBar.active=null!=this.matchInBet,this.noMatchBar.active=null==this.matchInBet,this.refreshMatchView())},refreshMatchView:function(){if(this.matchInBet){ITeenPatti.getCurRoom().flagCache;this.lblRunnerA.string=this.matchInBet.arrRunner[0].name,this.lblScoreA.string=this.matchInBet.arrRunner[0].score,this.lblOddsA.string=o.subStrDecimalNumber(this.matchInBet.arrRunner[0].odds,3),this.lblRunnerB.string=this.matchInBet.arrRunner[1].name,this.lblScoreB.string=this.matchInBet.arrRunner[1].score,this.lblOddsB.string=o.subStrDecimalNumber(this.matchInBet.arrRunner[1].odds,3),this.stateNode.active="readNextGame"==this.matchInBet.matchState||"readCurrentGame"==this.matchInBet.matchState;var e="";"readNextGame"==this.matchInBet.matchState?e=a.t("label_text.upcoming"):"readCurrentGame"==this.matchInBet.matchState&&(e=a.t("label_text.in_play")),this.stateLabel.string=e,this.lblMatchNum.string=this.matchInBet.matchName,this.lblMatch.string=""}}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],CricketMatchList:[function(e,t,i){"use strict";cc._RF.push(t,"5b918Obr+BGAozoNy0fCH1Z","CricketMatchList");var n=e("BaseComponent");cc.Class({extends:n,properties:{objListView:cc.Node,objContent:cc.Node,imgBg:cc.Node,noMatch:cc.Node,pfbItem:cc.Prefab},onEnable:function(){this.initMatchList(),this.node.height=cc.winSize.height,this.imgBg.height=cc.winSize.height,this.objListView.parent.height=cc.winSize.height-72,this.objListView.height=cc.winSize.height-72},initMatchList:function(){this.objContent.removeAllChildren();var e=ITeenPatti.getCurRoom(),t=e?e.getMatchList():[];this.noMatch.active=!1,this.objContent.height=0;for(var i=0;i<t.length;i++){var n=cc.instantiate(this.pfbItem),a=n.getComponent("CricketMatchView");a.gameCore=this.gameCore,a.setMatchData(t[i]),n.y=-100*i-57,this.objContent.addChild(n),this.objContent.height=50-n.y}},onBtnCloseClk:function(){this.node.active=!1},onMatchList:function(e,t){this.initMatchList()}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],CricketMatchView:[function(e,t,i){"use strict";cc._RF.push(t,"57734q9gxtObrdgyDj0QrJq","CricketMatchView");var n=e("BaseComponent");cc.Class({extends:n,properties:{stateInPlay:cc.Node,stateInPlayGo:cc.Node,stateUpcomming:cc.Node,stateUpcommingGo:cc.Node,stateFuture:cc.Node,stateSettling:cc.Node,stateSuspend:cc.Node,lblRunnerA:cc.Label,lblRunnerB:cc.Label,curRoomTag:cc.Node,lblCDTime:cc.Label,lblStartTime:cc.Label,interval:{visible:!1,default:0},matchData:{visible:!1,default:null}},update:function(e){2==this.matchData.status&&(this.interval+=e,this.interval<1||(this.interval=Math.max(0,this.interval-1),this.lblCDTime.string=CommonUtil.getTimeString(this.matchData.startTime-(new Date).getTime()/1e3)))},setMatchData:function(e){this.interval=0,this.matchData=e;ITeenPatti.getCurRoom().flagCache;this.lblRunnerA.string=e.arrRunner[0].name,this.lblRunnerB.string=e.arrRunner[1].name,this.stateInPlay.active=1==e.status,this.stateUpcomming.active=2==e.status,this.stateFuture.active=3==e.status,this.stateSettling.active=4==e.status,this.stateSuspend.active=5==e.status,this.lblCDTime.string=CommonUtil.getTimeString(this.matchData.startTime-(new Date).getTime()/1e3),this.lblStartTime.string=CommonUtil.convertToISTTime(this.matchData.startTime),this.node.getComponent(cc.Button).interactable=3!=e.status&&e.matchID!=ITeenPatti.getCurRoom().roomName,this.curRoomTag.active=e.matchID==ITeenPatti.getCurRoom().roomName,this.i18nFontUpdate()},onBtnClk:function(){ITeenPatti.onMsgReceived("UserRoomSwitch",{room:this.matchData.matchID})}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],CricketMatchWinnerBetListView:[function(e,t,i){"use strict";cc._RF.push(t,"25e78e02llFea/z0C7YBoBB","CricketMatchWinnerBetListView"),cc.Class({extends:cc.Component,properties:{betRecordPrefab:cc.Prefab,recordList:cc.Node,count:{visible:!1,default:0}},clearBetRecord:function(){this.recordList.removeAllChildren(),this.count=0},addBetRecord:function(e){var t=cc.instantiate(this.betRecordPrefab);t.setPosition(0,-50-this.count*t.height),t.getComponent("CricketBetMatchBetRecordView").setBetData(e),this.recordList.addChild(t),this.count++,this.recordList.height=-t.y+t.height,this.node.height=-this.recordList.y+this.recordList.height}}),cc._RF.pop()},{}],CricketPageHistoryBet:[function(e,t,i){"use strict";cc._RF.push(t,"37f43Pl/VVE/JFYnxmLCO60","CricketPageHistoryBet");var n=e("LanguageData"),a=e("GameUtils");cc.Class({extends:cc.Component,properties:{lblTeam:cc.Label,lblSession:cc.Label,lblOdds:cc.Label,lblScoreBet:cc.Label,lblScoreReal:cc.Label,lblAmount:cc.Label,lblStatus:cc.Label,imgBetMoreBg:cc.Node,imgBetLessBg:cc.Node,arrResultStatus:{visible:!1,default:[]}},onLoad:function(){this.arrResultStatus=[],this.arrResultStatus[-1]="Cancel",this.arrResultStatus[0]=n.t("label_text.ongoing"),this.arrResultStatus[1]=n.t("label_text.lost"),this.arrResultStatus[2]=n.t("label_text.win")},setBetData:function(e){this.lblTeam&&(this.lblTeam.string=e.runner),this.lblSession&&(this.lblSession.string=this.converToSessionName(e.session)),this.lblOdds&&(this.lblOdds.string=0==e.odds?"0":Math.floor(e.odds)+"."+string.sub(""+Math.floor(100+100*e.odds),1)),this.lblScoreBet&&(this.lblScoreBet.string=e.isMore?n.t("label_text.yes_at",{bet:e.betScore+1}):n.t("label_text.no_at",{bet:e.betScore})),this.lblScoreReal&&(this.lblScoreReal.string=0==e.status?"-":e.realScore),this.lblAmount&&(this.lblAmount.string=a.formatNumberWithRules(Math.floor(e.amount))),this.lblStatus&&(this.lblStatus.string=this.converToResult(e.status,e.amount,e.odds)),this.imgBetMoreBg&&(this.imgBetMoreBg.active=e.isMore),this.imgBetLessBg&&(this.imgBetLessBg.active=!e.isMore)},converToSessionName:function(e){var t=[];return t[1]=n.t("label_text.innings_overs",{number:"1,6"}),t[2]=n.t("label_text.innings_overs",{number:"1,10"}),t[3]=n.t("label_text.innings_overs",{number:"1,15"}),t[4]=n.t("label_text.innings_overs",{number:"1,20"}),t[5]=n.t("label_text.innings_overs",{number:"2,6"}),t[e]||""},converToResult:function(e,t,i){var o=!i||i<0?2*t:t*i;switch(e){case-1:return"Cancel";case 0:return n.t("label_text.ongoing");case 1:return n.t("label_text.lost")+" "+a.formatNumberWithRules(Math.floor(t));case 2:return n.t("label_text.win")+" "+a.formatNumberWithRules(Math.floor(o))}return""}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],CricketPageHistory:[function(e,t,i){"use strict";cc._RF.push(t,"e11ebDOE8lII4lW7pgrSZgt","CricketPageHistory");var n=e("BaseComponent");cc.Class({extends:n,properties:{pfbMatchRecord:cc.Prefab,contentView:cc.Node,noRecordBar:cc.Node},onLoad:function(){this.initMatchBetRecord()},onEnable:function(){var e=this.contentView.children;e.forEach(function(e){e.on("size-changed",this.resizeLayout,this)}.bind(this)),e.forEach(function(e){e.on("ae-match-record-expand",this.onItemExpand,this)}.bind(this))},onDisable:function(){var e=this.contentView.children;e.forEach(function(e){e.off("size-changed",this.resizeLayout,this)}.bind(this)),e.forEach(function(e){e.off("ae-match-record-expand",this.onItemExpand,this)}.bind(this))},resizeLayout:function(){var e=0;this.contentView.children.forEach(function(t){t.setPosition(t.x,e),e-=t.height}.bind(this)),this.contentView.height=Math.max(30-e,550)},onItemExpand:function(e){var t=e.detail;this.contentView.children.forEach(function(e){t.node!=e&&e.getComponent("CricketPageMatchRecord").collapse()}.bind(this))},initMatchBetRecord:function(){var e=ITeenPatti.getCurRoom(),t=e?e.getMatchHistroy():null,i=e?e.getMatchInPlay():null,n=t?t.getMatchList():[],a=e?e.getMatchUpcoming():null;if(this.contentView.removeAllChildren(),this.noRecordBar.active=n.length<1,n.length<1)return this.resizeLayout(),void this.onEnable();var o=null;i&&(o=this.addMatchRecord(t.getMatchWithID(i.matchID)));for(var s=0;s<a.length;s++)if(!i||a[s].matchID!=i.matchID){var r=this.addMatchRecord(t.getMatchWithID(a[s].matchID));o=o||r}for(var l=n.length-1;l>=0;l--)if(!i||n[l].matchID!=i.matchID){var c=!1;for(s=0;s<a.length&&!(c=a[s].matchID==n[l].matchID);s++);if(!c){var h=this.addMatchRecord(n[l]);o=o||h}}this.resizeLayout(),this.onEnable(),o&&o.expandOnLoad(),this.i18nFontUpdate()},addMatchRecord:function(e){if(!e)return null;var t=cc.instantiate(this.pfbMatchRecord);return t.setPosition(0,0-this.contentView.childrenCount*t.height),t.getComponent("CricketPageMatchRecord").setMatchData(e),this.contentView.addChild(t),t.getComponent("CricketPageMatchRecord")}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],CricketPageInPlay:[function(e,t,i){"use strict";cc._RF.push(t,"ac226Gg9AVEVJEWngPgIjX5","CricketPageInPlay");var n=e("UIInfo"),a=e("LanguageData"),o=e("ITeenPatti"),s=e("CricketRunnerView");cc.Class({extends:cc.Component,properties:{arrRunnerView:[s],arrBtnBetWinner:[cc.Button],arrBtnBetSession:[cc.Button],lblMatch:cc.Label,lblCurRunner:cc.Label,lblSession:cc.Label,lblScoreLess:cc.Label,lblScoreMore:cc.Label,btnLessBet:cc.Button,btnMoreBet:cc.Button,noMatchBar:cc.Node,inPlayBar:cc.Node,matchInPlay:{visible:!1,default:null},scoreCheck:{visible:!1,default:""}},onLoad:function(){var e=o.getCurRoom();this.matchInPlay=e?e.getMatchInPlay():null,this.inPlayBar.active=null!=this.matchInPlay,this.noMatchBar.active=null==this.matchInPlay,this.lblMatch.string=this.matchInPlay?this.matchInPlay.getMatchName():"",this.lblCurRunner.string=this.matchInPlay?a.t("label_text.opt_to_bowl",{"team name":this.matchInPlay.getCurRunnerName()}):"",this.initRunnerList(),this.initWinnerMarket(),this.initSessionMarket()},initRunnerList:function(){for(var e=this.matchInPlay?this.matchInPlay.getRunneres():[],t=0;t<e.length;t++){var i=e[t];this.arrRunnerView[t].setRunnerData(i)}},initWinnerMarket:function(){for(var e=this.matchInPlay?this.matchInPlay.getWinnerMarketes():[],t=0;t<e.length;t++){var i=e[t];this.arrRunnerView[t].setRunnerOdds(i.odds),this.matchInPlay.isMatchFinish()||0==i.odds?this.arrRunnerView[t].disableBet():this.arrRunnerView[t].inableBet()}},initSessionMarket:function(){var e=this.matchInPlay?this.matchInPlay.getSessionMarketes():null;if(!e)return this.lblSession.string="",this.lblScoreLess.string="",this.lblScoreMore.string="",this.btnLessBet.interactable=!1,void(this.btnMoreBet.interactable=!1);this.btnLessBet.interactable=e.sessionID<6,this.btnMoreBet.interactable=e.sessionID<6,this.lblSession.string=e.sessionName,this.lblScoreLess.string=e.scoreLess+1,this.lblScoreMore.string=e.scoreMore+1,this.scoreCheck=e.scoreCheck},onBtnWinnerClk:function(e,t){o.gameCore.uiMng.openUI(n.CRICKET_BET_WINNER_POPUP,handler(this,function(e){e.setInitData(this.matchInPlay,this.matchInPlay.getWinnerMarket(t))}))},onBtnSessionClk:function(e,t){var i="yes"==t;o.gameCore.uiMng.openUI(n.CRICKET_BET_SESSION_POPUP,handler(this,function(e){e.setInitData(this.matchInPlay,this.matchInPlay.getSessionMarketes(),i)}))}}),cc._RF.pop()},{CricketRunnerView:"CricketRunnerView",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",UIInfo:"UIInfo"}],CricketPageMatchDetailList:[function(e,t,i){"use strict";cc._RF.push(t,"38220w1ovxPlpvd+gfjlbQl","CricketPageMatchDetailList"),cc.Class({extends:cc.Component,properties:{pfbMatchItem:cc.Prefab,matchDetailList:cc.Node},onLoad:function(){this.initMatchDetailList()},initMatchDetailList:function(){var e=10;this.matchDetailList.removeAllChildren();for(var t=ITeenPatti.getCurRoom(),i=t?t.getMatchUpcoming():[],n=0;n<i.length;n++){var a=cc.instantiate(this.pfbMatchItem);a.setPosition(0,0-n*a.height),a.getComponent("CricketPageMatchDetailView").setMatchData(i[n]),this.matchDetailList.addChild(a),e+=a.height}this.matchDetailList.height=e,this.node.height=-this.matchDetailList.y+e+30}}),cc._RF.pop()},{}],CricketPageMatchDetailView:[function(e,t,i){"use strict";cc._RF.push(t,"dc3d9sNKQpKsq1hIrry6t2L","CricketPageMatchDetailView"),cc.Class({extends:cc.Component,properties:{lblName:cc.Label,lblTime:cc.Label,lblLocation:cc.Label,lblBetTime:cc.Label},setMatchData:function(e){this.lblName.string=e.getMatchName(),this.lblTime.string=this.convertToISTTime(e.startTime),this.lblLocation.string=e.location,this.lblBetTime.string=this.convertToISTTime(e.betStartTime)},convertToISTTime:function(e){var t=new Date(0);t.setUTCSeconds(e),t.setHours(t.getHours()+5),t.setMinutes(t.getMinutes()+30);var i=function(e){return e<10?"0"+e:e};return string.format("{0}/{1}/{2} {3}:{4}:{5}",i(t.getUTCDate()),i(t.getUTCMonth()+1),i(t.getUTCFullYear()),i(t.getUTCHours()),i(t.getUTCMinutes()),i(t.getUTCSeconds()))}}),cc._RF.pop()},{}],CricketPageMatchPageView:[function(e,t,i){"use strict";cc._RF.push(t,"19a964BVldJvp/8QTgR83nz","CricketPageMatchPageView");var n=e("BaseComponent");cc.Class({extends:n,properties:{pfbPageItem:cc.Prefab,matchPageView:cc.PageView,pageContent:cc.Node,btnLast:cc.Node,btnNext:cc.Node},onLoad:function(){this.initPageContent(),this.btnLast.active=!1},initPageContent:function(){this.pageContent.removeAllChildren();for(var e=ITeenPatti.getCurRoom(),t=e?e.getMatchUpcoming():[],i=0;i<t.length;i++)if(!(t[i].betStartTime>=(new Date).getTime()/1e3)){var n=cc.instantiate(this.pfbPageItem);n.getComponent("CricketPageMatchView").gameCore=this.gameCore,n.getComponent("CricketPageMatchView").setMatchData(t[i]),n.getComponent("CricketPageMatchView").i18nFontUpdate(),this.pageContent.addChild(n)}var a=new cc.Component.EventHandler;a.target=this.node,a.component="CricketPageMatchPageView",a.handler="onPageScroll",this.matchPageView.pageEvents.push(a),this.btnNext.active=this.matchPageView.getPages().length>1},onBtnLastClk:function(){if(!this.matchPageView.isScrolling()){var e=this.matchPageView.getCurrentPageIndex();e<=0||this.matchPageView.scrollToPage(e-1,.3)}},onBtnNextClk:function(){if(!this.matchPageView.isScrolling()){var e=this.matchPageView.getCurrentPageIndex();e>=this.matchPageView.getPages().length-1||this.matchPageView.scrollToPage(e+1,.3)}},onPageScroll:function(){var e=this.matchPageView.getCurrentPageIndex();this.btnLast.active=e>0,this.btnNext.active=e<this.matchPageView.getPages().length-1}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],CricketPageMatchRecord:[function(e,t,i){"use strict";cc._RF.push(t,"d2a0aY9IzRG44kt/oNsB7B/","CricketPageMatchRecord");var n=e("CricketPageMatchWinnerBetList"),a=e("CricketPageMatchSessionBetList"),o=e("GameUtils");cc.Class({extends:cc.Component,properties:{expandContent:cc.Node,totalWinBar:cc.Node,winnerBetList:n,sessionBetList:a,imgIndicator:cc.Sprite,lblTotalWin:cc.Label,lblTitle:cc.Label,indicatorOffFrame:cc.SpriteFrame,indicatorOnFrame:cc.SpriteFrame,isExpanded:{visible:!1,default:!1}},onLoad:function(){this.isExpanded=!1,this.expandContent.active=!0,this.expandContent.scaleY=0,this.imgIndicator.spriteFrame=this.indicatorOffFrame},update:function(e){this.node.height=-1*this.expandContent.y+this.expandContent.height*this.expandContent.scaleY},setMatchData:function(e){this.winnerBetList.clearBetRecord(),this.sessionBetList.clearBetRecord();for(var t=e.getWinnerBetList(),i=0;i<t.length;i++)this.winnerBetList.addBetRecord(t[i]);var n=e.getSessionBetList();for(i=0;i<n.length;i++)this.sessionBetList.addBetRecord(n[i]);this.lblTitle.string=e.getMatchName(),this.lblTotalWin.string=o.formatNumberWithRules(Math.floor(e.getTotalWin())),this.winnerBetList.node.active=t.length>0,this.sessionBetList.node.active=n.length>0,this.sessionBetList.node.y=t.length>0?-this.winnerBetList.node.height:0,this.totalWinBar.y=0,this.winnerBetList.node.active&&(this.totalWinBar.y=this.winnerBetList.node.y-this.winnerBetList.node.height),this.sessionBetList.node.active&&(this.totalWinBar.y=this.sessionBetList.node.y-this.sessionBetList.node.height),this.expandContent.height=-this.totalWinBar.y+this.totalWinBar.height,this.node.height=this.isExpanded?-this.expandContent.y+this.expandContent.height:-this.expandContent.y},onBtnClk:function(){this.isExpanded?this.collapse():this.expand()},expandOnLoad:function(){this.isExpanded=!0,this.imgIndicator.spriteFrame=this.indicatorOnFrame,this.expandContent.scaleY=1,this.node.height=this.isExpanded?-this.expandContent.y+this.expandContent.height:-this.expandContent.y,this.node.emit("ae-match-record-expand",{node:this.node})},expand:function(){this.isExpanded=!0,this.imgIndicator.spriteFrame=this.indicatorOnFrame,this.expandContent.stopAllActions(),this.expandContent.runAction(cc.sequence(cc.scaleTo(.1,1,1),cc.callFunc(function(){this.onExpandFinish()},this))),this.node.emit("ae-match-record-expand",{node:this.node})},onExpandFinish:function(){},collapse:function(){this.isExpanded=!1,this.imgIndicator.spriteFrame=this.indicatorOffFrame,this.expandContent.stopAllActions(),this.expandContent.runAction(cc.sequence(cc.scaleTo(.1,1,0),cc.callFunc(function(){this.onCollapseFinish()},this)))},onCollapseFinish:function(){}}),cc._RF.pop()},{CricketPageMatchSessionBetList:"CricketPageMatchSessionBetList",CricketPageMatchWinnerBetList:"CricketPageMatchWinnerBetList",GameUtils:"GameUtils"}],CricketPageMatchSessionBetList:[function(e,t,i){"use strict";cc._RF.push(t,"830c6cpyA5Pgp3mYXdZdWbB","CricketPageMatchSessionBetList"),cc.Class({extends:cc.Component,properties:{betRecordPrefab:cc.Prefab,recordList:cc.Node,imgBottomLine:cc.Node,count:{visible:!1,default:0}},onLoad:function(){},clearBetRecord:function(){this.recordList.removeAllChildren()},addBetRecord:function(e){var t=cc.instantiate(this.betRecordPrefab);t.setPosition(0,0-this.count*t.height),t.getComponent("CricketPageHistoryBet").setBetData(e),this.recordList.addChild(t),this.count++,this.recordList.height=-t.y+t.height,this.node.height=-this.recordList.y+this.recordList.height,this.imgBottomLine.y=-this.node.height-2}}),cc._RF.pop()},{}],CricketPageMatchView:[function(e,t,i){"use strict";cc._RF.push(t,"f35412d7pFIOrn9eviH09a3","CricketPageMatchView");var n=e("UIInfo"),a=e("CricketRunnerView"),o=e("BaseComponent");cc.Class({extends:o,properties:{arrRunnerView:[a],arrBtnBetWinner:[cc.Button],lblCDTime:cc.Label,matchUpcoming:{visible:!1,default:null},interval:{visible:!1,default:0}},setMatchData:function(e){this.matchUpcoming=e,this.initRunner(e.getRunneres()),this.initWinnerMarket(e.getWinnerMarketes());var t=(new Date).getTime()/1e3;this.lblCDTime.string=CommonUtil.getTimeString(this.matchUpcoming.startTime-t);for(var i=0;i<this.arrBtnBetWinner.length;i++){this.arrBtnBetWinner[i].interactable=this.matchUpcoming.betStartTime<=t}},initRunner:function(e){for(var t=0;t<e.length;t++){var i=e[t];this.arrRunnerView[t].setRunnerData(i)}},initWinnerMarket:function(e){for(var t=0;t<e.length;t++){var i=e[t];this.arrRunnerView[t].setRunnerOdds(i.odds),0==i.odds?this.arrRunnerView[t].disableBet():this.arrRunnerView[t].inableBet()}},onBtnBetClk:function(e,t){ITeenPatti.gameCore.uiMng.openUI(n.CRICKET_BET_WINNER_POPUP,handler(this,function(e){e.setInitData(this.matchUpcoming,this.matchUpcoming.getWinnerMarket(t))}))},update:function(e){if(this.interval+=e,!(this.interval<1)){this.interval-=1;var t=(new Date).getTime()/1e3;if(this.lblCDTime.string=CommonUtil.getTimeString(this.matchUpcoming.startTime-t),!this.arrBtnBetWinner[0].interactable&&this.matchUpcoming.betStartTime<=t)for(var i=0;i<this.arrBtnBetWinner.length;i++){this.arrBtnBetWinner[i].interactable=!0}}}}),cc._RF.pop()},{BaseComponent:"BaseComponent",CricketRunnerView:"CricketRunnerView",UIInfo:"UIInfo"}],CricketPageMatchWinnerBetList:[function(e,t,i){"use strict";cc._RF.push(t,"9d7b8Xtk7RISLhkW1l3ZrV3","CricketPageMatchWinnerBetList"),cc.Class({extends:cc.Component,properties:{betRecordPrefab:cc.Prefab,imgBottomLine:cc.Node,recordList:cc.Node,count:{visible:!1,default:0}},onLoad:function(){},clearBetRecord:function(){this.recordList.removeAllChildren()},addBetRecord:function(e){var t=cc.instantiate(this.betRecordPrefab);t.setPosition(0,0-this.count*t.height),t.getComponent("CricketPageHistoryBet").setBetData(e),this.recordList.addChild(t),this.count++,this.recordList.height=-t.y+t.height,this.node.height=-this.recordList.y+this.recordList.height,this.imgBottomLine.y=-this.node.height-2}}),cc._RF.pop()},{}],CricketPageUpcoming:[function(e,t,i){"use strict";cc._RF.push(t,"2d52044culLuLfHocDaklan","CricketPageUpcoming");var n=e("CricketPageMatchPageView"),a=e("CricketPageMatchDetailList");cc.Class({extends:cc.Component,properties:{contentView:cc.Node,noMatchStatus:cc.Node,matchDetailListView:cc.Node,matchPageView:n,matchListView:a},onLoad:function(){this.matchDetailListView.on("size-changed",this.resizeLayout,this)},onEnable:function(){var e=ITeenPatti.getCurRoom(),t=e?e.getMatchUpcoming():[];this.contentView.active=t.length>0,this.noMatchStatus.active=t.length<1},onRoomUpdate:function(e,t){for(var i=ITeenPatti.getCurRoom(),n=i?i.getMatchInPlay():null,a=i?i.getMatchUpcoming():[],o=0;o<a.length;o++)if(n&&a[o].matchID==n.matchID){ITeenPatti.sendMsg("cricketlist",null);break}},resizeLayout:function(){var e=-this.matchDetailListView.y+this.matchDetailListView.height;this.contentView.height=Math.max(568,e)},refreshPage:function(){this.matchPageView.onLoad(),this.matchListView.onLoad()}}),cc._RF.pop()},{CricketPageMatchDetailList:"CricketPageMatchDetailList",CricketPageMatchPageView:"CricketPageMatchPageView"}],CricketRunnerView:[function(e,t,i){"use strict";cc._RF.push(t,"8f27bzLS3BLf6ea3lQnWF05","CricketRunnerView"),cc.Class({extends:cc.Component,properties:{lblName:cc.Label,lblScore:cc.Label,lblOdds:cc.Label,btnBet:cc.Button},setRunnerData:function(e){this.lblName.string=e.name,this.lblScore.string=e.score},setRunnerOdds:function(e){this.lblOdds.string=0==e?"0":Math.floor(e)+"."+string.sub(""+Math.floor(100+100*e),1)},disableBet:function(){this.btnBet.interactable=!1},inableBet:function(){this.btnBet&&(this.btnBet.interactable=!0)}}),cc._RF.pop()},{}],CricketScene:[function(e,t,i){"use strict";cc._RF.push(t,"ad81d3EQDNEf4f4PEsbCgvl","CricketScene");var n=e("UIInfo"),a=e("Command"),o=e("BaseScene"),s=e("MatchRoom"),r=e("LanguageData"),l=(e("AEMatchInPlay"),e("AEMatchUpcoming"),e("AEMatchBet"),e("AEMatchRecord"),e("AEMatchHistory"),e("AEMatchRunner"),e("AEMatchMarketWinner"),e("AEMatchMarketSession"),e("CricketMatchInBetView")),c="CricketScene";cc.Class({extends:o,properties:{alertPrefab:cc.Prefab,cricketBetSessionPopUpPrefab:cc.Prefab,cricketBetWinnerPopUpPrefab:cc.Prefab,cricketBetSummaryPopUpPrefab:cc.Prefab,cricketBetSummaryRefundPopUpPrefab:cc.Prefab,cricketMarketWinnerSummaryPopUp:cc.Prefab,cricketMarketSessionSummaryPopUp:cc.Prefab,cricketSessionBetCheatPopUp:cc.Prefab,cricketWinnerBetChangePopUp:cc.Prefab,cricketBetHistoryPopUpPrefab:cc.Prefab,cricketHelpPopUp:cc.Prefab,chipsNotEnough3Prefab:cc.Prefab,chipsNotEnoughTwoItemPrefab:cc.Prefab,storePrefab:cc.Prefab,bankStorePrefab:cc.Prefab,withdrawChipsPrefab:cc.Prefab,giftChipsPrefab:cc.Prefab,bankToBankPrefab:cc.Prefab,bankHistoryPrefab:cc.Prefab,bankAlertPrefab:cc.Prefab,chipsFlyEffectPrefab:cc.Prefab,connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,redeemCodePrefab:cc.Prefab,arrPage:[cc.Node],maskLayer:cc.Node,matchListNode:cc.Node,titleLabel:cc.Label,suspendNode:cc.Node,suspendLabel:cc.Label,switchLabel:cc.Label,switchNode:cc.Node,matchInBetView:l,closeBtn:cc.Node,matchListBtn:cc.Node,historyBtn:cc.Node},onLoad:function(){this._super(),LogUtil.info(c,"------------------------------------- Cricket Scene ------------------------------------"),this.matchInBetView.node.active=!1,this.closeBtn.active=!1,this.matchListBtn.active=!1,this.historyBtn.active=!1,this.matchListNode.active=!1},initComplete:function(){this._super(),LogUtil.debug(c,"showLoading"),this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,1,!1),ITeenPatti.sendMsg("sport",{mode:"Cricket"}),ITeenPatti.addListener(a.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoinFirst),ITeenPatti.addListener(a.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),ITeenPatti.addListener("RoomUpdate",this,this.onRoomUpdate),ITeenPatti.addListener("UserRoomSwitch",this,this.onUserRoomSwitch),ITeenPatti.addListener("cricketlist",this,this.onMatchChange),ITeenPatti.addListener("newcricketlist",this,this.onMatchList),ITeenPatti.addListener("betresult",this,this.onMatchFinish),ITeenPatti.addListener("winnerbetError",this,this.onMarketChange),ITeenPatti.addListener("winnerbet",this,this.onBetError),ITeenPatti.addListener("sessionbet",this,this.onBetCheat),ITeenPatti.addListener("bets",this,this.onBetHistoryGet)},initRoom:function(){this.switchNode.active=!1,this.matchListNode.active=!1,this.matchListBtn.active=!0,this.closeBtn.active=!0,this.historyBtn.active=!0,this.matchInBetView.node.active=!0,this.matchInBetView.onRoomUpdate(),this.scheduleOnce(function(){ITeenPatti.sendMsg("newcricketlist"),ITeenPatti.sendMsg("bets",ITeenPatti.room.matchHistory.getBetIDs())},0),this.updateSuspendNode()},onRoomJoinFirst:function(e,t){ITeenPatti.removeListener(a.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoinFirst),this.gameCore.uiMng.hideLoading(),ITeenPatti.room||(ITeenPatti.room=new s,this.initPageInPlayData(),this.initPageUpcomingData(),this.initPageHistroy()),ITeenPatti.room.betResult&&ITeenPatti.onMsgReceived("betresult",ITeenPatti.room.betResult),this.initRoom()},onBtnListAllClk:function(){ITeenPatti.sendMsg("newcricketlist",null),this.matchListNode.active=!0},updateSuspendNode:function(){var e=ITeenPatti.getCurRoom(),t=e?e.getMatchInBet():null;t&&(this.suspendNode.active=!t.betEnable,this.suspendNode.active&&(this.suspendLabel.string="matchends"==t.matchState?r.t("label_text.match_ends"):r.t("label_text.suspend")))},onUserExitRoom:function(e,t){t.user.isItMe&&this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},onUserRoomSwitch:function(e,t){this.nextRoom=t.room,this.switchNode.active=!0,ITeenPatti.sendMsg("sport",{mode:"Cricket",lastroom:ITeenPatti.room.roomName,joinroom:this.nextRoom}),ITeenPatti.addListener(a.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoin)},onRoomJoin:function(e,t){ITeenPatti.removeListener(a.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoin),this.initRoom()},onMatchChange:function(e,t){this.arrPage[1].getComponent("CricketPageUpcoming").refreshPage()},onMarketChange:function(e,t){ITeenPatti.gameCore.uiMng.openUI(n.CRICKET_MARKET_WINNER_CHANGE_POPUP,function(e){e.setInitData({old:t.errorodds,new:t.teamodds.odds,msg:t})})},onBetError:function(e,t){"success"!=t.cmd&&this.gameCore.gameMng.showAlert(r.t("label_text.bet_failed_msg"),"",1)},onBetCheat:function(e,t){"error"==t.cmd&&ITeenPatti.gameCore.uiMng.openUI(n.CRICKET_BET_CHEAT_POPUP)},onMatchFinish:function(e,t){for(var i in t.winnerbets)3==t.winnerbets[i].result&&(ITeenPatti.gameCore.uiMng.openUI(n.CRICKET_BET_SUMMARY_REFUND_POPUP,function(e){e&&e.setInitData(t.winnerbets[i])}),delete t.winnerbets[i]);var a=function(e){e&&e.setInitData(t)};table.length(t.winnerbets)>0&&table.length(t.sessionbets)>0?ITeenPatti.gameCore.uiMng.openUI(n.CRICKET_BET_SUMMARY_POPUP,a):table.length(t.winnerbets)<1&&table.length(t.sessionbets)>0?ITeenPatti.gameCore.uiMng.openUI(n.CRICKET_MARKET_SESSION_SUMMARY_POPUP,a):table.length(t.winnerbets)>0&&table.length(t.sessionbets)<1&&ITeenPatti.gameCore.uiMng.openUI(n.CRICKET_MARKET_WINNER_SUMMARY_POPUP,a)},onBtnHistoryClk:function(){this.gameCore.uiMng.openUI(n.CRICKET_BET_HISTORY_POPUP)},onBtnCloseClk:function(){this.gameCore.uiMng.showLoading(),ITeenPatti.sendMsg("leaveroom",null)},onBtnHelpClk:function(){this.gameCore.uiMng.openUI(n.CRICKET_HELP_POPUP)},onRoomUpdate:function(e,t){this.matchInBetView.onRoomUpdate(e,t),this.updateSuspendNode()},onMatchList:function(e,t){this.matchListNode.getComponent("CricketMatchList").onMatchList(e,t)}}),cc._RF.pop()},{AEMatchBet:"AEMatchBet",AEMatchHistory:"AEMatchHistory",AEMatchInPlay:"AEMatchInPlay",AEMatchMarketSession:"AEMatchMarketSession",AEMatchMarketWinner:"AEMatchMarketWinner",AEMatchRecord:"AEMatchRecord",AEMatchRunner:"AEMatchRunner",AEMatchUpcoming:"AEMatchUpcoming",BaseScene:"BaseScene",Command:"Command",CricketMatchInBetView:"CricketMatchInBetView",LanguageData:"LanguageData",MatchRoom:"MatchRoom",UIInfo:"UIInfo"}],CricketSessionBetCheatPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"ec513QvCAlC2Jc7cj6ghTiA","CricketSessionBetCheatPopUp");var n=e("BaseUI");cc.Class({extends:n,properties:{},onLoad:function(){},onBtnOKClk:function(){this.closeUI()},onBtnCloseClk:function(){this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI"}],CricketWinnerBetChangePopUp:[function(e,t,i){"use strict";cc._RF.push(t,"2ebe2gsCV5Cg7DKgd5v5Ui1","CricketWinnerBetChangePopUp");var n=e("BaseUI"),a=e("LanguageData");cc.Class({extends:n,properties:{lblTitle:cc.Label},onLoad:function(){this._super()},setInitData:function(e){this.objMsg=e.msg,this.lblTitle.string=a.t("label_text.odds_changed_msg",{odds1:e.old,odds2:e.new}),this.i18nFontUpdate()},onBtnOKClk:function(){var e={gameid:this.objMsg.gameid,amount:this.objMsg.amount,teamodds:this.objMsg.teamodds};ITeenPatti.sendMsg("winnerbet",e),this.closeUI()},onBtnCloseClk:function(){this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],CustomerSupportHistory:[function(e,t,i){"use strict";cc._RF.push(t,"ac96798KMdFjaUMY1poRfcY","CustomerSupportHistory");cc.Class({name:"CustomerSupportHistory",properties:{newMsgCount:0,arrMsgList:[],arrCmdHandler:{default:{}}},ctor:function(){this.arrMsgList=[],this.arrCmdHandler.customerSerList=handler(this,this.onMsgList),this.arrCmdHandler.customerSerSendSuccess=handler(this,this.onSendSuccess),this.loadFromLocal()},getAllMsg:function(){return this.arrMsgList},getLastID:function(){return this.arrMsgList.length<1?-1:this.arrMsgList[this.arrMsgList.length-1].id},loadFromLocal:function(){var e=cc.sys.localStorage.getItem("AE_PATTI_CS_HISTORY_"+ITeenPatti.getCurPlayer().strTPID);if(e)try{this.arrMsgList=JSON.parse(e)}catch(e){return this.arrMsgList=[],void LogUtil.err(TAG,"There is error parse Customer support history",e)}},saveToLocal:function(){cc.sys.localStorage.setItem("AE_PATTI_CS_HISTORY_"+ITeenPatti.getCurPlayer().strTPID,JSON.stringify(this.arrMsgList))},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onMsgList:function(e,t){this.newMsgCount+=table.length(t.chat);var i=t.chat;if(!(i.length<1)){var n=[];for(var a in i)n.push(i[a]);for(var a in n.sort(function(e,t){return e.time-t.time}),n)this.arrMsgList.push(n[a])}},onSendSuccess:function(e,t){this.arrMsgList.push(t)}});cc._RF.pop()},{}],CustomerSupportMsg:[function(e,t,i){"use strict";cc._RF.push(t,"d8f6d50Yl9Fc5P18twVTN5O","CustomerSupportMsg");var n=e("FacebookIcon");cc.Class({extends:cc.Component,properties:{lblMsg:cc.Label,imgMsgBg:cc.Node,maxWidth:0,icon:n},onLoad:function(){var e=this;this.lblMsg.node.on("size-changed",function(t,i){e.imgMsgBg.width=Math.min(e.lblMsg.node.width+50,e.maxWidth+20),e.imgMsgBg.height=Math.max(e.lblMsg.node.height+30,60),e.node.height=e.imgMsgBg.height+10,e.node.setContentSize(e.node.width,e.node.height),e.lblMsg.node.width>e.maxWidth&&e.lblMsg.overFlow!=cc.Label.Overflow.RESIZE_HEIGHT&&(e.lblMsg.overflow=cc.Label.Overflow.RESIZE_HEIGHT,e.lblMsg.node.width=e.maxWidth),e.imgMsgBg.scaleX<0&&(e.lblMsg.node.x=e.imgMsgBg.x-e.imgMsgBg.width+15)}.bind(this))},initWithData:function(e){this.lblMsg.string=e.content,e.isreply||this.icon.initWithTeenPattiUser(ITeenPatti.getCurPlayer())}}),cc._RF.pop()},{FacebookIcon:"FacebookIcon"}],CustomerSupportPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"793b27k3UROOZdXlVbDHdEQ","CustomerSupportPopUp");var n=e("BaseUI");e("UIInfo"),e("DataAnalysisKey");cc.Class({extends:n,properties:{lblInput:cc.EditBox,lstMsg:cc.Node,pfbMsgMe:cc.Prefab,pfbMsgReply:cc.Prefab,arrMsgData:{default:[],visible:!1},arrUploading:{default:{},visible:!1},contentY:{default:0,visible:!1}},onLoad:function(){this._super(),this.lblInput.string="",ITeenPatti.sendMsg("customerSerList",{i:ITeenPatti.cstmMsgHistory.getLastID()}),ITeenPatti.addListener("customerSerList",this,this.onMsgReceive),ITeenPatti.addListener("customerSerSendChat",this,this.onSendSuccess),this.arrMsgData=ITeenPatti.cstmMsgHistory.getAllMsg(),this.initView()},sortMsg:function(){},initView:function(){for(var e in this.interval=0,this.contentY=-10,this.lstMsg.removeAllChildren(),this.arrMsgData){var t=this.arrMsgData[e],i=cc.instantiate(t.isreply?this.pfbMsgReply:this.pfbMsgMe);this.lstMsg.addChild(i),i.setPosition(i.x,this.contentY),i.getComponent("CustomerSupportMsg").initWithData(t),this.lstMsg.height=Math.max(380,Math.abs(i.y)+i.height+10),this.contentY=this.contentY-i.height-10}this.lstMsg.setPosition(this.lstMsg.x,this.lstMsg.height-190)},update:function(e){this.interval+=e,this.interval<30||Object.keys(this.arrUploading)>0||(this.interval-=30,ITeenPatti.sendMsg("customerSerList",{i:ITeenPatti.cstmMsgHistory.getLastID()}))},onBtnCloseClk:function(){ITeenPatti.cstmMsgHistory.saveToLocal(),this.closeUI()},onBtnSendClk:function(){var e=this.lblInput.string;if(!(e.length<1)){var t=parseInt(.001*(new Date).getTime());ITeenPatti.sendMsg("customerSerSendChat",{message:e,messageId:t}),this.lblInput.string="";var i={time:t,isreply:!1,content:e,id:-1};this.arrMsgData.push(i),this.arrUploading[""+t]=this.arrMsgData.length-1;var n=cc.instantiate(i.isreply?this.pfbMsgReply:this.pfbMsgMe);this.lstMsg.addChild(n),n.getComponent("CustomerSupportMsg").initWithData(i),n.setPosition(n.x,this.contentY),this.contentY=this.contentY-n.height-10,this.lstMsg.height=Math.max(380,Math.abs(n.y)+n.height+10),this.lstMsg.setPosition(this.lstMsg.x,this.lstMsg.height-190)}},onMsgReceive:function(e,t){var i=t.chat;if(!(i.length<1)){var n=[];for(var a in i)n.push(i[a]);for(var a in n.sort(function(e,t){return e.time-t.time}),n){var o=n[a],s=cc.instantiate(o.isreply?this.pfbMsgReply:this.pfbMsgMe);this.lstMsg.addChild(s),s.setPosition(s.x,this.contentY),s.getComponent("CustomerSupportMsg").initWithData(o),this.lstMsg.height=Math.max(380,Math.abs(s.y)+s.height+10),this.contentY=this.contentY-s.height-10}this.lstMsg.setPosition(this.lstMsg.x,this.lstMsg.height-190)}},onSendSuccess:function(e,t){this.arrUploading[""+t.messageId]&&(this.arrMsgData[this.arrUploading[""+t.messageId]].id=t.lastId,delete this.arrUploading[""+t.messageId],Object.keys(this.arrUploading)>0||(this.interval=0,ITeenPatti.sendMsg("customerSerList",{i:ITeenPatti.cstmMsgHistory.getLastID()})))}}),cc._RF.pop()},{BaseUI:"BaseUI",DataAnalysisKey:"DataAnalysisKey",UIInfo:"UIInfo"}],DailyMissionCompleted:[function(e,t,i){"use strict";cc._RF.push(t,"8522fd6+JxDrY8xZiwJ8JRX","DailyMissionCompleted");var n=e("LanguageData"),a=e("BaseUI");cc.Class({extends:a,properties:{label:cc.Label,index:{get:function(){return this._index},set:function(e){this._index=e,this.label.string=n.t("label_text.mission_complete",{number:e})},visible:!1}},initComplete:function(){this._super(),this.node.runAction(cc.moveTo(.3,cc.v2(10-this.node.width,this.node.y))),this.schedule(this.closeUI,3)},closeUI:function(){this.unschedule(this.closeUI),this._super(!1)}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],DailyMissionItemExtra:[function(e,t,i){"use strict";cc._RF.push(t,"d6333KcN0tMdrHrJgXyyB8K","DailyMissionItemExtra");var n=e("GameUtils"),a=e("LanguageData"),o=e("Command"),s=e("BaseComponent");cc.Class({extends:s,properties:{chipsBonusLabel:cc.Label,bankChipsBonusLabel:cc.Label,getBonusBtn:cc.Node,blackMask:cc.Node,claimed:cc.Node,glow:cc.Node,data:{get:function(){return this._data},set:function(e){this._data=e,this.chipsBonusLabel.string=a.t("label_text.chips_with_symbol_plus",{number:n.formatNumberWithRules(e.chips,1e6)}),this.bankChipsBonusLabel.string=a.t("label_text.chips_with_symbol_plus",{number:n.formatNumberWithRules(e.bankChips,1e6)}),this.claimed.active=e.isAccept;for(var t=table.createToArray(e.tasks),i=!0,o=0;o<t.length;o++)if(!t[o].isAccept){i=!1;break}this.getBonusBtn.active=this.glow.active=!e.isAccept&&i,this.getBonusBtn.active&&this.gameCore.userMng.updateRemindedTaskList(e.taskId)},visible:!1}},onLoad:function(){this._super(),this.blackMask.active=!1},initComplete:function(){this._super()},onClaimBtnClk:function(e){this.blackMask.active||(ITeenPatti.sendMsg(o.SERVER_CMD_ACCEPT_TASK,{i:this.data.taskId}),this.gameCore.uiMng.addListener(o.SERVER_CMD_ACCEPT_TASK,this,this.onAcceptTask),this.getBonusBtn.getComponent(cc.Button).interactable=!1,this.scheduleOnce(function(){this.getBonusBtn.getComponent(cc.Button).interactable=!0}.bind(this),3))},onAcceptTask:function(e){this.data.taskId==e.i&&(this.gameCore.uiMng.removeListener(o.SERVER_CMD_ACCEPT_TASK,this,this.onAcceptTask),this.data.isAccept=!0,this.data=this.data,this.gameCore.gameMng.playChipsFly({change:this.data.chips,final:this.gameCore.userMng.myself.nChips},this.node.position.add(cc.v2(3,35)),0,0,!0),this.scheduleOnce(function(){this.gameCore.gameMng.playChipsFly({change:this.data.bankChips,final:this.gameCore.userMng.myself.tpProfile.bankChips},this.node.position.add(cc.v2(3,-18)),0,1,!0)}.bind(this),1.5))}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],DailyMissionItem:[function(e,t,i){"use strict";cc._RF.push(t,"dab19QRUHNA6r7Ze2Caye4c","DailyMissionItem");var n=e("GameUtils"),a=e("LanguageData"),o=e("Command"),s=e("UIInfo"),r=e("BaseComponent");cc.Class({extends:r,properties:{titleLabel:cc.Label,icon:cc.Sprite,progressBar:cc.ProgressBar,progressLabel:cc.Label,contentLabel:cc.Label,chipsRewardNode:cc.Node,chipsRewardLabel:cc.Label,bankChipsRewardNode:cc.Node,bankChipsRewardLabel:cc.Label,playNowBtn:cc.Node,playNowBtnLabel:cc.Label,getBonusBtn:cc.Node,claimed:cc.Node,glow:cc.Node,data:{get:function(){return this._data},set:function(e){void 0==e.conditions.length&&(e.conditions=table.createToArray(e.conditions)),this._data=e,this.titleLabel.string=a.t("label_text.mission_number",{number:e.index}),this.chipsRewardNode.active=e.chips>0,this.chipsRewardLabel.string=a.t("label_text.chips_with_symbol_plus",{number:n.formatNumberWithRules(e.chips,1e6)}),this.bankChipsRewardNode.active=e.bankChips>0,this.bankChipsRewardLabel.string=a.t("label_text.chips_with_symbol_plus",{number:n.formatNumberWithRules(e.bankChips,1e6)}),this.progressBar.progress=e.finish/e.num,this.progressLabel.string=n.formatNumberWithRules(Math.min(e.finish,e.num))+"/"+n.formatNumberWithRules(e.num),this.playNowBtn.active=e.finish<e.num,this.getBonusBtn.active=this.glow.active=e.finish>=e.num&&!e.isAccept,this.getBonusBtn.active&&this.gameCore.userMng.updateRemindedTaskList(e.taskId),this.claimed.active=e.isAccept;var t=a.t("label_text.play_now"),i="",o="Popup/DailyMission/img_mission_icon"+e.type,s=1,r=e.conditions;1==e.type?(t=a.t("label_text.sign_in"),i=a.t("label_text.sign_in_for_bonus")):2==e.type?(t=a.t("label_text.connect"),i=a.t("label_text.login_facebook")):3==e.type?0==r.length?(i=a.t("label_text.finish_rounds_in_any",{times:n.formatNumberWithRules(e.num)}),o="Popup/DailyMission/img_mission_anymodes"):r.length<=1&&(i=a.t("label_text.finish_rounds",{times:n.formatNumberWithRules(e.num),mode:this.getModeStr()}),o="Popup/DailyMission/img_mission_"+r[0].toLowerCase()):4==e.type?0==r.length?(i=a.t("label_text.win_in_any_modes",{times:n.formatNumberWithRules(e.num)}),o="Popup/DailyMission/img_mission_anymodes"):r.length<=1?(i=a.t("label_text.win_in_epecific",{times:n.formatNumberWithRules(e.num),mode:this.getModeStr()}),o="Popup/DailyMission/img_mission_"+r[0].toLowerCase()):(i=a.t("label_text.win_for_times",{times:n.formatNumberWithRules(e.num),mode:this.getModeStr(),type:this.getTypeStr(r[1])+":"+this.getCardsStr()}),o="Popup/DailyMission/img_mission_cards"):5==e.type?i=a.t("label_text.tip_dealer",{times:n.formatNumberWithRules(e.num)}):6==e.type?i=a.t("label_text.send_gifts_times",{times:e.num}):7==e.type?i=a.t("label_text.play_with_meter",{times:e.num}):8==e.type?0==r.length?(i=a.t("label_text.win_chips_in_any",{chips:n.formatNumberWithRules(e.num)}),o="Popup/DailyMission/img_mission_anymodes_chips"):r.length<=1&&(i=a.t("label_text.win_chips_in_specific",{chips:n.formatNumberWithRules(e.num),mode:this.getModeStr()}),o="Popup/DailyMission/img_mission_"+r[0].toLowerCase()+"_chips"):9==e.type?(t=a.t("label_text.invite"),i=a.t("label_text.send_invites",{count:n.formatNumberWithRules(e.num)})):10==e.type?(t=a.t("label_text.invite"),i=a.t("label_text.succeed_in_inviting",{count:n.formatNumberWithRules(e.num)}),o="Popup/DailyMission/img_mission_icon9"):11==e.type&&(i=a.t("label_text.reach_chips_in_account",{chips:n.formatNumberWithRules(e.num)}),o="Common/Chips/chips_2",s=.7),this.playNowBtnLabel.string=t,this.contentLabel.string=i,this.icon.node.scale=s,cc.loader.loadRes(o,cc.SpriteFrame,function(e,t){this.isValid&&(e?LogUtil.err("DailyMissionItem","Down DailyMission Icon Fail",e):this.icon.spriteFrame=t)}.bind(this))},visible:!1}},getTypeStr:function(e){return"Trail"==e?a.t("label_text.trail_event"):"PureSequence"==e?a.t("label_text.pure_sequence"):"Sequence"==e?a.t("label_text.sequence_event"):"Color"==e?a.t("label_text.color_event"):"Pair"==e?a.t("label_text.pair_event"):"High"==e?a.t("label_text.high_card"):"Royal"==e?a.t("label_text.royal_flush"):"StraightFlush"==e?a.t("label_text.straight_flush"):"Four"==e?a.t("label_text.four_of_kind"):"Full"==e?a.t("label_text.full_house"):"Flush"==e?a.t("label_text.flush"):"Straight"==e?a.t("label_text.straight"):"Three"==e?a.t("label_text.three_of_kind"):"TwoPairs"==e?a.t("label_text.two_pairs"):"Pair"==e?a.t("label_text.pair"):""},getModeStr:function(){return"classic"==this.data.conditions[0]?a.t("label_text.classic1"):"joker"==this.data.conditions[0]?a.t("label_text.joker1"):"muflis"==this.data.conditions[0]?a.t("label_text.muflis1"):"ak47"==this.data.conditions[0]?a.t("label_text.ak47"):"hukam"==this.data.conditions[0]?a.t("label_text.hukam1"):"potblind"==this.data.conditions[0]?a.t("label_text.pot_blind1"):"poker"==this.data.conditions[0]?a.t("label_text.poker"):"war"==this.data.conditions[0]?a.t("label_text.casino_war"):"ab"==this.data.conditions[0]?a.t("label_text.andar_bahar"):"rummy"==this.data.conditions[0]?a.t("label_text.rummy"):""},getMode:function(){return"classic"==this.data.conditions[0]?"":"joker"==this.data.conditions[0]?"Joker":"muflis"==this.data.conditions[0]?"Muflis":"ak47"==this.data.conditions[0]?"AK47":"hukam"==this.data.conditions[0]?"HuKam":"potblind"==this.data.conditions[0]?"PotBlind":""},getCardsStr:function(){if(this.data.conditions[2]){for(var e=this.data.conditions[2].split(","),t=[2,3,4,5,6,7,8,9,10,"J","Q","K","A"],i=0;i<e.length;i++)e[i]=t[e[i]];return e.join("-")}return""},onLoad:function(){this._super()},initComplete:function(){this._super()},onClaimBtnClk:function(e){ITeenPatti.sendMsg(o.SERVER_CMD_ACCEPT_TASK,{i:this.data.taskId}),this.gameCore.uiMng.addListener(o.SERVER_CMD_ACCEPT_TASK,this,this.onAcceptTask),this.getBonusBtn.getComponent(cc.Button).interactable=!1,this.scheduleOnce(function(){this.getBonusBtn.getComponent(cc.Button).interactable=!0}.bind(this),3)},onAcceptTask:function(e){this.data.taskId==e.i&&(this.gameCore.uiMng.removeListener(o.SERVER_CMD_ACCEPT_TASK,this,this.onAcceptTask),this.data.isAccept=!0,this.data=this.data,this.gameCore.gameMng.playChipsFly({change:this.data.chips>0?this.data.chips:this.data.bankChips,final:this.data.chips>0?this.gameCore.userMng.myself.nChips:this.gameCore.userMng.myself.tpProfile.bankChips},this.node.position,0,this.data.chips>0?0:1,!0))},onPlayNowBtnClk:function(e){1==this.data.type?(this.gameCore.uiMng.closeUI(s.DAILY_MISSION),this.gameCore.uiMng.openUI(s.DAILY_SIGN_IN)):2==this.data.type?(this.gameCore.uiMng.closeUI(s.DAILY_MISSION),this.gameCore.userMng.onFBConnectBtnClk()):9==this.data.type||10==this.data.type?(this.gameCore.uiMng.closeUI(s.DAILY_MISSION),this.gameCore.gameMng.openInviteFriends()):(3==this.data.type||4==this.data.type||8==this.data.type)&&this.data.conditions.length>=1?(this.gameCore.uiMng.showLoading(),"classic"==this.data.conditions[0]||"joker"==this.data.conditions[0]||"muflis"==this.data.conditions[0]||"ak47"==this.data.conditions[0]||"hukam"==this.data.conditions[0]?this.gameCore.userMng.play(o.SERVER_CMD_PLAY,this.getMode()):"potblind"==this.data.conditions[0]?this.gameCore.userMng.play(o.SERVER_CMD_PLAY_DELUXE,this.getMode()):"poker"==this.data.conditions[0]?this.gameCore.userMng.playTexasHoldem():"war"==this.data.conditions[0]?this.gameCore.userMng.playCasinoWar():"ab"==this.data.conditions[0]?this.gameCore.userMng.playAB():"rummy"==this.data.conditions[0]?this.gameCore.userMng.playRummy():(this.gameCore.uiMng.hideLoading(),this.gameCore.uiMng.closeUI(s.DAILY_MISSION))):this.gameCore.uiMng.closeUI(s.DAILY_MISSION)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],DailyMission:[function(e,t,i){"use strict";cc._RF.push(t,"3b44aRkDPdKHo4EEY13pDcf","DailyMission");var n=e("Command"),a=e("LanguageData"),o=e("BaseUI");cc.Class({extends:o,properties:{item:cc.Prefab,itemExtra:cc.Prefab,layout:cc.Layout,leftTimeLabel:cc.Label,allClaimedLabel:cc.Node,nextMissionTime:{default:-1,visible:!1},taskData:{default:null,visible:!1}},onLoad:function(){this._super(),this.layout.node.removeAllChildren(),this.leftTimeLabel.string="",this.allClaimedLabel.active=!1},initComplete:function(){this._super(),this.gameCore.uiMng.showLoading(),ITeenPatti.sendMsg(n.SERVER_CMD_TASK_LIST),this.gameCore.uiMng.addListener(n.SERVER_CMD_TASK_LIST,this,this.onTaskList),this.gameCore.uiMng.addListener(n.SERVER_CMD_ACCEPT_TASK,this,this.onAcceptTask)},countDown:function(){var e=Math.max(0,this.nextMissionTime-(new Date).getTime()/1e3);this.leftTimeLabel.string=a.t("label_text.ends_in",{time:CommonUtil.getTimeString(e)}),0==e&&(this.unschedule(this.countDown),this.layout.node.removeAllChildren(),this.gameCore.uiMng.showLoading())},onTaskList:function(e){if(this.isValid){this.gameCore.uiMng.hideLoading(cc.v2(0,0),null,1,!1),this.taskData=e,this.nextMissionTime=(new Date).getTime()/1e3+e.stopTime,this.countDown(),this.schedule(this.countDown,1),this.allClaimedLabel.active=this.taskData.isAccept;for(var t=table.createToArray(e.tasks),i=0;i<t.length;i++){var n=cc.instantiate(this.item);this.layout.node.addChild(n),n.getComponent("DailyMissionItem").gameCore=this.gameCore,t[i].index=i+1,n.getComponent("DailyMissionItem").data=t[i]}var a=cc.instantiate(this.itemExtra);this.layout.node.addChild(a),this.dailyMissionItemExtra=a.getComponent("DailyMissionItemExtra"),this.dailyMissionItemExtra.gameCore=this.gameCore,this.dailyMissionItemExtra.data=e}},onAcceptTask:function(e){if(this.taskData)for(var t in this.taskData.tasks)if(this.taskData.tasks[t].taskId==e.i){this.taskData.tasks[t].isAccept=!0;break}this.dailyMissionItemExtra&&(this.dailyMissionItemExtra.data=this.taskData)},onBlackBgTouchEnd:function(e){e.stopPropagation()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",LanguageData:"LanguageData"}],DailySignInItem:[function(e,t,i){"use strict";cc._RF.push(t,"b6097DwyDxOYKCKjaqU84m5","DailySignInItem");var n=e("LanguageData"),a=e("GameUtils");cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,rewardLabel:cc.Label,todayBg:cc.Node,signinedBg:cc.Node},onLoad:function(){},updateUI:function(e,t,i,o){var s=e==t+1&&0==o||e==t&&o>0||e==t==7||0==t&&1==e;this.titleLabel.string=n.t("label_text.daily_bonus_day",{day:e}),this.rewardLabel.string=n.t("label_text.chips_with_symbol",{number:a.formatNumber(i)}),this.rewardLabel.node.color=s?new cc.Color(255,210,0):new cc.Color(255,255,255),this.todayBg.active=s,this.signinedBg.active=t>=e,this.rewardLabel.node.active=!this.signinedBg.active}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],DailySignIn:[function(e,t,i){"use strict";cc._RF.push(t,"f75efT3nltNgpkRlkzO+GG/","DailySignIn");var n=e("BaseUI"),a=e("DailySignInItem"),o=e("LanguageData"),s=(e("ITeenPatti"),e("GameData")),r=e("GameUtils"),l=e("Command"),c=e("LocalStorage"),h=e("DataAnalysisKey");cc.Class({extends:n,properties:{signinItems:[a],friendBonusLabel:cc.Label,friendBonusBtnLabel:cc.Label,perFriendBonusLabel:cc.Label,getRewardBtn:cc.Button,countDownLabel:cc.Label},onLoad:function(){this._super();var e=cc.visibleRect;if(e.width<this.popupBg.width-4){var t=e.width/(this.popupBg.width-4);this.popupBg.setScale(t)}},initComplete:function(){this._super(),this.updateFriendBonus(),this.perFriendBonusLabel.string=o.t("label_text.daily_bonus_friend_bonus_desc",{per:o.t("label_text.chips_with_symbol",{number:r.formatNumber(s.perFriendSignInBonus)}),max:o.t("label_text.chips_with_symbol",{number:r.formatNumber(s.maxFriendSignInBonus)})}),this.gameCore.uiMng.addListener(l.UI_CMD_SIGN_IN,this,this.onSignIn),this.gameCore.uiMng.addListener(l.UI_CMD_USER_INFO_GOTTEN,this,this.updateFriendBonus),this.onSignIn()},onCountDown:function(){var e=this.leftTime();this.countDownLabel.string=CommonUtil.getTimeString(e),0==e&&(this.gameCore.userMng.signin(),this.unschedule(this.onCountDown))},leftTime:function(){return Math.max(0,this.gameCore.userMng.nextSignInTime-(new Date).getTime()/1e3)},continueDays:function(){return Math.min(s.dailySignInBonus.length,this.gameCore.userMng.signinContinuesDay)},closeUI:function(){this._super(),this.gameCore.initPopupMng.dailySignInComplete=!0},onBlackBgTouchEnd:function(e){this.canClose&&this.gameCore.dataAnalysisMng.sendData(h.CLICKBLACKBG_DAILYBONUSPAGE,["leftTime:"+this.leftTime()]),this._super(e)},onBackButtonClk:function(){this.canClose&&this.gameCore.dataAnalysisMng.sendData(h.CLICKBACK_DAILYBONUSPAGE,["leftTime:"+this.leftTime()]),this._super()},onCloseBtnClk:function(e){this.canClose&&this.gameCore.dataAnalysisMng.sendData(h.CLICKCLOSE_DAILYBONUSPAGE,["leftTime:"+this.leftTime()]),this._super(e)},showDelayLoading:function(){this._super(cc.v2(0,0),this.getRewardBtn.node,.8)},onGetRewardBtnClk:function(e){this.getRewardBtn.interactable=!1,this.gameCore.userMng.signin(!0),this.gameCore.userMng.chipsFlyStartPos=this.getRewardBtn.node.position,this.gameCore.dataAnalysisMng.sendData(h.CLAIM_DAILYBONUS,["other_data:"+this.totalBonus()]),this.gameCore.uiMng.addListener(l.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.showNetworkDelayLoading()},onSignIn:function(e){if(this.getRewardBtn){this.getRewardBtn.node.active=0==this.leftTime();for(var t=0;t<this.signinItems.length;t++)this.signinItems[t].updateUI(t+1,this.continueDays(),s.dailySignInBonus[t],this.leftTime());this.leftTime()>0&&(this.schedule(this.onCountDown,1),this.onCountDown())}},onChipsGet:function(e){this.hideNetworkDelayLoading(),this.gameCore&&(this.gameCore.gameMng.playChipsFly(e,this.getRewardBtn.node.position,0),this.gameCore.uiMng.removeListener(l.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),cc.sys.os==cc.sys.OS_ANDROID&&!c.getLocalData(c.keys.OPEN_NOTIFICATION_REMIND_ANDROID)&&this.gameCore.gameMng.openNotificationReminder()&&c.saveLocalData(c.keys.OPEN_NOTIFICATION_REMIND_ANDROID,!0))},totalBonus:function(){return Math.min(s.maxFriendSignInBonus,this.gameCore.userMng.myself.friendsCount*s.perFriendSignInBonus)+s.dailySignInBonus[Math.min(s.dailySignInBonus.length-1,this.continueDays())]},updateFriendBonus:function(){this.gameCore&&(this.friendBonusLabel.string="+ "+o.t("label_text.chips_with_symbol",{number:r.formatNumber(Math.min(s.maxFriendSignInBonus,this.gameCore.userMng.myself.friendsCount*s.perFriendSignInBonus))}),this.friendBonusBtnLabel.string=o.t("label_text.chips_with_symbol",{number:r.formatNumber(this.totalBonus())}))}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DailySignInItem:"DailySignInItem",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",LocalStorage:"LocalStorage"}],DataAnalysisKey:[function(e,t,i){"use strict";cc._RF.push(t,"5d097RHY4hI44UNfV+SGey9","DataAnalysisKey");t.exports={OPEN_TO_SPLASH_PAGE:"Open_to_Splash_Page",OPEN_TO_LOGIN_PAGE:"Open_to_Login_Page",LOGIN_GAME_CLIENT:"Login_Game_Client",LOGIN_GAME_SUCCESS:"Login_Game_Success",CLICK_VIPTABLE_BUTTON:"Click_VIPTable_Button",CLICK_CLASSIC_BUTTON:"Click_Classic_Button",CLICK_VARIATION_BUTTON:"Click_Variation_Button",CLICK_NOLIMIT_BUTTON:"Click_Nolimit_Button",CLICK_DELUXE_BUTTON:"Click_Deluxe_Button",CLICK_CASINO_WAR_BUTTON:"Click_Casino_War_Button",CLICK_AB_BUTTON:"Click_AB_Button",CLICK_PATTI_WAR_BUTTON:"Click_Patti_War_Button",CLICK_FRIENDSTABLE_BUTTON:"Click_FriendsTable_Button",CLICK_TEXASHOLDEM_BUTTON:"Click_TexasHoldem_Button",CLICK_PRIVATE_BUTTON:"Click_Private_Button",CLICK_VARIATIONTABLE_BUTTON:"Click_VariationTable_Button",CLICK_DELUXETABLE_BUTTON:"Click_DeluxeTable_Button",CLICK_RUMMY_BUTTON:"Click_Rummy_Button",HOST_FRIENDSTABLE:"Host_FriendsTable",JOIN_FRIENDSTABLE:"Join_FriendsTable",CHECK_FRIENDSTABLE_RESULT:"Check_FriendsTable_Result",CLICK_FRIENDSTABLE_HELP:"Click_FriendsTable_Help",CLICK_FRIENDSTABLE_READY:"Click_FriendsTable_Ready",POPUP_FRIENDSTABLE_RESULT:"Popup_FriendsTable_Result",CLICK_FRIENDSTABLE_RESULT:"Click_FriendsTable_Result",CLICK_FRIENDSTABLE_ROUNDSRESULT:"Click_FriendsTable_RoundsResult",HOST_PRIVATETABLE:"Host_PrivateTable",POPUP_QUITGAME:"Popup_QuitGame",CLICK_QUITGAME_QUIT:"Click_QuitGame_Quit",CLICK_SETTING_BUTTON:"Click_Setting_Button",CLICK_LANGUAGE_SWITCH:"Click_Language_Switch",CLICK_LOBBY_SWITCH:"Click_Lobby_Switch",CLICK_SOUND_SWITCH:"Click_Sound_Switch",CLICK_VIBRATION_SWITCH:"Click_Vibration_Switch",CLICK_STRENGTHMETER_SWITCH:"Click_StrengthMeter_Switch",CLICK_NOTIFICATION_SWITCH:"Click_Notification_Switch",CLICK_PRECONTROLBAR_SWITCH:"Click_PreControlBar_Switch",CLICK_LOBBY_FB_LOGIN:"Click_Lobby_FB_Login",CLICK_SETTING_FB_LOGIN:"Click_Setting_FB_Login",CHANGE_DATA_GUESTTOFB:"Change_Data_GuestToFB",CLICK_FB_LOGOUT:"Click_FB_Logout",FB_LOGOUT_SUCCESS:"FB_Logout_Success",CLICK_RATE_BUTTON:"Click_Rate_Button",CLICK_SUPPORT_BUTTON:"Click_Support_Button",CLICK_HELP_BUTTON:"Click_Help_button",CLICK_AVATAR_BUTTON:"Click_Avatar_button",CHANGE_AVATAR:"Change_Avatar",CLICK_STORE_OPEN:"Click_Store_Open",CLICK_GOLD_STORE_OPEN:"Click_Gold_Store_Open",CLICK_STORE_BUY:"Click_Store_Buy",STORE_BUY_SUCCESS:"Store_Buy_Success",STORE_GOODS_ADD:"Store_Goods_Add",POPUP_DAILYBONUS:"Popup_Dailybonus",CLICK_DAILYBONUS:"Click_Dailybonus",CLAIM_DAILYBONUS:"Claim_Dailybonus",CLAIM_DAILYBONUS_SUCCESS:"Claim_Dailybonus_Success",CLICKCLOSE_DAILYBONUSPAGE:"ClickClose_DailybonusPage",CLICKBACK_DAILYBONUSPAGE:"ClickBack_DailybonusPage",CLICKBLACKBG_DAILYBONUSPAGE:"ClickBlackBg_DailybonusPage",JOIN_TABLE_SUCCESS:"Join_Table_Success",POPUP_TABLEINFO_ENTERTABLE:"Popup_TableInfo_EnterTable",CLICK_SIT:"Click_Sit",CLICK_STANDUP:"Click_StandUp",CLICK_STANDUPNEXTROUND:"Click_StandUpNextRound",STANDUP_AUTO_ROUNDEND:"StandUp_Auto_RoundEnd",CLICK_SWITCHTABLE:"Click_SwitchTable",CLICK_SWITCHTABLE_SWITCH:"Click_SwitchTable_Switch",CLICK_BACKTOLOBBY:"Click_BackToLobby",BACKTOLOBBY_AUTO_TIMEOUT:"BackToLobby_Auto_Timeout",POPUP_CHIPSCHANGE_LOBBY:"Popup_ChipsChange_Lobby",START_GAME:"Start_Game",COLLECT_BOOT_CLIENT:"Collect_Boot_Client",CLICK_SEE_CARD:"Click_See_Card",CLICK_BLIND_CHIPS:"Click_Blind_Chips",CLICK_CHAAL_CHIPS:"Click_Chaal_Chips",CLICK_ADD_BET:"Click_Add_Bet",CLICK_MINUS_BET:"Click_Minus_Bet",PACK_CLICK:"Pack_Click",PACK_TIMEOUT:"Pack_TimeOut",SIDESHOW_CLICK_CLIENT:"SideShow_Click_Client",SIDESHOW_REQUEST_POPUP:"SideShow_Request_Popup",SIDESHOW_ACCEPT_CLICK:"SideShow_accept_Click",SIDESHOW_CANCEL_CLICK:"SideShow_Cancel_Click",SIDESHOW_CANCEL_TIMEOUT:"SideShow_Cancel_Timeout",SHOW_CLICK:"Show_Click",SHOW_RESULT_CLIENT:"Show_Result_Client",SHOW_RESULT_CHIPS:"Show_Result_Chips",CHAT_ROOM_OPEN:"Chat_Room_Open",CHAT_ROOM_CLOSE:"Chat_Room_Close",CHAT_ROOM_FASTWORD:"Chat_Room_FastWord",CHAT_ROOM_EMOJI:"Chat_Room_Emoji",CHAT_ROOM_ENTERWORD:"Chat_Room_EnterWord",CLICK_PLAYER_INFOPAGE:"Click_Player_InfoPage",CLICK_MYSELF_INFOPAGE:"Click_Myself_InfoPage",SEND_GIFT_SELF:"Send_Gift_Self",SEND_GIFT_OTHERS:"Send_Gift_Others",SEND_MESSAGE_ENTERWORD:"Send_Message_EnterWord",SEND_MESSAGE_FASTWORD:"Send_Message_FastWord",SEND_MESSAGE_EMOJI:"Send_Message_Emoji",BLOCK_OTHERS:"Block_Others",UNBLOCK_OTHERS:"Unblock_Others",CLICK_TABLEINFO:"Click_TableInfo",CLICK_CASINO_WAR_TABLEINFO:"Click_Casino_War_TableInfo",CLICK_PATTI_WAR_TABLEINFO:"Click_Patti_War_TableInfo",CLICK_AB_TABLEINFO:"Click_AB_TableInfo",POPUP_CHIPSLESS_SHORTCUT:"Popup_ChipsLess_Shortcut",CLICK_CHIPSLESS_SHORTCUT:"Click_ChipsLess_Shortcut",BUY_CHIPSLESS_SHORTCUT:"Buy_ChipsLess_Shortcut",POPUP_CHIPSOUT_GAMEEND:"Popup_ChipsOut_GameEnd",POPUP_CHIPSOUT_SIT:"Popup_ChipsOut_Sit",CLICK_CHIPSOUT_SWITCH:"Click_Chipsout_Switch",CLICK_CHIPSOUT_BUY:"Click_Chipsout_Buy",POPUP_CHIPSOUT_GIFT:"Popup_ChipsOut_Gift",CLICK_CHIPSOUT_GIFT_BUY:"Click_Chipsout_Gift_Buy",CLICK_DEALER_TIPS:"Click_Dealer_Tips",CLICK_DEALER_CHANGE:"Click_Dealer_Change",CHANGE_DEALER:"Change_Dealer",POPUP_CHIPSOUT_TIPS:"Popup_ChipsOut_Tips",POPUP_CHIPSOUT_DEALER:"Popup_ChipsOut_Dealer",CLICK_STORE_TABLE:"Click_Store_Table",POPUP_SUMMARY_NORMAL:"Popup_Summary_Normal",POPUP_SUMMARY_RATE:"Popup_Summary_Rate",CLICK_RATE_SUMMARY:"Click_Rate_Summary",OPEN_TOTABLE_TABLE:"Open_ToTable_Table",INVITE_TOTABLE_CLIENT:"Invite_ToTable_Client",INVITE_TOTABLE_SERVER:"Invite_ToTable_Server",INVITE_FB_TOTABLEPAGE:"Invite_FB_ToTablePage",OPEN_FRIENDS_LOBBY:"Open_Friends_Lobby",JOIN_TABLE_FRIENDSLIST:"Join_Table_FriendsList",JOIN_TABLE_SHORTCUT:"Join_Table_Shortcut",INVITE_FB_FRIENDSLIST:"Invite_FB_FriendsList",OPEN_FRIENDS_TABLE:"Open_Friends_Table",POPUP_FRIENDSTABLE_REQUEST:"Popup_FriendsTable_Request",ACCEPT_FRIENDSTABLE_REQUEST:"Accept_FriendsTable_Request",DECLINE_FRIENDSTABLE_REQUEST:"Decline_FriendsTable_Request",OPEN_INVITATIONLIST:"Open_Invitationlist",OPEN_FRIENDS_RANKING:"Open_Friends_Ranking",OPEN_RANKING_HANDSWIN:"Open_Ranking_Handswin",OPEN_RANKING_CHIPSLEFT:"Open_Ranking_Chipsleft",POPUP_LEVELUP:"Popup_Levelup",GET_LEVELUP_CHIP:"Get_Levelup_Chip",NETWORK_DELAY_MILLISECONDS:"Network_Delay_Milliseconds",LOGIN_NETWORK_DELAY_MILLISECONDS:"Login_Network_Delay_Milliseconds",ROOMJOIN_NETWORK_DELAY_MILLISECONDS:"RoomJoin_Network_Delay_Milliseconds",SEECARD_NETWORK_DELAY_MILLISECONDS:"SeeCard_Network_Delay_Milliseconds",BET_NETWORK_DELAY_MILLISECONDS:"Bet_Network_Delay_Milliseconds",CLICK_MISSION:"Click_Mission",SHOW_MISSION:"Show_Mission",SHOW_MISSION_COMPLETE:"Show_Mission_Complete",INIT_CHOOSE_LOBBY_TYPE:"Init_Choose_Lobby_Type"},cc._RF.pop()},{}],DataAnalysisManager:[function(e,t,i){"use strict";cc._RF.push(t,"9171aK0dqJLZq0g/9PRB38W","DataAnalysisManager");var n=e("BaseManager"),a=e("ClassicRoom"),o=e("JokerRoom"),s=e("MuflisRoom"),r=e("HukamRoom"),l=e("PotBlindRoom"),c=e("CasinoWarRoom"),h=e("TexasHoldemRoom"),u=e("MatchCricketRoom"),d=e("MatchFootballRoom"),m=e("ABRoom"),g=e("ABPVPRoom"),p=e("ABGoldRoom"),C=e("ABPVPGoldRoom"),f=e("CasinoWarGoldRoom");cc.Class({extends:n,properties:{upload:!0,tableMode:{get:function(){var e=ITeenPatti.getCurSFSRoom();if(e&&e.isPasswordProtected)return"Table_Mode:Private";var t=ITeenPatti.getCurRoom();if(t){if(t.isNoLimit)return"Table_Mode:NoLimit";if(t.isDeluxe)return"Table_Mode:Deluxe";if(t instanceof a)return"Table_Mode:Classic";if(t instanceof o||t instanceof s||t instanceof r||t instanceof l)return"Table_Mode:Variable";if(t instanceof h)return"Table_Mode:Poker"}return"Table_Mode:unknown"}},tableType:{get:function(){var e=ITeenPatti.getCurRoom();if(e){if(e instanceof a)return"Table_Gameplay:Classic";if(e instanceof o)return"Table_Gameplay:Joker";if(e instanceof s)return"Table_Gameplay:Muflis";if(e instanceof r)return"Table_Gameplay:HuKam";if(e instanceof l)return"Table_Gameplay:PotBlind";if(e instanceof c)return"Table_Gameplay:CasinoWar";if(e instanceof u)return"Table_Gameplay:Cricket";if(e instanceof d)return"Table_Gameplay:Football";if(e instanceof m)return"Table_Gameplay:AB";if(e instanceof h)return"Table_Gameplay:Poker";if(e instanceof g)return"Table_Gameplay:ABPVP";if(e instanceof p)return"Table_Gameplay:AB_VIP";if(e instanceof C)return"Table_Gameplay:ABPVP_VIP";if(e instanceof f)return"Table_Gameplay:CasinoWar_VIP"}return"Table_Gameplay:unknown"}},bootAmount:{get:function(){var e=ITeenPatti.getCurSFSRoom();return e&&e.variables&&e.variables.ba?"BootAmount:"+e.variables.ba.value:"BootAmount:unknown"}},myLoopNum:{get:function(){var e=ITeenPatti.getCurTable();return e?"round_count:"+e.myLoopNum:"round_count:unknown"}},gameBaseData:{get:function(){return[this.tableMode,this.tableType,this.bootAmount]}},gameBaseData1:{get:function(){return[this.tableMode,this.tableType,this.bootAmount,this.myLoopNum]}}},setGameCoreComplete:function(){this._super()},sendData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this.upload){t.push("event:"+e),t.push("event_time:"+(new Date).getTime()),ITeenPatti.getCurPlayer()&&t.push("user_id:"+ITeenPatti.getCurPlayer().strTPID),t.push("device_id:"+this.gameCore.deviceId),t.push("os:"+this.gameCore.os),t.push("version:"+this.gameCore.hotfixVersion),t.push("mobile:"+this.gameCore.deviceModel);var i="https://trace.bingoholiday.xyz/maven-logwriter/trace/log/TeenPattiFlush/"+this.gameCore.gameVersion,n=cc.loader.getXMLHttpRequest();n.open("POST",i,!0),n.send("message="+t.join(","))}}});cc._RF.pop()},{ABGoldRoom:"ABGoldRoom",ABPVPGoldRoom:"ABPVPGoldRoom",ABPVPRoom:"ABPVPRoom",ABRoom:"ABRoom",BaseManager:"BaseManager",CasinoWarGoldRoom:"CasinoWarGoldRoom",CasinoWarRoom:"CasinoWarRoom",ClassicRoom:"ClassicRoom",HukamRoom:"HukamRoom",JokerRoom:"JokerRoom",MatchCricketRoom:"MatchCricketRoom",MatchFootballRoom:"MatchFootballRoom",MuflisRoom:"MuflisRoom",PotBlindRoom:"PotBlindRoom",TexasHoldemRoom:"TexasHoldemRoom"}],DealCardAB:[function(e,t,i){"use strict";cc._RF.push(t,"3f1afCW2RJP7aehdzRxFbWO","DealCardAB");var n=e("BaseComponent");cc.Class({extends:n,properties:{card:cc.Sprite,light:cc.Node,black:cc.Node},onLoad:function(){this._super(),this.light.active=!1,this.black.active=!1}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],DealCardAction:[function(e,t,i){"use strict";cc._RF.push(t,"9ec49bcPOdPi4OVw7qhMh7Z","DealCardAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){LogUtil.debug(this.name,"Round Start Deal Card ");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=[];for(var n in this.objData.arrPartnerID){var a=t.getSeatWithPlayerId(this.objData.arrPartnerID[n]);a&&i.push(a.seatId)}var o=this;this.nActionID,this.objData.roundID;t.dealer.startDealCard(i,handler(t,t.onDealCard),function(){o.isValid&&ITeenPatti.onMsgReceived("dealfinish",o.objData),o.isValid&&o.node.emit("dealfinish",o.objData),e.onActionFinish(o),o.destroy()})},cancel:function(){}}),cc._RF.pop()},{}],DealerCache:[function(e,t,i){"use strict";cc._RF.push(t,"1ed8e2XA9NCioi2kmcsfM49","DealerCache");var n="Common/Dealer/Table/Net/gs_dealers_{0}.png",a="Common/Dealer/Store/Net/sd_img_dealers_{0}.jpg";cc.Class({extends:cc.Component,properties:{arrTableFrame:[cc.SpriteFrame],arrStoreFrame:[cc.SpriteFrame]},isDealerLoad:function(e){return null!=this.arrTableFrame[e]&&null!=this.arrStoreFrame[e]},getTableUrl:function(e){return string.format(n,e)},getStoreUrl:function(e){return string.format(a,e)},getTableFrame:function(e){return this.arrTableFrame[e]||this.arrTableFrame[0]},getStoreFrame:function(e){return this.arrStoreFrame[e]||this.arrStoreFrame[0]},setTableFrame:function(e,t){this.arrTableFrame[e]=t},setStoreFrame:function(e,t){this.arrStoreFrame[e]=t}}),cc._RF.pop()},{}],DealerHintBar:[function(e,t,i){"use strict";cc._RF.push(t,"7a840D4EeNEcpS75vZpt65l","DealerHintBar"),cc.Class({extends:cc.Component,properties:{lblHint:cc.Label,imgHintBg:cc.Sprite,showTime:0,arrHintList:[]},onLoad:function(){var e=this;this.showHintBar(!1),this.lblHint.node.on("size-changed",function(t,i){e.imgHintBg.node.width=Math.max(e.lblHint.node.width+25,400)})},showHintBar:function(e){this.lblHint.node.active=e,this.imgHintBg.node.active=e},clearHint:function(){this.arrHintList=[]},addHint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!i&&this.arrHintList.length>0&&(this.arrHintList[this.arrHintList.length-1].duration=1),this.arrHintList.push({text:e,start:i,duration:t})},update:function(e){if(this.arrHintList.length<1)this.showHintBar(!1);else{var t=(new Date).getTime();if(this.arrHintList[0].start)return this.arrHintList[0].start+1e3*this.arrHintList[0].duration<=t?(this.arrHintList.splice(0,1),void(this.showTime=0)):this.arrHintList[0].start<t&&this.arrHintList[0].start+1e3*this.arrHintList[0].duration>t?(this.lblHint.string=this.arrHintList[0].text,void this.showHintBar(!0)):void 0;this.showTime+=e,this.showHintBar(!0),this.lblHint.string=this.arrHintList[0].text,this.showTime<this.arrHintList[0].duration||(this.showTime=0,this.arrHintList.splice(0,1))}}}),cc._RF.pop()},{}],DealerItem:[function(e,t,i){"use strict";cc._RF.push(t,"ee84fbsEmBO6Y9kP6A0X7kl","DealerItem");e("UIInfo");var n=e("GameUtils"),a=e("GameData"),o=e("BaseComponentGold"),s=e("DataAnalysisKey");cc.Class({extends:o,properties:{imgDealer:cc.Sprite,lblName:cc.Label,lblPrice:cc.Label,objActive:cc.Node,imgHot:cc.Sprite,loadMask:cc.Node,dealerID:{visible:!1,default:-1},price:0,strUrl:{visible:!1,default:""},dealerCache:{visible:!1,default:null}},onLoad:function(){this._super(),this.imgHot.node.active=!1},setDealdID:function(e){this.dealerID=e,this.objActive&&(this.objActive.active=this.dealerID==ITeenPatti.getCurTable().dealerID),this.dealerCache=cc.director.getScene().getChildByName("Canvas").getComponent("DealerCache"),this.dealerCache.isDealerLoad(e)?(this.loadMask.active=!1,this.imgDealer.spriteFrame=this.dealerCache.getStoreFrame(e)):ITeenPatti.addListener("DealerLoad",this,this.onDealerLoad),this.lblName.string=a.arrDealerName[e-1],this.price=this.gameCore.gameMng.getDealerPrice(e),this.lblPrice.string=n.formatNumberWithRules(this.gameCore.gameMng.getDealerPrice(e))},setClickCb:function(e){this.hClickCb=e},setDealerHot:function(){this.imgHot.node.active=!0},onDealerLoad:function(e,t){if(this.node&&this.node.isValid&&this.dealerCache&&t.id==this.dealerID){var i=this.dealerCache.getStoreFrame(this.dealerID);i&&(this.loadMask.active=!1,this.imgDealer.spriteFrame=i)}},onBtnDealerClicked:function(){if(!this.objActive||!this.objActive.active){ITeenPatti.getCurPlayer();this.gameCore.gameMng.hasEnoughChips(this.price)?this.hClickCb&&this.hClickCb(this.dealerID,this.price):this.gameCore.dataAnalysisMng.sendData(s.POPUP_CHIPSOUT_DEALER,this.gameCore.dataAnalysisMng.gameBaseData)}}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameUtils:"GameUtils",UIInfo:"UIInfo"}],DeleteAppleAccountView:[function(e,t,i){"use strict";cc._RF.push(t,"a1ebbtLNFJFJaDA0r2GSfSj","DeleteAppleAccountView");var n=e("BaseUI");e("UIInfo"),e("Command");cc.Class({extends:n,properties:{idEditBox:cc.EditBox,tipLabel:cc.Label,closeBtn:cc.Button,cancelBtn:cc.Button,deleteBtn:cc.Button},onLoad:function(){this.tipLabel.node.active=!1,this._super()},gameCoreSetComplete:function(){this._super()},onEnterForeground:function(){this._super()},initComplete:function(){this._super(),this.gameCore.uiMng.addListener("deleteUserApple",this,this.onDeleteAccountSuccess)},onCloseBtnClk:function(e){this.closeUI()},onDeleteAppleBtnClk:function(e){if(this.idEditBox.string==this.gameCore.userMng.myself.strTPID){this.tipLabel.node.active=!1,this.deleteBtn.interactable=!1;var t={};t.userId=parseInt(this.gameCore.userMng.myself.strTPID),t.deviceId=CommonUtil.getDeviceId(),t.appId=parseInt(FBAppId),ITeenPatti.sendMsg("deleteUserApple",t),this.gameCore.uiMng.showLoading()}else this.tipLabel.node.active=!0,this.deleteBtn.interactable=!0},onDeleteAccountSuccess:function(e){this.gameCore.uiMng.hideLoading(),0==e.returnCode&&this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",UIInfo:"UIInfo"}],DeluxeActionPool:[function(e,t,i){"use strict";cc._RF.push(t,"ff0dc3tNjNN7rYyMbLnRFDy","DeluxeActionPool");cc.Class({extends:cc.Component,properties:{arrAction:{default:[],visible:!1}},removeAll:function(){LogUtil.info("DeluxeActionPool","Deluxe Action Pool Clear");for(var e=this.arrAction.length-1;e>=0;--e)this.arrAction[e].onDestroy&&this.arrAction[e].onDestroy();this.arrAction=[]},runAction:function(e,t,i){e.strCmd=t,e.objData=i,this.arrAction.push(e),e.play(this)},onActionFinish:function(e){for(var t=this.arrAction.length-1;t>=0;--t)if(this.arrAction[t]==e)return void this.arrAction.splice(t,1)}}),cc._RF.pop()},{}],DeluxeControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"058a0Sp1VZPdo6ApiVvQC1p","DeluxeControlBar");e("CDTimeBar");var n=e("GameUtils"),a=e("DataAnalysisKey"),o=e("BaseComponent"),s=e("DeluxeSeeBar"),r=e("LanguageData"),l="DeluxeControlBar";cc.Class({extends:o,properties:{seeBar:s,btnPack:cc.Button,btnSide:cc.Button,btnShow:cc.Button,btnBlind:cc.Button,btnChaal:cc.Button,btnPlus:cc.Button,btnMinus:cc.Button,lblBlindAmount:cc.Label,lblChaalAmount:cc.Label,plusBtnClickCount:0,nMaxBlinds:{get:function(){return this._nMaxBlinds},set:function(e){this._nMaxBlinds=e,this.seeBar.nMaxBlinds=e},visible:!1},nMaxChaal:{get:function(){return this._nMaxChaal},set:function(e){this._nMaxChaal=e,this.seeBar.nMaxChaal=e},visible:!1},nBetChip:{get:function(){return this._nBetChip},set:function(e){this._nBetChip=e,this.seeBar.nBetChip=e},visible:!1}},init:function(){this.node.active=!1,this.isBetClk=!1,this.seeBar.controlBar=this;var e=ITeenPatti.getCurRoom().profile;this.nBootAmount=e.nBootAmount,this.nMaxBlinds=e.nMaxBlinds,this.nMaxChaal=e.nChaalLimit,this.nMaxPool=e.nPotLimit,this.nMaxPlusClk=1,this.nBetChip=this.nBootAmount},myBalance:function(){return ITeenPatti.getCurPlayer()?ITeenPatti.getCurPlayer().nChips:0},hide:function(){LogUtil.debug(l,"hide"),this.node.active=!1,this.plusBtnClickCount=0},disableBtnClk:function(){var e=this.btnPack.interactable;return this.btnPack.interactable=!1,this.btnSide.interactable=!1,this.btnShow.interactable=!1,this.btnBlind.interactable=!1,this.btnChaal.interactable=!1,this.btnPlus.interactable=!1,this.btnMinus.interactable=!1,0==e},btnPlusInteractable:function(){return!(!ITeenPatti.getCurTable()||!ITeenPatti.getCurTable().round)&&(!(!ITeenPatti.getCurTable().myself()||!ITeenPatti.getCurTable().myselfRole())&&(this.plusBtnClickCount<this.nMaxPlusClk&&this.myBalance()>=2*this.nBetChip&&this.nBetChip*(ITeenPatti.getCurTable().myselfRole().isCardSeen()?2:4)<=this.nMaxChaal))},updateBetChipsValue:function(){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurRoom()){var e=ITeenPatti.getCurTable().myselfRole();if(e){var t=ITeenPatti.getCurRoom().profile.nStakeAmout;t=Math.pow(2,this.plusBtnClickCount)*(e.isCardSeen()?2*t:t),this.nBetChip=Math.min(this.nMaxChaal,Math.max(t,this.nBootAmount)),this.lblBlindAmount.string=r.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.nBetChip)}),this.lblChaalAmount.string=r.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.nBetChip)})}}},onBtnPackClk:function(){this.disableBtnClk()||(ITeenPatti.sendMsg("pack",null),this.seeBar.onBtnPackClk(),this.gameCore.dataAnalysisMng.sendData(a.PACK_CLICK,this.gameCore.dataAnalysisMng.gameBaseData1))},onBtnSideClk:function(){this.disableBtnClk()||(ITeenPatti.sendMsg("sideshow",{i:this.nBetChip}),this.gameCore.dataAnalysisMng.sendData(a.SIDESHOW_CLICK_CLIENT,this.gameCore.dataAnalysisMng.gameBaseData1.concat("bet:"+this.nBetChip)))},onBtnShowClk:function(){this.disableBtnClk()||(ITeenPatti.sendMsg("show",{i:this.nBetChip}),this.seeBar.onBtnShowClk(),this.gameCore.dataAnalysisMng.sendData(a.SHOW_CLICK,this.gameCore.dataAnalysisMng.gameBaseData1.concat("bet:"+this.nBetChip)))},onBtnBlindClk:function(){this.disableBtnClk()||(this.seeBar.nBlindCount+=1,ITeenPatti.sendMsg("bet",{i:this.nBetChip}),this.gameCore.dataAnalysisMng.sendData(a.CLICK_BLIND_CHIPS,this.gameCore.dataAnalysisMng.gameBaseData1.concat("bet:"+this.nBetChip)))},onBtnChaalClk:function(){this.disableBtnClk()||(ITeenPatti.sendMsg("bet",{i:this.nBetChip}),this.gameCore.dataAnalysisMng.sendData(a.CLICK_CHAAL_CHIPS,this.gameCore.dataAnalysisMng.gameBaseData1.concat("bet:"+this.nBetChip)))},onBtnPlusClk:function(){ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().myselfRole()&&(this.gameCore.gameMng.playAudioEffect("addbet"),this.gameCore.gameMng.hasEnoughChips2(2*this.nBetChip)&&(this.plusBtnClickCount++,this.updateBetChipsValue(),this.btnPlus.interactable=this.btnPlusInteractable(),this.btnMinus.interactable=!0,this.gameCore.dataAnalysisMng.sendData(a.CLICK_ADD_BET,this.gameCore.dataAnalysisMng.gameBaseData1.concat("isSeen:"+ITeenPatti.getCurTable().myselfRole().isCardSeen()))))},onBtnMinusClk:function(){this.plusBtnClickCount<1||!ITeenPatti.getCurTable()||!ITeenPatti.getCurTable().myselfRole()||(this.plusBtnClickCount--,this.gameCore.gameMng.playAudioEffect("addbet"),this.updateBetChipsValue(),this.btnPlus.interactable=!0,this.btnMinus.interactable=this.plusBtnClickCount>0,this.gameCore.dataAnalysisMng.sendData(a.CLICK_MINUS_BET,this.gameCore.dataAnalysisMng.gameBaseData1.concat("isSeen:"+ITeenPatti.getCurTable().myselfRole().isCardSeen())))},sendMsgSee:function(){ITeenPatti.sendMsg("see",{i:this.nBetChip>=this.nMaxChaal}),this.updateBetChipsValue()},onBtnSeeClk:function(){this.isSeeClk||(this.isSeeClk=!0,this.gameCore.dataAnalysisMng.sendData(a.CLICK_SEE_CARD,this.gameCore.dataAnalysisMng.gameBaseData1),this.sendMsgSee(),this.btnBlind.node.active=!1,this.btnChaal.node.active=!0,this.btnChaal.interactable=!0,this.btnPlus.interactable=this.btnPlusInteractable(),this.btnMinus.interactable=!1)},onRoundRefresh:function(e,t){var i=ITeenPatti.getCurTable();if(i){var n=ITeenPatti.getCurTable().round;if(n&&ITeenPatti.getCurPlayer()){var a=i.getUserWithUserId(ITeenPatti.getCurPlayer().strTPID),o=a.role;if(this.node.active=!1,this.seeBar.hide(),a&&o&&n&&n.isPlayer(o.playerId)&&n.state==TABLE_STATE.RUNNING){var s=n.getEarlyHander(o.playerId);this.plusBtnClickCount=0,this.node.active=n.nextId==o.playerId,this.updateBetChipsValue(),this.btnPack.interactable=!0,this.btnBlind.node.active=!o.isCardSeen(),this.btnBlind.interactable=!0,this.btnChaal.node.active=!this.btnBlind.node.active,this.btnChaal.interactable=!0,this.btnShow.interactable=!0,this.btnShow.node.active=n.getAlivePlayerCount()<=2,this.btnSide.node.active=!this.btnShow.node.active,this.btnSide.interactable=this.btnSide.node.active&&s&&o.isCardSeen()&&s.isCardSeen(),this.btnPlus.interactable=this.btnPlusInteractable(),this.btnMinus.interactable=!1,this.isSeeClk=o.isCardSeen(),o.isAlivePartner()?!this.isSeeClk&&this.seeBar.onRoundNext(e,t):this.seeBar.onUserPack(e,t)}}}},onRoundReady:function(e,t){this.nBlindCount=0,this.node.active=!1,this.isSeeClk=!1,this.seeBar.onRoundReady(e,t)},onRoundStart:function(e,t){this.nBlindCount=0,this.node.active=!1,this.isSeeClk=!1,this.seeBar.onRoundStart(e,t)},onRoundNext:function(e,t){var i=ITeenPatti.getCurTable();if(i){var n=ITeenPatti.getCurTable().round;if(n){var a=i.myself();if(a){var o=a.role;if(this.node.active=!1,o)if(n&&n.isPlayer(o.playerId)&&t){var s=n.getEarlyHander(o.playerId);this.plusBtnClickCount=0,this.node.active=n.nextId==o.playerId,this.updateBetChipsValue(),this.btnPack.interactable=!0,this.btnBlind.node.active=!o.isCardSeen(),this.btnBlind.interactable=!0,this.btnChaal.node.active=!this.btnBlind.node.active,this.btnChaal.interactable=!0,this.btnShow.interactable=!0,this.btnShow.node.active=n.getAlivePlayerCount()<=2,this.updateBetBtnInteractable(),this.btnSide.node.active=!this.btnShow.node.active,this.btnSide.interactable=this.btnSide.node.active&&s&&o.isCardSeen()&&s.isCardSeen(),this.btnPlus.interactable=this.btnPlusInteractable(),this.btnMinus.interactable=!1,o.isAlivePartner()&&this.btnBlind.node.active?(LogUtil.debug(l,"this.seeBar.onRoundNext"),this.seeBar.onRoundNext(e,t)):(LogUtil.debug(l,"this.seeBar.onUserPack"),this.seeBar.onUserPack(e,t))}else n&&LogUtil.debug(l,"onRoundNext isPlayer:"+n.isPlayer(o.playerId)+" objData:"+t);else LogUtil.debug(l,"onRoundNext Roler is null")}}}},updateBetBtnInteractable:function(){this.btnShow.interactable=this.btnBlind.interactable=this.btnChaal.interactable=this.nBetChip<=this.myBalance()},onRoundFinish:function(e,t){this.node.active=!1,this.seeBar.onRoundFinish(e,t)},onUserSeen:function(e,t){var i=ITeenPatti.getCurTable();if(i){var n=ITeenPatti.getCurTable().round;if(n){var a=i.myself();if(n&&a&&a.role&&n.isPlayer(a.role.playerId)){var o=n.getEarlyHander(a.playerId);if(t.playerId!=a.role.playerId){if(o&&o.playerId!=t.playerId)return;return this.btnShow.interactable=!0,this.btnShow.node.active=n.getAlivePlayerCount()<=2,this.btnSide.node.active=!this.btnShow.node.active,void(this.btnSide.interactable=this.btnSide.node.active&&o&&a.role.isCardSeen()&&!0)}this.btnBlind.node.active=!1,this.btnChaal.node.active=!0,this.btnChaal.interactable=!0,this.btnPlus.interactable=this.btnPlusInteractable(),this.btnShow.interactable=!0,this.btnShow.node.active=n.getAlivePlayerCount()<=2,this.updateBetBtnInteractable(),this.btnSide.node.active=!this.btnShow.node.active,this.btnSide.interactable=this.btnSide.node.active&&o&&o.isCardSeen(),this.seeBar.onUserSeeCard(e,t),this.updateBetChipsValue()}}}},myselfStandUp:function(){this.hide(),this.seeBar.hide()}}),cc._RF.pop()},{BaseComponent:"BaseComponent",CDTimeBar:"CDTimeBar",DataAnalysisKey:"DataAnalysisKey",DeluxeSeeBar:"DeluxeSeeBar",GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeControlHintBar:[function(e,t,i){"use strict";cc._RF.push(t,"5686eaZBWZMToOP9Pre2ZxX","DeluxeControlHintBar"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],DeluxeLevelCache:[function(e,t,i){"use strict";cc._RF.push(t,"b7f0e/friRHTosS2QP4bE5N","DeluxeLevelCache"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],DeluxeModeButton:[function(e,t,i){"use strict";cc._RF.push(t,"dc419flFD9EbIRVuZ+t5Rr1","DeluxeModeButton");var n=e("BaseComponent"),a=e("BaseUI"),o=e("Command"),s=e("DataAnalysisKey");cc.Class({extends:n,properties:{blackMask:cc.Node,interface:a},onLoad:function(){this._super(),this.blackMask.active=!1},initComplete:function(){this._super()},onPlayResponse:function(e,t){"error"==t.cmd&&(this.gameCore.uiMng.hideLoading(),this.blackMask&&(this.blackMask.active=!1),this.interface&&(this.interface.canClose=!0))},onButtonClk:function(e,t){LogUtil.debug("DeluxeModeButton","onButtonClk"),this.gameCore&&(this.interface&&(this.interface.canClose=!1),ITeenPatti.addListener(o.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),this.gameCore.uiMng.showLoading(cc.v2(0,0),e.target,.7,!0),this.node.interactable=!1,this.blackMask.active=!0,this.gameCore.userMng.play(o.SERVER_CMD_PLAY,"Deluxe"),this.gameCore.dataAnalysisMng.sendData(s.CLICK_DELUXETABLE_BUTTON,["Table_Gameplay:"+t]))}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey"}],DeluxeModeSelect:[function(e,t,i){"use strict";cc._RF.push(t,"20edcjt/VlCg4HHHOR8VuV3","DeluxeModeSelect");var n=e("BaseUI");e("UIInfo"),e("Command"),e("DataAnalysisKey");cc.Class({extends:n,properties:{scrollView:cc.ScrollView,toggleGroup:cc.ToggleContainer,page:0,totalPage:2},onLoad:function(){this._super()},initComplete:function(){this._super(),this.oriContentX=this.scrollView.content.x,this.scrollView.node.on(cc.Node.EventType.TOUCH_START,this.onScrollViewTouchStart,this),this.scrollView.node.on("touch-up",this.onUITouchUp,this);for(var e=0;e<this.scrollView.node.children.length;e++)this.scrollView.node.children[e].on(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this)},onScrollViewTouchStart:function(e){this.scrollView.node.on(cc.Node.EventType.TOUCH_END,this.onUITouchUp,this),this.scrollView.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this)},onUITouchUp:function(e){this.scrollView.node.off(cc.Node.EventType.TOUCH_END,this.onUITouchUp,this),this.scrollView.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this);var t=this.scrollView.content.x<this.oriContentX,i=Math.max(0,Math.abs((this.scrollView.content.x+480)/960)+(t?-.1:.1));this.page=t?Math.ceil(i):Math.floor(i),this.scrollView.stopAutoScroll(),this.oriContentX=-480-960*this.page,this.scrollView.content.runAction(cc.moveTo(.1,cc.v2(this.oriContentX,0))),this.toggleGroup.toggleItems.length>this.page&&this.toggleGroup.toggleItems[this.page].check()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",UIInfo:"UIInfo"}],DeluxeRoomHintBar:[function(e,t,i){"use strict";cc._RF.push(t,"bed70gsT2tCFZaGrx5rgeMs","DeluxeRoomHintBar");e("BaseComponent");var n=e("ITeenPatti"),a=(e("UIInfo"),e("Command"),e("LanguageData"));e("GameUtils"),e("DataAnalysisKey");cc.Class({extends:cc.Component,properties:{lblHint:cc.Label},init:function(){this.initHintText(),this.node.active=null==n.getCurTable().round},initHintText:function(){if(this.node.active){n.getCurTable(),n.getCurTable().round,n.getCurPlayer().role;var e="";e=n.getCurPlayer().role.isWatcher()?n.getCurTable().isTableFull?a.t("label_text.table_is_full"):a.t("label_text.tap_to_sit"):1==n.getCurTable().getSitUserCount()&&(n.gameCore.gameMng.isPrivateRoom()||n.gameCore.gameMng.isFriendRoom())?a.t("label_text.invite_friends_to_start"):a.t("label_text.wait_to_start"),this.lblHint.string=e}},onUserSitDown:function(e,t){t.user.isItMe&&(this.node.active=!0,this.initHintText())},onUserStandUp:function(e,t){this.node.active=n.getCurPlayer().role&&n.getCurPlayer().role.isWatcher(),this.initHintText()},onRoundRefresh:function(e,t){var i=n.getCurPlayer().role;this.node.active=i.isWatcher()||!n.getCurTable().round.isPlayer(i.playerId),this.initHintText()},onRoundReady:function(e,t){this.node.active=n.getCurPlayer().role.isWatcher(),this.initHintText()},onRoundStart:function(e,t){this.node.active=n.getCurPlayer().role.isWatcher(),this.initHintText()},onRoundNext:function(e,t){this.initHintText()}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",UIInfo:"UIInfo"}],DeluxeRoomModeBar:[function(e,t,i){"use strict";cc._RF.push(t,"712faMV/uNMJIsKhYHhJUcC","DeluxeRoomModeBar");e("BaseComponent");var n=e("ITeenPatti"),a=(e("UIInfo"),e("Command"),e("LanguageData"));e("GameUtils"),e("DataAnalysisKey");cc.Class({extends:cc.Component,properties:{lblMode:cc.Label,lblNewMode:cc.Label,modePrefab:[cc.Prefab],mode:cc.Node},init:function(){},initHintText:function(){var e="",t=0;switch(n.getCurRoom().table.round.mode){case ROOM_TYPE.CLASSIC:e=a.t("label_text.classic1"),t=1;break;case ROOM_TYPE.NOLIMIT:e=a.t("label_text.no_limit");break;case ROOM_TYPE.JOKER:e=a.t("label_text.joker1"),t=3;break;case ROOM_TYPE.MUFLIS:e=a.t("label_text.muflis1"),t=4;break;case ROOM_TYPE.HUKAM:e=a.t("label_text.hukam1"),t=2;break;case ROOM_TYPE.POTBLIND:e=a.t("label_text.pot_blind1"),t=5;break;case ROOM_TYPE.AK47:e=a.t("label_text.ak47"),t=0}this.lblMode.string=e,this.lblNewMode.string=e,this.mode&&this.mode.parent&&(this.mode.stopAllActions(),this.mode.removeFromParent()),this.mode=cc.instantiate(this.modePrefab[t])},onRoundDeluxeReady:function(e,t){this.initHintText(),this.mode&&this.node.parent&&(this.mode.stopAllActions(),this.node.parent.addChild(this.mode),this.mode.scaleX=this.mode.scaleY=0,this.mode.runAction(cc.sequence(cc.scaleTo(.3,1).easing(cc.easeBounceOut()),cc.delayTime(.3),cc.spawn(cc.moveTo(.5,this.node.x,this.node.y),cc.scaleTo(.5,.5,.5)))))},onRoomRefresh:function(e,t){this.initHintText(),this.node.parent.addChild(this.mode),this.mode.scaleX=this.mode.scaleY=.5,this.mode.x=this.node.x,this.mode.y=this.node.y}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",UIInfo:"UIInfo"}],DeluxeRoomRefreshAction:[function(e,t,i){"use strict";cc._RF.push(t,"938d0Nq0ChBiZsyozL1fPHV","DeluxeRoomRefreshAction");var n="DeluxeRoomRefreshAction",a=e("UIInfo"),o=e("LanguageData");cc.Class({extends:cc.Component,properties:{},play:function(e){this.objActionPool=e;ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().round,i=ITeenPatti.getCurTable().contrller;i.tablePoolBar.onRoundRefresh(this.strCmd,this.objData),i.tableCardBar.onRoundRefresh(this.strCmd,this.objData),i.roomHintBar.onRoundRefresh(this.strCmd,this.objData),i.controlBar.onRoundRefresh(this.strCmd,this.objData);for(var n=0;n<i.arrSeat.length;n++)i.arrSeat[n].onRoundRefresh(this.strCmd,this.objData);if(t.state==TABLE_STATE.DELUXE_READY){if(t.bankerID!=ITeenPatti.getCurTable().myselfRole().playerId){var s=i.getSeatWithPlayerId(t.bankerID);s&&s.tpUser&&i.roundHintBar.addHint(o.t("label_text.selecting_mode",{name:cutString(s.tpUser.strTPName,6)}),2)}t.bankerID!=ITeenPatti.getCurTable().myselfRole().playerId||ITeenPatti.gameCore.uiMng.isPopUpByUIKey(a.SWITCH_ROUND_MODE_POPUP.name)||ITeenPatti.gameCore.uiMng.openUI(a.SWITCH_ROUND_MODE_POPUP)}this.objActionPool.onActionFinish(this)},onRoundWait:function(){LogUtil.debug(n,"Round Is Ready ");var e=ITeenPatti.getCurTable().contrller;e.tablePoolBar.onRoundRefresh(this.strCmd,this.objData),e.tableCardBar.onRoundRefresh(this.strCmd,this.objData),e.roomHintBar.onRoundRefresh(this.strCmd,this.objData);for(var t=0;t<e.arrSeat.length;t++)e.arrSeat[t].onRoundRefresh(this.strCmd,this.objData)},onRoundReady:function(){LogUtil.debug(n,"Round Is Ready ");var e=ITeenPatti.getCurTable().contrller;e.dealer.onRoundRefresh(),e.onRoundReady("starttime",{i:5});for(var t=0;t<e.arrSeat.length;t++)e.arrSeat[t].onUserRefresh();e.tableLowBar.active=ITeenPatti.getCurPlayer().role.isWatcher(),e.updateLowTipsLabel()},onRoundStart:function(){LogUtil.debug(n,"Round Is Start ");ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().contrller;e.dealer.onRoundRefresh();for(var t=0;t<e.arrSeat.length;t++)e.arrSeat[t].onUserRefresh();e.tableLowBar.active=ITeenPatti.getCurPlayer().role.isWatcher(),e.updateLowTipsLabel()},onRoundRunning:function(){LogUtil.debug(n,"Round Is Running ");var e=ITeenPatti.getCurTable(),t=ITeenPatti.getCurTable().contrller;t.state=UI_TABLE_STATE.RUNNING,LogUtil.info(n,"----------------------------------------------------------"),LogUtil.info(n,"Pool : "+ITeenPatti.getCurRoom().profile.nPool),LogUtil.info(n,"SelfID : "+ITeenPatti.getCurPlayer().role.playerId),LogUtil.info(n,"Table Info:-----------------------"),LogUtil.info(n,"Seat \t 0 \t 1 \t 2 \t 3 \t 4 \t 5");for(var i="User ",a=0;a<6;a++){i+="\t "+(t.arrSeat[a].tpUser?t.arrSeat[a].tpUser.role.playerId:" ")}LogUtil.info(n,i),LogUtil.info(n,"Round Info:---------------------------"),LogUtil.info(n,"Seat   \t 0 \t 1 \t 2 \t 3 \t 4 \t 5"),i="Player ";for(a=0;a<6;a++){i+="\t "+(t.arrSeat[a].tpUser&&e.isRoundPartner(t.arrSeat[a].tpUser.strTPID)?t.arrSeat[a].tpUser.role.playerId:" ")}LogUtil.info(n,i),i="Status ";for(a=0;a<6;a++){i+="\t "+(t.arrSeat[a].tpUser&&e.isRoundPartner(t.arrSeat[a].tpUser.strTPID)?t.arrSeat[a].tpUser.role.refreshstate:" ")}LogUtil.info(n,i),i="Active ";for(a=0;a<6;a++){var o=" ";t.arrSeat[a].tpUser&&e.isRoundPartner(t.arrSeat[a].tpUser.strTPID)&&t.arrSeat[a].tpUser.role.playerId==e.nextID&&(o="C"),i+="\t "+o}if(LogUtil.info(n,i),e.sshowID>0){i="SShow  ";for(a=0;a<6;a++){var s=" ";t.arrSeat[a].tpUser&&t.arrSeat[a].tpUser.role.playerId==e.sshowID?s="S":t.arrSeat[a].tpUser&&t.arrSeat[a].tpUser.role.playerId==e.ssideID&&(s="R"),i+="\t "+s}LogUtil.info(n,i)}i=e.lastID!=e.nextID?"RoundStatus: User Next ":e.sshowID>0?"RoundStatus: User SideShow ":"RoundStatus: User Wait ",LogUtil.info(n,i),LogUtil.info(n,"----------------------------------------------------------"),t.dealer.onRoundRefresh();for(var r=0;r<t.arrSeat.length;r++){var l=t.arrSeat[r];l.playerId==e.nextID&&e.nextID!=e.lastID?l.onUserActive():l.onUserSilent()}for(r=0;r<t.arrSeat.length;r++)t.arrSeat[r].onRoundRefresh(),t.arrSeat[r].updateGameCrown();for(r=0;r<t.arrSeat.length;r++)t.arrSeat[r].onUserRefresh();if(e.sshowID>0)for(r=0;r<t.arrSeat.length;r++)t.arrSeat[r].tpUser&&(t.arrSeat[r].tpUser.role.playerId!=e.sshowID&&t.arrSeat[r].tpUser.role.playerId!=e.ssideID||t.arrSeat[r].onUserSide());t.tableLowBar.active=ITeenPatti.getCurPlayer().role.isWatcher(),t.updateLowTipsLabel()},onRoundFinish:function(){LogUtil.debug(n,"Round Is Finish ");var e=ITeenPatti.getCurTable().contrller;e.dealer.onRoundRefresh(),e.dealer.onRoundReset(),e.dealer.tablePool.onRoundReady();for(var t=0;t<e.arrSeat.length;t++)e.arrSeat[t].updateGameCrown(),e.arrSeat[t].onUserRefresh();e.tableLowBar.active=ITeenPatti.getCurPlayer().role.isWatcher(),e.updateLowTipsLabel()}}),cc._RF.pop()},{LanguageData:"LanguageData",UIInfo:"UIInfo"}],DeluxeRoom:[function(e,t,i){"use strict";cc._RF.push(t,"876d4Hk8U9CKr9qMQno+lw0","DeluxeRoom");var n=e("BaseRoom"),a=e("DeluxeTable"),o=e("UIInfo");cc.Class({name:"DeluxeRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.DELUXE,this.table=new a,this.tableRulesUIInfo=o.TEXAS_HOLDEM_HELP},onRoomJoin:function(e,t){this.roomId=t.room.id,this.roomName=t.room.name,-1!=this.roomName.indexOf("Deluxe")&&(this.profile.isDeluxe=!0),this.table.initCallback(),t.room&&this.profile.onRoomJoin(e,t)},onRoomUpdate:function(e,t){t.room&&this.profile.onRoomUpdate(e,t)}});cc._RF.pop()},{BaseRoom:"BaseRoom",DeluxeTable:"DeluxeTable",UIInfo:"UIInfo"}],DeluxeRoundAwardsAction:[function(e,t,i){"use strict";cc._RF.push(t,"47a3bj4BnhCtZZVm8sSXw59","DeluxeRoundAwardsAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeRoundAwardsAction";cc.Class({extends:cc.Component,properties:{strActName:"round_awards",strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.isDestroyed=!0,this.node.off("round_awards",this.onActionRunning,this),this.node.off("round_show_result_finish",this.onShowResultFinish,this)},play:function(e){if(this.objActionPool=e,this.node.on(this.strActName,this.onActionRunning,this),this.node.hasEventListener("round_show"))return this.trigger="round_show_result_finish",this.node.on(this.trigger,this.onShowResultFinish,this),void LogUtil.info(n,"Wait For Event: "+this.trigger);this.onShowResultFinish()},onActionRunning:function(){},onShowResultFinish:function(){LogUtil.debug(n,"Round Awards"),this.node.off("round_show_result_finish",this.onShowResultFinish,this);ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().contrller;e.onRoundAwardsStart(),e.controlBar.onRoundFinish(this.strCmd,this.objData),e.awardsSender.onRoundAwards(this.strCmd,this.objData),e.tablePoolBar.onRoundAwards(this.strCmd,this.objData);for(var t=0;t<this.objData.arrWinerID.length;t++){var i=e.getSeatWithPlayerId(this.objData.arrWinerID[t]);i&&i.onUserAwards(this.strCmd,this.objData)}performWithDelay(this.node,1,handler(this,this.onActionFinish))},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&(LogUtil.info(n,"Round Awards Finish"),this.isValid&&ITeenPatti.onMsgReceived(this.strActName+"_finish",this.objData),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRoundBootAction:[function(e,t,i){"use strict";cc._RF.push(t,"ec93aMu78ZK4auk6TcyxGVA","DeluxeRoundBootAction");e("DataAnalysisKey"),e("LanguageData"),e("GameUtils");var n="DeluxeRoundBootAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_boot"},onDestroy:function(){this.isDestroyed=!0,this.node.off("round_boot",this.onActionRunning,this)},play:function(e){this.objActionPool=e,LogUtil.debug(n,"Round Collect Boot Bet");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=0,a=ITeenPatti.getCurRoom().profile.nBootAmount;for(var o in this.objData.arrPartnerID){var s=t.getSeatWithPlayerId(this.objData.arrPartnerID[o]);s&&(i+=a,this.objData.bet=a,t.stakeCollector.collectBoot(s.seatId,a,i,handler(this,this.onBootCollectFinish)),s.onRoundBoot(this.strCmd,this.objData))}performWithDelay(this.node,1,handler(this,this.onActionFinish))},onActionRunning:function(){},onBootCollectFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&(this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&ITeenPatti.getCurTable().contrller.tablePoolBar.onRoundCollect(this.strCmd,this.objData))},onActionFinish:function(){if(!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId){LogUtil.info(n,"Round Collect Boot Bet Finish");ITeenPatti.getCurTable().contrller;this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy()}}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeRoundDealAction:[function(e,t,i){"use strict";cc._RF.push(t,"446fcfjKfRN6qQWB7Plhxvi","DeluxeRoundDealAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeRoundDealAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_deal"},onDestroy:function(){this.isDestroyed=!0,this.node.off("round_deal",this.onActionRunning,this),this.node.off("round_boot_finish",this.onBootFinish,this)},play:function(e){this.objActionPool=e,this.trigger="round_boot_finish",this.node.on("round_boot_finish",this.onBootFinish,this),this.node.on(this.strActName,this.onActionRunning,this),LogUtil.info(n,"Wait For Event: "+this.trigger)},onActionRunning:function(){},onBootFinish:function(){LogUtil.debug(n,"Round Deal Card");var e=ITeenPatti.getCurTable(),t=ITeenPatti.getCurTable().contrller,i=(e.round,[]);for(var a in this.objData.arrPartnerID){var o=this.objData.arrPartnerID[a],s=t.getSeatWithPlayerId(o);s&&i.push(s.seatId)}var r=this;t.tablePokerBox.startDealCard(i,function(e,t){if(!r.isDestroyed&&r.isValid){var i=ITeenPatti.getCurTable().contrller.arrSeat[e];i&&i.onRoundDeal(t)}},function(){r.onActionFinish()})},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(n,"Round Deal Card Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRoundExpAction:[function(e,t,i){"use strict";cc._RF.push(t,"5a268lYYMdBLqVxmPzrsyKj","DeluxeRoundExpAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeRoundExpAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_exp"},onDestroy:function(){this.isDestroyed=!0,this.node.off("round_exp",this.onActionRunning,this),this.node.off("round_awards_finish",this.onAwardsFinish,this)},play:function(e){if(this.objActionPool=e,this.node.on(this.strActName,this.onActionRunning,this),this.node.hasEventListener("round_awards"))return this.trigger="round_awards_finish",this.node.on(this.trigger,this.onAwardsFinish,this),void LogUtil.info(n,"Wait For Event: "+this.trigger);this.onAwardsFinish()},onActionRunning:function(){},onAwardsFinish:function(){LogUtil.debug(n,"Round Exp"),this.node.off("round_awards_finish",this.onShowResultFinish,this);ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().contrller;if("finish"==this.strCmd){var t=e.getSeatWithUserId(ITeenPatti.getCurPlayer().userId);t&&t.onRoundExp(this.strCmd,this.objData)}var i="finish"==this.strCmd?3:2;performWithDelay(this.node,i,handler(this,this.onActionFinish))},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundID==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(n,"Round Exp Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRoundFinishAction:[function(e,t,i){"use strict";cc._RF.push(t,"8a1fcPE3pBEyLTVZ/xPDeiW","DeluxeRoundFinishAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeRoundFinishAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_finish"},onDestroy:function(){this.isDestroyed=!0,this.node.off("round_finish",this.onActionRunning,this),this.node.off("round_exp_finish",this.onAwardsFinish,this)},play:function(e){if(this.objActionPool=e,this.node.on(this.strActName,this.onActionRunning,this),this.node.hasEventListener("round_exp"))return this.trigger="round_exp_finish",this.node.on(this.trigger,this.onExpFinish,this),void LogUtil.info(n,"Wait For Event: "+this.trigger);this.onExpFinish()},onActionRunning:function(){},onExpFinish:function(){LogUtil.debug(n,"Round Finish"),this.node.off("round_exp_finish",this.onExpFinish,this);ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().contrller;e.controlBar.onRoundFinish(this.strCmd,this.objData);for(var t=0;t<e.arrSeat.length;t++)e.arrSeat[t].onRoundFinish(this.strCmd,this.objData);this.onActionFinish()},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundID==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(n,"Round Finish Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRoundNextAction:[function(e,t,i){"use strict";cc._RF.push(t,"c367fqfEydHf4FBsUnbsUpj","DeluxeRoundNextAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeRoundNextAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_next"},onDestroy:function(){this.isDestroyed=!0,this.node.off("round_deal_finish",this.onUserAward,this)},play:function(e){if(this.objActionPool=e,this.node.hasEventListener("round_deal"))return this.trigger="round_deal_finish",this.node.on(this.trigger,this.onUserNext,this),void LogUtil.info(n,"Wait For Event: "+this.trigger);this.onUserNext()},onUserNext:function(){LogUtil.debug(n,"Round Next User");var e=ITeenPatti.getCurTable(),t=ITeenPatti.getCurTable().contrller;e.round;t.tableCardBar.onRoundNext(this.strCmd,this.objData),t.controlBar.onRoundNext(this.strCmd,this.objData);for(var i=0;i<t.arrSeat.length;i++)t.arrSeat[i].onRoundNext(this.strCmd,this.objData);this.objActionPool.onActionFinish(this),this.destroy()},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(n,"Round Deal Card Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRoundPotLimitAction:[function(e,t,i){"use strict";cc._RF.push(t,"d334e9/5YZPNr2PYz5wA5c1","DeluxeRoundPotLimitAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeRoundPotLimitAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_pot_limit"},onDestroy:function(){this.isDestroyed=!0,this.node.off("round_pot_limit",this.onActionRunning,this)},play:function(e){LogUtil.debug(n,"Round Pot Limit"),this.node.on(this.strActName,this.onActionRunning,this),this.objActionPool=e;ITeenPatti.getCurTable();ITeenPatti.getCurTable().contrller.potLimitBar.onUserShow(this.strCmd,this.objData),performWithDelay(this.node,1,handler(this,this.onActionFinish))},onActionRunning:function(){},onActionFinish:function(){if(!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId){LogUtil.info(n,"Round Pot Limit Finish");ITeenPatti.getCurTable().contrller;this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy()}}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRoundReadyAction:[function(e,t,i){"use strict";cc._RF.push(t,"022141g4FZACYIF5Jn0zsa3","DeluxeRoundReadyAction");var n=e("DataAnalysisKey"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_ready"},play:function(e){this.objActionPool=e,LogUtil.debug("DeluxeRoundReadyAction","Round Ready");var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().round,o=ITeenPatti.getCurTable().contrller;if(o.roomHintBar.onRoundReady(this.strCmd,this.objData),o.tableCardBar.onRoundReady(this.strCmd,this.objData),o.roundHintBar.clearHint(),"choosemode"==this.strCmd){var s="";switch(this.objData.mode){case"common":s=a.t("label_text.classic");break;case"joker":s=a.t("label_text.joker");break;case"muflis":s=a.t("label_text.muflis");break;case"hukam":s=a.t("label_text.hukam");break;case"ak47":s=a.t("label_text.ak47");break;case"potblind":s=a.t("label_text.pot_blind")}var r=a.t("label_text.dealer");if(i){var l=o.getSeatWithPlayerId(i.bankerID);l&&l.tpUser&&(r=l.tpUser.strTPName)}o.roundHintBar.addHint(a.t("label_text.user_select_mode",{name:cutString(r,6),mode:s}),2,(new Date).getTime())}if(t.cdTime<2){"choosemode"==this.strCmd&&t.cdStart;o.roundHintBar.addHint(a.t("label_text.starting_game"),1,(new Date).getTime()+2e3),ITeenPatti.gameCore.dataAnalysisMng.sendData(n.START_GAME,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData)}else for(var c=0;c<t.cdTime;c++)o.roundHintBar.addHint(a.t("label_text.game_starting",{time:t.cdTime-c}),1,t.cdStart+1e3*c);o.tablePoolBar.onRoundReady(this.strCmd,this.objData),o.controlBar.onRoundReady(this.strCmd,this.objData);for(c=0;c<o.arrSeat.length;c++)o.arrSeat[c].onRoundReady(this.strCmd,this.objData);this.objActionPool.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRoundRefreshAction:[function(e,t,i){"use strict";cc._RF.push(t,"20307iv7KdAIIUvZnoTbDmt","DeluxeRoundRefreshAction");e("LanguageData");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,strActName:"round_refresh"},play:function(e){LogUtil.debug("DeluxeRoundRefreshAction","Table Refresh With Local Data");var t=ITeenPatti.getCurTable();ITeenPatti.getCurTable().contrller,t.round;this.onFinish(e)},onFinish:function(e){this.objActionPool.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{LanguageData:"LanguageData"}],DeluxeRoundShowAction:[function(e,t,i){"use strict";cc._RF.push(t,"e605fpDljBGY4hlGwDOUiHq","DeluxeRoundShowAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeRoundShowAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_show"},onDestroy:function(){this.isDestroyed=!0,this.node.off("round_show",this.onActionRunning,this),this.node.off("round_deal_finish",this.onRoundShow,this),this.node.off("round_pot_limit_finish",this.onRoundShow,this)},play:function(e){return this.objActionPool=e,this.node.on(this.strActName,this.onActionRunning,this),this.node.hasEventListener("round_pot_limit")?(this.trigger="round_pot_limit_finish",this.node.on(this.trigger,this.onRoundShow,this),void LogUtil.info(n,"Wait For Event: "+this.trigger)):this.node.hasEventListener("round_deal")?(this.trigger="round_deal_finish",this.node.on(this.trigger,this.onRoundShow,this),void LogUtil.info(n,"Wait For Event: "+this.trigger)):void this.onRoundShow()},onActionRunning:function(){},onRoundShow:function(){LogUtil.debug(n,"Round Show Card"),this.node.off("round_deal_finish",this.onActionRunning,this),this.node.off("round_pot_limit_finish",this.onPotLimitFinish,this);ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().contrller;for(var t in e.controlBar.onRoundFinish(this.strCmd,this.objData),this.objData.win_id){(i=e.getSeatWithPlayerId(this.objData.win_id[t]))&&i.onUserShowCard(this.strCmd,this.objData)}for(var t in this.objData.looser_id){var i;(i=e.getSeatWithPlayerId(this.objData.looser_id[t]))&&i.onUserShowCard(this.strCmd,this.objData)}performWithDelay(this.node,1,handler(this,this.onActionFinish))},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&(LogUtil.info(n,"Round Show Card Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRoundShowResultAction:[function(e,t,i){"use strict";cc._RF.push(t,"0a3acH4SOdHmK4j7CEpaMW3","DeluxeRoundShowResultAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeRoundShowResultAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_show_result"},onDestroy:function(){this.isDestroyed=!0,this.node.off("user_see_card_finish",this.onShowFinish,this),this.node.off("round_show_finish",this.onShowFinish,this),this.node.off("round_show_result",this.onActionRunning,this)},play:function(e){return this.objActionPool=e,this.node.on(this.strActName,this.onActionRunning,this),this.bWaitSeeCard?(this.trigger="user_see_card_finish",this.node.on(this.trigger,this.onShowFinish,this),void LogUtil.info(n,"Wait For Event: "+this.trigger)):this.node.hasEventListener("round_show")?(this.trigger="round_show_finish",this.node.on(this.trigger,this.onShowFinish,this),void LogUtil.info(n,"Wait For Event: "+this.trigger)):void this.onShowFinish()},onActionRunning:function(){},onShowFinish:function(){if(this.node){LogUtil.debug(n,"Round Show Result"),this.node.off("round_show_finish",this.onShowFinish,this);var e=ITeenPatti.getCurTable(),t=ITeenPatti.getCurTable().contrller;t.tableDealer.onRoundResult(this.strCmd,this.objData);for(var i=this.objData.arrWinerID?this.objData.arrWinerID:e.arrWinerID,a=0;a<i.length;a++){(s=t.getSeatWithPlayerId(i[a]))&&(ITeenPatti.gameCore.gameMng.playAudioEffect("win"),s.onUserWin(this.strCmd,this.objData))}var o=this.objData.arrLoserID?this.objData.arrLoserID:e.arrLoserID;for(a=0;a<o.length;a++){var s;(s=t.getSeatWithPlayerId(o[a]))&&s.onUserLose(this.strCmd,this.objData)}performWithDelay(this.node,1,handler(this,this.onActionFinish))}},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&(LogUtil.info(n,"Round Show Result Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRoundSideResultAction:[function(e,t,i){"use strict";cc._RF.push(t,"77ac3jmqK5LtLidVMIJO+O9","DeluxeRoundSideResultAction");e("DataAnalysisKey"),e("LanguageData"),e("GameUtils");var n="DeluxeRoundSideResultAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_side_result"},onDestroy:function(){this.isDestroyed=!0,this.node.off("round_side_result",this.onActionRunning,this),this.node.off("round_side_show_finish",this.onSideShowFinish,this)},play:function(e){if(this.objActionPool=e,this.node.on(this.strActName,this.onActionRunning,this),this.node.hasEventListener("round_side_show"))return this.trigger="round_side_show_finish",this.node.on(this.trigger,this.onSideShowFinish,this),void LogUtil.info(n,"Wait For Event: "+this.trigger);this.onSideShowFinish()},onActionRunning:function(){},onSideShowFinish:function(){LogUtil.debug(n,"Round Side Show"),this.node.off("round_side_show_finish",this.onSideShowFinish,this);ITeenPatti.getCurTable();for(var e=ITeenPatti.getCurTable().contrller,t=(ITeenPatti.getCurPlayer().role,0);t<this.objData.arrWinerID.length;t++){(i=e.getSeatWithPlayerId(this.objData.arrWinerID[t]))&&i.onUserSideWin(this.strCmd,this.objData)}for(t=0;t<this.objData.arrLoserID.length;t++){var i;(i=e.getSeatWithPlayerId(this.objData.arrLoserID[t]))&&i.onUserSideLose(this.strCmd,this.objData)}performWithDelay(this.node,1,handler(this,this.onActionFinish))},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(n,"Round Side Show Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeRoundSideShowAction:[function(e,t,i){"use strict";cc._RF.push(t,"e9834rLshZOzYd6Q2NWusz6","DeluxeRoundSideShowAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeRoundSideShowAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_side_show"},onDestroy:function(){this.isDestroyed=!0,this.node.off("round_side_show",this.onActionRunning,this),this.node.off("round_deal_finish",this.onDealFinish,this)},play:function(e){if(this.objActionPool=e,this.node.on(this.strActName,this.onActionRunning,this),this.node.hasEventListener("round_deal"))return this.trigger="round_deal_finish",this.node.on(this.trigger,this.onDealFinish,this),void LogUtil.info(n,"Wait For Event: "+this.trigger);this.onDealFinish()},onActionRunning:function(){},onDealFinish:function(){LogUtil.debug(n,"Round Side Show"),this.node.off("round_deal_finish",this.onDealFinish,this);var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurTable().contrller,i=t.arrSeat[0];if(e.isPlayer(i.playerId))if(this.objData.arrWinerID[0]==i.playerId||this.objData.arrLoserID[0]==i.playerId){for(var a=0;a<this.objData.arrWinerID.length;a++){(o=t.getSeatWithPlayerId(this.objData.arrWinerID[a]))&&o.onUserShowCard(this.strCmd,this.objData)}for(a=0;a<this.objData.arrLoserID.length;a++){var o;(o=t.getSeatWithPlayerId(this.objData.arrLoserID[a]))&&o.onUserShowCard(this.strCmd,this.objData)}performWithDelay(this.node,1,handler(this,this.onActionFinish))}else performWithDelay(this.node,.1,handler(this,this.onActionFinish));else performWithDelay(this.node,.1,handler(this,this.onActionFinish))},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(n,"Round Side Result Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRoundStartAction:[function(e,t,i){"use strict";cc._RF.push(t,"4ebd4qCoCRFp58cY4XaOjMZ","DeluxeRoundStartAction");e("DataAnalysisKey");var n=e("LanguageData");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_start"},play:function(e){this.objActionPool=e,LogUtil.debug("DeluxeRoundStartAction","Round Start");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller;t.roundHintBar.clearHint(),t.roundHintBar.addHint(n.t("label_text.collecting_boot")),t.roomHintBar.onRoundStart(this.strCmd,this.objData),t.tableCardBar.onRoundStart(this.strCmd,this.objData),t.tablePoolBar.onRoundStart(this.strCmd,this.objData),t.tipCollector.onRoundStart(this.strCmd,this.objData),t.controlBar.onRoundStart(this.strCmd,this.objData);for(var i=0;i<t.arrSeat.length;i++)t.arrSeat[i].onRoundStart(this.strCmd,this.objData);this.objActionPool.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeRound:[function(e,t,i){"use strict";cc._RF.push(t,"cb298JDc3RPpoWbS5w2FvXo","DeluxeRound");var n=e("UIInfo");cc.Class({name:"DeluxeRound",properties:{arrHandler:{default:{}},mode:null,roundId:0,isRunning:!1,pools:0,bankerID:0,arrCommCard:[],arrPlayer:[],arrWinner:[],arrLoser:[],arrAwarder:[],maxStake:0,raiseStake:0,lastId:0,nextId:0,sshowID:0,cdTime:0,cdStart:0},initRound:function(){this.arrHandler={},this.maxStake=0,this.pools=0,this.initRuleType(),this.arrHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrHandler.deluxstart=handler(this,this.onRoundDeluxePreReady),this.arrHandler.starttime=handler(this,this.onRoundReady),this.arrHandler.choosemode=handler(this,this.onRoundDeluxeReady),this.arrHandler.start=handler(this,this.onRoundStart),this.arrHandler.next=handler(this,this.onRoundNext),this.arrHandler.sideshow=handler(this,this.onRoundSideShow),this.arrHandler.show=handler(this,this.onRoundShow),this.arrHandler.cpool=handler(this,this.onRoundAwards),this.arrHandler.finish=handler(this,this.onRoundFinish),this.arrHandler.gamble=handler(this,this.onUserAction),this.arrHandler.see=handler(this,this.onUserSee)},getPlayer:function(e){for(var t=this.arrPlayer.length-1;t>=0;t--)if(e==this.arrPlayer[t].playerId)return this.arrPlayer[t];return null},removePlayer:function(e){if("string"!=typeof e){for(var t=this.arrPlayer.length-1;t>=0;t--)if(e==this.arrPlayer[t])return void this.arrPlayer.splice(t,1)}else for(var i=this.arrPlayer.length-1;i>=0;i--)if(e==this.arrPlayer[i].userId)return void this.arrPlayer.splice(i,1)},isPlayer:function(e){for(var t=this.arrPlayer.length-1;t>=0;t--)if(e==this.arrPlayer[t].playerId)return!0;return!1},getPlayerCount:function(){return this.arrPlayer.length},getAlivePlayerCount:function(){for(var e=0,t=this.arrPlayer.length-1;t>=0;t--)this.arrPlayer[t].isAlivePartner()&&e++;return e},getEarlyHander:function(e){for(var t=e+5;t>e;t--){var i=t-1>5?t-1-5:t-1,n=this.getPlayer(i);if(null!=n&&n.isAlivePartner&&n.isAlivePartner())return n}return null},getPools:function(){},sortSeeCard:function(e){return[e[3],e[2],e[1]]},sortFinalCard:function(e,t){if(null==e[4])return null;for(var i=[e[4],e[5],e[6]],n=[],a=2;a>=0;a--){var o=i.indexOf(t[a]);-1!=o?(n.unshift(t[a]),i.splice(o,1)):n.unshift(-1)}for(a=0;a<n.length;a++)-1==n[a]&&i.length>0&&(n[a]=i.pop());return i=n},initRuleType:function(){var e={"":n.CLASSIC_HELP,Joker:n.JOKER_HELP,Muflis:n.MUFLIS_HELP,HuKam:n.HUKAM_HELP,PotBlind:n.POTBLIND_HELP,AK47:n.AK47_HELP};this.tableRulesUIInfo=e[this.mode]||n.CLASSIC_HELP},onMsgReceived:function(e,t){var i=this.arrHandler[e];i&&i(e,t)},onRoomUpdate:function(e,t){t.room;this.pools=t.room.variables.po?t.room.variables.po.value:0},onRoomRefresh:function(e,t){this.bankerID=t.bankerId,this.nextId=t.nextId,this.lastID=t.lastId,this.sshowID=-1,this.arrWinner=[],this.arrLoser=[],this.arrPlayer=[],this.bIsUserPack=!1,this.cdTime=t.delay,this.cdStart=(new Date).getTime()+1e3*t.delay-3e4,this.arrCommCard=null!=t.commoncard&&t.commoncard>-1?[t.commoncard]:[];this.mode={common:"",hukam:"HuKam",joker:"Joker",muflis:"Muflis",ak47:"AK47",potblind:"PotBlind"}[t.mode]||ROOM_TYPE.CLASSIC;var i=ITeenPatti.getCurTable();for(var n in t.playIds){var a=i.getUserWithPlayerID(t.playIds[n]);a&&this.arrPlayer.push(a.role)}switch(t.status){case 0:this.isRunning=!1;break;case 1:this.isRunning=!1,this.cdTime=5;break;case 2:this.isRunning=!0;break;case 3:case 4:this.isRunning=!0,this.cdTime=30;break;case 5:this.isRunning=!1}switch(t.status){case 0:this.state=TABLE_STATE.WAIT;break;case 1:this.state=TABLE_STATE.READY,this.cdTime=5;break;case 2:this.state=TABLE_STATE.START;break;case 3:case 4:this.state=TABLE_STATE.RUNNING,this.cdTime=30;break;case 5:this.state=TABLE_STATE.FINISH;break;case 6:this.state=TABLE_STATE.WAIT;break;case 7:this.state=TABLE_STATE.DELUXE_READY,this.cdStart+=2e4}for(var n in t.userstatus){(o=this.getPlayer(n))&&(o.state=t.userstatus[n]),o&&(o.refreshstate=t.userstatus[n]),o&&(o.lastBetStake=t.lastbet[n])}if(this.state!=TABLE_STATE.WAIT&&this.state!=TABLE_STATE.READY)for(var n in t.user_cards){var o,s=t.user_cards[n];(o=this.getPlayer(s.id))&&o.setUserCard(s)}this.sshowID=-1,3==t.lastOpe&&(this.sshowID=t.lastId,this.ssideID=t.sideshowed,this.cdStart=(new Date).getTime()+1e3*t.sideshowdelay-8e3,t.sideshowed==ITeenPatti.getCurPlayer().role.playerId&&ITeenPatti.onMsgReceived("sideshow",{i:this.sshowID})),ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.po&&(this.pools=ITeenPatti.getCurSFSRoom().variables.po.value)},onRoundDeluxePreReady:function(e,t){this.onRoundReady(e,t),this.state=TABLE_STATE.DELUXE_READY,this.bankerID=t.bankerId,this.cdTime=t.waittime,this.cdStart=(new Date).getTime(),this.initRuleType()},onRoundReady:function(e,t){this.isRunning=!1,this.state=TABLE_STATE.READY,this.roundId=t.rroundId,this.arrCommCard=[],this.arrPlayer=[],this.arrWinner=[],this.arrLoser=[],this.pools=0,this.bIsUserPack=!1},onRoundDeluxeReady:function(e,t){this.onRoundReady(e,t);this.mode={common:"",hukam:"HuKam",joker:"Joker",muflis:"Muflis",ak47:"AK47",potblind:"PotBlind"}[t.mode]||ROOM_TYPE.CLASSIC,this.cdTime=t.waittime,this.cdStart=(new Date).getTime(),this.initRuleType()},onRoundStart:function(e,t){this.isRunning=!0,this.state=TABLE_STATE.START,this.roundId=t.rroundId,this.arrWinner=[],this.arrLoser=[],this.bankerID=t.bankerId,this.startID=t.startId,this.cdTime=0,this.bIsUserPack=!1,this.arrCommCard=null!=t.commonCard&&t.commonCard>-1?[t.commonCard]:[];var i={common:"",hukam:"HuKam",joker:"Joker",muflis:"Muflis",ak47:"AK47",potblind:"PotBlind"};this.mode=i[t.mode]||ROOM_TYPE.CLASSIC,this.arrCommCard=null!=t.commonCard&&t.commonCard>-1?[t.commonCard]:[];i={common:"",hukam:"HuKam",joker:"Joker",muflis:"Muflis",ak47:"AK47",potblind:"PotBlind"};this.mode=i[t.mode]||ROOM_TYPE.CLASSIC,t.arrPalyerId=[];for(var n=this.arrPlayer.length-1;n>=0;n--)this.arrPlayer[n].onRoundStart(e,t),t.arrPalyerId.push(this.arrPlayer[n].playerId)},onRoundNext:function(e,t){this.state=TABLE_STATE.RUNNING,this.sshowID=-1,this.lastId=this.nextId,this.nextId=t.next_id,this.cdTime=t.wait_time,this.cdStart=(new Date).getTime();for(var i=this.arrPlayer.length-1;i>=0;i--)this.arrPlayer[i].onRoundNext(e,t)},onRoundSideShow:function(e,t){if(this.isPlayer(ITeenPatti.getCurPlayer().role.playerId)){var i=this.getEarlyHander(ITeenPatti.getCurPlayer().role.playerId);i&&(this.sshowID=i.playerId),this.cdStart=(new Date).getTime()}},onRoundShow:function(e,t){ITeenPatti.getCurTable();for(var i in this.bPotLimit=!!t.is_limit&&t.is_limit,this.arrWinner=[],t.win_id)t.win_id.hasOwnProperty(i)&&this.arrWinner.push(t.win_id[i]);for(var i in this.arrLoser=[],t.looser_id)t.looser_id.hasOwnProperty(i)&&this.arrLoser.push(t.looser_id[i]);for(var n=[],a=0;a<this.arrPlayer.length;a++){(o=this.arrPlayer[a])&&o.isAlivePartner()&&n.push(o.playerId)}for(var i in t.user_cards)if(t.user_cards.hasOwnProperty(i)){var o,s=t.user_cards[i];(o=this.getPlayer(s.id))&&o.setUserCard(s);for(a=0;a<n.length;a++)if(s.id==n[a]){n.splice(a,1);break}}for(var i in t.isSideShow=n.length>0,t.user_card_see={},t.user_card_final={},t.user_cards)t.user_card_see[i]=this.sortSeeCard(t.user_cards[i].cards),t.user_card_final[i]=this.sortFinalCard(t.user_cards[i].cards,t.user_card_see[i]),t.user_card_final[i]||(t.user_card_final[i]=t.user_card_see[i])},onRoundAwards:function(e,t){for(var i in this.state=TABLE_STATE.OVER,this.nextId=0,this.arrAwardID=[],this.awardAmount=t.num,this.bIsUserPack=this.arrWinner.length<1,t.isUserPack=this.bIsUserPack,t.playerId)if(t.playerId.hasOwnProperty(i)){var n=t.playerId[i];this.arrAwarder.push(n),this.bIsUserPack&&this.arrWinner.push(n)}for(var a=this.arrPlayer.length-1;a>=0;a--)this.arrPlayer[a].onRoundAwards(e,t)},onRoundFinish:function(e,t){this.isRunning=!1,this.state=TABLE_STATE.FINISH,this.nextId=0,this.lastID=0,this.arrComCardID=[],this.curRoundExp=t.exp,this.curUserLevel=t.expbar.level,null!=t.expbar.levelbonus&&(this.nextLevel=t.expbar.levelbonus.level,this.nextLevelBonus=t.expbar.levelbonus.bonus);for(var i=this.arrPlayer.length-1;i>=0;i--)this.arrPlayer[i].onRoundFinish(e,t)},onUserAction:function(e,t){var i=ITeenPatti.getCurTable().getUserWithPlayerID(t.playerId);i&&i.role?t.action==USER_ACTION.INIT_BET?(i.role.onRoundReady(e,t),this.arrPlayer.push(i.role)):t.action==USER_ACTION.SIDE_SHOW||(t.action,USER_ACTION.SHOW):LogUtil.err("DeluxeRound","Server Data Error, Cannot find the bet user!")},onUserSee:function(e,t){t.user_card_see={},t.user_card_final={},t.user_card_see[0]=this.sortSeeCard(t.cards),t.user_card_final[0]=this.sortFinalCard(t.cards,t.user_card_see[0])},onUserShow:function(e,t){}});cc._RF.pop()},{UIInfo:"UIInfo"}],DeluxeSceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"87253zOYjxB14acLtdJ6yq4","DeluxeSceneAudio");var n=e("GameSceneAudio");cc.Class({extends:n,properties:{jackpot:{type:cc.AudioClip,default:null}},onLoad:function(){}}),cc._RF.pop()},{GameSceneAudio:"GameSceneAudio"}],DeluxeScene:[function(e,t,i){"use strict";cc._RF.push(t,"0e302T3QxxJjJElzs4G8mK4","DeluxeScene");var n=e("BaseGameScene"),a=e("ITeenPatti"),o=e("UIInfo"),s=(e("Command"),e("GameData")),r=e("DataAnalysisKey");cc.Class({extends:n,properties:{blackBg:{default:null,visible:!1,override:!0},popupBg:{default:null,visible:!1,override:!0},connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab},initPreloadData:function(){this.preloadPrefabs=this.preloadPrefabs.concat(s.DELUXE_SCENE_PRELOAD_POPUP()),this._super()},onLoad:function(){LogUtil.info("DeluxeScene","----------------------------------- Deluxe Scene -----------------------------"),this._super()},start:function(){LogUtil.debug("DeluxeScene","Init Complete."),this.gameCore.gameMng.isPrivateRoom()&&this.gameCore.gameMng.isMeCreatedPrivateRoom&&this.gameCore.gameMng.openFriendsUI(0),this.gameCore.uiMng.isPopUpByUIKey(o.SWITCH_ROUND_MODE_POPUP.name)||(this.gameCore.uiMng.openUI(o.GAME_ROOM_INFO),this.gameCore.dataAnalysisMng.sendData(r.POPUP_TABLEINFO_ENTERTABLE,this.gameCore.dataAnalysisMng.gameBaseData)),a.addListener("ConnectionResume",this,this.onConnectResume),a.addListener("sideshow",this,this.onSideShowConfirm),a.addListener("gamble",this,this.onUserAction),a.addListener("see",this,this.onUserAction),a.addListener("starttime",this,this.updateGameIdValue),a.addListener("deluxstart",this,this.updateGameIdValue),a.addListener("start",this,this.updateGameIdValue),a.addListener("jis",this,this.updateGameIdValue)},onEnable:function(){a.isReconnecting&&!a.gameCore.uiMng.isPopUpByUIKey(o.RECONNECTING.name)&&a.gameCore.uiMng.openUI(o.RECONNECTING)},onConnectResume:function(e,t){a.sendMsg("jis",null)},onUserAction:function(e,t){if("gamble"!=e||t.action==USER_ACTION.BET||t.action==USER_ACTION.SIDE_SHOW){var i=a.getCurPlayer();if(i&&i.role&&!i.role.isWatcher()){var n=a.getCurRoom().profile.nStakeAmout;i.role.isCardSeen()&&(n*=2),i.getTeenPattiProfile().nChips>=n||this.gameCore.uiMng.isPopUpByUIKey(o.CHIPS_NOT_ENOUGH_1.name)||this.gameCore.gameMng.openChipsNotEnough1()}}},onSideShowConfirm:function(e){!a.getCurTable()||!a.getCurTable().round||a.getCurTable().round.sshowID<0||a.getCurTable().round.cdStart+7e3<(new Date).getTime()||this.gameCore.uiMng.isPopUpByUIKey(o.SIDE_SHOW_CONFIRM_POPUP.name)||(a.getCurTable().cdStart=a.getCurTable().round.cdStart,this.gameCore.uiMng.openUI(o.SIDE_SHOW_CONFIRM_POPUP))},onUserProfileGet:function(e,t){if(!t.errorcode&&this.gameCore&&this.gameCore&&this.gameCore.uiMng){t.user_id;this.gameCore.uiMng.openUI(o.INGAME_PLAYER_INFO,function(e){e&&e.initWithMsgGetUserInfo(t)})}}}),cc._RF.pop()},{BaseGameScene:"BaseGameScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",ITeenPatti:"ITeenPatti",UIInfo:"UIInfo"}],DeluxeSeatCardBar:[function(e,t,i){"use strict";cc._RF.push(t,"c6b7c2qFStC97T3rnV6D1J9","DeluxeSeatCardBar");var n=e("DeluxeSeatCardLevelBar");cc.Class({extends:cc.Component,properties:{cardLevelBar:n,arrCard:[cc.Sprite],arrCardContainer:[cc.Node],arrLight:[cc.Node],commonCards:{default:[],visible:!1},jackpotRemind:cc.Node,isCenter:!1},onLoad:function(){this.jackpotRemind&&(this.jackpotRemind.active=!1),this.initPos=this.node.position,this.arrInitPos=[];for(var e=0;e<this.arrCard.length;e++)this.arrInitPos[e]=this.arrCardContainer[e].position,this.arrLight.length>e&&(this.arrLight[e].active=!1)},init:function(e,t){this.seatId=e,this.playerId=t,this.commonCards=null,this.node.active=!1,this.cardFrameCache=cc.director.getScene().getChildByName("Canvas").getComponent("CardFrameCache"),this.node.position=this.initPos,this.cardLevelBar&&this.cardLevelBar.init(e,t);var i=this.node.getComponent(cc.Animation);i&&i.stop();for(var n=0;n<this.arrCard.length;n++)this.arrCard[n].node.opacity=255,this.arrCard[n].node.color=new cc.Color(255,255,255),this.arrCard[n].spriteFrame=this.cardFrameCache.getCardBackFrame(),this.arrCardContainer[n].active=!1,this.seatId>0&&(this.arrCardContainer[n].scale=.33,this.arrCardContainer[n].position=this.arrInitPos[n])},hideLevelBar:function(){this.cardLevelBar&&this.cardLevelBar.hide()},onRoundRefresh:function(e,t){var i=ITeenPatti.getCurTable().round,n=i.getPlayer(this.playerId);if(n){var a=i.arrCommCard[0],o=ITeenPatti.getCurRoom().table.round.mode;if(this.commonCards=null!=a&&a>-1?[4*a,4*a+1,4*a+2,4*a+3]:[],o==ROOM_TYPE.AK47&&(this.commonCards=[8,9,10,11,20,21,22,23,44,45,46,47,48,49,50,51]),this.cardLevelBar&&this.cardLevelBar.onRoundRefresh(e,t),i.state==TABLE_STATE.RUNNING){this.node.active=!0;for(var s=0;s<3;s++)this.arrCardContainer[s].active=!0,this.arrCard[s].spriteFrame=o==ROOM_TYPE.JOKER&&0==s?this.cardFrameCache.getJokerFrame():this.cardFrameCache.getCardBackFrame();if(this.arrCardID=n.getUserCard().slice(),this.arrCardSee=this.arrCardID.slice(),this.arrCardFinal=[],this.arrCardJackpot=[],this.arrCardID&&!(this.arrCardID.length<1)){if(o==ROOM_TYPE.JOKER&&this.arrCardID.length>0&&(this.arrCardSee[0]=CARD_ID_JOKER,this.arrCardID[0]=CARD_ID_JOKER),o==ROOM_TYPE.HUKAM||o==ROOM_TYPE.AK47)for(s=0;s<3;s++)for(var r=0;r<this.commonCards.length;r++)this.arrCardID[s]==this.commonCards[r]&&(this.arrCardSee[s]=CARD_ID_JOKER);for(s=0;s<3;s++)this.arrCard[s].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardSee[s]),this.arrCardSee[s]==CARD_ID_JOKER&&(this.arrCard[s].node.color=new cc.Color(200,200,200),this.arrCard[s].spriteFrame=this.cardFrameCache.getJokerFrame())}}}},onRoundReady:function(e,t){this.arrCardID=[],this.arrCardSee=[],this.arrCardFinal=[],this.arrCardJackpot=[],this.node.active=!1,this.node.position=this.initPos,this.node.getComponent(cc.Animation).stop(),this.cardLevelBar&&this.cardLevelBar.onRoundReady(e,t);for(var i=0;i<this.arrCard.length;i++)this.arrCardContainer[i].active=!1,this.arrCard[i].node.opacity=255,this.arrCard[i].node.color=new cc.Color(255,255,255),this.arrCard[i].spriteFrame=this.cardFrameCache.getCardBackFrame(),this.seatId>0&&(this.arrCardContainer[i].scale=.33,this.arrCardContainer[i].position=this.arrInitPos[i]),this.arrLight.length>i&&(this.arrLight[i].active=!1)},onRoundStart:function(e,t){this.onRoundReady(e,t),this.node.active=!0,t&&(this.commonCards=null!=t.commonCard&&t.commonCard>-1?[4*t.commonCard,4*t.commonCard+1,4*t.commonCard+2,4*t.commonCard+3]:[],ITeenPatti.getCurRoom().table.round.mode==ROOM_TYPE.AK47&&(this.commonCards=[8,9,10,11,20,21,22,23,44,45,46,47,48,49,50,51]))},onRoundDeal:function(e){if(this.isValid&&this.arrCard[e]){var t=ITeenPatti.getCurRoom().table.round.mode;t==ROOM_TYPE.JOKER&&(this.node.active=!0),this.node.position=this.initPos,this.arrCardContainer[e].active=!0,this.arrCardContainer[e].position=this.arrInitPos[e],this.arrCard[e].spriteFrame=t==ROOM_TYPE.JOKER&&0==e?this.cardFrameCache.getJokerFrame():this.cardFrameCache.getCardBackFrame()}},onRoundEnd:function(){this.node.active=!0},onRoundClear:function(e,t){this.init(this.seatId,this.playerId)},onUserPack:function(){ITeenPatti.getCurTable().round.getPlayer(this.playerId);for(var e=0;e<this.arrCard.length;e++)this.arrCard[e].node.color=new cc.Color(128,128,128)},onUserWin:function(e,t){},onUserLose:function(e,t){},onUserSeeCard:function(e,t){if(!(this.arrCardID&&this.arrCardID.length>0)){this.arrCardID=t.user_card_see[0],this.arrCardSee=[];var i=ITeenPatti.getCurRoom().table.round.mode;if(i==ROOM_TYPE.JOKER&&(this.arrCardID[0]=CARD_ID_JOKER),i==ROOM_TYPE.HUKAM||i==ROOM_TYPE.AK47)for(var n=0;n<3;n++)for(var a=0;a<this.commonCards.length;a++)this.arrCardID[n]==this.commonCards[a]&&(this.arrCardSee[n]=CARD_ID_JOKER);this.node.getComponent(cc.Animation).play("gs_anim_seat_center_card_bar_see"),this.cardLevelBar&&this.cardLevelBar.onUserSeeCard(e,t)}},onUserShowCard:function(e,t){var i=[],n=[];for(var a in t.user_cards)if(t.user_cards[a].id==this.playerId){i=t.user_card_see[a],n=t.user_card_final[a];break}if(this.arrCardID&&this.arrCardID.length>0){if(ITeenPatti.getCurRoom().table.round.mode==ROOM_TYPE.JOKER&&this.arrCardID[0]!=CARD_ID_JOKER)return;this.arrCardID=i,this.arrCardFinal=n;for(var o=0;o<3;o++)this.arrCard[o].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardFinal[o])}else{this.arrCardID=i,this.arrCardFinal=n;var s=["gs_anim_seat_center_card_bar_show","ds_anim_seat_normal_card_bar_show","ds_anim_seat_normal_card_bar_show","ds_anim_seat_normal_card_bar_show","ds_anim_seat_normal_card_bar_show1","ds_anim_seat_normal_card_bar_show1"][this.seatId]||"ds_anim_seat_normal_card_bar_show";this.node.getComponent(cc.Animation).play(s)}},showJackpotCard:function(e){if(this.arrCardFinal&&this.arrCardFinal.length>0)for(var t=0;t<this.arrCardFinal.length;t++)this.arrCardFinal[t]&&this.isJCard(this.arrCardFinal[t])&&this.arrLight.length>t&&(this.arrLight[t].active=!0);else{var i=table.createToArray(e).reverse();for(t=0;t<i.length;t++)this.arrCard[t]&&this.isJCard(i[t])&&(this.arrLight.length>t&&(this.arrLight[t].active=!0),this.arrCard[t].spriteFrame=this.cardFrameCache.getCardFrameWithID(i[t]))}},onAnimCardFaceUp:function(e){var t=2-e;if(null!=this.arrCardFinal[t]&&ITeenPatti.getCurRoom())for(var i=2;i>=t;i--)this.arrCard[i].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardFinal[i]),this.arrCardFinal[i]!=this.arrCardFinal[i]&&(this.arrCard[i].node.color=new cc.Color(200,200,200))},onAnimCardFaceUpEnd:function(){for(var e=0;e<this.arrCard.length;e++)this.arrCard[e]&&this.arrCardFinal[e]&&(this.arrCard[e].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardFinal[e]))},onAnimCenterCardFaceUp:function(e){var t=2-e;if(null!=this.arrCardID[t]&&ITeenPatti.getCurRoom())if(0==t&&ITeenPatti.getCurRoom().table.round.mode==ROOM_TYPE.JOKER&&(this.arrCard[t].node.color=new cc.Color(200,200,200)),this.arrCardFinal&&this.arrCardFinal.length>0)for(var i=2;i>=t;i--)this.arrCard[i].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardFinal[i]),this.arrCardFinal[i]!=this.arrCardID[i]&&(this.arrCard[i].node.color=new cc.Color(200,200,200));else for(i=2;i>=t;i--)this.arrCard[i].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardID[i]),this.arrCardSee.length>1&&this.arrCardSee[i]!=this.arrCardID[i]&&this.arrCardSee[i]==CARD_ID_JOKER&&(this.arrCard[i].node.color=new cc.Color(200,200,200))},isJCard:function(e){return e>=36&&e<=39},showJRemind:function(){for(var e=0;e<this.arrCardID.length;e++)!this.isJCard(this.arrCardID[e])||this.arrCardSee[e]&&this.arrCardSee[e]==CARD_ID_JOKER||(this.arrLight.length>e&&(this.arrLight[e].active=!0),this.hasShowedJackpotRemind||(this.hasShowedJackpotRemind=!0,this.jackpotRemind.active=!0,this.jackpotRemind.x=55*e-22,this.jackpotRemind.stopAllActions(),this.jackpotRemind.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.jackpotRemind.active=!1},this)))))},onAnimCenterCardFaceUpEnd:function(){if(ITeenPatti.getCurPlayer().role&&ITeenPatti.getCurRoom())if(this.arrCardFinal&&this.arrCardFinal.length>0)for(var e=2;e>=0;e--)this.arrCard[e].spriteFrame=this.cardFrameCache.getCardFrameWithID(this.arrCardFinal[e]),this.arrCardFinal[e]!=this.arrCardID[e]&&(this.arrCard[e].node.color=new cc.Color(200,200,200));else if(this.showJRemind(),this.arrCardSee.length<1)this.cardLevelBar&&this.cardLevelBar.onUserSeeCardFinish();else{ITeenPatti.getCurTable().contrller;for(var t=this.node.getComponent(cc.Animation),i=0;i<3;i++)if(this.arrCardSee[i]!=this.arrCardID[i]&&this.arrCardSee[i]==CARD_ID_JOKER){var n=2-i;t.playAdditive("gs_anim_seat_center_card_bar_see"+n)}}},onAnimSingleCardFaceUp:function(e){var t=2-e;null!=this.arrCardID[t]&&ITeenPatti.getCurRoom()&&(this.arrCard[t].node.color=new cc.Color(200,200,200),this.arrCard[t].spriteFrame=this.cardFrameCache.getJokerFrame(),this.cardLevelBar&&this.cardLevelBar.onUserSeeCardFinish())},onAnimCenterCardFaceUpEndJoker:function(){this.cardLevelBar&&this.cardLevelBar.onUserSeeCardFinish()}}),cc._RF.pop()},{DeluxeSeatCardLevelBar:"DeluxeSeatCardLevelBar"}],DeluxeSeatCardLevelBar:[function(e,t,i){"use strict";cc._RF.push(t,"80bc7mxy+9M4LyQi1W4JrFP","DeluxeSeatCardLevelBar");var n=e("UIInfo");cc.Class({extends:cc.Component,properties:{arrLevelFlag:[cc.Node]},init:function(e,t){this.inited||(this.inited=!0,this.times=0,this.degree=0,this.seatId=e,this.playerId=t,this.hide())},hide:function(){this.node.active=!1},updateLevel:function(){var e=ITeenPatti.getCurTable().round;ITeenPatti.getCurPlayer().role;if(ITeenPatti.getCurTable()&&e&&e.isRunning&&ITeenPatti.gameCore.gameMng.handStrengthMeter){this.node.active=!0;for(var t=0;t<this.arrLevelFlag.length;t++)this.arrLevelFlag[t].active=!1;for(t=0;t<this.degree;t++)this.node.runAction(cc.sequence(cc.delayTime(.08*t),cc.callFunc(function(e,t){this.arrLevelFlag[t].active=!0},this,t)));1==this.times&&ITeenPatti.gameCore.uiMng.openUI(n.HSM_TIPS)}},onRoundRefresh:function(e,t){var i=ITeenPatti.getCurTable();i&&i.myselfRole()&&i.myselfRole().isCardSeen()&&this.updateLevel()},onRoundReady:function(e,t){this.hide(),this.degree=0},onRoundStart:function(){this.degree=0},onUserSeeCard:function(e,t){this.degree=t.degree?t.degree:1,this.times=t.num?t.num:0},onUserSeeCardFinish:function(){this.updateLevel()},onUserPack:function(){this.hide()}}),cc._RF.pop()},{UIInfo:"UIInfo"}],DeluxeSeatChipsBar:[function(e,t,i){"use strict";cc._RF.push(t,"4eece7hIQJCiK47KPXMDF+u","DeluxeSeatChipsBar");var n=e("LanguageData"),a=e("GameUtils"),o=e("DataAnalysisKey"),s=e("UIInfo");cc.Class({extends:cc.Component,properties:{lblChips:cc.Label,excludeChips:0},init:function(e,t){this.seatId=e,this.playerId=t,this.node.active=!1},initChipsText:function(){if(ITeenPatti.getCurTable()){var e=ITeenPatti.getCurTable().getUserWithPlayerId(this.playerId);this.lblChips.string=e?n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(e.nChips-this.excludeChips)}):""}},onBtnBuyClk:function(){if(!isInstantGame){ITeenPatti.gameCore.dataAnalysisMng.sendData(o.CLICK_STORE_TABLE,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData);var e="",t=ITeenPatti.getCurRoom();t&&t.roomName&&(e=t.roomName.split(" ")[0]),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.OPEN_STORE_GAME,"",ITeenPatti.gameCore.uiMng.curSceneKey,e,0),ITeenPatti.gameCore.uiMng.openUI(s.STORE)}},onUserStandUp:function(){this.lblChips.string=""},onUserSitDown:function(e,t){this.node.active=!0,this.initChipsText()},onUserBet:function(e,t){this.initChipsText()},onUserAwards:function(e,t){this.initChipsText()},onUserUpdate:function(e,t){this.initChipsText()},onUserSendGift:function(){this.initChipsText()},onDealerSwitch:function(){this.initChipsText()},onUserTip:function(){this.initChipsText()},onRoundRefresh:function(e,t){this.initChipsText()},onRoundReady:function(e,t){this.node.active=!0,this.initChipsText()},onRoundStart:function(e,t){this.node.active=!0,this.initChipsText()},onRoundBlind:function(e){this.node.active=!0,this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(e.chips)})},onRoundRunning:function(e){this.node.active=!0;var t=ITeenPatti.getCurTable().getUserWithPlayerId(this.playerId);this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(t.nChips)})},onRoundAward:function(e){var t=ITeenPatti.getCurTable().getUserWithPlayerId(this.playerId);this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(t.nChips)})},onRoundEnd:function(e,t){for(var i in this.node.active=!0,t.ps){var o=t.ps[i];this.playerId==this.playerId&&o.nbet&&(this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(o.chips)}))}}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],DeluxeSeatExpBar:[function(e,t,i){"use strict";cc._RF.push(t,"230a4hdLK1Ik74fvyFU6+jD","DeluxeSeatExpBar");e("GameUtils");cc.Class({extends:cc.Component,properties:{lblExps:cc.Label},init:function(e,t){this.seatId=e,this.playerId=t,this.node.active=!1},onRoundReady:function(){this.node.active=!1},onRoundExp:function(e,t){this.node.active=!0,this.lblExps.string="+ "+t.exp+"XP",this.node.getComponent(cc.Animation).playAdditive("gs_anim_seat_exp")}}),cc._RF.pop()},{GameUtils:"GameUtils"}],DeluxeSeatPlaceAction:[function(e,t,i){"use strict";cc._RF.push(t,"cf6e2UOneVNh5e21SkpHmvU","DeluxeSeatPlaceAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"round_seat_place"},play:function(e){LogUtil.debug("DeluxeSeatPlaceAction","Seat "+this.objSeat.seatId+" Place By User "+this.objTPUser.strTPID+" Player "+this.objSeat.playerId),this.objActionPool=e;ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller;if(this.objSeat.onUserSitDown(this.objTPUser),0==this.objSeat.seatId)for(var i=0;i<t.arrSeat.length;i++)t.arrSeat[i].onOtherSitDown();this.objActionPool.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],DeluxeSeatPlayerView:[function(e,t,i){"use strict";cc._RF.push(t,"db8dat2fi5OQ5PeB18xh/O8","DeluxeSeatPlayerView");e("CDTimeBar"),e("TeenPattiUser");var n=e("ButtonCursor"),a=(e("Command"),e("UIInfo"),e("DataAnalysisKey"),e("BaseComponent"));cc.Class({extends:a,properties:{lblName:cc.Label,imgIcon:cc.Sprite,imgBank:cc.Node,lblPack:cc.Node,giftSender:cc.Node,giftReceiver:cc.Node,msgSender:cc.Node,sideEffecter:cc.Node,arrWinEffecter:[cc.Node],arrEffectPfb:[cc.Prefab],headFrame:cc.Node},init:function(e,t){this.seatId=e,this.playerId=t,this.node.active=!0,this.imgBank.active=!1,this.imgIcon.node.color=new cc.Color(255,255,255),!this.imgFrameDefault&&(this.imgFrameDefault=this.imgIcon.spriteFrame);var i=this.node.getComponent(cc.Animation);i&&i.stop(),this.lblPack.active=!1,this.hideWinEffect()},getGiftSendPostion:function(){return this.giftSender.convertToWorldSpaceAR(cc.v2(0,0))},getGiftReceivePostion:function(e){return 12==e||15==e||23==e?this.node.convertToWorldSpaceAR(cc.v2(0,0)):19==e?0==this.seatId?this.node.convertToWorldSpaceAR(cc.v2(-65,-45)):this.node.convertToWorldSpaceAR(cc.v2(-75,-40)):20==e?0==this.seatId?this.node.convertToWorldSpaceAR(cc.v2(7,-5)):this.node.convertToWorldSpaceAR(cc.v2(1,8)):25==e||27==e?this.giftReceiver.convertToWorldSpaceAR(cc.v2(20,0)):this.giftReceiver.convertToWorldSpaceAR(cc.v2(0,0))},getMessagePostion:function(){return this.msgSender.convertToWorldSpaceAR(cc.v2(0,0))},getDisplayName:function(){return this.lblName.string},hideWinEffect:function(){for(var e=0;e<this.arrWinEffecter.length;e++)this.arrWinEffecter[e].removeAllChildren()},hideSideEffect:function(){this.sideEffecter.active=!1;for(var e=this.getAllChildComponentByType(cc.MotionStreak,this.sideEffecter),t=0;t<e.length;t++)e[t]._motionStreak&&e[t].reset()},onUserStandUp:function(){this.tpUser=null,this.lblName.string="",this.imgIcon.spriteFrame=this.imgFrameDefault,this.imgBank.active=!1},onUserSitDown:function(e){this.tpUser;this.tpUser=e,0!=this.seatId&&(this.lblName.string=this.tpUser.strTPName),this.imgIcon.spriteFrame=this.imgFrameDefault,this.imgIcon.node.getComponent("FacebookIcon").initWithTeenPattiUser(this.tpUser)},onUserPack:function(e,t){var i=this.node.getComponent(n);i&&(i.ignoreColorChange=!0);var a=this.node.getComponent(cc.Animation);a&&a.playAdditive("gs_anim_seat_player_pack")},onUserWin:function(e,t){for(var i=["hou","qian"],n=0;n<this.arrWinEffecter.length;n++){var a=cc.instantiate(this.arrEffectPfb[n]);this.arrWinEffecter[n].addChild(a);var o=a.getComponent(sp.Skeleton);o&&(o.setAnimation(0,i[n],!0),0==n&&o.setCompleteListener(handler(this,this.hideWinEffect)))}},onUserLose:function(e,t){},onUserSide:function(e,t){this.sideEffecter.active=!0;var i=this.sideEffecter.getComponent(cc.Animation);i&&i.playAdditive("gs_anim_seat_player_side")},onUserSideWin:function(e,t){this.hideSideEffect()},onUserSideLose:function(e,t){this.hideSideEffect()},onUserSilent:function(e,t){this.hideSideEffect()},onRoundRefresh:function(e,t){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round){var i=ITeenPatti.getCurTable().round;this.imgBank.active=ITeenPatti.getCurTable().round.bankerID==this.playerId&&i.isPlayer(this.playerId),i&&i.isPlayer(this.playerId)&&i.state==TABLE_STATE.RUNNING&&(i.getPlayer(this.playerId).isAlivePartner()||this.onUserPack(e,t),i.sshowID!=this.playerId&&i.ssideID!=this.playerId||this.onUserSide(e,t))}},onRoundDeluxePreReady:function(e,t){this.init(this.seatId,this.playerId),this.imgBank.active=ITeenPatti.getCurTable().round.bankerID==this.playerId},onRoundReady:function(e,t){this.init(this.seatId,this.playerId),this.imgBank.active=ITeenPatti.getCurTable().round.bankerID==this.playerId;var i=this.node.getComponent(cc.Animation);i&&i.playAdditive("gs_anim_seat_player_ready")},onRoundStart:function(e,t){this.init(this.seatId,this.playerId),this.imgBank.active=ITeenPatti.getCurTable().round.bankerID==this.playerId},onRoundNext:function(e,t){this.hideSideEffect()}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ButtonCursor:"ButtonCursor",CDTimeBar:"CDTimeBar",Command:"Command",DataAnalysisKey:"DataAnalysisKey",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],DeluxeSeatStakeBar:[function(e,t,i){"use strict";cc._RF.push(t,"526e0F6JOlB3p6nNEb5y5Jb","DeluxeSeatStakeBar");var n=e("GameUtils"),a=e("LanguageData");e("DeluxeSeat");cc.Class({extends:cc.Component,properties:{lblStake:cc.Label,seat:null},updateActive:function(e){this.node.active=e,this.seat.updateBgState()},init:function(e,t,i){this.inited=!0,this.seatId=e,this.playerId=t,this.seat=i,this.updateActive(!1)},getLastStake:function(){var e=ITeenPatti.getCurTable().round;if(!e)return 0;var t=e.getPlayer(this.playerId);return t?t.lastStake:0},onUserPack:function(e,t){this.updateActive(!1)},onUserBet:function(e,t){this.updateActive(!0),this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t.num)})},onRoundRefresh:function(e,t){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.seat){var i=ITeenPatti.getCurTable().round.getPlayer(this.seat.playerId);i&&i.lastBetStake>0&&(this.updateActive(!0),this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(i.lastBetStake)}))}},onRoundReady:function(e){this.updateActive(!1)},onRoundStart:function(e,t){this.updateActive(!1)},onRoundBoot:function(e,t){this.updateActive(!0),this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t.bet)})},onRoundCollect:function(){this.updateActive(!1)}}),cc._RF.pop()},{DeluxeSeat:"DeluxeSeat",GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeSeatStateBar:[function(e,t,i){"use strict";cc._RF.push(t,"18489WFzBhL7JDVHauizdv3","DeluxeSeatStateBar");var n=e("LanguageData");cc.Class({extends:cc.Component,properties:{imgBg:cc.Sprite,lblCurState:cc.Label,lblNextState:cc.Label,arrBgFrame:[cc.SpriteFrame]},init:function(e,t){this.seatId=e,this.playerId=t,this.node.active=!1,this.lblNextState.string="",this.node.getComponent(cc.Animation).stop()},onUserBet:function(e,t){var i=ITeenPatti.getCurTable().getUserWithPlayerId(this.playerId);if(i&&i.role){this.node.active=!0;var a=i.role.isCardSeen();this.lblCurState.string=a?n.t("label_text.chaal"):n.t("label_text.blind"),this.imgBg.spriteFrame=this.arrBgFrame[a?2:0]}},onUserSeen:function(e,t){this.lblCurState.string=n.t("label_text.seen"),this.imgBg.spriteFrame=this.arrBgFrame[1],this.isEnd||(this.node.active=!0)},onUserShow:function(){this.node.active=!1},onUserSide:function(e,t){this.node.active=!0,this.lblCurState.string=n.t("label_text.s_show"),this.imgBg.spriteFrame=this.arrBgFrame[0]},onUserPack:function(e,t){this.node.active=!1},onUserSideLose:function(){this.node.active=!1},onUserSideWin:function(){this.node.active=!1},onUserLose:function(){this.node.active=!1},onUserWin:function(){this.isEnd=!0,this.node.active=!1},onRoundRefresh:function(){var e=ITeenPatti.getCurTable().round,t=e.getPlayer(this.playerId);if(t&&e.state==TABLE_STATE.RUNNING)switch(t.refreshstate){case 0:case 1:this.onUserPack();break;case 2:this.onUserBet();break;case 3:this.onUserSeen();break;case 4:this.onUserBet();break;case 5:this.onUserSide();break;case 6:this.onUserSeen();break;case 7:this.onUserPack()}},onRoundReady:function(e){this.isEnd=!1,this.node.active=!1},onRoundStart:function(e,t){this.isEnd=!1,this.node.active=!1},onRoundBlind:function(e,t){},onRoundRunning:function(e){}}),cc._RF.pop()},{LanguageData:"LanguageData"}],DeluxeSeat:[function(e,t,i){"use strict";cc._RF.push(t,"da903W/0G5GeIPFZBBf2Tqh","DeluxeSeat");var n=e("DataAnalysisKey"),a=e("UIInfo"),o=e("CDTimeBar"),s=e("DeluxeSeatCardBar"),r=e("DeluxeSeatChipsBar"),l=e("DeluxeSeatStakeBar"),c=e("DeluxeSeatStateBar"),h=e("DeluxeSeatPlayerView"),u=e("DeluxeSeatExpBar"),d=e("GameBaseSeat"),m=e("DeluxeControlBar");cc.Class({extends:d,properties:{btnInvite:cc.Node,btnSit:cc.Node,btnGift:cc.Button,imgCrown:cc.Node,stateNotEmpty:cc.Node,seatId:{default:0,visible:!1},playerId:{default:0,visible:!1},tpUser:{default:null,visible:!1},playerView:h,cdTimeBar:o,chipsBar:r,stakeBar:l,stateBar:c,cardBar:s,expBar:u,controlBar:m,btnSee:cc.Button,longBackground:cc.Node,shortBackground:cc.Node,jackpotSpinePrefab:cc.Prefab,jackpotFlag:cc.Node,objGiftContainer:cc.Node},onLoad:function(){this.jackpotFlag.active=!1,this._super()},updateBgState:function(){if(this.shortBackground&&(this.shortBackground.active=this.btnSit.active||this.btnInvite.active||this.stakeBar&&!this.stakeBar.node.active),this.longBackground&&(this.longBackground.active=!1),this.shortBackground&&(this.shortBackground.active=!1),this.headFrame){var e=this.btnSitDown.node.active||this.btnInvite.node.active;this.playerView.headFrame.active=!e}},updateStakeBarActive:function(e){this.stakeBar&&(this.stakeBar.node.active=e,this.updateBgState())},updateSitdownBtnActive:function(e){this.btnSit&&(this.btnSit.active=e,this.updateBgState(),e||(this.controlBar&&this.controlBar.hide(),this.btnSee&&(this.btnSee.node.active=!1)))},updateInviteBtnActive:function(e){this.btnInvite&&(this.btnInvite.active=e,this.updateBgState(),this.node.active=!e,e||(this.controlBar&&this.controlBar.hide(),this.btnSee&&(this.btnSee.node.active=!1)))},refreshGiftBtnActive:function(){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var e=ITeenPatti.getCurPlayer();this.btnGift.node.active=!e.role.isWatcher()&&null==this.objGift}},initSeat:function(e,t){this.seatId=e,this.playerId=t,this.tpUser=null,this.node.active=!0,this.updateSitdownBtnActive(!0),this.updateInviteBtnActive(!1),this.refreshGiftBtnActive(),this.imgCrown.active=!1,this._super(e,t),this.stateNotEmpty.active=!1,this.node.scaleX=this.node.scaleY=1,this.node.getComponent(cc.Animation).stop(),this.stateBar&&this.stateBar.init(e,t),this.chipsBar&&this.chipsBar.init(e,t),this.stakeBar&&this.stakeBar.init(e,t,this),this.cardBar&&this.cardBar.init(e,t),this.expBar&&this.expBar.init(e,t),this.playerView.init(e,t),this.cdTimeBar.hide(),this.cdTimeBar.isMe=0==this.seatId},getGiftSendPostion:function(){return this.playerView.getGiftSendPostion()},getGiftReceivePostion:function(e,t){return this.playerView.getGiftReceivePostion(t)},getMessagePostion:function(){return this.playerView.getMessagePostion()},getDisplayName:function(){return this.playerView.getDisplayName()},getResetPos:function(){return[cc.v2(145,-53),cc.v2(-52,-58),cc.v2(-52,-58),cc.v2(-52,-58),cc.v2(49,-58),cc.v2(49,-58)][this.seatId]},getShowPos:function(){return[cc.v2(145,-53),cc.v2(-52,-58),cc.v2(-52,-58),cc.v2(-52,-58),cc.v2(49,-58),cc.v2(49,-58)][this.seatId]},onBtnInviteClk:function(){ITeenPatti.gameCore.dataAnalysisMng.sendData(n.OPEN_TOTABLE_TABLE),ITeenPatti.gameCore.gameMng.openFriendsUI(0)},onBtnSitDownClk:function(){this.tableController.judgeBalance(!0)&&ITeenPatti.sendMsg("sit",{i:this.playerId})},onBtnGiftClk:function(){ITeenPatti.getCurPlayer().role&&!ITeenPatti.getCurPlayer().role.isWatcher()&&ITeenPatti.gameCore.uiMng.openUI(a.GIFTS,handler(this,function(e){e&&e.setReceiverID(this.tpUser.userId)}))},onBtnGiftClicked:function(){this.onBtnGiftClk()},onBtnProfileClk:function(){var e=cc.director.getScene().getChildByName("Canvas").getComponent("DeluxeScene");ITeenPatti.removeListener("profile",e),ITeenPatti.addListener("profile",e,e.onUserProfileGet),ITeenPatti.sendMsg("profile",{i:parseInt(this.tpUser.userId)})},hitJackpot:function(e){if(this.tpUser){this.cardBar.showJackpotCard(e),this.jackpotFlag.stopAllActions(),this.jackpotFlag.active=!0;var t=cc.instantiate(this.jackpotSpinePrefab);this.jackpotFlag.addChild(t),this.jackpotFlag.runAction(cc.sequence(cc.delayTime(2.2),cc.callFunc(function(){this.jackpotFlag.removeAllChildren(),this.jackpotFlag.active=!1},this)))}},onUserStandUp:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.initSeat(this.seatId,this.playerId),this.cardBar.hideLevelBar(),this.seatId<1||(this.imgCrown.active=!1,this.jackpotFlag.stopAllActions(),this.jackpotFlag.removeAllChildren(),this.jackpotFlag.active=!1,this.updateSitdownBtnActive(ITeenPatti.getCurPlayer().role.isWatcher()),this.updateInviteBtnActive(!this.btnSit.active))},onUserSitDown:function(e){e&&(this.tpUser=e,this.node.active=!0,this.cdTimeBar.hide(),this.updateSitdownBtnActive(!1),this.updateInviteBtnActive(!1),this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID),this.stateNotEmpty.active=!0,this.playerView.onUserSitDown(this.tpUser),this.chipsBar&&this.chipsBar.onUserSitDown(this.tpUser.role))},onOtherStandUp:function(){var e=!ITeenPatti.getCurPlayer().role.isWatcher();this.tpUser&&(this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID)),this.tpUser||this.seatId<1||(1==this.seatId&&(this.node.active=!e),this.updateSitdownBtnActive(!e),this.updateInviteBtnActive(e))},onOtherSitDown:function(){var e=!ITeenPatti.getCurPlayer().role.isWatcher();this.tpUser&&(this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID)),this.seatId<1||this.tpUser||(1==this.seatId&&(this.node.active=!e),this.updateSitdownBtnActive(!e),this.updateInviteBtnActive(e))},onUserSlient:function(){this.tpUser&&ITeenPatti.getCurTable().round.isPlayer(this.playerId)&&(this.cdTimeBar.hide(),this.playerView.hideActiveEffect())},onUserSeeCard:function(e,t){this.tpUser&&this.cardBar.onUserSeeCard(e,t)},onUserUpdate:function(e,t){},onUserSilent:function(e,t){this.tpUser&&(this.playerView.onUserSilent(),this.controlBar&&this.controlBar.hide())},onUserSeen:function(e,t){if(this.tpUser){var i=ITeenPatti.getCurTable();i&&i.round&&i.round.state!=TABLE_STATE.FINISH&&this.stateBar&&this.stateBar.onUserSeen(e,t)}},onUserBet:function(e,t){this.tpUser&&(this.stateBar&&this.stateBar.onUserBet(e,t),this.stakeBar&&this.stakeBar.onUserBet(e,t),this.chipsBar&&this.chipsBar.onUserBet(e,t))},onUserShowCard:function(e,t){this.tpUser&&(this.cdTimeBar.hide(),this.cardBar.onUserShowCard(e,t),this.stateBar&&this.stateBar.onUserShow(e,t))},onUserPack:function(e,t){this.tpUser&&(this.cardBar&&this.cardBar.onUserPack(),this.stateBar&&this.stateBar.onUserPack(e,t),this.stakeBar&&this.stakeBar.onUserPack(e,t),this.playerView.onUserPack(),this.cdTimeBar.hide(),this.controlBar&&this.controlBar.hide(),this.btnSee&&(this.btnSee.node.active=!1),this.node.runAction(cc.scaleTo(.5,.9)))},onUserSide:function(e,t){this.tpUser&&(this.playerView.onUserSide(e,t),this.stateBar&&this.stateBar.onUserSide(e,t),this.controlBar&&this.controlBar.hide())},onUserSideWin:function(e,t){this.tpUser&&(this.playerView.onUserSideWin(e,t),this.stateBar&&this.stateBar.onUserSideWin(e,t))},onUserSideLose:function(e,t){this.tpUser&&(this.playerView.onUserSideLose(e,t),this.stateBar&&this.stateBar.onUserSideLose(e,t),this.onUserPack(e,t))},onUserWin:function(e,t){this.tpUser&&(this.cdTimeBar.hide(),this.cardBar.onUserWin(e,t),this.playerView.onUserWin(e,t),this.stateBar&&this.stateBar.onUserWin(e,t),this.updateStakeBarActive(!1),this.controlBar&&this.controlBar.hide(),this.btnSee&&(this.btnSee.node.active=!1))},onUserLose:function(e,t){this.tpUser&&(this.cdTimeBar.hide(),this.cardBar.onUserLose(e,t),this.playerView.onUserLose(e,t),this.stateBar&&this.stateBar.onUserLose(e,t),this.controlBar&&this.controlBar.hide(),this.btnSee&&(this.btnSee.node.active=!1))},onUserAwards:function(e,t){this.tpUser&&this.cdTimeBar.hide()},onAwardsFinish:function(e,t,i){this.chipsBar&&this.chipsBar.onUserAwards(e,t)},onUserExp:function(e,t){this.tpUser&&this.expBar.onUserExp(e,t)},updateGiftBtnActive:function(e){this.btnGift.node.active=e},onRoundRefresh:function(e,t){if(this.tpUser){var i=ITeenPatti.getCurTable().round;this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID),this.node.scaleX=this.node.scaleY=1,this.node.getComponent(cc.Animation).stop(),this.cardBar&&this.cardBar.onRoundRefresh(e,t),this.playerView&&this.playerView.onRoundRefresh(e,t),this.stateBar&&this.stateBar.onRoundRefresh(e,t),this.chipsBar&&this.chipsBar.onRoundRefresh(e,t),this.stakeBar&&this.stakeBar.onRoundRefresh(e,t),i.isPlayer(this.playerId)&&i.state==TABLE_STATE.RUNNING&&(i.nextId==this.playerId&&this.cdTimeBar.startCountDown(i.cdStart,i.cdTime),i.getPlayer(this.playerId).isAlivePartner()||this.node.runAction(cc.scaleTo(.5,.9)))}},onRoundDeluxePreReady:function(e,t){this.tpUser&&(this.onRoundReady(e,t),this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID),this.node.scaleX=this.node.scaleY=1,this.node.getComponent(cc.Animation).stop(),this.playerView.onRoundDeluxePreReady(e,t))},onRoundReady:function(e,t){this.tpUser&&(this.cdTimeBar.hide(),this.jackpotFlag.stopAllActions(),this.jackpotFlag.active=!1,this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID),this.node.scaleX=this.node.scaleY=1,this.node.getComponent(cc.Animation).stop(),this.playerView.onRoundReady(e,t),this.cardBar&&this.cardBar.onRoundReady(e,t),this.stakeBar&&this.stakeBar.onRoundReady(e,t),this.stateBar&&this.stateBar.onRoundReady(e,t),this.chipsBar&&this.chipsBar.onRoundReady(e,t),this.expBar&&this.expBar.onRoundReady(e,t),this.controlBar&&this.controlBar.onRoundReady(e,t))},onRoundStart:function(e,t){this.tpUser&&(this.playerView.onRoundStart(e,t),this.cardBar.onRoundStart(e,0==this.seatId?t:null),this.stakeBar&&this.stakeBar.onRoundStart(e,t),this.stateBar&&this.stateBar.onRoundStart(e,t),this.chipsBar&&this.chipsBar.onRoundStart(e,t))},onRoundBoot:function(e,t){this.tpUser&&this.stakeBar&&this.stakeBar.onRoundBoot(e,t)},onRoundDeal:function(e){this.tpUser&&this.cardBar.onRoundDeal(e)},onRoundNext:function(){if(this.tpUser){var e=ITeenPatti.getCurTable().round;this.playerView.onRoundNext(),this.cdTimeBar.hide(),e.nextId==this.playerId&&(this.cdTimeBar.startCountDown(e.cdStart,e.cdTime),0==this.seatId&&ITeenPatti.gameCore.gameMng.playAudioEffect("myturn"))}},onRoundCollect:function(){this.tpUser&&(this.cdTimeBar.hide(),this.playerView.hideActiveEffect())},onRoundExp:function(e,t){this.tpUser&&this.expBar&&this.expBar.onRoundExp(e,t)},onRoundFinish:function(e,t){this.onRoundReady(e,t)},onUserSendGift:function(e,t){this.tpUser&&this.tpUser.strTPID==t.send_id&&this.chipsBar&&this.chipsBar.onUserSendGift()},onDealerSwitch:function(){this.chipsBar&&this.chipsBar.onDealerSwitch()},onUserTip:function(){this.chipsBar&&this.chipsBar.onUserTip()}}),cc._RF.pop()},{CDTimeBar:"CDTimeBar",DataAnalysisKey:"DataAnalysisKey",DeluxeControlBar:"DeluxeControlBar",DeluxeSeatCardBar:"DeluxeSeatCardBar",DeluxeSeatChipsBar:"DeluxeSeatChipsBar",DeluxeSeatExpBar:"DeluxeSeatExpBar",DeluxeSeatPlayerView:"DeluxeSeatPlayerView",DeluxeSeatStakeBar:"DeluxeSeatStakeBar",DeluxeSeatStateBar:"DeluxeSeatStateBar",GameBaseSeat:"GameBaseSeat",UIInfo:"UIInfo"}],DeluxeSeeBar:[function(e,t,i){"use strict";cc._RF.push(t,"a0dd7RAHflPNIwR3eVPV+xK","DeluxeSeeBar");e("GameUtils");cc.Class({extends:cc.Component,properties:{btnSee:cc.Node,loadState:cc.Node,nBlindCount:0,controlBar:{default:null,visible:!1}},onLoad:function(){this.node.active=!1,this.loadState.active=!1},hide:function(){this.node.active=!1},onBtnSeeClk:function(){if(ITeenPatti.getCurRoom().table.round.mode!=ROOM_TYPE.POTBLIND){this.btnSee.active=!1,this.loadState.active=!0}},onBtnPackClk:function(){this.btnSee.interactable=!1},onBtnShowClk:function(){this.btnSee.interactable=!1},onRoundReady:function(){this.nBlindCount=0,this.node.active=!1},onRoundStart:function(){this.nBlindCount=0,this.node.active=!1},onRoundNext:function(e,t){if(ITeenPatti.getCurRoom().table.round.mode!=ROOM_TYPE.POTBLIND&&ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().myself();i&&i.role&&(this.nBlindCount>=this.nMaxBlinds&&!i.role.isCardSeen()?i.role.playerId==t.next_id&&(this.controlBar.sendMsgSee(),this.btnSee.active=!1):this.btnSee.active=!0,this.node.active=!0,this.loadState.active=!1)}},onRoundFinish:function(){this.node.active=!1},onUserSeeCard:function(){this.loadState.active=!1,this.node.active=!1},onUserPack:function(){this.node.active=!1}}),cc._RF.pop()},{GameUtils:"GameUtils"}],DeluxeTableAwardsSender:[function(e,t,i){"use strict";cc._RF.push(t,"06e96uxrTJJWoAYbueaRax/","DeluxeTableAwardsSender"),cc.Class({extends:cc.Component,properties:{pfbAwards:cc.Prefab},onRoundEnd:function(e,t){},onRoundAwards:function(e,t){for(var i=ITeenPatti.getCurTable().contrller,n=0;n<t.arrWinerID.length;n++){var a=i.getSeatWithPlayerId(t.arrWinerID[n]);if(a){var o=cc.instantiate(this.pfbAwards);this.node.addChild(o),o.getComponent("TableAwardsView").playAnimAwards(a.seatId,t.num)}}}}),cc._RF.pop()},{}],DeluxeTableAwardsView:[function(e,t,i){"use strict";cc._RF.push(t,"c2ad64XNOJGEqYzdhBm3KYp","DeluxeTableAwardsView"),cc._RF.pop()},{}],DeluxeTableCardBar:[function(e,t,i){"use strict";cc._RF.push(t,"2b1bbB80ctAhK4eweMipmSn","DeluxeTableCardBar"),cc.Class({extends:cc.Component,properties:{commondCard:cc.Sprite,arrJokerFrame:[cc.SpriteFrame]},init:function(){this.node.active=!1},onRoundRefresh:function(e,t){var i=ITeenPatti.getCurTable().round;this.commonID=i.arrCommCard[0],this.node.active=!1,null!=this.commonID&&i.state==TABLE_STATE.RUNNING&&(this.node.active=!0,this.commondCard.spriteFrame=this.arrJokerFrame[this.commonID])},onRoundReady:function(e,t){this.node.active=!1},onRoundStart:function(e,t){this.commonID=null!=t.commonCard&&t.commonCard>-1?t.commonCard:null},onRoundNext:function(e,t){this.node.active=!1,null!=this.commonID&&(this.node.active=!0,this.commondCard.spriteFrame=this.arrJokerFrame[this.commonID])}}),cc._RF.pop()},{}],DeluxeTableCardLevelBar:[function(e,t,i){"use strict";cc._RF.push(t,"011d1Jdhh9JD7ylxhKEU+g/","DeluxeTableCardLevelBar"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],DeluxeTableDealerHintBar:[function(e,t,i){"use strict";cc._RF.push(t,"424b4qBsbhK+Yu5pE/tnaDR","DeluxeTableDealerHintBar"),cc.Class({extends:cc.Component,properties:{lblHint:cc.Label,imgHintBg:cc.Sprite,showTime:0,arrHintList:[]},onLoad:function(){var e=this;this.showHintBar(!1),this.lblHint.node.on("size-changed",function(t,i){e.imgHintBg.node.width=Math.max(e.lblHint.node.width+25,400)})},showHintBar:function(e){this.lblHint.node.active=e,this.imgHintBg.node.active=e},clearHint:function(){this.arrHintList=[]},addHint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!i&&this.arrHintList.length>0&&(this.arrHintList[this.arrHintList.length-1].duration=1),this.arrHintList.push({text:e,start:i,duration:t})},update:function(e){if(this.arrHintList.length<1)this.showHintBar(!1);else{var t=(new Date).getTime();if(this.arrHintList[0].start)return this.arrHintList[0].start+1e3*this.arrHintList[0].duration<=t?(this.arrHintList.splice(0,1),void(this.showTime=0)):this.arrHintList[0].start<t&&this.arrHintList[0].start+1e3*this.arrHintList[0].duration>t?(this.lblHint.string=this.arrHintList[0].text,void this.showHintBar(!0)):void 0;this.showTime+=e,this.showHintBar(!0),this.lblHint.string=this.arrHintList[0].text,this.showTime<this.arrHintList[0].duration||(this.showTime=0,this.arrHintList.splice(0,1))}}}),cc._RF.pop()},{}],DeluxeTableDealer:[function(e,t,i){"use strict";cc._RF.push(t,"a9d26zKBmZMCbW8RimhCQFH","DeluxeTableDealer");var n=e("UIInfo"),a=e("GameData"),o=e("Command"),s=e("GameUtils"),r=e("BaseComponent"),l=e("DeluxeTableRoundHintBar"),c=e("DeluxeTableDealerHintBar"),h=(e("DataAnalysisKey"),e("LanguageData")),u=e("ClassicRoom"),d=(e("NoLimitRoom"),e("JokerRoom")),m=e("MuflisRoom"),g=e("HukamRoom"),p=e("AK47Room"),C=(e("PotBlindRoom"),e("MatchCricketRoom"),e("CasinoWarRoom"),e("MatchFootballRoom"),e("ABRoom"));e("PattiWarRoom"),e("TexasHoldemRoom"),e("RummyRoom"),e("DeluxeRoom");cc.Class({extends:r,properties:{imgDealer:cc.Sprite,btnSwitch:cc.Button,hintBar:l,dealHint:c},onLoad:function(){this._super(),ITeenPatti.addListener("gamble",this,this.onUserAction)},init:function(){this.table=ITeenPatti.getCurTable(),this.table.dealerID=14,this.dealerCache=cc.director.getScene().getChildByName("Canvas").getComponent("DealerCache"),this.initDealerFrame()},initDealerFrame:function(){var e=ITeenPatti.getCurRoom();e&&(e.isNoLimit?this.changeDealerSpriteFrame(11):e.isDeluxe?this.changeDealerSpriteFrame(10):this.gameCore.gameMng.isPrivateRoom()?this.changeDealerSpriteFrame(4):e instanceof u?this.changeDealerSpriteFrame(1):e instanceof d||e instanceof m||e instanceof g?this.changeDealerSpriteFrame(2):e instanceof p?this.changeDealerSpriteFrame(12):e instanceof C&&this.changeDealerSpriteFrame(13))},dealerHintBarActive:function(e){this.dealHint.node.active=e},onBtnSwitchClk:function(){ITeenPatti.gameCore.uiMng.openUI(n.SWITCH_DEALER_POPUP),ITeenPatti.gameCore.uiMng.removeListener(o.UI_CMD_SWITCHING_DEALER,this,this.onSwitchDealerClk),ITeenPatti.gameCore.uiMng.addListener(o.UI_CMD_SWITCHING_DEALER,this,this.onSwitchDealerClk)},onUserAction:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().getUserWithPlayerID(t.playerId);if(i&&i.role){var n=cutString(i.strTPName);t.action==USER_ACTION.PACK&&this.hintBar.addHint(h.t("label_text.player_operation4",{name:s.formatName(n)}))}}},onRoundResult:function(e,t){var i=ITeenPatti.getCurTable();if(i)for(var n=t.arrWinerID?t.arrWinerID:i.arrWinerID,a=0;a<n.length;a++){var o=n[a],r=i.contrller.getDisplayNameWithPlayerId(o);this.hintBar.addHint(h.t("label_text.won_game",{name:s.formatName(r)}))}},onSwitchDealerClk:function(e,t){this.btnSwitch.interactable=!1,this.showNetworkDelayLoading()},showDelayLoading:function(){this.btnSwitch.interactable=!1,this._super(cc.v2(0,20),this.btnSwitch.node,.7)},onDealerSwitch:function(e,t){if(this.btnSwitch.interactable=!0,this.hideNetworkDelayLoading(),this.changeDealerSpriteFrame(t.i),this.dealHint){var i=s.formatName(ITeenPatti.getCurPlayer().getTeenPattiProfile().strTPName);this.dealHint.addHint(h.t("label_text.change_dealer_tip",{name:i,name1:a.arrDealerName[t.i-1]}))}},onUserStandUp:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().getUserWithUserID(t.user.name);i&&this.dealHint&&this.dealHint.addHint(h.t("label_text.sit_then_stand",{name:s.formatName(i.getTeenPattiProfile().strTPName)}))}},onUserSitDown:function(e,t){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=ITeenPatti.getCurTable().getUserWithUserID(t.user.name);i&&this.dealHint&&this.dealHint.addHint(h.t("label_text.join_game",{name:s.formatName(i.getTeenPattiProfile().strTPName)}))}},changeDealerSpriteFrame:function(e){this.dealerCache.isDealerLoad(e)&&(this.table.dealerID=e,this.imgDealer.spriteFrame=this.dealerCache.getTableFrame(e))}}),cc._RF.pop()},{ABRoom:"ABRoom",AK47Room:"AK47Room",BaseComponent:"BaseComponent",CasinoWarRoom:"CasinoWarRoom",ClassicRoom:"ClassicRoom",Command:"Command",DataAnalysisKey:"DataAnalysisKey",DeluxeRoom:"DeluxeRoom",DeluxeTableDealerHintBar:"DeluxeTableDealerHintBar",DeluxeTableRoundHintBar:"DeluxeTableRoundHintBar",GameData:"GameData",GameUtils:"GameUtils",HukamRoom:"HukamRoom",JokerRoom:"JokerRoom",LanguageData:"LanguageData",MatchCricketRoom:"MatchCricketRoom",MatchFootballRoom:"MatchFootballRoom",MuflisRoom:"MuflisRoom",NoLimitRoom:"NoLimitRoom",PattiWarRoom:"PattiWarRoom",PotBlindRoom:"PotBlindRoom",RummyRoom:"RummyRoom",TexasHoldemRoom:"TexasHoldemRoom",UIInfo:"UIInfo"}],DeluxeTablePokerBox:[function(e,t,i){"use strict";cc._RF.push(t,"a048fXkrs1Bz4nNgBZ3sTS8","DeluxeTablePokerBox"),cc.Class({extends:cc.Component,properties:{dealInterval:{default:.3,visible:!1},dealCount:{default:3,visible:!1},imgCard:cc.Sprite,objSender:cc.Node,pokerCard:cc.Prefab},init:function(){this.imgCard.node.active=!1},update:function(e){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(!((new Date).getTime()<this.dealStart+1e3*this.dealInterval)&&!(null==this.curSeatID||this.arrDealCard[this.curSeatID]>=3)&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().contrller&&ITeenPatti.getCurTable().contrller.arrSeat&&ITeenPatti.getCurTable().contrller.arrSeat[this.curSeatID])){for(var t=ITeenPatti.getCurTable().contrller.arrSeat[this.curSeatID];!t.tpUser||t.tpUser&&!ITeenPatti.getCurTable().round.isPlayer(t.playerId);){this.arrDealCard[this.curSeatID]+=1;var i=this.curSeatID;if(this.curSeatID=this.getNextDealSeat(this.curSeatID),null==this.curSeatID||this.arrDealCard[this.curSeatID]>=this.dealCount)return this.enabled=!1,this.imgCard.node.active=!1,void(0==this.nDealCardCount&&this.onCardArriveSeat(i,this.dealCount-1));t=ITeenPatti.getCurTable().contrller.arrSeat[this.curSeatID]}this.dealStart+=1e3*this.dealInterval,this.dealCardToSeat(this.curSeatID,this.arrDealCard[this.curSeatID]),this.curSeatID=this.getNextDealSeat(this.curSeatID),this.isDealComplete()&&(this.enabled=!1,this.imgCard.node.active=!1)}},isDealComplete:function(){return null==this.curSeatID||this.arrDealCard[this.curSeatID]>=this.dealCount},startDealCard:function(e,t,i){this.enabled=!0,this.node.active=!0,this.hCardArriveCb=t,this.hDealFinishCb=i,this.curSeatID=e[0],this.arrDealSeat=e,this.dealStart=(new Date).getTime(),this.arrDealCard=[0,0,0,0,0,0],this.arrSortCard=[0,0,0,0,0,0],this.nDealCardCount=0,this.imgCard.node.active=!0},dealCardToSeat:function(e,t){this.nDealCardCount+=1,this.arrDealCard[e]+=1;var i=cc.instantiate(this.pokerCard);this.objSender.addChild(i),i.getComponent("DeluxeTablePokerCard").playAnimDeal(e,t,handler(this,this.onCardArriveSeat))},getNextDealSeat:function(e){for(var t=0;t<this.arrDealSeat.length;t++)if(e==this.arrDealSeat[t])return t>=this.arrDealSeat.length-1?this.arrDealSeat[0]:this.arrDealSeat[t+1];return null},isAllCardArriveSeat:function(){for(var e=0;e<this.arrDealSeat.length;e++){var t=this.arrDealSeat[e],i=ITeenPatti.getCurTable().contrller.arrSeat[t];if(i.tpUser&&ITeenPatti.getCurTable().round.isPlayer(i.playerId)&&this.arrSortCard[t]<this.dealCount)return!1}return!0},onCardArriveSeat:function(e,t){ITeenPatti.getCurRoom()&&(this.arrSortCard[e]+=1,this.hCardArriveCb&&this.hCardArriveCb(e,this.arrSortCard[e]-1),this.isAllCardArriveSeat()&&(this.node.active=!1,this.objSender.removeAllChildren(),this.hDealFinishCb&&this.hDealFinishCb()))}}),cc._RF.pop()},{}],DeluxeTablePokerCard:[function(e,t,i){"use strict";cc._RF.push(t,"74d53fMENRD1oZ687WjMOkd","DeluxeTablePokerCard");e("TableDealer");var n=e("BaseComponent"),a=e("AudioUtils");cc.Class({extends:n,properties:{imgCard:cc.Sprite,objSound:{type:cc.AudioClip,default:null}},playAnimDeal:function(e,t,i){if(ITeenPatti.getCurRoom()){var n=this;if(this.seatID=e,this.cardIndex=t,this.hFinishCb=i,0==t&&ITeenPatti.getCurTable().round.mode==ROOM_TYPE.JOKER){var o=cc.director.getScene().getChildByName("Canvas").getComponent("CardFrameCache");this.imgCard.spriteFrame=o.getJokerFrame()}this.node.getComponent(cc.Animation).playAdditive("gs_anim_dealer_card_to_seat_"+e+"_"+t),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){n.objSound&&a.playEffect(n.objSound)})))}},onAnimDealFinish:function(e){this.node.removeFromParent(),ITeenPatti.getCurRoom()&&ITeenPatti.getCurTable().contrller&&this.hFinishCb&&this.hFinishCb(this.seatID,this.cardIndex)}}),cc._RF.pop()},{AudioUtils:"AudioUtils",BaseComponent:"BaseComponent",TableDealer:"TableDealer"}],DeluxeTablePoolBar:[function(e,t,i){"use strict";cc._RF.push(t,"e125e6Fd49Go7jyhTvYR4fR","DeluxeTablePoolBar");var n=e("GameUtils"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{pools:{default:0,visible:!1},lblPools:cc.Label},init:function(){this.node.active=!0,this.onRoundClear()},onRoundRefresh:function(e,t){this.pools=ITeenPatti.getCurTable().round.pools,this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.pools)})},onRoundReady:function(e,t){this.pools=0,this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(0)})},onRoundStart:function(e,t){this.pools=0,this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(0)})},onRoundCollect:function(e,t){this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(ITeenPatti.getCurTable().round.pools)})},onRoundNext:function(e,t){this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t.newPool)})},onRoundAwards:function(e,t){this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(0)})},onStakeCollected:function(e){this.pools=e,this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.pools)})},onRoundClear:function(){this.pools=0,this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.pools)})}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeTablePotLimitBar:[function(e,t,i){"use strict";cc._RF.push(t,"96699wpPNVMwKSPkc+V0dyj","DeluxeTablePotLimitBar"),cc.Class({extends:cc.Component,properties:{bAnimFinish:{default:!1,visible:!1},hFinishCb:{default:null,visible:!1}},onUserShow:function(e,t,i){this.strCmd=e,this.objData=t,this.hFinishCb=i,this.node.active=!0,this.curRoundID=ITeenPatti.getCurTable().roundID,this.node.getComponent(cc.Animation).play()},onAnimPotLimitFinish:function(){this.hFinishCb&&this.curRoundID==ITeenPatti.getCurTable().roundID&&this.hFinishCb(this.strCmd,this.objData)}}),cc._RF.pop()},{}],DeluxeTableRoundHintBar:[function(e,t,i){"use strict";cc._RF.push(t,"6670bdA8WNJHKRUZcA2lhu9","DeluxeTableRoundHintBar"),cc.Class({extends:cc.Component,properties:{lblHint:cc.Label,imgHintBg:cc.Sprite,showTime:0,arrHintList:[]},onLoad:function(){var e=this;this.showHintBar(!1),this.lblHint.node.on("size-changed",function(t,i){e.imgHintBg.node.width=Math.max(e.lblHint.node.width+25,308)})},showHintBar:function(e){this.lblHint.node.active=e,this.imgHintBg.node.active=e},clearHint:function(){this.arrHintList=[]},addHint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!i&&this.arrHintList.length>0&&(this.arrHintList[this.arrHintList.length-1].duration=.5),this.arrHintList.push({text:e,start:i,duration:t,color:n,pos:a,bgWidth:o})},update:function(e){if(this.arrHintList.length<1)this.showHintBar(!1);else{var t=(new Date).getTime();if(this.arrHintList[0].start)return this.arrHintList[0].start+1e3*this.arrHintList[0].duration<=t?(this.arrHintList.splice(0,1),void(this.showTime=0)):this.arrHintList[0].start<t&&this.arrHintList[0].start+1e3*this.arrHintList[0].duration>t?(this.lblHint.string=this.arrHintList[0].text,this.arrHintList[0].color&&(this.lblHint.node.color=this.arrHintList[0].color),this.arrHintList[0].pos&&this.node.setPosition(this.arrHintList[0].pos.x,this.arrHintList[0].pos.y),this.updateHintBgWidth(this.arrHintList[0].bgWidth),void this.showHintBar(!0)):void 0;this.showTime+=e,this.showHintBar(!0),this.lblHint.string=this.arrHintList[0].text,this.showTime<this.arrHintList[0].duration||(this.showTime=0,this.arrHintList.splice(0,1))}},updateHintBgWidth:function(e){}}),cc._RF.pop()},{}],DeluxeTableStakeCollector:[function(e,t,i){"use strict";cc._RF.push(t,"3f9baiuGyRIFJByvPU7DGMp","DeluxeTableStakeCollector");e("GameUtils");var n=e("DeluxeTablePoolBar"),a="TableStakeCollector";cc.Class({extends:cc.Component,properties:{pfbStake:cc.Prefab,tablePool:n,arrStakeCb:{default:{},visible:!1}},onLoad:function(){this.node.removeAllChildren()},isStakeCollecting:function(){return this.node.childrenCount>0},setPoolUpdateCb:function(e){this.hPoolUpdateCb=e},collectBoot:function(e,t,i,n){LogUtil.debug(a,"Dealer Collect Stake Of Seat "+e),this.setPoolUpdateCb(function(e,t){this.tablePool.onStakeCollected(i)}.bind(this));var o=cc.instantiate(this.pfbStake);this.node.addChild(o),o.getComponent("DeluxeTableStakeView").playAnimBoot(e,t,i,handler(this,this.onAnimCollectFinish)),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){ITeenPatti.gameCore.gameMng.playAudioEffect("bet")},this))),this.arrStakeCb=this.arrStakeCb||{},n&&(this.arrStakeCb[e]=n)},collectStake:function(e,t,i,n){LogUtil.debug(a,"Dealer Collect Stake Of Seat "+e),this.setPoolUpdateCb(function(e,t){this.tablePool.onStakeCollected(t)}.bind(this));var o=cc.instantiate(this.pfbStake);this.node.addChild(o),o.getComponent("DeluxeTableStakeView").playAnimCollect(e,t,i,handler(this,this.onAnimCollectFinish)),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){ITeenPatti.gameCore.gameMng.playAudioEffect("bet")},this))),this.arrStakeCb=this.arrStakeCb||{},n&&(this.arrStakeCb[e]=n)},onAnimCollectFinish:function(e,t,i,n){if(ITeenPatti.getCurRoom()&&ITeenPatti.getCurTable().contrller&&e==ITeenPatti.getCurTable().roundID){LogUtil.debug(a,"Dealer Collect Stake Of Seat "+t+" Finish!");var o=this.arrStakeCb[t];o&&o(t),this.arrStakeCb[t]=null,this.hPoolUpdateCb&&this.hPoolUpdateCb(i,n)}}}),cc._RF.pop()},{DeluxeTablePoolBar:"DeluxeTablePoolBar",GameUtils:"GameUtils"}],DeluxeTableStakeView:[function(e,t,i){"use strict";cc._RF.push(t,"2b305Dz6WhL/YsDB2vJ+hMy","DeluxeTableStakeView");var n=e("GameUtils"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{lblStake:cc.Label,seatID:{default:0,visible:!1},curRoundID:{default:0,visible:!1},amount:{default:0,visible:!1},hFinishCb:{default:null,visible:!1}},setStake:function(e){this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(e)})},playAnimBoot:function(e,t,i,o){this.hFinishCb=o,this.seatID=e,this.amount=t,this.pool=i,this.curRoundID=ITeenPatti.getCurTable().roundID,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive("gs_anim_dealer_boot_seat_"+e)},playAnimCollect:function(e,t,i,o){this.hFinishCb=o,this.seatID=e,this.amount=t,this.pool=i,this.curRoundID=ITeenPatti.getCurTable().roundID,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive("gs_anim_dealer_stake_seat_"+e)},onAnimBootFinish:function(e,t,i){this.node.removeFromParent(),ITeenPatti.getCurRoom()&&this.curRoundID==ITeenPatti.getCurTable().roundID&&this.hFinishCb&&this.hFinishCb(this.curRoundID,this.seatID,this.amount,this.pool)},onAnimStakeFinish:function(e){this.node.removeFromParent(),ITeenPatti.getCurRoom()&&ITeenPatti.getCurTable().contrller&&this.curRoundID==ITeenPatti.getCurTable().roundID&&this.hFinishCb&&this.hFinishCb(this.curRoundID,this.seatID,this.amount,this.pool)},onAnimBetRefresh:function(){this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.amount)})}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeTableTipsCollector:[function(e,t,i){"use strict";cc._RF.push(t,"84bb5+NHiZFHI+b72lF9Dvc","DeluxeTableTipsCollector");var n=e("TableTipsPopView"),a=(e("BaseComponent"),e("LanguageData")),o=(e("UIInfo"),e("DataAnalysisKey"));cc.Class({extends:cc.Component,properties:{btnTips:cc.Node,pfbTips:cc.Prefab,objPopView:n},onBtnSendTip:function(){var e=ITeenPatti.getCurPlayer();if(e&&e.role&&ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile){if(ITeenPatti.getCurRoom().profile.nBootAmount>e.getTeenPattiProfile().nChips)return ITeenPatti.gameCore.gameMng.openChipsNotEnoughTwoItem(ITeenPatti.getCurRoom().profile.nBootAmount),void ITeenPatti.gameCore.dataAnalysisMng.sendData(o.POPUP_CHIPSOUT_TIPS,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData);ITeenPatti.gameCore.dataAnalysisMng.sendData(o.CLICK_DEALER_TIPS,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData),this.tipsAmount=ITeenPatti.getCurRoom().profile.tipAmount,ITeenPatti.sendMsg("tip",{i:this.tipsAmount})}},onUserStandUp:function(){this.btnTips.active=!ITeenPatti.getCurPlayer().role.isWatcher()},onUserSitDown:function(){this.btnTips.active=!ITeenPatti.getCurPlayer().role.isWatcher()},onRoundStart:function(){this.btnTips.active=!ITeenPatti.getCurPlayer().role.isWatcher()},onUserTip:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller.getSeatWithUserId(t.id);if(i){LogUtil.debug("DeluxeTableTipsCollector","Dealer Collect Tips Of Seat "+i.seatId),ITeenPatti.gameCore&&ITeenPatti.gameCore.gameMng.playAudioEffect("tip");var n=cc.instantiate(this.pfbTips);this.node.addChild(n),n.getComponent("DeluxeTableTipsView").playAnimCollect(i.seatId,t.chip,handler(this,this.onAnimCollectFinish))}}},onAnimCollectFinish:function(){var e=[a.t("label_text.dealer_tip_message1"),a.t("label_text.dealer_tip_message2"),a.t("label_text.dealer_tip_message3"),a.t("label_text.dealer_tip_message4")],t=Math.floor(Math.random()*e.length);this.objPopView.showText(e[t])}}),cc._RF.pop()},{BaseComponent:"BaseComponent",DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData",TableTipsPopView:"TableTipsPopView",UIInfo:"UIInfo"}],DeluxeTableTipsView:[function(e,t,i){"use strict";cc._RF.push(t,"2db8eOY7epO/qXXvZhfr+8t","DeluxeTableTipsView");var n=e("GameUtils"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{lblAmount:cc.Label},onLoad:function(){},playAnimCollect:function(e,t,i){this.hFinishCb=i,this.lblAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive("ds_anim_dealer_tips_seat_"+e)},onAnimTipsArriv:function(e){this.isValid&&ITeenPatti.getCurTable()&&this.hFinishCb&&this.hFinishCb()},onAnimFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&this.node.removeFromParent()}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeTableView:[function(e,t,i){"use strict";cc._RF.push(t,"9a654DhCH9A7KPnB6AsV4cX","DeluxeTableView");var n=e("BaseTable"),a=e("BaseComponent"),o=e("UIInfo"),s=(e("Command"),e("DataAnalysisKey")),r=e("GameUtils"),l=e("LanguageData"),c=e("DeluxeRoomModeBar"),h=e("DeluxeRoomHintBar"),u=(e("DeluxeControlHintBar"),e("DeluxeTableRoundHintBar")),d=e("DeluxeSeat"),m=e("DeluxeTableDealer"),g=e("DeluxeControlBar"),p=e("DeluxeTablePoolBar"),C=e("DeluxeTablePokerBox"),f=e("DeluxeTableCardBar"),b=e("DeluxeTableCardLevelBar"),I=e("DeluxeTableAwardsSender"),_=e("DeluxeTableStakeCollector"),S=e("DeluxeTableTipsCollector"),P=e("DeluxeTablePotLimitBar"),T=e("DeluxeActionPool"),R=e("DeluxeSeatPlaceAction"),v=e("DeluxeRoomRefreshAction"),y=e("DeluxeRoundStartAction"),A=e("DeluxeRoundAwardsAction"),L=e("DeluxeRoundBootAction"),B=e("DeluxeRoundDealAction"),D=e("DeluxeRoundNextAction"),E=e("DeluxeRoundPotLimitAction"),U=e("DeluxeRoundReadyAction"),M=e("DeluxeRoundShowAction"),N=e("DeluxeRoundShowResultAction"),w=e("DeluxeRoundSideResultAction"),k=e("DeluxeRoundSideShowAction"),F=(e("DeluxeRoundFinishAction"),e("DeluxeRoundExpAction")),O=e("DeluxeUserBetAction"),x=e("DeluxeUserBetShowAction"),G=e("DeluxeUserBetSideAction"),W=e("DeluxeUserPackAction"),H=e("DeluxeUserSeeCardAction"),V=e("DeluxeUserSeenAction"),j=e("DeluxeUserRoomEnterAction"),K=e("DeluxeUserRoomExitAction"),Y=e("DeluxeUserStandUpAction"),q=e("DeluxeUserSitDownAction"),J=e("DeluxeUserGiftAction"),X=e("TexasHoldemUserMessageAction"),z=e("ScrollUpBoldLabel"),Q=e("GameData"),Z="DeluxeTableView";cc.Class({extends:a,properties:{table:{type:n,default:null,visible:!1},arrSeat:[d],tablePokerBox:C,tableCardBar:f,cardLevelBar:b,controlBar:g,tablePoolBar:p,stakeCollector:_,awardsSender:I,tipCollector:S,tableDealer:m,roundModeBar:c,roundHintBar:u,roomHintBar:h,potLimitBar:P,actionPool:T,pfbMsg:cc.Prefab,arrPfbGift:[cc.Prefab],pfbChipsView:cc.Prefab,jackpotInfoBtn:cc.Node,jackpotPool:cc.Node,jackpotPoolLabel:z,jackpotInfo:cc.Node,jackpotGuide:cc.Node,jackpotInfoRT:cc.RichText,jackpotGuideRT:cc.RichText,jackpotRemindRT:cc.RichText,broadcast:cc.Node,broadcastLabel:cc.Label,excludeJackpotValue:{default:0,visible:!1}},onTouchEnd:function(e){e.target!=this.jackpotInfoBtn&&e.target!=this.jackpotInfo&&(this.jackpotInfo.active=!1)},i18nRendersUpdate:function(){this._super(),this.jackpotInfoRT.string=l.t("label_text.jackpot_msg"),this.jackpotGuideRT.string=l.t("label_text.jackpot_rule1"),this.jackpotRemindRT.string=l.t("label_text.jackpot_rule2")},onLoad:function(){this.jackpotPool.active=!1,this.jackpotInfo.active=!1,this.broadcast.active=!1,this.braodcastList=[],this.i18nRendersUpdate(),this._super(),ITeenPatti.addListener("dxjackpot",this,this.onJackpotUpdate),cc.sys.isBrowser&&(Window.TableController=this)},initComplete:function(){this._super(),this.table=ITeenPatti.getCurTable(),this.table.contrller=this,this.initTable(),this.initEventHandler(),this.roundResultAction=null,this.gameCore.uiMng.getCurSceneNode().on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this,!0)},initListener:function(){this._super(),ITeenPatti.addListener("jis",this,this.onRoomRefresh)},start:function(){ITeenPatti.getCurTable()&&this.table.round.state==TABLE_STATE.DELUXE_READY&&this.table.round.bankerID==ITeenPatti.getCurPlayer().role.playerId&&this.openSwitchRoundMode()},initEventHandler:function(){ITeenPatti.addListener("UserEnterRoom",this,this.onUserEnterRoom),ITeenPatti.addListener("UserExitRoom",this,this.onUserExitRoom),ITeenPatti.addListener("UserStandUp",this,this.onUserStandUp),ITeenPatti.addListener("UserSitDown",this,this.onUserSitDown),ITeenPatti.addListener("deluxstart",this,this.onRoundDeluxePreReady),ITeenPatti.addListener("starttime",this,this.onRoundReady),ITeenPatti.addListener("choosemode",this,this.onRoundDeluxeReady),ITeenPatti.addListener("start",this,this.onRoundStart),ITeenPatti.addListener("next",this,this.onRoundNext),ITeenPatti.addListener("cpool",this,this.onRoundAwards),ITeenPatti.addListener("finish",this,this.onRoundFinish),ITeenPatti.addListener("gamble",this,this.onUserAction),ITeenPatti.addListener("see",this,this.onUserSeeCard),ITeenPatti.addListener("show",this,this.onUserShow),ITeenPatti.addListener("round_awards_finish",this,this.onAwardsFinish),ITeenPatti.addListener("sendgift",this,this.onUserSendGift),ITeenPatti.addListener("PublicMessage",this,this.onMessageReceive),ITeenPatti.addListener("sendmessage",this,this.onMessageReceive),ITeenPatti.addListener("tip",this,this.onUserTip),ITeenPatti.addListener("switchdealer",this,this.onDealerSwitch)},initTable:function(){this.tablePokerBox.init(),this.tableCardBar.init(),this.controlBar.init(),this.tablePoolBar.init(),this.roomHintBar.init(),this.tableDealer.init();for(var e=this.table.getBeginPlayerID(),t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];i.tableController=this;var n=t<2?e:(e+t-1)%5;i.initSeat(t,0==n?5:n)}for(t=0;t<this.arrSeat.length;t++){this.arrSeat[t].onUserStandUp(!0)}for(var a=this.table.getUserList(),o=0;o<a.length;o++){var s=a[o].role.playerId,r=this.getSeatWithPlayerId(s);if(r){var l=this.node.addComponent(R);l.objSeat=r,l.objTPUser=a[o],this.actionPool.runAction(l)}}},openSwitchRoundMode:function(){ITeenPatti.gameCore.uiMng.isPopUpByUIKey(o.SWITCH_ROUND_MODE_POPUP.name)||ITeenPatti.gameCore.uiMng.openUI(o.SWITCH_ROUND_MODE_POPUP)},initTableStateOnLoad:function(){var e=this.node.addComponent(DeluxeRoundRefreshAction);this.actionPool.runAction(e)},getSeatWithPlayerId:function(e){if(!ITeenPatti.getCurPlayer().role)return null;for(var t=!ITeenPatti.getCurPlayer().role.isWatcher()?0:1;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.playerId==e)return i}return null},getSeatWithUserId:function(e){for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.tpUser.userId==e)return i}return null},getDisplayNameWithPlayerId:function(e){for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.playerId==e)return i.getDisplayName()}return""},onJackpotInfoClk:function(e){this.jackpotInfo.active=!this.jackpotInfo.active},updateJackpotLabel:function(e){this.jackpotPoolLabel.endNumber=e+this.excludeJackpotValue},onJackpotUpdate:function(e,t){this.lastestJackpotValue=t.cur,this.jackpotPool.active=!0,1==t.mtype?this.jackpotPoolLabel.endNumber=t.cur:2==t.mtype?t.currRoom?(this.excludeJackpotValue-=Math.abs(t.cur),this.jackpotIncreaseData=t):this.updateJackpotLabel(t.cur):3==t.mtype&&(t.hitId?(this.jackpotAwardData=t,this.excludeJackpotValue+=Math.abs(t.cur),this.arrSeat[0].chipsBar.excludeChips=Math.abs(this.jackpotAwardData.num)):(this.updateJackpotLabel(t.cur),this.showJackpotBroadcast(t)))},showJackpotBroadcast:function(e){if(e&&this.braodcastList.push(e),!this.broadcasting&&0==this.braodcastList.length)return this.broadcast.active=!1,void this.tableDealer.dealerHintBarActive(!0);this.broadcasting=!0,this.tableDealer.dealerHintBarActive(!1);var t=this.braodcastList.shift();this.broadcastLabel.string=l.t("label_text.hit_jackpot",{name:t.hitName,chips:l.t("label_text.chips_with_symbol",{number:r.formatNumber(Math.abs(t.num))})}),this.broadcast.active=!0,this.broadcastLabel.node.stopAllActions(),this.broadcastLabel.node.runAction(cc.sequence(cc.repeat(cc.sequence(cc.callFunc(function(){this.broadcastLabel.node.x=this.broadcastLabel.node.parent.width},this),cc.moveTo(5,cc.v2(-this.broadcastLabel.node.width,this.broadcastLabel.node.y))),2),cc.callFunc(function(){this.broadcasting=!1,this.showJackpotBroadcast()},this)))},onRoomRefresh:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.actionPool.removeAll(),ITeenPatti.getCurTable()){this.initTable(),t.dxJackpot&&(this.jackpotPoolLabel.number=t.dxJackpot),i&&this.roundModeBar.onRoomRefresh(e,t);var n=this.node.addComponent(v);this.actionPool.runAction(n,e,t)}},onUserEnterRoom:function(e,t){if(ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(j);this.actionPool.runAction(i,e,t)}},onUserExitRoom:function(e,t){if(t.user.isItMe)ITeenPatti.removeListenerWithTarget(this);else if(ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(K);this.actionPool.runAction(i,e,t)}},onUserStandUp:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(Y);this.actionPool.runAction(i,e,t),t.user.name==ITeenPatti.getCurPlayer().strTPID&&this.controlBar.myselfStandUp();for(var n=0;n<this.arrSeat.length;n++)this.arrSeat[n].refreshGiftBtnActive()}},onUserSitDown:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(q);this.actionPool.runAction(i,e,t);for(var n=0;n<this.arrSeat.length;n++)this.arrSeat[n].refreshGiftBtnActive()}},onRoundDeluxePreReady:function(e,t){if(LogUtil.info(Z,"Round Deluxe Start! "+(t?t.roundID:"")),this.jackpotAwardData=null,ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){this.actionPool.removeAll(),t.bankerId==ITeenPatti.getCurPlayer().role.playerId&&this.openSwitchRoundMode();for(var i=0;i<this.arrSeat.length;i++)this.arrSeat[i].onRoundDeluxePreReady(e,t);var n=this.getSeatWithPlayerId(t.bankerId);n&&n.tpUser&&this.roundHintBar.addHint(l.t("label_text.selecting_mode",{name:cutString(n.tpUser.strTPName,6)}),2)}},onRoundReady:function(e,t){if(LogUtil.info(Z,"Round Ready! "+(t?t.roundID:"")),this.jackpotAwardData=null,ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){this.actionPool.removeAll();var i=this.node.addComponent(U);this.actionPool.runAction(i,e,t)}},onRoundDeluxeReady:function(e,t){if(LogUtil.info(Z,"Round Deluxe Mode! "+(t?t.roundID:"")),this.gameCore.uiMng.closeUI(o.SWITCH_ROUND_MODE_POPUP),ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){this.actionPool.removeAll(),this.receivedChooseMode=!0,this.roundModeBar.onRoundDeluxeReady(e,t);var i=this.node.addComponent(U);this.actionPool.runAction(i,e,t)}},onRoundStart:function(e,t){if(LogUtil.info(Z,"Round Start!"+(t?t.roundID:"")),ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&t&&t.roundID==this.table.roundID){this.receivedChooseMode||this.roundModeBar.onRoomRefresh();var i=null;i=this.node.addComponent(y),this.actionPool.runAction(i,e,t),i=this.node.addComponent(L),this.actionPool.runAction(i,e,t),i=this.node.addComponent(B),this.actionPool.runAction(i,e,t)}},onRoundNext:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(!t||t.roundID==this.table.roundID)){var i=this.node.addComponent(D);this.actionPool.runAction(i,e,t)}},onAwardsFinish:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){for(var i=0;i<t.arrWinerID.length;i++){var n=this.getSeatWithPlayerId(t.arrWinerID[i]);n&&n.onAwardsFinish(e,t)}if(this.jackpotAwardData){var a=this.getSeatWithPlayerId(this.jackpotAwardData.hitId);if(!a)return void LogUtil.debug(Z,"jackpot seat not found!");a.hitJackpot(this.jackpotAwardData.hitjs),this.jackpotGuideShowed||(this.jackpotGuideShowed=!0,this.jackpotGuide.stopAllActions(),this.jackpotGuide.active=!0,this.jackpotGuide.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){this.jackpotGuide.active=!1},this)))),this.showJackpotBroadcast(this.jackpotAwardData),this.excludeJackpotValue=0,this.jackpotPoolLabel.endNumber=this.lastestJackpotValue;var o=cc.instantiate(this.pfbChipsView);o.getComponent("DeluxeTableStakeView").setStake(Math.abs(this.jackpotAwardData.num)),o.setPosition(this.jackpotPoolLabel.node.parent.x+this.jackpotPoolLabel.node.x,this.jackpotPoolLabel.node.parent.y+this.jackpotPoolLabel.node.y),this.node.addChild(o,1e4),this.gameCore.gameMng.playAudioEffect("jackpot"),o.runAction(cc.sequence(cc.moveTo(1,cc.v2(a.node.x,a.node.y)),cc.delayTime(.5),cc.callFunc(function(e){e.removeFromParent(),this.jackpotAwardData=null,this.arrSeat[0].chipsBar.excludeChips=0,this.arrSeat[0].chipsBar.initChipsText(),this.judgeBalance()},this,o)))}else this.judgeBalance()}},judgeBalance:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ITeenPatti.getCurRoom(),i=ITeenPatti.getCurPlayer();return!(e||!i||!i.role||!i.role.isWatcher())||(!(t&&t.profile&&i&&!this.gameCore.gameMng.hasEnoughChips(t.profile.nChaalLimit/4))||(e||ITeenPatti.sendMsg("standup"),!1))},onRoundAwards:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&t.roundID==this.table.roundID){ITeenPatti.gameCore.dataAnalysisMng.sendData(s.SHOW_RESULT_CLIENT,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData);var i=ITeenPatti.getCurPlayer();for(var n in t.playerId)i.role.playerId==t.playerId[n]&&ITeenPatti.gameCore.dataAnalysisMng.sendData(s.SHOW_RESULT_CHIPS,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData);var a=null,o=!1,r=ITeenPatti.getCurTable().round;if(t.isUserPack&&r.isPlayer(this.arrSeat[0].playerId)&&this.arrSeat[0].stateNotEmpty.active&&!r.getPlayer(this.arrSeat[0].playerId).isCardSeen())for(var l=0;l<t.arrWinerID.length;l++)if(t.arrWinerID[l]==this.arrSeat[0].playerId){ITeenPatti.sendMsg("see",{i:!1}),o=!0;break}(a=this.node.addComponent(N)).bWaitSeeCard=o,this.actionPool.runAction(a,e,t),a=this.node.addComponent(A),this.actionPool.runAction(a,e,t)}},onRoundAwardsStart:function(){this.jackpotIncreaseData&&(this.jackpotPoolLabel.endNumber=this.lastestJackpotValue,this.excludeJackpotValue=0,this.jackpotIncreaseData=null)},onRoundFinish:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&t.roundID==this.table.roundID){var i;i=this.node.addComponent(F),this.actionPool.runAction(i,e,t)}},onUserAction:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&t.roundID==this.table.roundID){var i=null,n=this.getDisplayNameWithPlayerId(t.playerId);t.action==USER_ACTION.BET?i=this.node.addComponent(O):t.action==USER_ACTION.SHOW?i=this.node.addComponent(x):t.action==USER_ACTION.SIDE_SHOW?i=this.node.addComponent(G):t.action==USER_ACTION.SIDE_SHOW_REFUSE?this.roundHintBar.addHint(l.t("label_text.side_show_tip2",{name:r.formatName(n)})):t.action==USER_ACTION.PACK?i=this.node.addComponent(W):t.action==USER_ACTION.SEEN&&(i=this.node.addComponent(V)),i&&this.actionPool.runAction(i,e,t)}},onUserSeeCard:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&t.roundID==this.table.roundID&&"error"!=t.cmd){var i=this.node.addComponent(H);this.actionPool.runAction(i,e,t)}},onUserShow:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&t.roundID==this.table.roundID){var i=null;t.is_limit&&(i=this.node.addComponent(E),this.actionPool.runAction(i,e,t)),t.isSideShow?(i=this.node.addComponent(k),this.actionPool.runAction(i,e,t),i=this.node.addComponent(w),this.actionPool.runAction(i,e,t)):(i=this.node.addComponent(M),this.actionPool.runAction(i,e,t))}},onUserSendGift:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&!(t.gift_id>Q.giftCount)){this.arrSeat[0].onUserSendGift(e,t);var i=this.node.addComponent(J);this.actionPool.runAction(i,e,t)}},onMessageReceive:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(X);i.pfbMsg=this.pfbMsg,this.actionPool.runAction(i,e,t)}},onUserTip:function(e,t){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(this.tipCollector.onUserTip(e,t),this.arrSeat[0].onUserTip())},onDealerSwitch:function(e,t){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(this.tableDealer.onDealerSwitch(e,t),this.arrSeat[0].onDealerSwitch())},onAnimAwardsArriveSeat:function(){}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BaseTable:"BaseTable",Command:"Command",DataAnalysisKey:"DataAnalysisKey",DeluxeActionPool:"DeluxeActionPool",DeluxeControlBar:"DeluxeControlBar",DeluxeControlHintBar:"DeluxeControlHintBar",DeluxeRoomHintBar:"DeluxeRoomHintBar",DeluxeRoomModeBar:"DeluxeRoomModeBar",DeluxeRoomRefreshAction:"DeluxeRoomRefreshAction",DeluxeRoundAwardsAction:"DeluxeRoundAwardsAction",DeluxeRoundBootAction:"DeluxeRoundBootAction",DeluxeRoundDealAction:"DeluxeRoundDealAction",DeluxeRoundExpAction:"DeluxeRoundExpAction",DeluxeRoundFinishAction:"DeluxeRoundFinishAction",DeluxeRoundNextAction:"DeluxeRoundNextAction",DeluxeRoundPotLimitAction:"DeluxeRoundPotLimitAction",DeluxeRoundReadyAction:"DeluxeRoundReadyAction",DeluxeRoundShowAction:"DeluxeRoundShowAction",DeluxeRoundShowResultAction:"DeluxeRoundShowResultAction",DeluxeRoundSideResultAction:"DeluxeRoundSideResultAction",DeluxeRoundSideShowAction:"DeluxeRoundSideShowAction",DeluxeRoundStartAction:"DeluxeRoundStartAction",DeluxeSeat:"DeluxeSeat",DeluxeSeatPlaceAction:"DeluxeSeatPlaceAction",DeluxeTableAwardsSender:"DeluxeTableAwardsSender",DeluxeTableCardBar:"DeluxeTableCardBar",DeluxeTableCardLevelBar:"DeluxeTableCardLevelBar",DeluxeTableDealer:"DeluxeTableDealer",DeluxeTablePokerBox:"DeluxeTablePokerBox",DeluxeTablePoolBar:"DeluxeTablePoolBar",DeluxeTablePotLimitBar:"DeluxeTablePotLimitBar",DeluxeTableRoundHintBar:"DeluxeTableRoundHintBar",DeluxeTableStakeCollector:"DeluxeTableStakeCollector",DeluxeTableTipsCollector:"DeluxeTableTipsCollector",DeluxeUserBetAction:"DeluxeUserBetAction",DeluxeUserBetShowAction:"DeluxeUserBetShowAction",DeluxeUserBetSideAction:"DeluxeUserBetSideAction",DeluxeUserGiftAction:"DeluxeUserGiftAction",DeluxeUserPackAction:"DeluxeUserPackAction",DeluxeUserRoomEnterAction:"DeluxeUserRoomEnterAction",DeluxeUserRoomExitAction:"DeluxeUserRoomExitAction",DeluxeUserSeeCardAction:"DeluxeUserSeeCardAction",DeluxeUserSeenAction:"DeluxeUserSeenAction",DeluxeUserSitDownAction:"DeluxeUserSitDownAction",DeluxeUserStandUpAction:"DeluxeUserStandUpAction",GameData:"GameData",GameUtils:"GameUtils",LanguageData:"LanguageData",ScrollUpBoldLabel:"ScrollUpBoldLabel",TexasHoldemUserMessageAction:"TexasHoldemUserMessageAction",UIInfo:"UIInfo"}],DeluxeTable:[function(e,t,i){"use strict";cc._RF.push(t,"81e6djhcjNHZZKqJrCcDi1S","DeluxeTable");var n="DeluxeTable",a=e("TeenPattiUser"),o=e("BaseTable"),s=e("DeluxeRound"),r=e("TeenPattiRoler"),l=e("Command");cc.Class({extends:o,name:"DeluxeTable",properties:{arrUser:{default:[],override:!0},round:null},initCallback:function(){this.roundCount=0,this.arrHandler={},this.arrHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrHandler.jis=handler(this,this.onRoomRefresh),this.arrHandler.UserEnterRoom=handler(this,this.onUserEnterRoom),this.arrHandler.UserExitRoom=handler(this,this.onUserExitRoom),this.arrHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrHandler.UserSitDown=handler(this,this.onUserSitDown),this.arrHandler.UserUpdate=handler(this,this.onUserUpdate),this.arrHandler[l.SERVER_CMD_UPDATE_BONUS]=handler(this,this.onUserLevelUp),this.arrHandler.starttime=handler(this,this.onRoundReady),this.arrHandler.start=handler(this,this.onRoundStart),this.arrHandler.gamble=handler(this,this.onUserAction),this.arrHandler.finish=handler(this,this.onRoundFinish)},myself:function(){return ITeenPatti.gameCore.userMng.myself?this.getUserWithUserId(ITeenPatti.gameCore.userMng.myself.strTPID):null},myselfRole:function(){return this.myself()?this.myself().role:null},getUserWithUserId:function(e){for(var t=0;t<this.arrUser.length;t++){var i=this.arrUser[t];if(e==i.userId)return i}return null},getUserWithPlayerId:function(e){for(var t=0;t<this.arrUser.length;t++){var i=this.arrUser[t];if(e==i.role.playerId)return i}return null},getEarlyHandOfPlayer:function(e){for(var t=e-1;t>0;t--){if(null!=(i=this.getUserWithPlayerID(t))&&i.role&&i.role.isAlivePartner())return i}for(t=5;t>e;t--){var i;if(null!=(i=this.getUserWithPlayerID(t))&&i.role&&i.role.isAlivePartner())return i}return null},getUserList:function(){return this.arrUser},getPartnerIDList:function(){var e=[];if(this.round)for(var t=this.round.bankerID<5?this.round.bankerID+1:1,i=t;i<t+5;i++)for(var n=i>5?i-5:i,a=0;a<this.round.arrPlayer.length;a++)if(this.round.arrPlayer[a]&&this.round.arrPlayer[a].playerId==n){e.push(n);break}return e},onMsgReceived:function(e,t){var i=this.arrHandler[e];i&&i(e,t),this.round&&this.round.onMsgReceived(e,t);var n=ITeenPatti.getCurPlayer();n&&n.onMsgReceived(e,t);for(var a=0;a<this.arrUser.length;a++){var o=this.arrUser[a];o.role.onMsgReceived(e,t),o.tpProfile.onMsgReceived(e,t)}},onRoomJoin:function(e,t){this.arrUser=[];for(var i=ITeenPatti.getCurPlayer(),o=ITeenPatti.getCurRoomSFSUserList(),l=0;l<o.length;l++){var c=o[l],h=new a;h.initWithSFSPlayer(c),h.setRole(new r(c)),this.arrUser[this.arrUser.length]=h,i.userId==h.userId&&i.setRole(h.role)}null==this.round&&(this.round=new s),this.round.initRound(),LogUtil.info(n,"Table Info:---------------------------"),LogUtil.info(n,"Self: ID: "+ITeenPatti.getCurPlayer().role.playerId+" Name: "+ITeenPatti.getCurPlayer().strTPName),LogUtil.info(n,"User: 1    2    3    4    5");for(var u="Name: ",d=1;d<6;d++){for(var m="    ",g=0;g<o.length;g++){d==(c=o[g]).playerId&&(m=void 0!==c.variables.n?c.variables.n.value:"",m=(m+="     ").substring(0,4))}u+=m+" "}LogUtil.info(n,u),LogUtil.info(n,"Table Info:---------------------------")},onRoomRefresh:function(e,t){null==this.round&&(this.round=new s),this.round.initRound(),this.round.onRoomRefresh(e,t)},onUserEnterRoom:function(e,t){var i=!1,n=new a;n.initWithSFSPlayer(t.user);for(var o=0;o<this.arrUser.length;o++)if(this.arrUser[o].userId==n.userId){n=this.arrUser[o],i=!0;break}n.initWithSFSPlayer(t.user),n.setRole(new r(t.user)),!i&&(this.arrUser[this.arrUser.length]=n)},onUserExitRoom:function(e,t){for(var i=t.user.name,n=this.arrUser.length-1;n>=0;n--){var a=this.arrUser[n];if(a&&i==a.userId)return this.round&&this.round.removePlayer(a.role),void this.arrUser.splice(n,1)}},onUserStandUp:function(e,t){this.round&&this.round.removePlayer(t.user.name)},onUserSitDown:function(e,t){},onUserAction:function(e,t){if(t.action!=USER_ACTION.INIT_BET){t.action==USER_ACTION.SIDE_SHOW&&(this.sshowID=t.playerId);var i=this.getUserWithPlayerID(t.playerId);return i&&ITeenPatti.getCurPlayer()?void i.role.onUserAction(e,t):void LogUtil.err("BaseTable","Server Data Error, Cannot find the bet user!")}null==this.round&&(this.round=new s),this.round.initRound()},onRoundReady:function(e,t){null==this.round&&(this.round=new s),this.round.initRound()},onRoundStart:function(e,t){null==this.round&&(this.round=new s),this.round.initRound(),this.roundCount++},onRoundFinish:function(e,t){this.curRoundExp=t.exp,this.curUserLevel=t.expbar.level,null!=t.expbar.levelbonus&&(this.nextLevel=t.expbar.levelbonus.level,this.nextLevelBonus=t.expbar.levelbonus.bonus)}});cc._RF.pop()},{BaseTable:"BaseTable",Command:"Command",DeluxeRound:"DeluxeRound",TeenPattiRoler:"TeenPattiRoler",TeenPattiUser:"TeenPattiUser"}],DeluxeUserBetAction:[function(e,t,i){"use strict";cc._RF.push(t,"ef2e3JJbblGzpSs3mIJGDVy","DeluxeUserBetAction");e("DataAnalysisKey");var n=e("LanguageData"),a=e("GameUtils"),o="DeluxeUserBetAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"user_bet"},onDestroy:function(){this.isDestroyed=!0},play:function(e){this.objActionPool=e,LogUtil.debug(o,"User Bet");var t=ITeenPatti.getCurTable().round,i=ITeenPatti.getCurTable().contrller,s=t.getPlayer(this.objData.playerId);if(s){var r=i.getDisplayNameWithPlayerId(this.objData.playerId);r=a.formatName(r);var l=a.formatNumberWithRules(this.objData.num),c=s.isCardSeen()?n.t("label_text.player_operation2",{name:r,chips:n.t("label_text.chips_with_symbol",{number:l})}):n.t("label_text.player_operation3",{name:r,chips:n.t("label_text.chips_with_symbol",{number:l})});i.roundHintBar.addHint(c,2);var h=i.getSeatWithPlayerId(this.objData.playerId);if(!h)return i.tablePoolBar.onRoundNext(this.strCmd,this.objData),void performWithDelay(this.node,.1,handler(this,this.onActionFinish));h.onUserBet(this.strCmd,this.objData),i.stakeCollector.collectStake(h.seatId,this.objData.num,this.objData.newPool,handler(this,this.onStakeCollectFinish)),performWithDelay(this.node,1,handler(this,this.onActionFinish))}},onStakeCollectFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&(this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&ITeenPatti.getCurTable().contrller.tablePoolBar.onRoundNext(this.strCmd,this.objData))},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(o,"User Bet Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeUserBetShowAction:[function(e,t,i){"use strict";cc._RF.push(t,"1c1a1JY4RFIz4ICrj+6AA6r","DeluxeUserBetShowAction");e("DataAnalysisKey"),e("LanguageData"),e("GameUtils");var n="DeluxeUserBetShowAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"user_bet_show"},onDestroy:function(){this.isDestroyed=!0},play:function(e){this.objActionPool=e,LogUtil.debug(n,"User Bet Show");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithPlayerId(this.objData.playerId);if(!i)return t.tablePoolBar.onRoundNext(this.strCmd,this.objData),void performWithDelay(this.node,.1,handler(this,this.onActionFinish));i.onUserBet(this.strCmd,this.objData),t.stakeCollector.collectStake(i.seatId,this.objData.num,this.objData.newPool,handler(this,this.onStakeCollectFinish)),performWithDelay(this.node,1,handler(this,this.onActionFinish))},onStakeCollectFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&(this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&ITeenPatti.getCurTable().contrller.tablePoolBar.onRoundCollect(this.strCmd,this.objData))},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(n,"User Bet Show Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeUserBetSideAction:[function(e,t,i){"use strict";cc._RF.push(t,"863654LbwtCvIFlb14v29+P","DeluxeUserBetSideAction");e("DataAnalysisKey");var n=e("LanguageData"),a=e("GameUtils"),o="DeluxeUserBetSideAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"user_bet_side"},onDestroy:function(){this.isDestroyed=!0},play:function(e){this.objActionPool=e,LogUtil.debug(o,"User Bet Side");var t=ITeenPatti.getCurTable().round,i=ITeenPatti.getCurTable().contrller,s=i.getSeatWithPlayerId(this.objData.playerId);if(!s)return i.tablePoolBar.onRoundNext(this.strCmd,this.objData),void performWithDelay(this.node,.1,handler(this,this.onActionFinish));i.stakeCollector.collectStake(s.seatId,this.objData.num,this.objData.newPool,handler(this,this.onStakeCollectFinish));var r=i.getDisplayNameWithPlayerId(this.objData.playerId);r=a.formatName(r);var l=t.getEarlyHander(this.objData.playerId);if(l){var c=i.getDisplayNameWithPlayerId(l.playerId);i.roundHintBar.addHint(n.t("label_text.side_show_request",{name:r,name1:c}))}(s=i.getSeatWithPlayerId(this.objData.playerId))&&s.onUserBet(this.strCmd,this.objData),s&&s.onUserSide(this.strCmd,this.objData),(s=i.getSeatWithPlayerId(this.objData.earlyId))&&s.onUserSide(this.strCmd,this.objData),performWithDelay(this.node,1,handler(this,this.onActionFinish))},onStakeCollectFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&(this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&ITeenPatti.getCurTable().contrller.tablePoolBar.onRoundNext(this.strCmd,this.objData))},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(o,"User Bet Side Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeUserGiftAction:[function(e,t,i){"use strict";cc._RF.push(t,"e5f0aRv1EJLDoQgA3hJcnoi","DeluxeUserGiftAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},play:function(e){LogUtil.debug("DeluxeUserGiftAction","User Gift");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=this.objData.gift_id;if(16!=i){var n=this.objData.send_id,a=this.objData.accept_id,o=!0,s=t.getSeatWithUserId(n);if(s){for(var r in a)if(a.hasOwnProperty(r)){var l=""+a[r],c=t.getSeatWithUserId(l);if(c){for(var h=[],u=ITeenPatti.gameCore.gameMng.getGiftSendCount(i),d=0;d<u;d++){var m=cc.instantiate(t.arrPfbGift[i-1]),g=.855;0==c.seatId||22!=i&&23!=i&&24!=i&&26!=i&&28!=i||(g=.6),m.scale=0!=c.seatId?g:.88,m.getComponent("ReceiveGift").setGiftID(i),m.getComponent("ReceiveGift").setSenderSeat(s),m.getComponent("ReceiveGift").setReceiverSeat(c),m.getComponent("ReceiveGift").setSoundEnable(o),t.node.addChild(m),h.push(m)}c.onGiftAccept(h),o=!1}}e.onActionFinish(this),this.destroy()}}}}),cc._RF.pop()},{}],DeluxeUserPackAction:[function(e,t,i){"use strict";cc._RF.push(t,"75af16iQjdO3Z0c3YBDSPcN","DeluxeUserPackAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeUserPackAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"user_pack"},onDestroy:function(){this.isDestroyed=!0},play:function(e){this.objActionPool=e,LogUtil.debug(n,"User Pack");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller.getSeatWithPlayerId(this.objData.playerId);t&&t.onUserPack(this.strCmd,this.objData),t&&ITeenPatti.gameCore.gameMng.playAudioEffect("pack"),performWithDelay(this.node,.1,handler(this,this.onActionFinish))},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(n,"User Pack Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeUserRoomEnterAction:[function(e,t,i){"use strict";cc._RF.push(t,"aeee5exug9KdKynHfADBYfv","DeluxeUserRoomEnterAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,strActName:"user_room_enter"},play:function(e){LogUtil.debug("DeluxeUserRoomEnterAction","User Enter Room"),this.objActionPool=e;ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=this.objData.user.playerId;if(null!=t.getSeatWithPlayerId(i)){t.onUserSitDown(this.strCmd,this.objData);for(var n=0;n<t.arrSeat.length;n++)t.arrSeat[n].onOtherSitDown();this.objActionPool.onActionFinish(this),this.destroy()}}}),cc._RF.pop()},{}],DeluxeUserRoomExitAction:[function(e,t,i){"use strict";cc._RF.push(t,"1525eEndKtBMbc5O2EvQpdY","DeluxeUserRoomExitAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,strActName:"user_room_exit"},play:function(e){LogUtil.debug("DeluxeUserRoomExitAction","User Exit Room"),this.objActionPool=e;ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=this.objData.user.name,n=t.getSeatWithUserId(i);n&&n.onUserStandUp();for(var a=0;a<t.arrSeat.length;a++)t.arrSeat[a].onOtherStandUp();this.objActionPool.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],DeluxeUserSeeCardAction:[function(e,t,i){"use strict";cc._RF.push(t,"ec9be16OVFKuLXL5PVXWbA3","DeluxeUserSeeCardAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeUserSeeCardAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"user_see_card"},onDestroy:function(){this.isDestroyed=!0,this.node.off("user_see_card",this.onActionRunning,this)},play:function(e){LogUtil.debug(n,"Round See Card"),this.node.on(this.strActName,this.onActionRunning,this),this.objActionPool=e;ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller;ITeenPatti.gameCore.gameMng.playAudioEffect("see");var i=t.arrSeat[0];i&&i.onUserSeeCard(this.strCmd,this.objData),performWithDelay(this.node,1,handler(this,this.onActionFinish))},onActionRunning:function(){},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(n,"Round See Card Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeUserSeenAction:[function(e,t,i){"use strict";cc._RF.push(t,"60b3a6+n4BFurhwSm8q8zbQ","DeluxeUserSeenAction");e("DataAnalysisKey"),e("LanguageData");var n="DeluxeUserSeenAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null,strActName:"user_seen"},onDestroy:function(){this.isDestroyed=!0,this.node.off("user_see_card",this.onActionRunning,this),this.node.off("round_deal_finish",this.onUserSeen,this)},play:function(e){if(LogUtil.debug(n,"Round Seen State"),this.objActionPool=e,this.node.on(this.strActName,this.onActionRunning,this),this.node.hasEventListener("round_deal"))return this.trigger="round_deal_finish",this.node.on(this.trigger,this.onUserSeen,this),void LogUtil.info(n,"Wait For Event: "+this.trigger);this.onUserSeen()},onActionRunning:function(){},onUserSeen:function(){var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithPlayerId(this.objData.playerId);i&&i.onUserSeen(this.strCmd,this.objData);var n=t.arrSeat[0];n&&e.isPlayer(n.playerId)&&t.controlBar.onUserSeen(this.strCmd,this.objData),performWithDelay(this.node,1,handler(this,this.onActionFinish))},onActionFinish:function(){!this.isDestroyed&&this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&this.objData.rroundId==ITeenPatti.getCurTable().round.roundId&&(LogUtil.info(n,"Round Seen State Finish"),this.node.emit(this.strActName+"_finish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],DeluxeUserSitDownAction:[function(e,t,i){"use strict";cc._RF.push(t,"97647M9L7RGd6HaJJhz5FOI","DeluxeUserSitDownAction");e("GameUtils"),e("LanguageData");var n="DeluxeUserSitDownAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,strActName:"user_sit_down"},play:function(e){LogUtil.debug(n,"User Sit Down"),this.objActionPool=e;var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller;if(!(this.objData.user.playerId<0)){if(i.roomHintBar.onUserSitDown(this.strCmd,this.objData),i.tableDealer.onUserSitDown(this.strCmd,this.objData),i.tipCollector.onUserSitDown(this.strCmd,this.objData),this.objData.user.isItMe)return LogUtil.info(n,"Player Self Sit Down, Need Refresh Seat!"),void i.onRoomRefresh(this.strCmd,this.objData,!1);var a=i.getSeatWithUserId(this.objData.user.name);a&&a.onUserStandUp();var o=t.getUserWithPlayerID(this.objData.user.playerId),s=i.getSeatWithPlayerId(this.objData.user.playerId);s?(s.onUserSitDown(o),LogUtil.info(n," User Sit Down : "+this.objData.user.name+" Seat : "+s.seatId+" PlayerId : "+s.playerId)):LogUtil.info(n," User Sit Down : "+this.objData.user.name+" Seat : Not Found!");for(var r=0;r<i.arrSeat.length;r++)i.arrSeat[r].onOtherSitDown();this.objActionPool.onActionFinish(this),this.destroy()}}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],DeluxeUserStandUpAction:[function(e,t,i){"use strict";cc._RF.push(t,"d9f76XlhJRBI500pZME82EG","DeluxeUserStandUpAction");e("GameUtils"),e("LanguageData");var n="DeluxeUserStandUpAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,strActName:"user_stand_up"},play:function(e){LogUtil.debug(n,"User Stand Up"),this.objActionPool=e;ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller;t.roomHintBar.onUserStandUp(this.strCmd,this.objData),t.tableDealer.onUserStandUp(this.strCmd,this.objData),t.tipCollector.onUserStandUp(this.strCmd,this.objData);var i=this.objData.user.name,a=t.getSeatWithUserId(i);a||LogUtil.err(n,"Can not found the stand up user"),a&&a.onUserStandUp();for(var o=0;o<t.arrSeat.length;o++)t.arrSeat[o].onOtherStandUp();this.objActionPool.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],DownloadManager:[function(e,t,i){"use strict";cc._RF.push(t,"274a6Kj/uVMZ4R7sUrH81Wg","DownloadManager");var n=e("BaseManager");e("LocalStorage"),cc.Class({extends:n,properties:{},ctor:function(){this.imageLoadDatas=[]},preloadPopup:function(e,t,i){this.loadIndex=0,this.preloadPopups=e,this.onProgress=t,this.onComplete=i,this.isLoading||this.startLoad()},startLoad:function(){if(this.loadIndex>=this.preloadPopups.length)return this.isLoading=!1,void(this.onComplete&&this.onComplete());this.isLoading=!0,cc.loader.loadRes("Prefabs/Popup/"+this.preloadPopups[this.loadIndex].url,cc.Prefab,handler(this,function(e,t){this.loadIndex++,this.onProgress&&this.onProgress(Math.min(this.loadIndex,this.preloadPopups.length),this.preloadPopups.length),this.startLoad()}))}});cc._RF.pop()},{BaseManager:"BaseManager",LocalStorage:"LocalStorage"}],DropDownMenuItem:[function(e,t,i){"use strict";cc._RF.push(t,"0a9ecEZ/MVOGJrqlNjvYroN","DropDownMenuItem"),cc.Class({extends:cc.Component,properties:{select:cc.Node,item:cc.Node},onLoad:function(){},selected:function(){this.node.getComponent(cc.Button).interactable=!1,this.select&&(this.select.active=!0,this.item.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.item.off(cc.Node.EventType.MOUSE_ENTER,this.onTouchStart,this),this.item.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.item.off(cc.Node.EventType.MOUSE_LEAVE,this.onTouchEnd,this))},unselected:function(){this.node.getComponent(cc.Button).interactable=!0,this.select&&(this.select.active=!1,this.item.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.item.on(cc.Node.EventType.MOUSE_ENTER,this.onTouchStart,this),this.item.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.item.on(cc.Node.EventType.MOUSE_LEAVE,this.onTouchEnd,this))},onTouchStart:function(){this.select.active=!0},onTouchEnd:function(){this.select.active=!1}}),cc._RF.pop()},{}],DropDownMenu:[function(e,t,i){"use strict";cc._RF.push(t,"3832e2NkgFMJqyBpcdIYa7d","DropDownMenu"),cc.Class({extends:cc.Component,properties:{layout:{default:null,type:cc.Layout},toggle:{default:null,type:cc.Toggle},showLabel:{default:null,type:cc.Label},item:{default:null,type:cc.Prefab},data:{type:cc.String,set:function(e){this._data=e}},showData:{type:cc.String,set:function(e){this._showData=e,this.updateMenu()}},selectedDataValue:{default:null,visible:!1},selectCallback:null},onLoad:function(){},init:function(e,t){this.data=e,this.showData=t},updateMenu:function(){this.layout.node.active=!1,this.layout.node.removeAllChildren(),this.btnList=[];for(var e=0;e<this._showData.length;e++){var t=cc.instantiate(this.item);t.tagIndex=e,t.on(cc.Node.EventType.TOUCH_END,this.onSelect,this),t.getChildByName("Label").getComponent(cc.Label).string=this._showData[e],this.layout.node.addChild(t),this.btnList.push(t)}this.updateSelectValue(0)},updateSelectValue:function(e){this.showLabel.string=this._showData[e],this.selectedDataValue=this._data[e];for(var t=0;t<this.btnList.length;t++)this.btnList[t].getComponent("DropDownMenuItem").unselected();this.btnList[e].getComponent("DropDownMenuItem").selected()},onSelect:function(e){this.toggle.isChecked=!1,this.onToggleClk();var t=e.target;this.updateSelectValue(t.tagIndex),this.selectCallback&&this.selectCallback()},onSelectByDataValue:function(e){var t=this._data.indexOf(e);-1!=t&&(this.updateSelectValue(t),this.selectCallback&&this.selectCallback())},onToggleClk:function(){this.layout.node.active=this.toggle.isChecked},close:function(){this.toggle.isChecked&&this.toggle.uncheck()}}),cc._RF.pop()},{}],EmailBoxPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"f8144nIRN1PSKnML2KvygVI","EmailBoxPopUp");var n=e("BaseUI"),a=e("UIInfo");cc.Class({extends:n,properties:{emailListContent:cc.Node,fpbEmailItem:cc.Prefab,objEmptyNode:cc.Node,emailInfoList:[],nListContentHeight:0,nListViewHeigh:0},onLoad:function(){this._super(),ITeenPatti.addListener("acceptnotification",this,handler(this,this.onEmailRewardClaimed)),this.emailInfoList=ITeenPatti.getEmailBox().getAllEmail(),this.nListViewHeigh=this.emailListContent.height,this.emailListContent.removeAllChildren(),this.arrEmailItem={},this.refreshEmailList(),this.i18nFontUpdate()},refreshEmailList:function(){var e=ITeenPatti.getEmailBox().getAllEmail();e.sort(function(e,t){return e.senddate-t.senddate}),this.emailInfoList=e,this.emailListContent.removeAllChildren(),this.nListContentHeight=0,this.arrEmailItem={};for(var t=0,i=0;i<this.emailInfoList.length;i++){var n=this.emailInfoList[i];if(0!=n.type||!n.isread){var a=this.addMsgToList(n);this.arrEmailItem[n.id]=a,t++}}this.objEmptyNode.active=t<1},addMsgToList:function(e){var t=cc.instantiate(this.fpbEmailItem);this.emailListContent.addChild(t);var i=t.getComponent("EmailDetailItem");return i.gameCore=this.gameCore,i.setContent(e),i.setViewCb(handler(this,this.onItemClicked)),t.setPosition(0,-this.nListContentHeight),this.nListContentHeight+=t.height,this.emailListContent.height=this.nListContentHeight,i},onItemClicked:function(e,t){this.gameCore.gameMng.isEmailClaimable(t.type)||0!=t.isread||ITeenPatti.sendMsg("acceptnotification",{is:[e]}),this.gameCore.uiMng.openUI(a.EMAIL_DETAIL_POPUP,handler(this,function(e){e.setContent(t),e.setClaimCb(handler(this,this.onItemClaimClicked))}))},onItemClaimClicked:function(e,t){ITeenPatti.sendMsg("acceptnotification",{is:[e]})},onEmailRewardClaimed:function(e,t){var i=ITeenPatti.getEmailBox();for(var n in t.is){var o=t.is[n],s=this.arrEmailItem[o],r=i.getEmailInfoWithID(o);s&&s.setEmailRead(!0),r&&0==r.type&&this.gameCore.uiMng.openUI(a.EMAIL_REWARD_POPUP,handler(this,function(e){e.setContent(this.getEmailInfoWithID(o))}))}this.refreshEmailList()},getEmailInfoWithID:function(e){for(var t=0;t<this.emailInfoList.length;t++)if(this.emailInfoList[t].id==e)return this.emailInfoList[t];return null}}),cc._RF.pop()},{BaseUI:"BaseUI",UIInfo:"UIInfo"}],EmailDetailItem:[function(e,t,i){"use strict";cc._RF.push(t,"cf0d4f5S0RHPqCoNsVwKMBu","EmailDetailItem");var n=e("LanguageData"),a=e("BaseComponent");cc.Class({extends:a,properties:{emailID:-1,emailInfo:null,imgRead:cc.Sprite,imgUnRead:cc.Sprite,lblTitleNormal:cc.Label,lblTitleTxt:cc.Label,lblExpireTime:cc.Label,objEmailNormal:cc.Node,objEmailTxt:cc.Node,objReward:cc.Node,imgReward:cc.Sprite,lblCount:cc.Label,btnView:cc.Button,btnClaim:cc.Button},onLoad:function(){this.hClickCb=null,this.hReceiveCb=null},setContent:function(e){this.emailID=e.id,this.emailInfo=e,this.imgRead.node.active=e.isread,this.imgUnRead.node.active=!e.isread,this.objEmailNormal.active=1!=e.type,this.objEmailTxt.active=1==e.type,this.btnView.node.active=!this.gameCore.gameMng.isEmailClaimable(e.type)&&!e.isread,this.btnClaim.node.active=this.gameCore.gameMng.isEmailClaimable(e.type)&&!e.isread,this.lblTitleTxt.string=e.title,this.lblTitleNormal.string=e.title,this.lblCount.string=this.gameCore.gameMng.isEmailClaimable(e.type)?"x"+this.gameCore.gameMng.emailActualChips(e):"",this.lblExpireTime.string=n.t("label_text.expired_in_days",{smart_count:this.convertToDay(e.expdate)})},setViewCb:function(e){this.hViewCb=e},setEmailRead:function(e){this.emailInfo.isread=e,this.imgRead.node.active=this.emailInfo.isread,this.imgUnRead.node.active=!this.emailInfo.isread,this.btnView.node.active=!this.gameCore.gameMng.isEmailClaimable(this.emailInfo.type)&&!this.emailInfo.isread,this.btnClaim.node.active=this.gameCore.gameMng.isEmailClaimable(this.emailInfo.type)&&!this.emailInfo.isread},onBtnViewClicked:function(){this.hViewCb&&this.hViewCb(this.emailID,this.emailInfo)},convertToDay:function(e){return Math.ceil(e/86400)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",LanguageData:"LanguageData"}],EmailDetailPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"2147cRMAh1LprgCE3KUbsA4","EmailDetailPopUp");var n=e("LanguageData"),a=e("GameUtils"),o=e("BaseUI");cc.Class({extends:o,properties:{emailID:-1,emailInfo:null,lblTitle:cc.Label,lblContent:cc.Label,objReward:cc.Node,lblCount:cc.Label,lblCountDiamond:cc.Label,imgReward:cc.Sprite,imgDiamond:cc.Node,imgGold:cc.Node,btnClaim:cc.Node,btnOk:cc.Node,btnClose:cc.Node},onBlackBgTouchEnd:function(e){e.stopPropagation()},onLoad:function(){this._super(),this.hClaimCb=null,this.hOKCb=null},setContent:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.btnClose.active=t,this.emailID=e.id,this.emailInfo=e,this.objReward.active=this.gameCore.gameMng.isEmailClaimable(e.type),this.btnClaim.active=this.gameCore.gameMng.isEmailClaimable(e.type)&&!e.isread,this.btnOk.active=!this.gameCore.gameMng.isEmailClaimable(e.type)||e.isread,this.imgReward.node.active=4!=e.type&&-99!=e.type,this.imgGold.active=-99==e.type,this.imgDiamond.active=4==e.type,this.lblTitle.string=2==e.type?n.t("label_text.bank_gift"):e.title,this.lblContent.string=e.message,this.lblCount.node.active=4!=e.type,this.lblCount.string=this.gameCore.gameMng.isEmailClaimable(e.type)?"x"+a.formatNumber(this.gameCore.gameMng.emailActualChips(e)):"",this.lblCountDiamond.node.active=4==e.type,this.lblCountDiamond.string=this.gameCore.gameMng.isEmailClaimable(e.type)?"x"+a.formatNumber(this.gameCore.gameMng.emailActualChips(e)):""},setClaimCb:function(e){this.hClaimCb=e},onBtnClaimClicked:function(){this.emailInfo.isread||this.hClaimCb&&this.hClaimCb(this.emailID,this.emailInfo),this.closeUI()},setOKCb:function(e){this.hOKCb=e},onBtnOKClicked:function(){this.hOKCb&&this.hOKCb(this.emailID,this.emailInfo),this.emailInfo.isread||this.hClaimCb&&this.hClaimCb(this.emailID,this.emailInfo),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",LanguageData:"LanguageData"}],EmailRewardPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"cb6f87ofbZHJrZXbVLHPCLz","EmailRewardPopUp");var n=e("BaseUI");cc.Class({extends:n,properties:{lblCount:cc.Label},onLoad:function(){this._super()},setContent:function(e){this.lblCount.string="x"+e.chips}}),cc._RF.pop()},{BaseUI:"BaseUI"}],EmojiBtnTemplate:[function(e,t,i){"use strict";cc._RF.push(t,"6398cP/ix5DP4s4HzHYwGG0","EmojiBtnTemplate");var n=e("EmojiCache");cc.Class({extends:cc.Component,properties:{nEmojiID:0,imgEmoji:cc.Sprite,objEmojiCache:n,hClickCb:null,index:0},onLoad:function(){},setEmojiInfo:function(e,t){this.nEmojiID=e,this.objEmojiCache=t;var i=this.objEmojiCache.getEmojiFrame(e);i&&(this.imgEmoji.spriteFrame=i)},setClickCb:function(e){this.hClickCb=e},onBtnEmojiClicked:function(){if(this.hClickCb){var e=this.objEmojiCache.getEmojiText(this.nEmojiID);this.hClickCb(e,this.index)}}}),cc._RF.pop()},{EmojiCache:"EmojiCache"}],EmojiCache:[function(e,t,i){"use strict";cc._RF.push(t,"a7285xSNnFBibiqH4F0b/xa","EmojiCache");var n="Common/Emoji/Net/chat_{0}.png",a=[":a",":b",":c",":d",":e",":f",":g",":h",":i",":j",":k",":l",":m",":n",":o",":p",":q",":r",":s",":t",":u",":v",":w",":x",":y",":z",":A",":B",":C",":D",":E",":F",":G",":H",":I",":J",":K",":L",":M",":N",":O",":P"];cc.Class({extends:cc.Component,properties:{arrEmojiFrame:[cc.SpriteFrame]},onLoad:function(){},setEmojiFrame:function(e,t){this.arrEmojiFrame[e]=t},getEmojiCount:function(){return a.length},getEmojiFrame:function(e){return this.arrEmojiFrame[e]||this.arrEmojiFrame[0]},getEmojiFrameWithText:function(e){for(var t=0;t<a.length;t++)if(a[t]==e)return this.getEmojiFrame(t);return null},getEmojiText:function(e){return a[e]},getEmojiUrl:function(e){return string.format(n,e<10?"0"+e:e)},isEmojiLoad:function(e){return null==e?this.arrEmojiFrame.length>=42:null!=this.arrEmojiFrame[e]},isEmojiContent:function(e){return null!=e.match(/:[A-Pa-z]/)}}),cc._RF.pop()},{}],EmojiConfig:[function(e,t,i){"use strict";cc._RF.push(t,"e9efaH21BhMFqHTLJbWUm6+","EmojiConfig"),window.EmojiConfig={1:"/a",2:"/b",3:"/c",4:"/d",5:"/e",6:"/f",7:"/g",8:"/h",9:"/i",10:"/g",11:"/k",12:"/l",13:"/m",14:"/n",15:"/o",16:"/p",17:"/q",18:"/r",19:"/s",20:"/t",21:"/u",22:"/v",23:"/w",24:"/x",25:"/y",26:"/z",27:"/A",28:"/B",29:"/C",30:"/D",31:"/E",32:"/F",33:"/G",34:"/H",35:"/I",36:"/J",37:"/K",38:"/L",39:"/M",40:"/N",41:"/O",42:"/P"},cc._RF.pop()},{}],EventActivePopUp:[function(e,t,i){"use strict";cc._RF.push(t,"feed8o6JkBNf436uiYeXKLZ","EventActivePopUp");e("LanguageData"),e("GameUtils");var n=e("UIInfo"),a=e("BaseUI");cc.Class({extends:a,properties:{lblTaskRounds:cc.Label,lblTaskDuration:cc.Label},onLoad:function(){this._super();var e=ITeenPatti.getCurPlayer();if(e&&e.eventProfile){var t=e.eventProfile;this.lblTaskRounds.string=t.taskRounds,this.lblTaskDuration.string=t.taskBegin+"-"+t.taskEnd}},onBtnGoClk:function(){var e=ITeenPatti.getCurPlayer();e&&e.eventProfile&&e.eventProfile.isEventActive()&&this.gameCore.uiMng.openUI(n.EVENTS_SCENE)}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],EventProfile:[function(e,t,i){"use strict";cc._RF.push(t,"733b25L8zJIX5lzmvM13GGq","EventProfile");cc.Class({name:"EventProfile",properties:{taskId:-1,taskName:"Demo",taskEndTime:0,taskDuration:0,taskRounds:0,taskMaxChips:0,taskExchRate:1,taskMinExch:2,taskBegin:"",taskEnd:"",curRounds:10,curChips:0,curAmount:0,curComsume:0,arrCmdHandler:{default:{}}},ctor:function(){this.clear(),this.arrCmdHandler.getchipstobank=handler(this,this.onEventsRefresh),this.arrCmdHandler.chipstobank=handler(this,this.onUserChipsExchange)},clear:function(){this.taskId=-1,this.taskName="",this.taskEndTime=0,this.taskDuration=-1,this.taskRounds=0,this.taskMaxChips=0,this.taskExchRate=0,this.taskMinExch=0,this.curRounds=0,this.curChips=0,this.curAmount=0,this.curComsume=0},isEventActive:function(){return this.taskId>0&&this.taskEndTime>(new Date).getTime()/1e3},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onEventsRefresh:function(e,t){t&&t.config?(this.taskId=t.config.id,this.taskEndTime=t.config.time+(new Date).getTime()/1e3,this.taskDuration=t.config.time,this.taskRounds=t.config.round,this.taskMaxChips=t.config.chips,this.taskExchRate=t.config.rate,this.taskMinExch=Math.ceil(this.taskExchRate),this.taskBegin=t.config.begin,this.taskEnd=t.config.end,this.curRounds=t.profile.round,this.curChips=t.profile.chips,this.curAmount=t.profile.bank,this.curComsume=t.profile.consume):this.clear()},onUserChipsExchange:function(e,t){this.curChips=t.chipamount,this.curAmount=t.bankamount,this.curComsume=t.consume}});cc._RF.pop()},{}],EventsConvertBar:[function(e,t,i){"use strict";cc._RF.push(t,"5086cV5cYFAnb4DobVe26b2","EventsConvertBar");var n=e("GameUtils"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{lblOwnChips:cc.Label,lblInputChip:cc.EditBox,lblBankChips:cc.Label,lblOutputChip:cc.Label,lblTips:cc.Label,btnConvert:cc.Button,loadingConvert:cc.Node},onLoad:function(){this.ctAmount=0,this.lblInputChip.node.on("text-changed",this.onInputUpdate,this),this.lblInputChip.placeholder=a.t("label_text.convert_game_chips"),this.onEventRefresh()},onInputUpdate:function(e){var t=ITeenPatti.getCurPlayer();if(t&&t.eventProfile){var i=t.eventProfile;if(this.lblInputChip.string.length<1)return this.lblOutputChip.string="",void(this.lblTips.string=a.t("label_text.enter_game_chips"));this.btnConvert.interactable=!this.loadingConvert.active&&i.curRounds>=i.taskRounds;var o=Math.floor(new Number(this.lblInputChip.string).valueOf()),s=Math.floor(o/t.eventProfile.taskExchRate);if(this.lblOutputChip.string=n.formatNumberWithRules(s),t.eventProfile.curRounds<t.eventProfile.taskRounds)return this.lblTips.string=a.t("label_text.play_hands",{hands:t.eventProfile.taskRounds}),void(this.btnConvert.interactable=!1);o<t.eventProfile.taskMinExch?this.lblTips.string=a.t("label_text.min_amount",{chips:t.eventProfile.taskMinExch}):o>t.eventProfile.taskExchRate*t.eventProfile.taskMaxChips||o>t.eventProfile.taskExchRate*t.eventProfile.curAmount?this.lblTips.string=a.t("label_text.max_amount",{chips:n.formatNumberWithRules(t.eventProfile.taskMaxChips)}):o>t.eventProfile.curChips?this.lblTips.string=a.t("label_text.not_enough_chips"):this.lblTips.string=a.t("label_text.event_msg2")}},onEventRefresh:function(){var e=ITeenPatti.getCurPlayer();if(e&&e.eventProfile){var t=e.eventProfile;Math.floor(t.curChips/t.taskExchRate);this.lblOwnChips.string=n.formatNumberWithRules(t.curChips),this.lblBankChips.string=n.formatNumberWithRules(e.tpProfile.bankChips),this.lblInputChip.string="",this.lblOutputChip.string="0",this.btnConvert.interactable=!this.loadingConvert.active&&t.curRounds>=t.taskRounds,this.lblTips.string=t.curRounds<t.taskRounds?a.t("label_text.play_hands",{hands:e.eventProfile.taskRounds}):a.t("label_text.event_msg2")}},onConvertFinish:function(){this.loadingConvert.active=!1,this.btnConvert.interactable=!0,this.onEventRefresh()},onConvertFail:function(e,t){var i=ITeenPatti.getCurPlayer();if(i&&i.eventProfile){var o={3302:a.t("label_text.not_event_time"),3303:a.t("label_text.play_hands",{hands:i.eventProfile.taskRounds}),3304:a.t("label_text.max_amount",{chips:n.formatNumberWithRules(i.eventProfile.taskMaxChips)}),2005:a.t("label_text.not_enough_chips")};this.lblTips.string=o[t.errorcode]||a.t("label_text.exception_occur")}},onBtnConvertClk:function(){var e=ITeenPatti.getCurPlayer(),t=Math.floor(new Number(this.lblInputChip.string).valueOf());if(!e||!e.eventProfile||t<e.eventProfile.taskMinExch||t>e.eventProfile.curChips||t>e.eventProfile.taskExchRate*e.eventProfile.curAmount)return this.lblTips.string=a.t("label_text.event_msg2"),void this.onInputUpdate();this.loadingConvert.active=!0,this.btnConvert.interactable=!1,ITeenPatti.sendMsg("chipstobank",{id:e.eventProfile.taskId,chips:t})}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],EventsHelpPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"f50c2f3Z8BLI5UNtOmxjx7b","EventsHelpPopUp");var n=e("BaseUI"),a=e("GameUtils"),o=e("LanguageData");cc.Class({extends:n,properties:{scrollContent:cc.Node,contentLabelRT:cc.RichText},onBtnCloseClk:function(){this.closeUI()},initComplete:function(){this._super();var e=ITeenPatti.getCurPlayer();if(e&&e.eventProfile){var t=e.eventProfile;this.contentLabelRT.node.on("size-changed",function(){this.scrollContent.height=this.contentLabelRT.node.height+10}.bind(this));var i=[o.t("label_text.event_rule1",{date1:t.taskBegin,date2:t.taskEnd}),o.t("label_text.event_rule2",{hands:t.taskRounds}),o.t("label_text.event_rule3",{chips:a.formatNumberWithRules(t.taskMaxChips),number:t.taskExchRate}),o.t("label_text.event_rule4"),o.t("label_text.event_rule5")];this.contentLabelRT.string=i.join("\n")}}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",LanguageData:"LanguageData"}],EventsScene:[function(e,t,i){"use strict";cc._RF.push(t,"9ea61ayzORI5rbQoFQQLhk1","EventsScene");var n=e("BaseScene"),a=e("UIInfo"),o=e("EventsConvertBar"),s=e("EventsStateConvert"),r=e("EventsStateTask"),l=e("EventsTitleBar");cc.Class({extends:n,properties:{blackBg:{default:null,visible:!1,override:!0},popupBg:{default:null,visible:!1,override:!0},loadingIndicatorPrefab1:cc.Prefab,connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,alertPrefab:cc.Prefab,eventsHelpPopUpPrefab:cc.Prefab,eventsExchSuccPopUpPrefab:cc.Prefab,eventActivePopUpPrefab:cc.Prefab,convertBar:o,titleBar:l,stateTask:r,stateConvert:s},onLoad:function(){this._super(),LogUtil.info("EventsScene","------------------------------------- Events Scene ------------------------------------")},onDestroy:function(){this._super(),this.gameCore.gameMng.pauseAudioBg()},initComplete:function(){this._super(),this.gameCore.uiMng.loadingIndicator1=this.loadingIndicatorPrefab1,this.gameCore.initPopupMng.pause=!1,this.gameCore.uiMng.addListener("getchipstobank",this,this.onEventRefresh),this.gameCore.uiMng.addListener("chipstobank",this,this.onConvertFinish)},onEventRefresh:function(e,t){this.titleBar.onEventRefresh(),this.stateTask.onEventRefresh(),this.stateConvert.onEventRefresh()},onConvertFinish:function(e,t){this.convertBar.onConvertFinish(),this.stateConvert.onConvertFinish(),t.errorcode?this.onConvertFail(e,t):this.gameCore.uiMng.openUI(a.EVENTS_EXCHANGE_SUCC_POPUP,function(e){e.setInitData(t)})},onConvertFail:function(e,t){this.convertBar.onConvertFail(e,t)},onBtnCloseClk:function(){this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},onBtnHelpClk:function(){this.gameCore.uiMng.openUI(a.EVENTS_HELP_POPUP)}}),cc._RF.pop()},{BaseScene:"BaseScene",EventsConvertBar:"EventsConvertBar",EventsStateConvert:"EventsStateConvert",EventsStateTask:"EventsStateTask",EventsTitleBar:"EventsTitleBar",UIInfo:"UIInfo"}],EventsStateConvert:[function(e,t,i){"use strict";cc._RF.push(t,"498b5p23ItG0YvQPNrDhn1l","EventsStateConvert");var n=e("GameUtils"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{imgChip:cc.Node,lblTaskChips:cc.Label,lblTaskUnit:cc.Label,lblCurChips:cc.Label,lblCurUnit:cc.Label,lblTaskDesc:cc.Label},onLoad:function(){var e=this;this.lblTaskChips.node.on("size-changed",function(t,i){e.lblTaskUnit.node.x=e.lblTaskChips.node.width+6}),this.lblCurChips.node.on("size-changed",function(t,i){e.imgChip.x=-e.lblCurChips.node.width-6}),this.lblCurUnit.node.on("size-changed",function(t,i){e.lblCurChips.node.x=-e.lblCurUnit.node.width-6}),this.onEventRefresh()},onEventRefresh:function(){var e=ITeenPatti.getCurPlayer();if(e&&e.eventProfile&&this.node){this.node.active=e.eventProfile.curRounds>=e.eventProfile.taskRounds;var t=n.convertNumber(e.eventProfile.taskMaxChips);this.lblTaskChips.string="/"+t.num,this.lblTaskUnit.string=t.unit,this.lblTaskDesc.string=a.t("label_text.max_amount",{chips:t.num+t.unit}),t=n.convertNumber(e.eventProfile.curComsume),this.lblCurChips.string=t.num,this.lblCurUnit.string=t.unit}},onConvertFinish:function(){this.onEventRefresh()}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],EventsStateTask:[function(e,t,i){"use strict";cc._RF.push(t,"1ac55UuqblMmbvVmMkq28th","EventsStateTask"),cc.Class({extends:cc.Component,properties:{lblTaskRound:cc.Label,lblCurRound:cc.Label,lblUnit:cc.Label},onLoad:function(){this.onEventRefresh();var e=this;this.lblCurRound.node.on("size-changed",function(t,i){e.lblUnit.node.x=e.lblTaskRound.node.width+6})},onEventRefresh:function(){var e=ITeenPatti.getCurPlayer();e&&e.eventProfile&&this.node&&(this.node.active=e.eventProfile.curRounds<e.eventProfile.taskRounds,this.lblTaskRound.string="/"+e.eventProfile.taskRounds,this.lblCurRound.string=e.eventProfile.curRounds)}}),cc._RF.pop()},{}],EventsTitleBar:[function(e,t,i){"use strict";cc._RF.push(t,"b67d9Kd7+dIDI1DVsmCd/p2","EventsTitleBar"),cc.Class({extends:cc.Component,properties:{lblDuration:cc.Label},start:function(){this.nDeltaSecond=0,this.update(1)},update:function(e){if(this.nDeltaSecond+=e,!(this.nDeltaSecond<1)){this.nDeltaSecond-=1;var t=ITeenPatti.getCurPlayer();if(t&&t.eventProfile){var i=t.eventProfile.taskEndTime-(new Date).getTime()/1e3;i=i<0?0:i,this.lblDuration.string=CommonUtil.getTimeString(i)}}},onEventRefresh:function(){this.nDeltaSecond=0,this.update(1)}}),cc._RF.pop()},{}],ExchangeSuccPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"14ae7A0FU1AQ6nm/YOuY5DX","ExchangeSuccPopUp");e("LanguageData");var n=e("GameUtils"),a=(e("UIInfo"),e("BaseUI"));cc.Class({extends:a,properties:{lblChips:cc.Label},onLoad:function(){this._super()},setInitData:function(e){this.lblChips.string=n.formatNumberWithRules(e.bchips)}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],FBLoginScene:[function(e,t,i){"use strict";cc._RF.push(t,"150dasGCv5LL4ltNzpZb/XG","FBLoginScene");var n=e("BaseScene"),a=e("LanguageData"),o=e("GameData"),s=e("DataAnalysisKey"),r=e("UIInfo");cc.Class({extends:n,properties:{progressBar:cc.ProgressBar,progressLabel:cc.Label,robotoRegular:cc.Font,robotoBold:cc.Font,droidHindi:cc.Font,loadingIndicatorPrefab:cc.Prefab,loadingIndicatorPrefab1:cc.Prefab,loadingBgPrefab:cc.Prefab,alertPrefab:cc.Prefab,curPreLoadCount:{default:0,visible:!1},totalePreLoadCount:{default:4,visible:!1}},newGameCore:function(){},onLoad:function(){this.uiKey=r.FB_LOGIN_SCENE.name,this.progressLabel.string="0%",this.progressBar.progress=0,this.percent=0,this.curPreLoadCount=0,this.totalePreLoadCount=5;var t=e("GameCore");if(this.gameCore=new t,HAS_SUBPACKAGE){var i=this;this.scheduleOnce(function(){cc.loader.downloader.loadSubpackage("Popup",function(e){if(e)return console.error(e);console.log("load Popup successfully."),cc.loader.downloader.loadSubpackage("Game",function(e){if(e)return console.error(e);console.log("load Game successfully."),cc.loader.downloader.loadSubpackage("Lobby",function(e){if(e)return console.error(e);console.log("load Lobby successfully."),i.preloadLobbyScene()})})})},0)}else this.preloadLobbyScene();this._super()},preloadLobbyScene:function(){cc.director.preloadScene("LobbySceneNew/LobbySceneNew",handler(this,this.onPreLoadProgress),handler(this,function(){cc.director.preloadScene("LobbySceneNew/LobbySceneNew2",handler(this,this.onPreLoadProgress),handler(this,function(){cc.log("Lobby scene preloaded"),this.curPreLoadCount++,this.setProgress(),this.gameCore.downloadMng.preloadPopup(o.LOBBY_SCENE_PRELOAD_POPUP(),handler(this,this.onPreLoadProgress),handler(this,function(){this.curPreLoadCount++,this.setProgress(),this.gameCore.downloadMng.preloadPopup(o.GAME_SCENE_PRELOAD_POPUP(),handler(this,this.onPreLoadProgress),handler(this,function(){this.curPreLoadCount++,this.setProgress(),cc.director.preloadScene("GameScene/GameScene",handler(this,this.onPreLoadProgress),handler(this,function(){cc.log("Game scene preloaded"),this.curPreLoadCount++,this.setProgress(),this.firstSceneInit(),this.gameCore.FacebookVersion=!0,this.progressBar.node.active=!1,this.gameCore.uiMng.showLoading(),this.gameCore.dataAnalysisMng.sendData(s.OPEN_TO_LOGIN_PAGE)}))}))}))}))}))},onFBLoginFail:function(){this.gameCore.gameMng.showAlert(a.t("label_text.login_failed_msg"),a.t("label_text.login_failed"),1,handler(this,function(){this.FBLogin()}),null,a.t("label_text.retry"))},onProtoFileLoaded:function(){this.FBLogin()},setProgress:function(){var e=this.curPreLoadCount/this.totalePreLoadCount;this.progressBar.progress=e,this.progressLabel.string=100*e+"%"},onPreLoadProgress:function(e,t,i){if(0!=t&&0!=e&&null!=this.progressLabel&&e!=t){var n=Math.floor(e/t/this.totalePreLoadCount*100)+this.curPreLoadCount/this.totalePreLoadCount*100;n>this.percent&&(this.percent=n,this.progressBar.progress=n/100<.1?.1:n/100,this.progressLabel.string=n+"%")}},onDestroy:function(){cc.loader.onProgress=null,this.removeListenerWithTarget(),this.gameCore.gameMng.loginedFromLoginScene(),this._super()},onPolicyBtnClk:function(e){cc.sys.openURL(o.PrivacyPolicyURL)}}),cc._RF.pop()},{BaseScene:"BaseScene",DataAnalysisKey:"DataAnalysisKey",GameCore:"GameCore",GameData:"GameData",LanguageData:"LanguageData",UIInfo:"UIInfo"}],FBLogoutConnectRemind:[function(e,t,i){"use strict";cc._RF.push(t,"5804alZmCZKdYWwH7m8YtLc","FBLogoutConnectRemind");var n=e("BaseUI"),a=e("LanguageData"),o=e("UIInfo"),s=e("DataAnalysisKey"),r=e("Command"),l=e("IFacebook");cc.Class({extends:n,properties:{titleLabel:cc.Label,contentLabel:cc.Label,cancelBtnLabel:cc.Label,confirmBtn:cc.Button,confirmBtnLabel:cc.Label,type:{set:function(e){this._type=e,this.i18nRendersUpdate()}}},playUICloseAudioEffect:function(){this.needCancelCloseAudio||this._super()},i18nRendersUpdate:function(){"logout"==this._type?(this.titleLabel.string=a.t("label_text.logout_from_facebook"),this.contentLabel.string=a.t("label_text.logout_from_facebook_desc"),this.cancelBtnLabel.string=a.t("label_text.cancel"),this.confirmBtnLabel.string=a.t("label_text.logout")):"connect"==this._type&&(this.titleLabel.string=a.t("label_text.upgrade_to_facebok_account"),this.contentLabel.string=a.t("label_text.upgrade_to_facebok_account_desc"),this.cancelBtnLabel.string=a.t("label_text.cancel"),this.confirmBtnLabel.string=a.t("label_text.okay"))},onConfirmBtnClk:function(e){"logout"==this._type?(l.logout(handler(this,this.onFBLogout)),this.canClose=!1,this.needCancelCloseAudio=!0,this.confirmBtn.interactable=!1):"connect"==this._type&&(ITeenPatti.logout(),this.gameCore.gameMng.getFacebookLoginStatus(handler(this,this.onLoginStatusGet)))},onFBLogout:function(){if(ITeenPatti.getCurRoom()){var e=cc.director.getScene().getChildByName("Canvas").getComponent("GameScene");return ITeenPatti.removeListener(r.SERVER_CMD_USER_EXIT_ROOM,e),ITeenPatti.addListener(r.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),void ITeenPatti.sendMsg("leaveroom",null)}this.logoutFBComplete()},onUserExitRoom:function(){this.logoutFBComplete()},logoutFBComplete:function(){this.canClose=!0,this.gameCore.dataAnalysisMng.sendData(s.FB_LOGOUT_SUCCESS),ITeenPatti.logout(),this.closeUI(),this.gameCore.uiMng.closeUI(o.SETTING),this.gameCore.uiMng.openUI(o.LOGIN_SCENE),this.gameCore.logout()},onLoginStatusGet:function(e,t){e&&t||this.gameCore.gameMng.fbLogin(),this.closeUI(),this.gameCore.uiMng.closeUI(o.SETTING)},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",IFacebook:"IFacebook",LanguageData:"LanguageData",UIInfo:"UIInfo"}],FacebookIcon:[function(e,t,i){"use strict";cc._RF.push(t,"649fcg95fhKk4OsWK/l9Fk9","FacebookIcon");var n=e("IFacebook"),a=e("ITeenPatti"),o=e("LocalStorage"),s=e("GameData"),r="FacebookIcon";cc.Class({extends:cc.Component,properties:{user:{default:null,visible:!1},needActiveNode:!0,nWidth:90,nHeight:90,objIconSpriteFrame:{set:function(e){this.objIcon&&(this.objIcon.spriteFrame=e,this.objIcon.node.setContentSize(this.nWidth,this.nHeight),this.needActiveNode&&(this.objIcon.node.active=!0))}},objIcon:cc.Sprite},onLoad:function(){},hideIcon:function(){this.objIcon&&(this.objIcon.node.active=!1)},clearIcon:function(){this.objIcon&&this.objIcon.spriteFrame&&this.objIcon.spriteFrame.clearTexture()},strCachePath:function(e){return jsb.fileUtils.getWritablePath()+"facebook/"+(e||this.user.strFBID)+".jpg"},updateIconByIconId:function(e){var t=-1==e?"Default":e,i=VIDEO_RECORD&&e>=1&&e<=12&&(!this.user||this.user.strTPID==a.gameCore.userMng.myself.strTPID)?"Common/HeadIcon/fakeIcon":"Common/HeadIcon/headIcon";cc.loader.loadRes(i+t,cc.SpriteFrame,function(e,t){e?LogUtil.err("FacebookIcon","Down System Head Icon Fail",e):this.objIconSpriteFrame=t}.bind(this))},initWithFBIcon:function(e){this.user=e,this.updateIcon()},initWithTeenPattiUser:function(e){this.user=e,a.gameCore&&(this.objIconSpriteFrame=a.gameCore.defaultIcon),isInstantGame?null!=this.user.newIcon&&-1==this.user.strIconID?this.onIconDown(this.user.strTPID||this.user.strFBID,this.user.newIcon):-1!=this.user.strIconID?this.updateIconByIconId(Math.min(s.systemIconCount,Math.max(1,this.user.strIconID))):""!=this.user.strIconUrl?this.onIconUrlGet(this.user.strFBID,this.user.strIconUrl):this.updateIcon():null!=this.user.newIcon?this.onIconDown(this.user.strTPID||this.user.strFBID,this.user.newIcon,!1):this.user.isFacebookInviteFriend()||this.user.isFacebookLogin()&&-1==this.user.strIconID?this.user.strIToken.length>0?this.onIconUrlGet(this.user.strFBID,this.user.strIconUrl):this.updateIcon():this.updateIconByIconId(Math.min(s.systemIconCount,Math.max(1,e.strIconID)))},isLocalIconExpired:function(){return.001*(new Date).getTime()-o.getLocalData(o.keys.HEAD_ICON_EXPIRE_DATA+this.user.strFBID)>3600},updateIcon:function(){!this.user||this.user.strFBID.length<1||(cc.sys.isNative&&jsb.fileUtils.isFileExist(this.strCachePath())&&!this.isLocalIconExpired()?this.onIconDown(this.user.strFBID,this.strCachePath()):!cc.sys.isNative&&o.getHeadIcon(this.user.strFBID)?this.onIconDown(this.user.strFBID,null):n.getIconUrl(this.user.strFBID,handler(this,this.onIconUrlGet)))},onIconUrlGet:function(e,t){if(t&&!(t.length<1)&&(!this.user||this.user.strFBID==e)){!t||t.length<1||!this.user||this.user.strFBID!=e||(!cc.sys.isNative||this.user.strIToken.length>0?this.onIconDown(e,t):n.downIcon(e,t,this.strCachePath(),handler(this,this.onFBIconDown)))}},onFBIconDown:function(e,t){e&&this.user&&!this.user.strFBID||e&&this.user&&this.user.strFBID!=e||this.onIconDown(e,t)},onIconDown:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!cc.sys.isNative&&e.length>0&&o.getHeadIcon(e)?this.objIconSpriteFrame=new cc.SpriteFrame(o.getHeadIcon(e)):t?this.isLoadingUrl!=t?(this.isLoadingUrl=t,LogUtil.debug(r,"loading head icon url:"+t),cc.loader.load({url:t,type:"jpg"},handler(this,function(t,i,n){if(n==this.isLoadingUrl)if(this.isLoadingUrl="",t)LogUtil.err(r,"Down Facebook Icon Fail",t);else{var a=new cc.SpriteFrame(i);!cc.sys.isNative&&e.length>0&&o.cacheHeadIcon(e,i),this.objIconSpriteFrame=a}},t))):LogUtil.debug(r,"loading same head icon url:"+t):LogUtil.err(r,"strUrl is null:"+t)}}),cc._RF.pop()},{GameData:"GameData",IFacebook:"IFacebook",ITeenPatti:"ITeenPatti",LocalStorage:"LocalStorage"}],FacebookProfile:[function(e,t,i){"use strict";cc._RF.push(t,"a082chbLDNERZM62ezfYAhS","FacebookProfile");cc.Class({name:"FacebookProfile",properties:{strFBID:"",strIToken:"",strFBName:"",strEmail:"",strIconUrl:"",sex:null},init:function(e){e&&(this.strFBID=e.id,this.strFBName=e.name,this.strEmail=e.email||"",this.strIconUrl=e.faceUrl||"",this.sex=e.sex||"")},isLogin:function(){return!(!this.strFBID||this.strFBID.length<1)},isFacebookInviteFriend:function(){return!!(this.strIToken&&this.strIToken.length>0)},setFBInfo:function(e,t){this.strFBID=e,this.strFBName=t},setFBInviteInfo:function(e,t,i){this.strIToken=e,this.strFBName=t,this.strIconUrl=i},initWithSFSPlayer:function(e){e&&(this.strFBID=void 0!==e.variables.fb?e.variables.fb.value:"")},onMsgReceived:function(e,t){},onMsgFriendListReceived:function(e){this.strFBID&&this.strFBID.length>0||(this.strFBID=e.userinfo.facebookID)}});cc._RF.pop()},{}],FackWinAlertPopup:[function(e,t,i){"use strict";cc._RF.push(t,"a8449QBBhpOHpPWVUfWLmxO","FackWinAlertPopup");var n=e("BaseUI");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},setClickYesCallback:function(e){this.hClickYesCb=e},setClickNoCallback:function(e){this.hClickNoCb=e},onYesBtnClk:function(e){this.hClickYesCb&&this.hClickYesCb(),this.closeUI()},onNoBtnClk:function(e){this.hClickNoCb&&this.hClickNoCb(),this.closeUI()},onBackButtonClk:function(){this.canClose&&(this.hClickNoCb&&this.hClickNoCb(),this.closeUI())},closeUI:function(){this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI"}],FilmFestivalGotStar:[function(e,t,i){"use strict";cc._RF.push(t,"4da8cwA85FKw4j6vGp+nr25","FilmFestivalGotStar");var n=e("BaseUI");cc.Class({extends:n,properties:{countLabel:cc.Label},onLoad:function(){this.popupBg.active=!1,this._super()},initComplete:function(){this._super(),this.scheduleOnce(handler(this,this.fadeOut),2)},fadeOut:function(){this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(handler(this,function(){this.closeUI()}))))},updateCount:function(e){this.countLabel.string="x"+e,this.popupBg.active=!0,this.popupBg.scale=.5,this.popupBg.runAction(cc.scaleTo(.3,1))}}),cc._RF.pop()},{BaseUI:"BaseUI"}],FilmFestivalProgress:[function(e,t,i){"use strict";cc._RF.push(t,"59c531pPS5CvqwrEIA6eCcC","FilmFestivalProgress");var n=e("BaseUI"),a=e("GameUtils"),o=e("Command");cc.Class({extends:n,properties:{claimBtnList:[cc.Node],rewardLabelList:[cc.Label],progressList:[cc.Node],progressBorderList:[cc.Node],progressBgList:[cc.Node],progressLabelList:[cc.Label],claimedList:[cc.Node],iconList:[cc.Node],rewardIconSpineList:[cc.Node],helpDescPanel:cc.Node,totalRewardLabel:cc.Label,starLabelList:[cc.Label],starModeCountLabels:{default:null,visible:!1},startTimeLabel:cc.Label,endTimeLabel:cc.Label},onLoad:function(){for(var e=0;e<3;e++)this.claimBtnList[e].active=!1,this.progressList[e].active=!1,this.claimedList[e].active=!1;this.starModeCountLabels={Classic:this.starLabelList[0],Poker:this.starLabelList[4],Potblind:this.starLabelList[2],Rummy:this.starLabelList[5],ABPvP:this.starLabelList[9],AB:this.starLabelList[6],War:this.starLabelList[7],"Patti War":this.starLabelList[8],Deluxe:this.starLabelList[3],Variation:this.starLabelList[1],ABPvPBanker:this.starLabelList[10],Tournament:this.starLabelList[11],Private:this.starLabelList[12]},this._super()},initComplete:function(){this._super(),this.helpDescPanel.active=!1;var e=this.gameCore.activityMng.vipStarData;for(var t in e.modestar){var i=e.modestar[t].s;this.starModeCountLabels[i]&&(this.starModeCountLabels[i].string=e.modestar[t].l)}var n=new Date(1e3*e.starttime),a=new Date(1e3*e.endtime),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];this.startTimeLabel.string=o[n.getMonth()]+"."+(n.getDate()<10?"0"+n.getDate():n.getDate()),this.endTimeLabel.string=o[a.getMonth()]+"."+(a.getDate()<10?"0"+a.getDate():a.getDate()),this.gameCore.uiMng.addListener("ui_update_film_festival_progress",this,this.updateProgress),this.updateProgress()},updateProgress:function(e){e&&e.errorcode&&this.gameCore.uiMng.removeListener(o.UI_CMD_GOLD_CHANGE,this,this.onGoldGet);var t=this.gameCore.activityMng.vipStarData,i=this.gameCore.activityMng.userVipStarData;if(i){for(var n=0,s=0;s<3;s++)if(this.claimBtnList[s].active=!1,this.claimBtnList[s].getComponent(cc.Button).interactable=!0,this.progressList[s].active=!1,this.claimedList[s].active=!1,this.rewardLabelList[s].string=a.formatNumber(t.reward[s+1]),n+=t.reward[s+1],this.iconList[s].active=!0,this.rewardIconSpineList[s].active=!1,0!=i.claimetime[s+1])this.claimedList[s].active=!0;else if(i.start>=t.starts[s+1])this.claimBtnList[s].active=!0,this.iconList[s].active=!1,this.rewardIconSpineList[s].active=!0;else{this.progressList[s].opacity=this.progressList[s-1]&&this.progressList[s-1].active?128:255;this.progressBgList[s].active=this.progressBorderList[s].active=!this.progressList[s-1]||!this.progressList[s-1].active,this.progressList[s].active=!0,this.progressLabelList[s].string=Math.max(0,i.start-(t.starts[s]?t.starts[s]:0))+"/"+(t.starts[s+1]-(t.starts[s]?t.starts[s]:0))}this.totalRewardLabel.string=a.formatNumber(n)}},onHelpBtnClk:function(e){this.helpDescPanel.active=!this.helpDescPanel.active},onClaimBtnClk:function(e,t){for(var i=0;i<3;i++)this.claimBtnList[i].getComponent(cc.Button).interactable=!1;this.claimIndex=parseInt(t)-1,this.gameCore.uiMng.addListener(o.UI_CMD_GOLD_CHANGE,this,this.onGoldGet),ITeenPatti.sendMsg(o.SERVER_CMD_CLAIM_VIP_STAR,{i:parseInt(t)})},onGoldGet:function(e){this.gameCore.gameMng.playGoldFly(e,cc.v2(264*this.claimIndex-264,-72),0,!0),this.gameCore.uiMng.removeListener(o.UI_CMD_GOLD_CHANGE,this,this.onGoldGet)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils"}],FilmFestival:[function(e,t,i){"use strict";cc._RF.push(t,"05e837Fqv9A0Lid1hpYHsYL","FilmFestival");var n=e("BaseUI"),a=e("UIInfo"),o=e("GameUtils");cc.Class({extends:n,properties:{totalRewardLabel:cc.Label},initComplete:function(){var e=this.gameCore.activityMng.vipStarData;if(e){for(var t=0,i=0;i<3;i++)t+=e.reward[i+1];this.totalRewardLabel.string=o.formatNumber(t)}},onPlayNowBtnClk:function(e){this.gameCore.uiMng.openUI(a.FILM_FESTIVAL_PROGRESS),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",UIInfo:"UIInfo"}],FloatAlert2:[function(e,t,i){"use strict";cc._RF.push(t,"46d91247UVCZpGi5V4XN+CF","FloatAlert2");var n=e("BaseUI");cc.Class({extends:n,properties:{label:cc.Label,imgBg:cc.Node},onLoad:function(){this._super();var e=this;this.node.active=!1,this.label.node.on("size-changed",function(t,i){e.updateImgBgSize()})},show:function(e){this.node.stopAllActions(),this.label.overflow=cc.Label.Overflow.NONE,this.label.string=e,this.updateImgBgSize(),this.node.y=-50,this.node.opacity=0,this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,this.node.x,0),cc.fadeTo(.3,255)),cc.delayTime(2),cc.callFunc(function(){this.closeUI()},this)))},updateImgBgSize:function(){this.node.active=!0,this.label.node.width>650&&(this.label.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.label.node.width=650);var e=Math.max(350,this.label.node.width);this.imgBg.width=e+60,this.imgBg.height=this.label.height+10}}),cc._RF.pop()},{BaseUI:"BaseUI"}],FloatAlert:[function(e,t,i){"use strict";cc._RF.push(t,"84440QnTYxHX7bNaIAr+Hsd","FloatAlert");var n=e("BaseUI");cc.Class({extends:n,properties:{label:cc.Label,imgBg:cc.Node},onLoad:function(){var e=this;this.node.active=!1,this.label.node.on("size-changed",function(t,i){e.updateImgBgSize()})},show:function(e){this.node.stopAllActions(),this.label.overflow=cc.Label.Overflow.NONE,this.label.string=e,this.updateImgBgSize(),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.closeUI()},this)))},updateImgBgSize:function(){this.node.active=!0,this.label.node.width>650&&(this.label.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.label.node.width=650);var e=Math.max(350,this.label.node.width);this.imgBg.width=e+60,this.imgBg.height=this.label.height+10}}),cc._RF.pop()},{BaseUI:"BaseUI"}],FootballBetHistoryPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"17506iZSmNJ2582fT+5z66t","FootballBetHistoryPopUp");var n=e("BaseUI"),a=(e("GameUtils"),e("LanguageData"),e("UIInfo"),e("DataAnalysisKey"),e("AEMatchFootballRunner"),e("AEMatchFootballRecord"));cc.Class({extends:n,properties:{contentView:cc.Node,noRecordBar:cc.Node,pfbMatchRecord:cc.Prefab,scrollView:cc.ScrollView,scrollViewHeight:{default:506,visible:!1},scrollItemHeight:{default:60,visible:!1},nextY:{default:0,visible:!1},startIndex:{default:0,visible:!1},endIndex:{default:0,visible:!1},itemScriptComponentName:{default:"FootballBetMatchRecordView",visible:!1},recordList:{default:[],visible:!1},recordViewReuseList:{default:[],visible:!1},isExpandingOrCollapsing:{get:function(){return this._isExpandingOrCollapsing},set:function(e){this._isExpandingOrCollapsing=e,this.scrollView.enabled=!e},visible:!1}},onLoad:function(){this._super();var e=cc.visibleRect;e.width<1136&&(this.popupBg.scale=e.width/1136),this.contentView.removeAllChildren(),this.contentNodeOriY=this.lastContentNodeY=this.contentView.y,this.scheduleOnce(handler(this,this.initRecordView),0)},initRecordView:function(){this.itemCount=Math.ceil(this.scrollViewHeight/this.scrollItemHeight)+1;for(var e=0;e<this.itemCount;e++){var t=cc.instantiate(this.pfbMatchRecord);t.active=!1,this.contentView.addChild(t),this.recordViewReuseList.push(t)}this.initMatchBetRecord(),ITeenPatti.addListener("footballbets",this,this.onHistroyRefresh),ITeenPatti.sendMsg("footballbets",ITeenPatti.room.matchHistory.getBetIDs())},onEnable:function(){this.contentView.children.forEach(function(e){e.on("ae-match-record-expand",this.onItemExpand,this),e.on("ae-match-record-expand-finish",this.onItemExpandOrCollapseFinish,this),e.on("ae-match-record-collapse",this.onItemCollapse,this),e.on("ae-match-record-collapse-finish",this.onItemExpandOrCollapseFinish,this)}.bind(this))},onDisable:function(){this.contentView.children.forEach(function(e){e.off("ae-match-record-expand",this.onItemExpand,this),e.off("ae-match-record-expand-finish",this.onItemExpandOrCollapseFinish,this),e.off("ae-match-record-collapse",this.onItemCollapse,this),e.off("ae-match-record-collapse-finish",this.onItemExpandOrCollapseFinish,this)}.bind(this))},onScrolling:function(e,t){var i=this.contentNodeOriY-this.contentView.y,n=i-this.scrollViewHeight;this.recordViewReuseList.sort(function(e,t){return this.lastContentNodeY-this.contentView.y>0?e.y-t.y:t.y-e.y}.bind(this));for(var a=0;a<this.recordViewReuseList.length;a++)if(this.recordViewReuseList[a].y>=i+this.recordViewReuseList[a].getComponent(this.itemScriptComponentName).nodeHeight&&this.lastContentNodeY<this.contentView.y){if(this.endIndex<this.recordList.length-1){this.startIndex++,this.endIndex++,this.recordViewReuseList[a].getComponent(this.itemScriptComponentName).setMatchData(this.recordList[this.endIndex]);for(var o=0,s=0;s<this.recordViewReuseList.length;s++){var r=this.recordViewReuseList[s].getComponent(this.itemScriptComponentName).nodeHeight;this.recordViewReuseList[a]!=this.recordViewReuseList[s]&&this.recordViewReuseList[s].y-r<o&&(o=this.recordViewReuseList[s].y-r)}this.recordViewReuseList[a].y=o}}else if(this.recordViewReuseList[a].y<=n&&this.lastContentNodeY>this.contentView.y&&this.startIndex>0){this.startIndex--,this.endIndex--,this.recordViewReuseList[a].getComponent(this.itemScriptComponentName).setMatchData(this.recordList[this.startIndex]);var l=Number.NEGATIVE_INFINITY;for(s=0;s<this.recordViewReuseList.length;s++)this.recordViewReuseList[a]!=this.recordViewReuseList[s]&&this.recordViewReuseList[s].y>l&&(l=this.recordViewReuseList[s].y);this.recordViewReuseList[a].y=l+this.recordViewReuseList[a].getComponent(this.itemScriptComponentName).nodeHeight}this.lastContentNodeY=this.contentView.y},reloadScollView:function(){this.endIndex<this.itemCount-1&&(this.endIndex=Math.min(this.startIndex+this.itemCount-1,this.recordList.length-1));for(var e=0;e<this.recordViewReuseList.length;e++)this.recordViewReuseList[e].setPosition(0,-this.scrollItemHeight*(this.startIndex+e)),this.recordList.length>this.startIndex+e?(this.recordViewReuseList[e].active=!0,this.recordViewReuseList[e].getComponent(this.itemScriptComponentName).setMatchData(this.recordList[this.startIndex+e])):this.recordViewReuseList[e].active=!1;this.contentView.height=this.recordList.length*this.scrollItemHeight},onItemExpand:function(e){this.isExpandingOrCollapsing=!0;for(var t=e,i=0;i<this.recordList.length;i++)this.recordList[i]!=t.data&&(this.recordList[i].isExpanded=!1,this.recordList[i].nodeHeight=this.scrollItemHeight);for(i=0;i<this.recordViewReuseList.length;i++)t.node!=this.recordViewReuseList[i]&&this.recordViewReuseList[i].getComponent(this.itemScriptComponentName).collapse()},onItemCollapse:function(e){this.isExpandingOrCollapsing=!0},onItemExpandOrCollapseFinish:function(e){for(var t=0,i=0;i<this.recordList.length;i++)t+=this.recordList[i].nodeHeight;this.contentView.height=Math.max(t,this.scrollViewHeight),this.recordViewReuseList.sort(function(e,t){return t.y-e.y}.bind(this));for(i=0;i<this.recordViewReuseList.length;i++){for(var n=0,a=0;a<this.recordList.length&&this.recordViewReuseList[i].getComponent(this.itemScriptComponentName).objMatchData!=this.recordList[a];a++)n+=this.recordList[a].nodeHeight;this.recordViewReuseList[i].y=-n}this.schedule(function(){this.isExpandingOrCollapsing=!1}.bind(this),.1)},initMatchBetRecord:function(){var e=ITeenPatti.getCurRoom(),t=e?e.getMatchHistroy():null,i=t?t.getMatchList():[],n=e?e.getMatchInBet():null;if(this.noRecordBar.active=i.length<1&&!n,this.noRecordBar.active)return this.onEnable(),void this.i18nFontUpdate();if(this.recordList=[],n){var o=t.getMatchWithID(n.matchID);o||((o=new a(ITeenPatti.getCurPlayer().strTPID,n.matchID)).arrRunner.push(n.arrRunner[0]),o.arrRunner.push(n.arrRunner[1])),this.addRecord(o)}for(var s=i.length-1;s>=0;s--)n&&i[s].matchID==n.matchID||this.addRecord(i[s]);this.reloadScollView(),this.onEnable(),this.recordViewReuseList.length>0&&this.recordViewReuseList[0].getComponent(this.itemScriptComponentName).expandOnLoad(),this.i18nFontUpdate()},addRecord:function(e){e.isExpanded=!1,e.nodeHeight=this.scrollItemHeight,this.recordList.push(e)},onBtnCloseClk:function(){this.closeUI()},onHistroyRefresh:function(e,t){this.initMatchBetRecord()}}),cc._RF.pop()},{AEMatchFootballRecord:"AEMatchFootballRecord",AEMatchFootballRunner:"AEMatchFootballRunner",BaseUI:"BaseUI",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],FootballBetMatchBetRecordView:[function(e,t,i){"use strict";cc._RF.push(t,"ad46dl9cghMWoTj8XcCDWNi","FootballBetMatchBetRecordView");var n=e("LanguageData"),a=e("GameUtils");cc.Class({extends:cc.Component,properties:{lblRunner:cc.Label,imgRunner:cc.Sprite,lblOdds:cc.Label,lblAmount:cc.Label,lblStatus:cc.Label,imgDraw:cc.Sprite,lblEmpty:cc.Label,objInfo:cc.Node,objRunner:cc.Node},setBetData:function(e){if(!e)return this.lblEmpty.node.active=!0,void(this.objInfo.active=!1);this.lblRunner.string=e.runner,this.lblOdds.string=a.subStrDecimalNumber(e.odds,3),this.lblAmount.string=e.amount,this.objRunner.active="draw"!=e.runner,this.imgDraw.node.active="draw"==e.runner,this.imgRunner.spriteFrame=ITeenPatti.getCurRoom().flagCache.getFlagWithID(e.flagID);var t=Math.round(1e3*e.odds)*(e.amount/1e3);switch(e.status){case-1:this.lblStatus.string="Cancel";break;case 0:this.lblStatus.string=n.t("label_text.ongoing");break;case 1:this.lblStatus.string=n.t("label_text.lost")+" "+a.formatNumberWithRules(Math.floor(e.amount));break;case 2:this.lblStatus.string=n.t("label_text.win")+" "+a.formatNumberWithRules(Math.floor(t))}}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],FootballBetMatchRecordView:[function(e,t,i){"use strict";cc._RF.push(t,"081720MautCo6W2H6oQExJR","FootballBetMatchRecordView");var n=e("FootballMatchWinnerBetListView"),a=e("GameUtils");cc.Class({extends:cc.Component,properties:{expandContent:cc.Node,totalWinBar:cc.Node,lblTotalWin:cc.Label,lblDesc:cc.Label,objSelected:cc.Node,lblRunnerA:cc.Label,imgRunnerA:cc.Sprite,lblRunnerB:cc.Label,imgRunnerB:cc.Sprite,runnerANode:cc.Node,runnerBNode:cc.Node,splitLabel:cc.Node,winnerBetList:n,isExpanded:{get:function(){return this._isExpanded},set:function(e){this._isExpanded=e,this.objMatchData&&(this.objMatchData.isExpanded=this._isExpanded)},visible:!1},nodeHeight:{get:function(){return this.objMatchData?this.objMatchData.nodeHeight:60},visible:!1}},ctor:function(){this.isExpanded=!1},onLoad:function(){this.objSelected.active=!1,this.expandContent.active=!0,this.expandContent.scaleY=0,this.node.height=-1*this.expandContent.y+this.expandContent.height*this.expandContent.scaleY},update:function(e){this.node.height=-1*this.expandContent.y+this.expandContent.height*this.expandContent.scaleY},setMatchData:function(e){if(this.node.active=void 0!=e,e){this.objMatchData=e,this.isExpanded=this.objMatchData.isExpanded,this.winnerBetList.clearBetRecord();for(var t=e.getWinnerBetList(),i=0;i<t.length;i++)t[i].flagID=e.getFlagIDWithRunner(t[i].runner),this.winnerBetList.addBetRecord(t[i]);t.length<1&&this.winnerBetList.addBetRecord(null),this.lblRunnerA.node.on("size-changed",function(){this.splitLabel.x=this.lblRunnerA.node.x+this.lblRunnerA.node.width+20,this.runnerBNode.x=this.splitLabel.x+this.splitLabel.width+this.runnerANode.x+20}.bind(this)),this.lblRunnerA.string=e.arrRunner[0].name,this.lblRunnerB.string=e.arrRunner[1].name,this.imgRunnerA.spriteFrame=ITeenPatti.getCurRoom().flagCache.getFlagWithID(e.arrRunner[0].flagId),this.imgRunnerB.spriteFrame=ITeenPatti.getCurRoom().flagCache.getFlagWithID(e.arrRunner[1].flagId),this.lblTotalWin.string=a.formatNumberWithRules(Math.floor(e.getTotalWin())),this.lblDesc.node.active=null!=e.canDraw,this.lblDesc.node.active&&(this.lblDesc.string=e.canDraw?"Settled on 90 minutes":"Settled on full time"),this.totalWinBar.y=0,this.winnerBetList.node.active&&(this.totalWinBar.y=this.winnerBetList.node.y-this.winnerBetList.node.height),this.lblDesc.node.y=this.totalWinBar.y-28,this.expandContent.height=-this.totalWinBar.y+this.totalWinBar.height,this.objSelected.active=this.isExpanded,this.expandContent.scaleY=this.isExpanded?1:0,this.node.height=this.isExpanded?-this.expandContent.y+this.expandContent.height:-this.expandContent.y,this.updateNodeHeight()}},updateNodeHeight:function(){this.objMatchData&&(this.objMatchData.nodeHeight=this.isExpanded?this.expandContent.height+55:60)},onBtnClk:function(){this.isExpanded?this.collapse():this.expand()},expandOnLoad:function(){this.isExpanded=!0,this.objSelected.active=!0,this.expandContent.scaleY=1,this.node.height=this.isExpanded?-this.expandContent.y+this.expandContent.height:-this.expandContent.y,this.onExpandFinish()},expand:function(){this.isExpanded=!0,this.objSelected.active=!0,this.expandContent.stopAllActions(),this.node.emit("ae-match-record-expand",{node:this.node,data:this.objMatchData}),this.expandContent.runAction(cc.sequence(cc.scaleTo(.1,1,1),cc.callFunc(function(){this.onExpandFinish()},this)))},onExpandFinish:function(){this.updateNodeHeight(),this.node.emit("ae-match-record-expand-finish",{node:this.node,data:this.objMatchData})},collapse:function(){this.isExpanded&&(this.isExpanded=!1,this.objSelected.active=!1,this.expandContent.stopAllActions(),this.node.emit("ae-match-record-collapse",{node:this.node,data:this.objMatchData}),this.expandContent.runAction(cc.sequence(cc.scaleTo(.1,1,0),cc.callFunc(function(){this.onCollapseFinish()},this))))},onCollapseFinish:function(){this.updateNodeHeight(),this.node.emit("ae-match-record-collapse-finish",{node:this.node,data:this.objMatchData})}}),cc._RF.pop()},{FootballMatchWinnerBetListView:"FootballMatchWinnerBetListView",GameUtils:"GameUtils"}],FootballBetSummaryItemView:[function(e,t,i){"use strict";cc._RF.push(t,"7308fhInPZCfbgBXVhyjQPw","FootballBetSummaryItemView");var n=e("LanguageData"),a=e("GameUtils"),o=e("ClampLabel");cc.Class({extends:cc.Component,properties:{lblName1:o,lblName2:o,lblMatch:cc.Label,lblHead:cc.Label,objRunner:cc.Node,objDraw:cc.Node,lblAmount:cc.Label,lblResult:cc.Label,lblRunner:cc.Label,imgRunner:cc.Sprite},initTitle:function(){this.lblMatch.string=n.t("label_text.match_name"),this.lblHead.string=n.t("label_text.team_name"),this.lblAmount.string=n.t("label_text.total_bet_amount"),this.lblResult.string=n.t("label_text.result")},setInitData:function(e){this.lblHead.node.active=!1,this.objRunner.active="draw"!=e.teamodds.team,this.objDraw.active="draw"==e.teamodds.team;var t=e.match.split(" VS ");t&&t.length>=2&&(this.lblName1.string=t[0],this.lblName2.string=t[1]),this.lblRunner.string=e.teamodds.team,this.lblAmount.string=e.amount,this.lblResult.string=1==e.result?n.t("label_text.lost")+" "+a.formatNumberWithRules(Math.floor(e.amount)):n.t("label_text.win")+" "+a.formatNumberWithRules(Math.floor(e.teamodds.odds*e.amount)),this.imgRunner.spriteFrame=ITeenPatti.getCurRoom().flagCache.getFlagWithID(e.flagId)}}),cc._RF.pop()},{ClampLabel:"ClampLabel",GameUtils:"GameUtils",LanguageData:"LanguageData"}],FootballBetSummaryPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"6c442aucQ1LxpqEdcVZAU8n","FootballBetSummaryPopUp");var n=e("BaseUI"),a=e("GameUtils");e("LanguageData");cc.Class({extends:n,properties:{winnerBetPrefab:cc.Prefab,winnerBetList:cc.Node,lblTotalWin:cc.Label,lblGetChip:cc.Label,arrWinnerBetId:{visible:!1,default:[]}},onLoad:function(){this._super(),this.initWinnerList(),this.blackBg.off(cc.Node.EventType.TOUCH_END,this.onBlackBgTouchEnd,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},setInitData:function(e){var t=0,i=0;this.winnerBetList.removeAllChildren();var n=cc.instantiate(this.winnerBetPrefab);n.getComponent("FootballBetSummaryItemView").initTitle(),this.winnerBetList.addChild(n),t+=n.height;var o=e.betslist;for(var s in o){var r=o[s].winnerbets,l={};l[o[s].team1]=o[s].teamnum1,l[o[s].team2]=o[s].teamnum2;var c=o[s].team1+" VS "+o[s].team2;for(var h in r){var u=r[h];u.match=c,u.flagId=l[u.teamodds.team]?l[u.teamodds.team]:0;var d=cc.instantiate(this.winnerBetPrefab);d.getComponent("FootballBetSummaryItemView").setInitData(u),d.setPosition(0,-t),this.winnerBetList.addChild(d),t+=d.height,this.arrWinnerBetId.push(u.betid),2==u.result&&(i+=u.teamodds.odds*u.amount)}}this.winnerBetList.height=t,this.lblTotalWin.string=a.formatNumberWithRules(Math.floor(i)),this.i18nFontUpdate()},initWinnerList:function(){var e=0;this.winnerBetList.removeAllChildren();var t=cc.instantiate(this.winnerBetPrefab);this.winnerBetList.addChild(t),e+=t.height,this.winnerBetList.height=e},onBtnGetClk:function(){ITeenPatti.sendMsg("footballclaimbets",{winnerbet:{is:this.arrWinnerBetId}}),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",LanguageData:"LanguageData"}],FootballBetWinnerPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"1c1eddlUHNNabJukMNQsbqZ","FootballBetWinnerPopUp");var n=e("BaseUI"),a=e("GameUtils"),o=e("LanguageData");e("UIInfo"),e("DataAnalysisKey");cc.Class({extends:n,properties:{lblOdds:cc.Label,lblBalance:cc.Label,lblProfit:cc.Label,lblRunner:cc.Label,lblAmount:cc.EditBox,objMarket:{visible:!1,default:null}},onLoad:function(){this._super(),this.lblAmount.node.on("text-changed",this.onBetAmountUpdate,this),ITeenPatti.addListener("UserUpdate",this,this.onUserUpdate)},onDestory:function(){this.lblAmount.node.off("text-changed",this.onBetAmountUpdate,this)},setInitData:function(e){this.objMarket=e,this.lblOdds.string=a.subStrDecimalNumber(this.objMarket.odds,3),this.lblRunner.string="draw"==this.objMarket.runner?o.t("label_text.draw"):this.objMarket.runner,this.lblBalance.string=a.formatNumberWithRules(ITeenPatti.getCurPlayer().nChips),this.i18nFontUpdate()},onUserUpdate:function(e,t){t.user.isItMe&&(this.lblBalance.string=a.formatNumberWithRules(ITeenPatti.getCurPlayer().nChips))},onBetAmountUpdate:function(e){var t=ITeenPatti.getCurRoom(),i=t?t.getMatchInBet():null;if(i){var n=new String(this.lblAmount.string);n=n.replace(new RegExp("[^0-9]","g"),"");var a=Math.min(i.maxbet,parseInt(n));this.lblAmount.string=a}this.lblProfit.string=(Math.round(1e3*this.objMarket.odds)*(new Number(this.lblAmount.string).valueOf()/1e3)).toString().split(".")[0]},onBtnBetClk:function(){var e=new Number(this.lblAmount.string).valueOf();if(e<1||Math.floor(e)!=e)return ITeenPatti.gameCore.gameMng.showAlert(o.t("label_text.enter_bet"),"",1),void this.closeUI();if(this.gameCore.gameMng.hasEnoughChips(e)){var t=ITeenPatti.getCurRoom(),i=t?t.getMatchInBet():null;ITeenPatti.sendMsg("winnerbet",{gameid:i.matchID,amount:e,teamodds:{team:this.objMarket.runner,odds:this.objMarket.odds}}),this.closeUI()}},onBtnCloseClk:function(){this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],FootballHelpPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"828d7006iFOn4bYzRgkY2o/","FootballHelpPopUp");var n=e("BaseUI"),a=(e("GameUtils"),e("LanguageData"));cc.Class({extends:n,properties:{scrollContent:cc.Node,contentLabelRT:cc.Label},onBtnCloseClk:function(){this.closeUI()},onLoad:function(){this._super();var e=cc.visibleRect;e.width<1136&&(this.popupBg.scale=e.width/1136)},initComplete:function(){this._super(),this.contentLabelRT.scheduleOnce(handler(this,this.updateLabel),0)},updateLabel:function(){this.contentLabelRT.string=a.t("label_text.football_bet_help")}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",LanguageData:"LanguageData"}],FootballMatchInBetView:[function(e,t,i){"use strict";cc._RF.push(t,"c7b5bpbDMhESKYev6Lh4ws6","FootballMatchInBetView");e("BaseUI");var n=e("UIInfo"),a=(e("Command"),e("LanguageData")),o=e("FootballMatchMarketView");cc.Class({extends:cc.Component,properties:{lblRunnerA:cc.Label,imgRunnerA:cc.Sprite,lblScoreA:cc.Label,lblRunnerB:cc.Label,imgRunnerB:cc.Sprite,lblScoreB:cc.Label,arrMarketView:{type:o,default:[]},inBetBar:cc.Node,noMatchBar:cc.Node,stateInPlay:cc.Node,stateUpcoming:cc.Node,lblCDTime:cc.Label,lblBegin:cc.Label,lblMatch:cc.Label,lblTime:cc.Label,lblHalf:cc.Label,descLabel:cc.Label,descImg:cc.Node,interval:{visible:!1,default:0},matchInBet:{visible:!1,default:null}},update:function(e){this.stateUpcoming.active&&(this.interval+=e,this.interval<1||(this.interval-=1,this.updateCDTime(this.matchInBet.startTime)))},updateCDTime:function(e){var t=e-(new Date).getTime()/1e3;this.lblCDTime.string=t<0?"--:--:--":CommonUtil.getTimeString(t)},onBtnBetClk:function(){ITeenPatti.gameCore.uiMng.openUI(n.FOOTBALL_BET_WINNER_POPUP)},onRoomUpdate:function(e,t){var i=ITeenPatti.getCurRoom();if(i){this.matchInBet=i?i.getMatchInBet():null,this.inBetBar.active=null!=this.matchInBet,this.noMatchBar.active=null==this.matchInBet;for(var n=0;n<this.arrMarketView.length;n++)this.arrMarketView[n].setMarketData(this.matchInBet?this.matchInBet.arrMarket[n]:null);this.refreshMatchView()}},refreshMatchView:function(){if(this.descLabel.node.active=this.matchInBet,this.matchInBet){var e="";e=this.matchInBet.arrMarket&&this.matchInBet.arrMarket[2]&&this.matchInBet.arrMarket[2].canBet?"This match bets are settled on the standard 90 minutes of play.":"This match bets are settled on the full time\uff0cincluding extra-time and penalty kicks.",this.descLabel.string=e,this.descImg.x=-this.descLabel.node.width/2-this.descImg.width/2-2;var t=ITeenPatti.getCurRoom().flagCache;this.lblRunnerA.string=this.matchInBet.arrRunner[0].name,this.lblScoreA.string=this.matchInBet.arrRunner[0].score+(-1!=this.matchInBet.arrRunner[0].scoreplus?"("+this.matchInBet.arrRunner[0].scoreplus+")":""),this.imgRunnerA.spriteFrame=t.getFlagWithID(this.matchInBet.arrRunner[0].flagId),this.lblRunnerB.string=this.matchInBet.arrRunner[1].name,this.lblScoreB.string=(-1!=this.matchInBet.arrRunner[1].scoreplus?"("+this.matchInBet.arrRunner[1].scoreplus+")":"")+this.matchInBet.arrRunner[1].score,this.imgRunnerB.spriteFrame=t.getFlagWithID(this.matchInBet.arrRunner[1].flagId),this.stateInPlay.active=null!=this.matchInBet.matchTime,this.stateUpcoming.active=null==this.matchInBet.matchTime,this.lblBegin.string=CommonUtil.convertToISTTime(this.matchInBet.startTime),this.updateCDTime(this.matchInBet.startTime),this.lblMatch.string=a.t("label_text."+this.matchInBet.matchName)=="label_text."+this.matchInBet.matchName?this.matchInBet.matchName:a.t("label_text."+this.matchInBet.matchName),this.lblTime.string=this.matchInBet.matchTime,this.lblHalf.string=a.t("label_text."+this.matchInBet.matchState)}}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",FootballMatchMarketView:"FootballMatchMarketView",LanguageData:"LanguageData",UIInfo:"UIInfo"}],FootballMatchList:[function(e,t,i){"use strict";cc._RF.push(t,"846e8JRMTZHrpVclEDKNc05","FootballMatchList");var n=e("BaseComponent");cc.Class({extends:n,properties:{objListView:cc.Node,objContent:cc.Node,imgBg:cc.Node,pfbItem:cc.Prefab},onEnable:function(){this.initMatchList(),this.node.height=cc.winSize.height,this.imgBg.height=cc.winSize.height,this.objListView.parent.height=cc.winSize.height-72,this.objListView.height=cc.winSize.height-72},initMatchList:function(){this.objContent.removeAllChildren();var e=ITeenPatti.getCurRoom(),t=e?e.getMatchList():[];this.objContent.height=0;for(var i=0;i<t.length;i++){var n=cc.instantiate(this.pfbItem),a=n.getComponent("FootballMatchView");a.gameCore=this.gameCore,a.setMatchData(t[i]),n.y=-100*i-57,this.objContent.addChild(n),this.objContent.height=50-n.y}},onBtnCloseClk:function(){this.node.active=!1},onMatchList:function(e,t){this.initMatchList()}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],FootballMatchMarketView:[function(e,t,i){"use strict";cc._RF.push(t,"d217cutNBZOAKvTHrO5mSnq","FootballMatchMarketView");var n=e("UIInfo"),a=e("GameUtils");cc.Class({extends:cc.Component,properties:{lblName:cc.Label,lblOdds:cc.Label,imgFlag:cc.Sprite,objMask:cc.Node},setMarketData:function(e){this.marketData=e,this.refreshView()},refreshView:function(){this.marketData&&(this.node.active=this.marketData.canBet,this.lblName&&(this.lblName.string=this.marketData.runner),this.imgFlag&&(this.imgFlag.spriteFrame=ITeenPatti.getCurRoom().flagCache.getFlagWithID(this.marketData.flagId)),this.lblOdds.string=a.subStrDecimalNumber(this.marketData.odds,3))},onBtnBetClk:function(){ITeenPatti.gameCore.uiMng.openUI(n.FOOTBALL_BET_WINNER_POPUP,handler(this,function(e){e.setInitData(this.marketData)}))},onRoomUpdate:function(e,t){this.refreshView()}}),cc._RF.pop()},{GameUtils:"GameUtils",UIInfo:"UIInfo"}],FootballMatchView:[function(e,t,i){"use strict";cc._RF.push(t,"1d6fcAyJJNGvIvoRM+lJBNQ","FootballMatchView");var n=e("BaseComponent");cc.Class({extends:n,properties:{stateInPlay:cc.Node,stateInPlayGo:cc.Node,stateUpcomming:cc.Node,stateUpcommingGo:cc.Node,stateFuture:cc.Node,stateSettling:cc.Node,lblRunnerA:cc.Label,imgRunnerA:cc.Sprite,lblRunnerB:cc.Label,imgRunnerB:cc.Sprite,curRoomTag:cc.Node,lblCDTime:cc.Label,lblStartTime:cc.Label,interval:{visible:!1,default:0},matchData:{visible:!1,default:null}},update:function(e){2==this.matchData.status&&(this.interval+=e,this.interval<1||(this.interval=Math.max(0,this.interval-1),this.lblCDTime.string=CommonUtil.getTimeString(this.matchData.startTime-(new Date).getTime()/1e3)))},setMatchData:function(e){this.interval=0,this.matchData=e;var t=ITeenPatti.getCurRoom().flagCache;this.lblRunnerA.string=e.arrRunner[0].name,this.imgRunnerA.spriteFrame=t.getFlagWithID(e.arrRunner[0].flagId),this.lblRunnerB.string=e.arrRunner[1].name,this.imgRunnerB.spriteFrame=t.getFlagWithID(e.arrRunner[1].flagId),this.stateInPlay.active=1==e.status,this.stateUpcomming.active=2==e.status,this.stateFuture.active=3==e.status,this.stateSettling.active=4==e.status,this.lblCDTime.string=CommonUtil.getTimeString(this.matchData.startTime-(new Date).getTime()/1e3),this.lblStartTime.string=CommonUtil.convertToISTTime(this.matchData.startTime),this.node.getComponent(cc.Button).interactable=3!=e.status&&e.matchID!=ITeenPatti.getCurRoom().roomName,this.curRoomTag.active=e.matchID==ITeenPatti.getCurRoom().roomName,this.stateInPlayGo.active=!this.curRoomTag.active,this.stateUpcommingGo.active=!this.curRoomTag.active,this.i18nFontUpdate()},onBtnClk:function(){ITeenPatti.onMsgReceived("UserRoomSwitch",{room:this.matchData.matchID})}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],FootballMatchWinnerBetListView:[function(e,t,i){"use strict";cc._RF.push(t,"09250Y9GDxHHamNw1/TOQ5E","FootballMatchWinnerBetListView"),cc.Class({extends:cc.Component,properties:{betRecordPrefab:cc.Prefab,recordList:cc.Node,count:{visible:!1,default:0}},clearBetRecord:function(){this.recordList.removeAllChildren(),this.count=0},addBetRecord:function(e){var t=cc.instantiate(this.betRecordPrefab);t.setPosition(0,-50-this.count*t.height),t.getComponent("FootballBetMatchBetRecordView").setBetData(e),this.recordList.addChild(t),this.count++,this.recordList.height=-t.y+t.height,this.node.height=-this.recordList.y+this.recordList.height}}),cc._RF.pop()},{}],FootballRunnerFlagCache:[function(e,t,i){"use strict";cc._RF.push(t,"3ef9dqKXf1EoqTceImqVJPK","FootballRunnerFlagCache");e("Command");cc.Class({extends:cc.Component,properties:{arrRunnerFlag:[cc.SpriteFrame],defaultFlag:[cc.SpriteFrame]},onLoad:function(){},onRoomJoin:function(){ITeenPatti.getCurRoom().flagCache=this},getFlagWithID:function(e){return e<0?this.defaultFlag[Math.abs(e)-1]:e&&this.arrRunnerFlag[e]?this.arrRunnerFlag[e]:this.arrRunnerFlag[0]}}),cc._RF.pop()},{Command:"Command"}],FootballScene:[function(e,t,i){"use strict";cc._RF.push(t,"86353jiwe5Ms5+zhOPqFRXn","FootballScene");var n=e("UIInfo"),a=e("Command"),o=e("BaseScene"),s=(e("MatchRoom"),e("FootballRunnerFlagCache")),r=e("LanguageData"),l=e("FootballMatchInBetView");cc.Class({extends:o,properties:{matchInBetView:l,runnerFlagCache:s,matchListNode:cc.Node,suspendNode:cc.Node,suspendLabel:cc.Label,switchLabel:cc.Label,switchNode:cc.Node,matchListBtn:cc.Node,historyBtn:cc.Node,closeBtn:cc.Node,alertPrefab:cc.Prefab,storePrefab:cc.Prefab,bankStorePrefab:cc.Prefab,withdrawChipsPrefab:cc.Prefab,giftChipsPrefab:cc.Prefab,bankToBankPrefab:cc.Prefab,bankHistoryPrefab:cc.Prefab,bankAlertPrefab:cc.Prefab,chipsFlyEffectPrefab:cc.Prefab,connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,chipsNotEnough3Prefab:cc.Prefab,chipsNotEnoughTwoItemPrefab:cc.Prefab,footballHelpPopUpPrefab:cc.Prefab,footballBetHistoryPopUpPrefab:cc.Prefab,footballBetWinnerPopUpPrefab:cc.Prefab,fooballBetSummaryPopUpPrefab:cc.Prefab},onLoad:function(){this._super(),this.matchInBetView.node.active=!1,this.closeBtn.active=!1,this.matchListBtn.active=!1,this.historyBtn.active=!1},initComplete:function(){this._super(),this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,1,!1),ITeenPatti.sendMsg("sport",{mode:"Football"}),LogUtil.info("FootballScene","------------------------------------- Football Scene ------------------------------------"),ITeenPatti.addListener(a.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoinFirst),ITeenPatti.addListener(a.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),ITeenPatti.addListener("RoomUpdate",this,this.onRoomUpdate),ITeenPatti.addListener("UserRoomSwitch",this,this.onUserRoomSwitch),ITeenPatti.addListener("footballlist",this,this.onMatchList),ITeenPatti.addListener("winnerbet",this,this.onBetError),ITeenPatti.addListener("footballbetresult",this,this.onBetSummary),this.switchLabel.string=r.t("label_text.switch")+"..."},initRoom:function(){this.switchNode.active=!1,this.matchListNode.active=!1,this.matchListBtn.active=!0,this.closeBtn.active=!0,this.historyBtn.active=!0,this.matchInBetView.node.active=!0,this.runnerFlagCache.onRoomJoin(),this.scheduleOnce(function(){ITeenPatti.sendMsg("footballlist",null),ITeenPatti.sendMsg("footballbets",ITeenPatti.room.matchHistory.getBetIDs())},0),this.matchInBetView.onRoomUpdate(),this.updateSuspendNode()},onRoomJoinFirst:function(e,t){ITeenPatti.removeListener(a.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoinFirst),this.gameCore.uiMng.hideLoading(),this.initRoom()},onEnable:function(){this.matchListNode.active=!1},onBtnCloseClk:function(){this.nextRoom=null,this.gameCore.uiMng.showLoading(),ITeenPatti.sendMsg("leaveroom",null)},onBtnHelpClk:function(){this.gameCore.uiMng.openUI(n.FOOTBALL_HELP_POPUP)},onBtnHistoryClk:function(){this.gameCore.uiMng.openUI(n.FOOTBALL_BET_HISTORY_POPUP)},onBtnListAllClk:function(){ITeenPatti.sendMsg("footballlist",null),this.matchListNode.active=!0},updateSuspendNode:function(){var e=ITeenPatti.getCurRoom(),t=e?e.getMatchInBet():null;t&&(this.suspendNode.active=!t.betEnable,this.suspendNode.active&&(this.suspendLabel.string="match_ends"==t.matchState?r.t("label_text.match_ends"):r.t("label_text.suspend")))},onUserExitRoom:function(e,t){t.user.isItMe&&this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},onUserRoomSwitch:function(e,t){this.nextRoom=t.room,this.switchNode.active=!0,ITeenPatti.sendMsg("sport",{mode:"Football",lastroom:ITeenPatti.room.roomName,joinroom:this.nextRoom}),ITeenPatti.addListener(a.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoin)},onRoomJoin:function(e,t){ITeenPatti.removeListener(a.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoin),this.initRoom()},onRoomUpdate:function(e,t){this.matchInBetView.onRoomUpdate(e,t),this.updateSuspendNode()},onMatchList:function(e,t){this.matchListNode.getComponent("FootballMatchList").onMatchList(e,t)},onBetError:function(e,t){"success"!=t.cmd&&this.gameCore.gameMng.showAlert(r.t("label_text.bet_failed_msg"),"",1)},onBetSummary:function(e,t){this.gameCore.uiMng.openUI(n.FOOTBALL_BET_SUMMARY_POPUP,function(e){e.setInitData(t)})}}),cc._RF.pop()},{BaseScene:"BaseScene",Command:"Command",FootballMatchInBetView:"FootballMatchInBetView",FootballRunnerFlagCache:"FootballRunnerFlagCache",LanguageData:"LanguageData",MatchRoom:"MatchRoom",UIInfo:"UIInfo"}],ForceUpgrade:[function(e,t,i){"use strict";cc._RF.push(t,"d1070g7g8RP55d1WnlsLAYH","ForceUpgrade");var n=e("BaseUI");cc.Class({extends:n,properties:{descLabel:cc.Label},initComplete:function(){this._super()},updateUI:function(e){e.description&&(this.descLabel.string=e.description[this.gameCore.gameMng.curLanguage])},onConfirmBtnClk:function(e){this.gameCore.gameMng.openMarket()},onBlackBgTouchEnd:function(e){e.stopPropagation()},onBackButtonClk:function(){}}),cc._RF.pop()},{BaseUI:"BaseUI"}],FreeChips:[function(e,t,i){"use strict";cc._RF.push(t,"d997ar9LN5BDaNSUArAcdf0","FreeChips");var n=e("BaseUI");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},onBtnClk:function(e){this.gameCore.gameMng.openFreeChipsWebPage()}}),cc._RF.pop()},{BaseUI:"BaseUI"}],FriendOnline:[function(e,t,i){"use strict";cc._RF.push(t,"25243DkZE1FwL5737LqFNna","FriendOnline");var n=e("BaseEdgePopup"),a=e("FacebookIcon"),o=e("ClampLabel"),s=e("GameUtils"),r=e("TeenPattiUser");cc.Class({extends:n,properties:{nameLabel:o,chipsLabel:cc.Label,facebookIcon:a,inviteBtn:cc.Node},onLoad:function(){this._super()},initComplete:function(){this._super(),this.inviteBtn.active=this.gameCore.uiMng.isInGame,this.popupBg.height=this.gameCore.uiMng.isInGame?265:205},playUIOpenAudioEffect:function(){},playUICloseAudioEffect:function(){},initWithData:function(e){this.user=e,this.nameLabel.string=this.user.name,this.chipsLabel.string=s.formatNumberWithRules(this.user.chips);var t=new r;t.initWithUserinfoData(e),this.facebookIcon.initWithTeenPattiUser(t),this.schedule(this.closeUI,3)},closeUI:function(){this.unschedule(this.closeUI),this._super(!1)},onInviteBtnClk:function(e){this.closeUI(),this.gameCore.userMng.inviteToGame(this.user.id)}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",ClampLabel:"ClampLabel",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",TeenPattiUser:"TeenPattiUser"}],FriendRankItemNew:[function(e,t,i){"use strict";cc._RF.push(t,"e407bk9rjJE8L1+PgUQfQAY","FriendRankItemNew");var n=e("FriendRankItem"),a=e("LanguageData"),o=e("Command");cc.Class({extends:n,properties:{removeBtn:cc.Node,chipImg:cc.Node},setUserInfo:function(e){this._super(e),this.removeBtn.active=2==e.tpProfile.relation,this.lblName.node.y=2==e.tpProfile.relation?-23:-38,this.chipImg.y=this.lblChip.node.y=2==e.tpProfile.relation?-55:-72,this.refreshLocalizedLabel()},onRemoveBtnClk:function(e){this.user&&this.gameCore.gameMng.showAlert(a.t("label_text.remove_friend_msg",{name:this.user.strTPName}),"",2,handler(this,this.deleteUser),null,a.t("label_text.remove"))},deleteUser:function(){this.user&&ITeenPatti.sendMsg(o.SERVER_CMD_DELETE_FRIEND,{i:this.user.strTPID})}}),cc._RF.pop()},{Command:"Command",FriendRankItem:"FriendRankItem",LanguageData:"LanguageData"}],FriendRankItem:[function(e,t,i){"use strict";cc._RF.push(t,"1a932/a9CJNhL5F5sJGMPyi","FriendRankItem");var n=e("FacebookIcon"),a=(e("UIInfo"),e("DataAnalysisKey")),o=e("LanguageData"),s=(e("FriendRankList"),e("GameUtils")),r=(e("ISmartFox"),e("ClampLabel")),l=e("BaseComponent");cc.Class({extends:l,properties:{icon:n,lblName:r,lblChip:cc.Label,lblStatus:cc.Label,inviteBtn:cc.Button,inviteBtnLabel:cc.Label,joinBtn:cc.Button,watchBtn:cc.Button,lblRoomName:cc.Label,online:cc.Node,offline:cc.Node,user:{default:null,visible:!1}},onLoad:function(){this.lblRoomName.node.on("size-changed",handler(this,function(){this.lblRoomName.node.x=350,this.lblRoomName.node.width>160&&(this.lblRoomName.node.x-=(this.lblRoomName.node.width-160)/2)}))},setUserInfo:function(e){var t=!0;this.user&&this.user.strTPID==e.strTPID&&(t=!1),this.user=e,this.inviteBtn.node.active=this.gameCore.uiMng.isInGame&&this.gameCore.friendsMng.canInviteToRoom(),this.resetButton(),e.invited&&(this.inviteBtnLabel.string=o.t("label_text.sent"),this.inviteBtn.interactable=!1),this.inviteBtn.node.active&&this.user.roomName&&ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().strRoomName==this.user.roomName&&(this.inviteBtn.interactable=!1),this.lblName.string=e.strTPName,this.lblChip.string=s.formatNumberWithRules(e.nChips),this.lblStatus.string="",t&&this.icon.initWithTeenPattiUser(e),this.updateStatus()},updateStatus:function(){this.watchBtn.node.active=!this.gameCore.uiMng.isInGame&&this.user.roomName&&this.user.online&&this.canJoinRoom()&&this.gameCore.friendsMng.isVIPWatchRoom(this.user.roomName),this.joinBtn.node.active=!this.gameCore.uiMng.isInGame&&this.user.online&&this.canJoinRoom()&&!this.watchBtn.node.active,this.lblRoomName.string=this.watchBtn.node.active||this.joinBtn.node.active?this.gameCore.gameMng.getRoomName(this.user.roomName):"",this.lblStatus.node.active=!this.joinBtn.node.active&&!this.inviteBtn.node.active&&!this.watchBtn.node.active,this.user.online&&(!this.user.roomName||this.user.roomName&&0==this.user.roomName.indexOf("ab@"))?(this.lblStatus.string=o.t("label_text.in_lobby"),this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.online&&this.user.roomName&&-1!=this.user.roomName.indexOf("Deluxe")?(this.lblStatus.string=o.t("label_text.deluxe_table"),this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.online&&this.user.roomName&&-1!=this.user.roomName.indexOf("#pri")?(this.lblStatus.string=o.t("label_text.private_room"),this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.online&&this.user.roomName&&-1!=this.user.roomName.indexOf("#fri")?(this.lblStatus.string=o.t("label_text.friends_table"),this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.online&&this.user.roomName&&-1!=this.user.roomName.indexOf("#tou")?(this.lblStatus.string=o.t("label_text.tournament"),this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.online&&this.user.roomName&&-1!=this.user.roomName.indexOf("@@")?(this.lblStatus.string=o.t("label_text.deluxe_table"),this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.online&&this.user.roomName&&-1!=this.user.roomName.indexOf("rummy")?(this.lblStatus.string="In Rummy Room",this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.roomName&&-1!=this.user.roomName.indexOf("Gold")?(this.lblStatus.string=o.t("label_text.vip_table"),this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.online&&this.user.roomName&&-1!=this.user.roomName.indexOf("poker")?(this.lblStatus.string="In Poker Room",this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.roomName&&"Cricket"==this.user.roomName?(this.lblStatus.string=o.t("label_text.in_cricket_room"),this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.roomName&&-1!=this.user.roomName.indexOf("Football")?(this.lblStatus.string=o.t("label_text.football_bet"),this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.online&&ITeenPatti.getCurRoom()&&-1!=ITeenPatti.getCurRoom().strRoomName.indexOf("rummy")?(this.lblStatus.string=o.t("label_text.in_lobby"),this.lblStatus.node.color=new cc.Color(255,255,255)):this.user.roomName&&this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.isInGoldScene?(this.lblStatus.string=o.t("label_text.in_lobby"),this.lblStatus.node.color=new cc.Color(255,255,255)):(this.lblStatus.string=o.t("label_text.offline"),this.lblStatus.node.color=new cc.Color(180,180,180)),this.online.active=this.user.online,this.offline.active=!this.user.online},canJoinRoom:function(){var e=ITeenPatti.getCurRoom();return!(this.gameCore.uiMng.isInGame&&e&&e.roomName&&-1!=e.roomName.indexOf("#tou"))&&((!this.user.roomName||-1==this.user.roomName.indexOf("#pri")&&0!=this.user.roomName.indexOf("ab@"))&&((!this.user.roomName||!this.gameCore.friendsMng.isVIPRoomNoJoin(this.user.roomName))&&!(!this.user.roomName||-1==this.user.roomName.indexOf("NoLimit")&&(-1!=this.user.roomName.indexOf("#pri")||-1!=this.user.roomName.indexOf("#fri")||-1!=this.user.roomName.indexOf("#tou")||-1!=this.user.roomName.indexOf("@@")||-1!=this.user.roomName.indexOf("Cricket")||-1!=this.user.roomName.indexOf("rummy")||-1!=this.user.roomName.indexOf("Football")||-1!=this.user.roomName.indexOf("Deluxe")))))},resetButton:function(){this.inviteBtnLabel.string=o.t("label_text.invite"),this.inviteBtn.interactable=!0},hideButtonAndStatus:function(){this.joinBtn.node.active=!1,this.inviteBtn.node.active=!1},onInviteBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(a.INVITE_TOTABLE_CLIENT),this.inviteBtnLabel.string=o.t("label_text.sent"),this.inviteBtn.interactable=!1,this.user.invited=!0,this.gameCore.userMng.inviteToGame(this.user.strTPID)},onJoinBtnClk:function(e){if(this.user.roomName){if(-1!=this.user.roomName.indexOf("NoLimit")&&!this.gameCore.gameMng.noLimitRoomHasEnoughChips())return;this.gameCore.dataAnalysisMng.sendData(a.JOIN_TABLE_FRIENDSLIST),0==this.user.roomName.indexOf("BAB@")?this.gameCore.userMng.playInABPVPRoom(this.user.roomName):this.gameCore.userMng.playInRoom(this.user.roomName)&&(this.gameCore.userMng.watchFriendName=this.user.strTPName)}}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClampLabel:"ClampLabel",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon",FriendRankList:"FriendRankList",GameUtils:"GameUtils",ISmartFox:"ISmartFox",LanguageData:"LanguageData",UIInfo:"UIInfo"}],FriendRankList:[function(e,t,i){"use strict";cc._RF.push(t,"860cdgaw6dCXag1pYrazwOH","FriendRankList");var n=e("ITeenPatti"),a=e("BaseComponent"),o=e("Command"),s=(e("UIInfo"),e("DataAnalysisKey"),e("AERankListView"));cc.Class({extends:a,properties:{prfRankItem:cc.Prefab,contentView:cc.Node,listView:s,fbInviteBtn:cc.Button,whatsappInviteBtn:cc.Button,itemList:{default:[],visible:!1},sendAll:cc.Node},onLoad:function(){this.contentView.removeAllChildren(),this.listView.setItemInitCb(handler(this,this.onItemViewInit)),this._super()},initComplete:function(){this._super(),this.updateInviteBtn();var e=n.getCurPlayer();if(e)for(var t=e.getFBFriendList().concat(),i=0;i<t.length;i++)t[i].invited=!1;this.updateList(),this.initCompleteRepeat()},initCompleteRepeat:function(){this._super(),this.gameCore.uiMng.addListener(o.SERVER_CMD_FRIEND_LIST,this,this.updateList),this.gameCore.uiMng.addListener(o.UI_CMD_FRIEND_ONLINE,this,this.onFriendOnline)},onEnterForeground:function(){this._super(),this.rearrangeList()},updateInviteBtn:function(){this.fbInviteBtn.node.x=cc.sys.isNative?130:2,this.whatsappInviteBtn.node.active=!!cc.sys.isNative,this.fbInviteBtn.interactable=this.whatsappInviteBtn.interactable=!this.gameCore.userMng.isInDeluxeRoom},friendSort:function(e,t){return e.roomName?t.roomName?t.nChips-e.nChips:-1:e.online?t.roomName?1:t.online?t.nChips-e.nChips:-1:t.online||t.roomName?1:t.nChips-e.nChips},onFriendOnline:function(){this.isBackground||this.rearrangeList()},rearrangeList:function(){this.updateList()},onItemViewInit:function(e,t){var i=e.getComponent("FriendRankItem");i.gameCore=this.gameCore,i.setUserInfo(t)},updateList:function(){console.info("["+(new Date).toISOString()+"][Friend Rank List]","---------- Init Friend List Begin ----------------");var e=n.getCurRoom();if(this.gameCore.uiMng.isInGame&&e){if(this.lastRoomId!=e.roomId)for(var t=0;t<this.itemList.length;t++){var i=this.listView.getItemView(t);i&&i.getComponent("FriendRankItem").resetButton()}this.lastRoomId=e.roomId}var a=n.getCurPlayer().getFBFriendList().concat();a.sort(this.friendSort),console.info("["+(new Date).toISOString()+"][Friend Rank List]","---------- Init Friend Sort End ----------------");for(t=0;t<a.length;t++)this.listView.addItemData(t,a[t]);this.i18nFontUpdate(),console.info("["+(new Date).toISOString()+"][Friend Rank List]","---------- Init Friend List End ----------------")},onInviteSendAllClk:function(e){if(this.gameCore.friendsMng.canInviteToRoom()){for(var t=[],i=n.getCurPlayer().getFBFriendList().concat(),a=0;a<i.length;a++)i[a].invited=!0,i[a].roomName&&n.getCurRoom()&&n.getCurRoom().strRoomName==i[a].roomName||t.push(i[a].strTPID);this.gameCore.userMng.inviteToGame(t),this.sendAll.active=!1,this.listView.forceItemInitCb()}},onInviteFBFriendsClk:function(e){this.gameCore.gameMng.openInviteFriends()},onInviteWhatsAppFriendsClk:function(e){}}),cc._RF.pop()},{AERankListView:"AERankListView",BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey",ITeenPatti:"ITeenPatti",UIInfo:"UIInfo"}],FriendRequestItem:[function(e,t,i){"use strict";cc._RF.push(t,"aeee2VonzpGpLiXpJnXQ9Vi","FriendRequestItem");var n=e("BaseComponent"),a=e("FacebookIcon"),o=e("ClampLabel"),s=e("LanguageData"),r=e("GameUtils"),l=e("Command"),c=(e("TeenPattiUser"),e("DataAnalysisKey"));cc.Class({extends:n,properties:{titleLabel:cc.Label,icon:a,nameLabel:o,balanceLabel:cc.Label,joinBtn:cc.Node,acceptBtn:cc.Node},initComplete:function(){this._super()},setUserInfo:function(e){this.data=e;var t=null;this.joinBtn.active=!1,this.acceptBtn.active=!1,"friend_invitation"==e.type?(this.titleLabel.string=s.t("label_text.join_my_table"),t=e.inviter,this.joinBtn.active=!0):"friend_request"==e.type&&(this.titleLabel.string=s.t("label_text.add_as_friend"),t=e.user,this.acceptBtn.active=!0),t&&(this.icon.initWithTeenPattiUser(t),this.nameLabel.string=t.strTPName,this.balanceLabel.string=r.formatNumberWithRules(t.nChips))},onCloseBtnClk:function(e){this.data&&("friend_invitation"==this.data.type?(this.gameCore.dataAnalysisMng.sendData(c.DECLINE_FRIENDSTABLE_REQUEST),this.data.expired=(new Date).getTime()/1e3):"friend_request"==this.data.type&&this.gameCore.friendsMng.refuseAddFriend(this.data))},onJoinBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(c.ACCEPT_FRIENDSTABLE_REQUEST),this.data.expired=(new Date).getTime()/1e3,this.gameCore.userMng.playInRoom(this.data.roomName),this.closeUI()},onAcceptBtnClk:function(e){this.data&&ITeenPatti.sendMsg(l.SERVER_CMD_ADD_FRIEND_DECISION,{i:this.data.user.strTPID})}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClampLabel:"ClampLabel",Command:"Command",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser"}],FriendRequestList:[function(e,t,i){"use strict";cc._RF.push(t,"84995pEra1Ik56cqU29BWi6","FriendRequestList");e("ITeenPatti");var n=e("BaseComponent"),a=e("Command"),o=(e("UIInfo"),e("DataAnalysisKey"),e("AERequestListView"));cc.Class({extends:n,properties:{contentView:cc.Node,emptyState:cc.Node,listView:o,itemList:{default:[],visible:!1}},onLoad:function(){this.contentView.removeAllChildren(),this.listView.setItemInitCb(handler(this,this.onItemViewInit)),this._super()},initComplete:function(){this._super(),this.updateList(),this.initCompleteRepeat()},initCompleteRepeat:function(){this._super(),this.gameCore.uiMng.addListener(a.UI_CMD_INVITATION_COUNT,this,this.updateList),this.gameCore.uiMng.addListener(a.UI_CMD_FRIEND_REQUEST_COUNT,this,this.updateList)},onEnterForeground:function(){this._super(),this.updateList()},friendSort:function(e,t){return e.receiveTime-t.receiveTime},onItemViewInit:function(e,t){var i=e.getComponent("FriendRequestItem");i.gameCore=this.gameCore,i.setUserInfo(t)},updateList:function(){console.info("["+(new Date).toISOString()+"][Friend Request List]","---------- Init Friend Request List Begin ----------------"),this.listView.reset();var e=this.gameCore.friendsMng.arrAddFriendRequestList;e.sort(this.friendSort),console.info("["+(new Date).toISOString()+"][Friend Request List]","---------- Init Friend Request Sort End ----------------");for(var t=0;t<e.length;t++)this.listView.addItemData(t,e[t]);return this.emptyState.active=this.node.active&&e.length<1,this.i18nFontUpdate(),console.info("["+(new Date).toISOString()+"][Friend Request List]","---------- Init Friend Request List End ----------------"),e.length}}),cc._RF.pop()},{AERequestListView:"AERequestListView",BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey",ITeenPatti:"ITeenPatti",UIInfo:"UIInfo"}],FriendsButton:[function(e,t,i){"use strict";cc._RF.push(t,"feaddxyriFF9pOPUcL2a5uM","FriendsButton");var n=e("BaseComponent"),a=e("Command");cc.Class({extends:n,properties:{redDot:cc.Node,friendRequestCount:{default:0,visible:!1},invitationCount:{default:0,visible:!1}},onLoad:function(){this._super(),this.redDot.active=!1},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(a.UI_CMD_FRIEND_REQUEST_COUNT,this,this.onFriendRequest),this.friendRequestCount=this.gameCore.friendsMng.arrAddFriendRequestList.length,this.updateStatus()},onInvitation:function(e){this.invitationCount=e,this.updateStatus()},onFriendRequest:function(e){this.friendRequestCount=e,this.updateStatus()},updateStatus:function(){this.redDot.active=this.invitationCount+this.friendRequestCount>0}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command"}],FriendsManager:[function(e,t,i){"use strict";cc._RF.push(t,"91baeSgr6lJdYQVCbhKj9sw","FriendsManager");var n=e("BaseManager"),a=e("ITeenPatti"),o=e("Command"),s=e("UIInfo"),r=e("LanguageData"),l=e("TeenPattiUser");cc.Class({extends:n,properties:{isFirstGet:!0,arrFBIDList:[],arrInstantGameFriendsList:[],arrAddFriendRequestList:[]},ctor:function(){this.arrFBIDList=[]},setGameCoreComplete:function(){var e=a.getCurPlayer();isInstantGame?FBInstant.player.getConnectedPlayersAsync().then(this.onInstantGameFriendListGet.bind(this)):e&&e.isFacebookLogin()&&IFacebook.getFriendList(e.strFBID,handler(this,this.onFBFriendListGet)),this.loadAddFriendRequestFromLocal(),this.gameCore.uiMng.addListener(o.SERVER_CMD_FRIEND_ONLINE,this,this.onFriendOnline),this.gameCore.uiMng.addListener(o.SERVER_CMD_ADD_FRIEND_REQUEST,this,this.onAddFriendRequest),this.gameCore.uiMng.addListener(o.SERVER_CMD_ADD_FRIEND_DECISION,this,this.onAddFriendDecision),this.gameCore.uiMng.addListener(o.UI_CMD_SCENE_LOADED,this,this.onSceneLoaded),a.addListener(o.SERVER_CMD_DELETE_FRIEND,this,this.onDelFriend)},onFriendOnline:function(e){for(var t=a.getCurPlayer().arrFriends,i=0;i<t.length;i++)if(t[i].strTPID==e.id){t[i].online=!0,t[i].updateUserInfo(e);break}this.openFriendOnline(e),this.isBackground||this.gameCore.uiMng.dispatch(o.UI_CMD_FRIEND_ONLINE)},onAddFriendRequest:function(e){if(1==e.type){var t=new l;t.initWithUserinfoData(e.userInfo);for(var i=0;i<this.arrAddFriendRequestList.length;i++)if(this.arrAddFriendRequestList[i].user.strTPID==t.strTPID)return;e.userInfo.receiveTime=(new Date).getTime();var n={type:"friend_request",user:t,receiveTime:(new Date).getTime(),json:e.userInfo};this.arrAddFriendRequestList.unshift(n),this.arrAddFriendRequestList.length>30&&this.arrAddFriendRequestList.splice(this.arrAddFriendRequestList.length-1,1),this.gameCore.uiMng.dispatch(o.UI_CMD_FRIEND_REQUEST_COUNT,this.arrAddFriendRequestList.length),this.saveAddFriendRequestToLocal()}else 2==e.type?this.gameCore.gameMng.showAlert(r.t("label_text.you_reach_limit"),"",2,function(){this.gameCore.uiMng.openUI(s.FRIENDS)}.bind(this),null,r.t("label_text.go_to_remove")):3==e.type&&this.gameCore.gameMng.showAlert(r.t("label_text.other_reach_limit"))},onAddFriendDecision:function(e){if(!e.errorcode){if(e.userInfo){var t=new l;t.initWithUserinfoData(e.userInfo),this.acceptAddFriend(t)}2==e.type?this.gameCore.gameMng.showAlert(r.t("label_text.you_reach_limit"),"",2,function(){this.gameCore.uiMng.openUI(s.FRIENDS)}.bind(this),null,r.t("label_text.go_to_remove")):3==e.type&&this.gameCore.gameMng.showAlert(r.t("label_text.other_reach_limit"))}},refuseAddFriend:function(e){this.removeOneRequestFriend(e.user)},acceptAddFriend:function(e){this.removeOneRequestFriend(e)},removeOneRequestFriend:function(e){for(var t=0;t<this.arrAddFriendRequestList.length;t++)if(this.arrAddFriendRequestList[t].user.strTPID==e.strTPID){this.arrAddFriendRequestList.splice(t,1),this.gameCore.uiMng.dispatch(o.UI_CMD_FRIEND_REQUEST_COUNT,this.arrAddFriendRequestList.length);break}this.saveAddFriendRequestToLocal()},loadAddFriendRequestFromLocal:function(){if(this.arrAddFriendRequestList=[],a.getCurPlayer())for(var e=string.format("AE_FRIEND_ADD_REQUEST_HISTORY_{0}",a.getCurPlayer().userId),t=JSON.parse(cc.sys.localStorage.getItem(e)),i=0;t&&i<t.length;i++){var n=new l;n.initWithUserinfoData(t[i]);var o={type:"friend_request",user:n,receiveTime:t[i].receiveTime,json:t[i]};this.arrAddFriendRequestList.push(o)}},saveAddFriendRequestToLocal:function(){for(var e=[],t=string.format("AE_FRIEND_ADD_REQUEST_HISTORY_{0}",a.getCurPlayer().userId),i=0;i<this.arrAddFriendRequestList.length;i++)e.push(this.arrAddFriendRequestList[i].json);cc.sys.localStorage.setItem(t,JSON.stringify(e))},openFriendOnline:function(e){this.gameCore.userMng.isInDeluxeRoom||this.gameCore.friendsMng.canInviteToRoom()&&(this.isBackground?this.cacheUIData(e):(this.gameCore.uiMng.closeUI(s.FRIEND_ONLINE),this.gameCore.uiMng.openUI(s.FRIEND_ONLINE,function(t){t?t.initWithData(e):this.cacheUIData(e)}.bind(this))))},judgeUICache:function(){if(this.uiCacheDataList.length>0){for(var e=0;e<this.uiCacheDataList.length;e++)this.openFriendOnline(this.uiCacheDataList[e]);this.uiCacheDataList=[]}},getStrIconUrl:function(e){for(var t=0;t<this.arrInstantGameFriendsList.length;t++)if(this.arrInstantGameFriendsList[t].id==e)return this.arrInstantGameFriendsList[t].photo;return""},onInstantGameFriendListGet:function(e){this.arrFBIDList=[],this.arrInstantGameFriendsList=[];for(var t=a.getCurPlayer(),i=0;i<e.length;i++)this.arrFBIDList.push(e[i].getID()),t.addFBFriend(e[i].getID(),e[i].getName()),this.arrInstantGameFriendsList.push({id:e[i].getID(),name:e[i].getName(),photo:e[i].getPhoto()});this.getFriendList()},onFBFriendListGet:function(e){var t=a.getCurPlayer();if(e&&e.data)for(var i=e.data,n=0;n<i.length;n++){var o=i[n];this.arrFBIDList.push(o.id),t.addFBFriend(o.id,o.name)}e&&e.paging&&e.paging.next?IFacebook.getFriendList(this.gameCore.userMng.myself.strFBID,handler(this,this.onFBFriendListGet),e.paging.next):this.getFriendList()},getFriendList:function(){var e=a.getCurPlayer();return!(!e||!e.isFacebookLogin())&&(a.sendMsg(o.SERVER_CMD_FRIEND_LIST,{i:this.isFirstGet}),this.isFirstGet&&this.gameCore.uiMng.addListener(o.SERVER_CMD_FRIEND_LIST,this,this.onFriendListGet),!0)},onInviteFriendListGet:function(e){if(e&&e.data){var t=a.getCurPlayer();if(t){for(var i=e.data,n=0;n<i.length;n++)t.addFBInviteFriend(i[n]);e.paging&&e.paging.next&&IFacebook.getInviteFriendList(this.gameCore.userMng.myself.strFBID,handler(this,this.onInviteFriendListGet),e.paging.next)}}},onFriendListGet:function(e){if(this.isFirstGet=!1,this.gameCore.uiMng.removeListener(o.SERVER_CMD_FRIEND_LIST,this,this.onFriendListGet),a.getCurPlayer())for(var t=a.getCurPlayer().arrFriends,i=this.arrFBIDList.length-1;i>=0;i--)for(var n=0;n<t.length;n++)if(this.arrFBIDList[i]==t[n].strFBID){this.arrFBIDList.splice(i,1);break}a.sendMsg(o.SERVER_CMD_ADD_FRIENDS,{is:this.arrFBIDList}),this.gameCore.uiMng.addListener(o.SERVER_CMD_ADD_FRIENDS,this,this.onFriendsAdded)},onDelFriend:function(e,t){var i=a.getCurPlayer();if(i)for(var n=0;n<i.arrFriends.length;n++)if(i.arrFriends[n].strTPID==t.userInfo.id){i.arrFriends.splice(n,1),this.gameCore.uiMng.dispatch(o.UI_CMD_UPDATE_FRIEND_LIST);break}},onFriendsAdded:function(e){this.gameCore.uiMng.removeListener(o.SERVER_CMD_ADD_FRIENDS,this,this.onFriendsAdded)},isVIPRoomNoJoin:function(e){return!1},isVIPWatchRoom:function(e){return-1!=e.indexOf(ROOM_TYPE.TEXAS_HOLDEM_GOLD)||-1!=e.indexOf(ROOM_TYPE.CLASSIC_GOLD+"@")},isVIPRoomNoInvite:function(e){return-1!=e.indexOf(ROOM_TYPE.TEXAS_HOLDEM_GOLD)||-1!=e.indexOf(ROOM_TYPE.CLASSIC_GOLD+"@")},canInviteToRoom:function(){if(!this.gameCore.uiMng.isInGame)return!1;var e=a.getCurRoom();return!(this.gameCore.uiMng.isInGame&&e&&e.roomName&&this.isVIPRoomNoInvite(e.roomName))&&(!(this.gameCore.uiMng.isInGame&&e&&e.roomName&&-1!=e.roomName.indexOf("@@")&&-1==e.roomName.indexOf("NoLimit"))&&(!(this.gameCore.uiMng.isInGame&&e&&e.roomName&&-1!=e.roomName.indexOf("Deluxe"))&&(!(this.gameCore.uiMng.isInGame&&e&&e.roomName&&-1!=e.roomName.indexOf("rummy"))&&!(this.gameCore.uiMng.isInGame&&e&&e.roomName&&-1!=e.roomName.indexOf("#tou")))))},inviteInstantGameFriends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};FBInstant.inviteAsync({image:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QCMRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAASygAwAEAAAAAQAAAJ0AAAAA/+EJ0mh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHBob3Rvc2hvcDpJbnN0cnVjdGlvbnM9IkZCTUQwMTAwMGE4OTBkMDAwMGJhM2QwMDAwMzQ4NTAwMDAyZDk3MDAwMDRiYTcwMDAwYWVkZTAwMDAyOTNkMDEwMDJlNDYwMTAwOTQ1NjAxMDA1NjY1MDEwMDIyZmIwMTAwIi8+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0idyI/PgD/7QCuUGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAHYcAVoAAxslRxwCAAACAAIcAigAYkZCTUQwMTAwMGE4OTBkMDAwMGJhM2QwMDAwMzQ4NTAwMDAyZDk3MDAwMDRiYTcwMDAwYWVkZTAwMDAyOTNkMDEwMDJlNDYwMTAwOTQ1NjAxMDA1NjY1MDEwMDIyZmIwMTAwOEJJTQQlAAAAAAAQiUJMqACvh0a+4m8vSLJnzv/CABEIAJ0BLAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAADAgQBBQAGBwgJCgv/xADDEAABAwMCBAMEBgQHBgQIBnMBAgADEQQSIQUxEyIQBkFRMhRhcSMHgSCRQhWhUjOxJGIwFsFy0UOSNIII4VNAJWMXNfCTc6JQRLKD8SZUNmSUdMJg0oSjGHDiJ0U3ZbNVdaSVw4Xy00Z2gONHVma0CQoZGigpKjg5OkhJSldYWVpnaGlqd3h5eoaHiImKkJaXmJmaoKWmp6ipqrC1tre4ubrAxMXGx8jJytDU1dbX2Nna4OTl5ufo6erz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAECAAMEBQYHCAkKC//EAMMRAAICAQMDAwIDBQIFAgQEhwEAAhEDEBIhBCAxQRMFMCIyURRABjMjYUIVcVI0gVAkkaFDsRYHYjVT8NElYMFE4XLxF4JjNnAmRVSSJ6LSCAkKGBkaKCkqNzg5OkZHSElKVVZXWFlaZGVmZ2hpanN0dXZ3eHl6gIOEhYaHiImKkJOUlZaXmJmaoKOkpaanqKmqsLKztLW2t7i5usDCw8TFxsfIycrQ09TV1tfY2drg4uPk5ebn6Onq8vP09fb3+Pn6/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/9sAQwEFBQUHBgcOCAgOHhQRFB4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4e/9oADAMBAAIRAxEAAAHzOyqVadjkjG1BAFZ07GIrMS9Mu0U7edfavdPjKb6W15qHCQgnAVaZ2zYGGu2O+YjZZeCKNogHCmRYleVyOrOZdsUOErXNS2gDmcEIZeLgkcuSDNlSlf1i00sH1FZps5tuR7zh17XzLrbrnfzZszJ6+EjbQvUeWimzeqZqN0tjnXnKNHS03K1a2v3eh40tvdavyL190TZ845B04TmQX1RlVddf859BzEgaNRzYOpngPL67p9EREQAt6J3jsH07y/oPP7PbKisruY8QqO59Hk8yH6b5f0y3zdxrpbVaDaTt9RI5F7FQKHkHSBpus3zyLFwBytu/sXPPmrwaVhWsGYLurOf0Mq5Nmg1UqkcdHM/AhHPoJExzaHeAe8PaN1Seg8utlzvqtV5o8f6yhd+zzeieT+iMWHAoXPuc6FjNvmuZTybdVQ5A0FZIe5qixHfA1wrCnUnrn1QWQyIDr50jlazVJkSVRhxlFI3hNCFDGWnQ9by3q/md/NdQwFyL0a3KG5aJVuDh3qGBq/Z/NcE30/nweFMFqTJZ7oevGfpc5PoNEH/FWvOtOB1qiphADrm8hkoAkoApCGRc86I0MuioFibr1bxb1jg7X/Beg+UcXV3L3ghHt9fHxt7w+dgGYY9PnCbap+x8ExUOZlv4fmh7F60i1vW+ac9Qv6J2Ztey6Xn144/dK5W8PpvduX2Xz9tZU3XisBBBWpH9tz6c4txdB6DrbUWenP8ASvF5ZX3H9Ybn9Dyrd5VaNdKctvB2LVbkvV5gVlgT2sGdv0nRmZvr3phycV0z/jRizsvGPQBMulc89x+rZs+ZcY69geoJZvmCm5mvAd8LTPxpPpTHt4Lg3p3F8fpVdO22vk9G/wCRse3nazX9FzR5e8ZluIUh4vZdGR0uetO6YTothcU3f68r+45onTzVF3TVOnN6fTIrAWrzhLK1jk+jouX0aTpU3YY5QjRnwgDKyESirzgb/ievzvUq6pJy+81ZdZUvz0Fp0nJhwKETPpctHJE1Q7Cpehxd88qCsjTdYLng9Xhd7znLxrxek+XIK+C+s41yrdYWgRy+n2C+NwuqFzuq7FSpYXKKmIWjioa681KFurfh68fPXfH9J6Xyrq2bCh4z0fqI+Ul6T0uHiIfcW5z8Obencdn1UkdB6LDg77pn74+N839L+KS8gpUggE7gozQ8E2YZlJWBrGcymZJK3U0hg1pLBYN5R2/N68sqEpsv/9oACAEBAAEFAnDMY0VSVMgMoZS6OCSjkVEGmiwpBeDKaM9g45sGLvQz1Z1dGHRhL1YaEOeajCVKaIQAGlLoyKCORIcnerHETrFuFVLKKvBiIhEicFwKoBItCoo0yC8ht4kY6l0q6MAPiwKMPHsGl9IcspU0pDDQklhISyaCKYJM6slAsn7geTHESnloWGminzfpdu29N9dbltNvcW17t9zbPaz9MudNTMhmSN8xDzQ+ZHQLQ7O0muUfo6ZI9wnDNlLmbK9DktL4QyWc0cUNjcyoVZXCHFaUcUKpF+5zpcljOoixuK3US4Vd/o1MoV9yrHFErUS9kkkj220VuM0+9mWOyvuZFcXIClYllJeJeJeCqBJewXdJN/vJE3d8iO8Rs1xMrcr7+L3W1XvulrutrHEjYzyUIvo0bbYEpiuuYh7lcqSrarmdUuzXEibveDCb51eYa4FoeJeanVBdOwakUQmgj8MTITapUl31zEIvEHVuC7W7TbrJSrmNKquNCls2sPLWlaXt91Haz3+4W97cXe621zGndoEXMe5WovOZ7zHex304tdw90FupKWm5UL24uUzS3V8Lh218m1TbXkdtcXt0m4mNe1WvcBIUCzmd1AhqjUGpNBVwiq5K1UCI9quuUUH3iO6E4Nsfe7raLA20viOy96lnjVGqBGhkoxNJVK8nKlwJVIo7VIIDgkpVFSK1huIo02lzcx2qFJhtESQbimBFlmhrWhrW1LL5alMQRP8AiaH7zAGEVeCw5ZC1Vc37ugeP0fMzt0XKOTtcQkmgs7mJ+IjuARZrKRtm5y8+UJKdwQuCZJ+j7lX0cJcN+pUNwvIioIlnVGlC1NNnUxRJwTqZU6KNUyGiFLdWSyol9TDSWtfTWrlaKlaa0lR/FBHUbJZ8uFE0OF+iO5jvLO5s5LXb1m22dUs58RWcRsBwddfJA6Yf3cXty6CRP0oiGSI3bKiCroASRKoZ19Opdax6MuUBK69gwXMdUvjJa6mWPlDbdkRNCvbYUuAcuNKAXyw91tVTWiIBb21qhFvc70pEu1HSSujHBDgH0aRRyp6AKSjpmkUFMCjkiiVapXRyS6IuAhKWVNVDBIqodWJBTMPKpUWCcYlGsMyZU26ui+P0e2TG5CY+lRKWSC51ALkUkKnGcIVVh07ecXBJLSmqY0KUoxryQioX0u8nzSssqY1al0OdSrFgjHJLKkVQOnVo4yJLIomMpSq0MdbVdUXmsNrcKS4txuQmPepEu1uUy3U8uUtyfpUn6eQGNYJYJerQC40tIDQCBa5JXy1yyTq92VLOKSyuKKW5Xa+HipzeH8I9x2+5tWj2lJ0LTq1UqJgEZhiYhruZpHq6OIgL2hVbS49lQUiX3igXOS/DNc4xVcY5k6DVe8jDdAWCGmjiDSGgOG2mrZ2Qxvj7rLdSGZakSyyWuzpcQjiCVMmokFHebZbSu+C4FFaC0rQCogkRl4h0SwXQvbNttbhN5a28L2GYcuTVKoUXDNtNUWVyRttsuDaMaK1Rb23VLusqZ9xDQKuKM02Tb0TP9FyKcW15ARx29va+JrUq3dcMtnBYz3CkIito5Z6OOXKZK3m1lrdxHHPHf7SuNmodXaW5ndztXKSITXbII+Zdx2RRtcUnuVum3mlSqzjnM8CYTa7dnLDDE4jF7wu9sVLF3Z03e7RJYqTfLT7lcNG33ROzbMuWSfZ5kQ7dt3I7+LLvkbcm3uLs+EbG7s0Sy4u7uHPdZu2kqpK3m82otRZLv9vjumja7VKYtlvIGi1UY7i129EW32E3vFzHPbzQXq+SL6Rd7LpfyYIUlO1Lttw5cVymO4L5F002t0021wxa3D90uHY2UxksLVULBfiG35u7bTuKp1ZPcrW2vorjbLFUMk4D3a5KFTXFRzFZWGqUurBai1F1aRRF3erM43G1Wndb2xmvNyukKmsrtRF9cy1tDnaT/RzWF3HCq7ulrNrKDFeS8xcK5o2iW6Wfdb33M++g1vXY2t/dSbRaLtxvufJt7wlfiNC7iymjsTdGbFE10A4N5lmlykkdxbSSRnbJqx7cXFGmMFbzebUtlTj1VvV1hC9rzt4ZUWN1L7tEtMlsEKEKA03C0QyJStSAEtUkingHHVLzW0yyB/pCU2qiVEPa6W7h3e7jMe6QXMfMQi1sN4iQjcp1Xd9Z3F7bqjk57IRFFHNoiVNDIHm1SNS3m+YzI83ngi5mM072q5mxGFtuSLKYyx7eZJ/0HVN3Au3UC6sOg7V7V7VaJVJdwtMgmlkStcxlRUpVmgqyCXb3OL55KBPR+8P3l+8s3D55fNfMebjVVW5TYwB1ezKARf8AXfKu02ezXksDVfqjtlyyzOx2/wB4aNpvFBG13jls7yJzxz26uY+YzKHYRW00X9HVBG52U9opQUXip9botkLfU6FgqDzWypTqpplkSxOwt5PJ8xwmib5ecw7QqUo7Ssovd4uJprfwzZRIG4WCby4sdnitY9mjRcR7cvm2d5ZQyPbFquLLc7NM93vm2R2UdjtkUu12Gz20cFxtiMNruVzw3cEc8W9WkUUFXXuWfvgkMSlhTSeo6BRqrt//2gAIAQMRAT8BEqYFxZweJJwCQ3Rc0fzZw4sOKEZiwyoPuEeGWeSJWmIq32+LDHFaIhsBM7d3KSm0FjKnFmlE8Fh96BfEnp8dZDAMuj/o/pP6P6W32KPhEa9G/wDcr6f1bJ8J/N2X6JbdgJ+0pscHTFD1cHP2lGARO4l3SyTMgH3M4F2xymIuckdTCXEeE5MglTIzj5TlfePqjLTvL7pTLS0XVocd7XGTutyZDl4L92P/AAOeVgSDk5LtSTVpyylAW7WmI5pyRou6kmnc7B+bt4fwkFyESG6LIjbZd9+HESTT1PTVC0i3Ynwj8tLf6plbIcu12tokNMBuBDhqwS5Y9JONbXp8e2RL1J+wj+jCyGi0+G7aY4ifL7YZYD5DLzoMf9GMbNIiAakw6gRzUnJtRMnlwzjCPLPOJ7gx2xFJnAGnJlF/amZLHguPH6pikaTxiflyYjAuLHPN9m2n3MmMubJLIdxYy9up05Oqnl5HD0+OZxglljpPTSPo54+0OU4ZSx+4OdKY4yfDilLZRRepNByyssP5u8nyjGI/iYw6fKPD7GEjaRww6TDH8IdkQmMT6add0uQy3nlxZJYuPRlV8OKt3KKbDbbbmnpgG7cQ+5jwY/6s8kcY5PlzZhhjYFses+3e++QAb8sur2x3EubrJGO7F49WPUDPH7n2YJ6bGnp4PthMWyH3He5Dp//aAAgBAhEBPwGcdzLjwyiR4RP833a/C4s3oXJIg0UC322OIJhTEcu783cgN0m3bYQ2ExSHIOHKdoYynjl9r7u6O5GV91GRy9X1Ize1Ejn+n+/WHyWeUDKxx/T/AH6j5LPs3ij/AJv9+svksn6X3wR5/L/frP5PJjw78grn/YOXq+oGUQhXPj/eLf7x6qIndfb54/369PKU8QlLQTIH3hoeY6Zp1w5xcbCJmfD9vT4wCWOyXhhg38RCeiy4+Zcs+ixTye6fLj+N6PIKij47DjIkE9FgOL2iPt8uXpMOY/d/gYfG4oyjLn7fCfisJ3X/AGvP9XFiGOAgPRLGmQG4hn5ch5eoNRcOTJCdkMjiygbno57JSwy5emntg+/bAR3scGPGZbQ3bI0yP22HDIkcu1At9sIzkJyc2+XqbgaQJTHCcdeXreMY/wAL8b1J9zn1YzoUibGX3WmelP8AREQH3KD7qcuh86dbG6k4vUMY5AfL8l/ZiH44fzLeNA27+UFydVGP4X9Vk/Nx9WPEmJ40OTmrZSAFspkjhlPdDaXBL2pEyHlOWHo9SMmbKSA9J0ewAku+P5u8Jn+TuMm9psOXOZ9kMkoeGOYSDP8AO3FDceXHGMeAnH7mUhzYNnqyifR+5FsIykgiJ26kgeWQjd9gFsRQTxTf5O6cXfIG05ZHy7tLcWQeEgSQz8cJaaaaYDSXDRkUAljDcnF6OxGKyxxC6kmG08O4vuF3lvSna0x0/9oACAEBAAY/AmpICVJUNUqFQ9OkvXj8Pu0U65a/B1B/U9KPXX71Pu6vQ0eofCrqp4o/HtU9tXT9QfX0j0eiPx+9yqgorUAjg/R66d9OJfx82OIy9X8GFBQQk+r9syrP4d/Qfc+H3qkvFOg+7r0h9KB9rKvX+ZCKJID0/AvV/wADSk+z+Z8nEIx9inkzkklH7XF8tSklEmnF6poX5vzftH8H7R/B+dX7R/B5woUtNaVdTCp6wq/UygQrKwKlOjNLNWnHUf3WZlxKTGBUq0pRiaSM4H81Q844FKT61DGcKhXgzn+UVPwZQhJ6RUuogUPiyRCt05KqvGROJ9Pue1j836/L71D6MqckyIjIoHgGVITikKp0nQ/Y/o0VUvRoBohVAapDC0imaQqnxfB8O9aPg7W0VEcRPnUK86ebkpEPp7XlrTX56u2huUpwSvpTwz6WmWaKq025jjWfzAFyXtr13Uk+Ck/NPs0/W7OzUlJTJGrj61dnAlNECSQgeldaO4CADkoV/BxbdbLExFPpMeGvFqCoirn9SioeXAByxpSAmQpEhrr0n+twyphBkQVYjKgIp5u7kkSnJcgqOIAx8nboWgKENuoINdSCQ51IjIUVdRr8B9zqSQ9H1AKfApehr3H7TKTwPAsJp8/m+ijKF5hVenpYp/pdWhXKKkJTTKPqdCdQ/aftF8cfm9FKCv2qvjX5BiWSNUmOqQk0aJTZzJI0PWNQ0RybfcUQajGUBomG3yjCPlpTmNGu7G23BkVrrKKA/JwxwbfMFRVGSpRjQnWrtqwV5VcpRImh/W1oVZTSqPFWYdRbyCPhy8uqnzZvPdrnHhy+bp/ceZs5Uj8wzGrT/FJEEeZXo1j3OSRSvaVmKPne5yr6cUDMdI+LVKiBcWWpClV1+59NCH7Kg+lR+3sCRxfFioeRdSCU+bp+V5RrxX+VQedyVCNKamqqtdytNeoUR/U+cJ151NU6YmvwZuErCTQVTj+t0LqXo+PbRgBhfOBPpR0WJfsIegm+0hxWMnSuKRSpklNfka8OD50cQ91sxSFGmJPr8PmxLKRcKUkyrUD7XokfB5R+2peh8sfUOPFRAB6dfa+L4Lf5vxfm9HqtA/yn1zp+x8Sp0TBo9JHwBdCkh+0/tYdR5OikVp5vEiimfk84SxzVfQq0ISPP4vSuXkB5tMK0xiLhjStPtdeKS1RydRSdCfMMeVfuVo8ho+Wri+DxI1fKVPIUfslZo6V0+ejrVLWsrUhadKA8X8uGvB8Wfg008/uad+LRWvn2SlqeIaQj0eXk0ze1mKuhQtLMYRoeJU1SCP6MfmDE0Gqk/l9XIhRFK6Nc/wDfIqUPwq6fdHYsfMM9gkklqCTQH1Z18+xPk/kruQOH3U/2e4r6sqD5l1Iqp/KGYOCFUpX9qujERABTpSj4dlxx06vVxoR+RNGuQaJX1fa7oBSf3ZP4NX3B9xB+RZPxdUijSajXy9HIpcwCgnpDPYpIrkWsdsvMFoV6p7/ukv8Adj8X7L4AMF6MJV7Yp9vZTzKhWtFfN1Cw9Rp6unq6erCDWtfso5E14oUP1PI+Yr9wUf8AoPj+p+rSB6M14jjp28mhISE0GvxZfBio78S6VP4Pifwftfq78XwLFRR6snJWXpTQMfJr+TAQrEU0o/3y39MkKHqnRojSRVoIPEksMjyyZj/YJT+Hfh24P2UvgPwdR+NGTSqiylSdXWnbCFBUfg63NwUfCMPoufxS8loqj9tOo7apfss9scE/N+yl6U/BjJajTQdxVx140p2I9CXqO11eH+9xYj5liqwnlo8/N6uvqXcpp+f+oPgXwL4F8C+Bfm0qUk4n182MuD4j1DK1KSXiiIq+Tzuj/kAsRxJShI8gO59GVRICJP1PCaLH0I83xU/aftd+D4Pg082WcLUjI40oGFRKkUCojrp/U1IH5T2mRwXGr9RdEpKnlylU/D+FoRTrmXzFfLyaq6lyLP5UUDSHPKn2SvT+D+r7iszTRqTHQpBaMUlH7WT6zVMYrq8LtCoP5XFP+g0XkeE6B5g6ULquscf6y8YxRnVrP3SiVIUGVW9Vp9PN69lEyBCU0qSzjdRrUE5Y4kOnH5NfMhEhx6En1YwtIAmhyUjyL60qGgPpT+tpTPaiUmpNUtQgto4tPaRwLiV1nmGgGLMuSY5CKEhbPL3OD5SU0Y501utPmdC689HoGfpv1FphtVEqKxXyoA8a6fOj9lP+E/YH+EzzjhQMYJCz6BgzLqo/kHD/AEe4jH9+Vj9nF/QprqQNaVNK0Hxo7j3tPLjlpSMnz9WR6Pi61f2/fqBjL6+vzYC8lq8zlRnGDNP4MruAcQnU1FfkWnEypy/MDVrUCVp/L8qvID+480D6NPtDzH2uMVASTxp5fF/RpxCfIcHRYPKVrQn+D/QfN9zQVfHz/uvGFKgmnA+RekR/F+wPxfso/F8Yw/3kb/ex/gxzJk4/BLzWdfLttqhIqJSs40yJ/IriD+prtLtIivYf3iBwV/KT8OwiuUZAGooaEOGBKVRxQrzAQqlT614ulWmQcFaH5vUvRhX36+ZauUegaP6NRX/YTViO6StMYGvTrV8yEqT5DL0aUA/4P5WlBXWmlR5skZ8v81DQuHl4gKqfT8XhyxGTw9KsQqjSlevEdJDKl+Xs04pYSlSFjEaj1fQoU9C6Jx+wPmedfR8T+D/eEfgylM/l+08riQqk8hXg4545VR8pdSR6Pk3ACJwPLgseocYhjkklRMlScNPnr5aO2iEqNtuo6roj2zX+UwMq/Evi1JMJKcjRSPT4v0ZTknV+0h9ah8g6feqeAfKSepf8HZUXvcOqq9Jq5Zby9USkUSB+Z0Un8GTEcE8Ccn+9/AF8pEuKfOiOLqSo/g/M/MvqUT5P2Q9Eo/wX7X6n7avxfLzPH1dT251fpCNPg1ou0IWUcSjQ09aNSCqtRRQPo6TpIIUKSg1XxaogQvTQk6uWVX5lUA+TSI1Lw/ZOqf8AQasj0scsAD07D+Z+XFqWfs7BMQJPwDMu5QqUPaw0cki4koTJ1RJJoPk9ZAPNSB+X4PILPyYqFYq9gnz/AJvjoxX2hwLCkq+31dDo61eRQMmaebwJpV4l8e/H7+I4q7q+kUnXyaeRkVUGqmiKQqVJ6lJ4uOPa0KUr8yqGoLMd2taZ9ekqxP4NIWtSqaJFas8y5it6eS/a/B5ADD9ryf8Aeh6fScfwfXAqnq8Z4Vxn4jvxDMXImXOU1C8qD5upWpR+BpR0UFlPqU07cXx78e2ii/bL9ov2i+NXr92r+Xc600cKxxyZjK6D4M168hrVkGRSUok5YHF/QzSIrx4auS5WDz45Sc68XEqlKp4PKmC+IWnQsc+izqK04v3JCjEga+o/BolikUQpWOKn70tas1HQeQ1acSrX5F5JnlSpPA14MZjqGhPq1RyCoOjjuYhgSsxKSOBp5/zunenYn49//8QAMxABAAMAAgICAgIDAQEAAAILAREAITFBUWFxgZGhscHw0RDh8SAwQFBgcICQoLDA0OD/2gAIAQEAAT8hObGghNnv0+y80fk/uxvTy/sVRoHs4rH/ADUV0TJ16uoP5FpimOyuih5rPk0gwj4qCh2nwUQ2d591ve38zutV4SD7sWweE/Nh5vlYB1eSuXELI93ijol7pmf23lP830vH+ndAa/w8tbUfvf7s1A5A8rCZLNH/AI3u4CEA69PJTSGX6bxg/peob4r5XBv6q6mo8rxYxkMb/c2l77kbh8TQEcChxWMk3xRGtVy+DzSGBBe7NTgmVeG+HimdKz0PqhGkh6rPT+qBrPCPls77V835Hz/z8feU5/d2tH5aF4H+PiyBErqx2Wz/AMmrbw/5CRMOt/NUw/8ALq+cHsaGfrPlR0yz7BQuI0YmV4eGDHzYUFpxKHpj00aGDGNJqf8AxVHl5i6VF0Z59m/8c6xog58a0hXjlz/dCHJ48v3VG8Agw8cvppCICUvFRIaRg8sZp9MUNDeO5vr/AG/2Vf8AM4fsutqEzgLBNAWQhNBmP4aAg3lC0uruJH+6ToUxnH5s8ikySYs2bNHiS/Cm0g+a4s0aXG4YhjBBUI8TYCOFY/Pq+ctFwmZZHU0RLsR1lhC3Aol5oLwj0FyH3N3/AOG9N9N9A/4UkJObMvCNKeAmZgJgPZv5oJBIJSlknGb9VmrEHPBTt92UIANKRqxz1Kw2yiJI8X5mL6BUA/QKgxTLvjQ/qYMCSZP6KDCE458jpjY92U03HjhPttHSSmQHT/IsCnITBcr2fZ+B+OKQz6nNtO1J3fla5CtBVaR4sOAey+UvyXXBSRedSRyhjxe5bPgfFw+1/upzAnoKUw5SwtZ00Fnt/wBNiUKMkHmN/VVNOQq/L8VH/RXojrkS39t0n6rsI8+q8N/B1+NsExTmNc9O80HATqyEclOORqILv8H4qtQ0qJEnlFxBWGJXId8WCRbhmM+XmyPnxB6geLhkMIZR4qIFGHZiOOkdWTx6ckeI8Vs8XCIGJk+rOHMgCYjDrKv/AAwzIu2SyKVyn6RwYVeUVTzNR4v5BYsqnxLCgvwm+0qRAcGaLqfzS4NPV3B8fLeukQ6sSPuP7pkgTXvx8WUeyws7+LPCua5Mj4Br/wC2Q6l4wp+3ujAWuNP7eKiGIsED4oPs3UZHinhxsRI+IvIW+eL2IdyPppcO9n+jVw/yHxULY5AzHD4YrnapQHj1dq8Fif1VG9l+y8ZQqCU2HDy8Hv8Aujfrsf7v6rLy/CWBkfkU/KqGBRX5WoU1Eof6oFg4fbTh/GBuBL6oGn1S8cus6RDcOK70ERi4UOAgh92J4Oke6oQJ6HH6oUeUC8o+XV61uZUqG8gv5NxCHD8X7pLFw/j901o5vdiheCyBSjxVI1TYGQT82YSUN+IKGjifP3Dz91jhXIafJ3doj8WT0iQGfOnxVGEwICmHrxXJ1uORjZ/DlPzNR7s+0L3twpVEzEff/KHCPuxA1q5mvkap/J+bIOpgpXIXmzQGCTz5qxI6r4sDgSg5lMWh6mtLfpHPFfbJJwBZKtjDhHVgZMTHJHM1kTEAeetPu8Pher2XmVCNNOCn7VkeNm/RYByy2CJYJouTzSqwUeF3QYhJ3R4NIZjCRXt/+h/5UpwSlOrHE1qV/wCrB8D9reFTXqf4oOkdWKBn83uCcsBQw45dAJT46rhYywiicL66HUxC8A7o0sF7Nmp2h4Ifr/7ZI4KHnX9VAfdeKKFZm8j1cPibOGzL5swcf1WCxIT/AHWyI8XFNvHPyuH5Qa0sXKayb0tQ+Ks9U/hsBtT8ZXer6mR+TKM/H/Lf7bZ+j7V+ljus/wAcuqwzmUOkUH9fhBpgu8MQTPj3WURkbvlefN/RZxY34LDPdPiyAW53/BmpNoZJ9rgSUl9lA0sCiepUkZCmQOac1/SjBLEMpRLyS4V04/FBkZd3iaND+dhwBduFh0E15+3m9gsm/osIohysdKu60u4Ka6qyJsTEn1UAADukFKeiwgjOUfYtmpwypQe9Pwi9nH+7Ctgg24EQ5v4cWe6oxJMcuUTgAve1pfOl3/JFxF5Tyj+r4R+f/b4/7/8AaP8A9P8A2zJiidfz/wC3yKwAKlEBTgQq+TO+7CrE0nizC/agnD+ai4eYcfNH1HUY+V/1e03p/wBd03/9w8fdWdqkwawOlhoJFE8zUgae3JfF+K8EHxUSiXwHi7dr7Vt4DW6pN9ZTooOyEfE0XYUeAikTr/nv0fmlzCTyHX7pN0/yf4sL7lCQRr8p/dL/AOF/8gWT/QU3/UUD/wALMgH6UktmdKmmvheE0p9+BswR0W4J3+KWmhDIwf8ADIeLmcrke6PymiNUCuGJynOGzpSeIskj+L2EKHy0DivBSyapzlCn06XJwjsRTfNsen/max0s54H+rPuh47v3dk/0XoaKQwMH6Kw3godWe5j7f/tXBRO/F2UVPyACkV1XSjKTDOfdFhlopAvz3RekH3erJZNlwAs8B0T80b/C8NR61hMnuKKPlb+gsbo/b8tMy5ZdwwgLB3eNlK+yv1Pmzy8vx/3ZqSHiyvChprz6qqZOwQ8MxdQy8aq4fh1jLf1ZHsQ4Y8Pz5q+Cd2Xzn8PxdNXCYjhjP8aJRl44381sxTCDeFQ2knvzxZqyeJf0SP3RT1elD17soEABuBQ4Jf8ALisiciPId+4smQeICXzFV/0LmH+lhTKwYy9d3p+6+n5pRfgJloAIP+cVme+hL+IuL2yZhheaSY+asMCFLylhh17yk+JUNOIqBDQ783VnmX/Etkf89LLZMUWHigdEMUF9FHhoEoOj01vVPoJn1ejmEIP45oUm5rz2e8pJOucemEYfmy8vJYMfIhstHDgjwe5SMqBYlPs/z6sDCAorx04D5Vgm1WSPLSf4Xjevl7C7P2Km6vm0dFn/ALFjf0NHf7NjM9lJqiN4ROD/AHem7SATYfnciO5vK8sYdeZfqorUp7VHpK9jDxQxLu+6TDB5bxgcvg/7P4r2OYGHqy6dK14mKQ7/AOmN5WXTA/guOaQfPuzz5U/jZgJtzwPnzxX7pWVPic9/7uV/t5I9+K7LcAifvzTCKERxzt4f/aNOAGBRxGry/wCmx9/ccRURIlE/Q382SGeb+CPF54fFM6mXzRY/CFjpP5bjgn6cVRkbX/1F0DTeFnbflH/u6Zy6VYqdxz8TdxvIv9T9dUsIApH2HZtlB4KOsCePDMzRkESJNfdlJrHdiTEs/CK8BJeWotunpvLQfdMksOiw4HrwWC6ae1ysjY/MXv1VxXOnVABFUO8HAz4vkJrfvD3zwUEdxso2oNPkIXx5segI4qmPTrD81su9EcDLExlodnmoq6ml0KCsfhqwB8CnXD4FXk+hF0auuXizhl92B0VRsPwJ/wB3cID/AFCuT4fqg0MJQq9NkdTw4KPgjx5bM2ozS+ZoSy/DMB/nmqDy5sP8dVdiGO82IF4AgLguydr+ypW6c32X51977K0iBc1TJZMfCzSjsQVIq866XtOE5vWmioznqQjL2xlOfRM83iPG6/uwlpkRk7/4AsXunRYP+BLDzZpQsHxTZcBo3VAAMdN+VOPy/NADwacpOZ9+aMcycu3fpJLIfMX5gpHumucuqzxsnNfes+/+Xl8XSuir/mRvS/VyBnEFmfVgqPru3fNGYsmkKAE4fxYiECoPDTjSZCQeCsF1A2XvhY0Wt/6afirdJuSX5GrHo1x0bMhOON+Hh+rGxoej5bPmNWHwPspKNGhJeun7siA4yvTzeYaDwyt2TWbI5qd6exvDj7/4iTbQP9l/tKzuYo+ZWvtR+bIwuw5duL0f+tS+hsUMR1Z5amDObAXpTjds2liJV3yAR93e8Bh0fX8RY0RSb5aP4pQ+Ljqhub0K/JcU9VHgpp5vRrQWCBjpj3UrUWkexsl0EWBj7rAaMsn8hSI1SX8XH1FjCUidjug1HUbgaaFz4mNLOys2f+BUsVK/8a7Ki8NBqvVlEOWqWPist2qNm//aAAwDAQACEQMRAAAQO5QDHrnDe0Kttdm02JJgLuVhWeD7j7QKeASRanOMywh1ikqT8XLB+XKoDBMXAEvHHyiH5Lp3A81nt+EJGM2S3Hn+PVJjZ/wVgt8pbXkEHHRqjJSWCQuOgfC6GXgmhI0KN10JiqjHJRnKKK6vf0xJ1a+47IlVToRxvmsR+GOAznJ6G8clUZa+ivBsHxNZJB//xAAzEQEBAQADAAECBQUBAQABAQkBABEhMRBBUWEgcfCRgaGx0cHh8TBAUGBwgJCgsMDQ4P/aAAgBAxEBPxDvWuq3DOn1+f8AtsXSHeFljh79/rm34QjYo4bVzJ+hLPgTPWAZIbVk4mjDGljKLqRaSJARtX97kdzz/n+8ucqPvWPgwcf7/wA/8Xw+X036/wDLgaD95RWB9lsQWM4af8/zxcx8nk5nz4fiL7/8gmMA9QIv8iA35jifdL94d4zpOP4+/wAbOwf7v+bX7n41ueV/nkN0r8csFw4/mTID/wBS4CWMy59/zaOscz9ssg9zc5+YlGZYi+LgzPvKyH3fr7QP8+tvn8ZeuYgXzzA+YD0Rc0GJI4XzrdvAY+0J9EtI8MAcNy4o7n4YEHGG/tLyLUcAw0jhGTC6SOuO4XtPDFj7yATBPm5YsnqAI0LiKP1DH+kC7ucf0f8AJaN7FYLF6+bPlcmHcK5pYSb1bNbBiXifBP0JwHF1x0f4ev0WVjm5a8P18f3gMJn87+3/AGzK5eX+f8dRCGbwQKXqGJLZ7F3M8WJ5EAceIZDTGLBLWRdDUDvh/wCW2vOOcxTjeuPt+ubi3TJvnwfXv/sK66fzcDRN+t039VrD5+nzGn+WnyZ/c5Out5sidW2CC5IB5t2Y9GXeatSzeEPzeSeXCHPRn9P1t1o59iM8/Z8QWCEFwLA3paHBM0x/Y+mQ6XEi/wARelFk6zBk/UkPM+GRkuuzPhcQFoqdTeH6bx8XEQ7YDx9v2+l3gM3eMc3jP9/tOZGggm4m7mftdjEbmdHx9ufs31sKfPxn+bU/2Hd37L8cfGWxCI4/Tnc/tb930UTosOCIviMceZjPfn//2gAIAQIRAT8QMYxcA25SOOQbgr8/gBekceYz1Jy+JHB3DHBbzDwxEje758MMh75Ld5jEhcqdvF9ApBruMdG/PZ/Mb7EgrUM+cfX6XSNK8vhf59PX2+9h4X0EPSuD9vD0xt6cDlmbnXy/n+LNhcOk0PKC6cff7/a46JUoqgbugOfiTq6+zjTa4gqDwYc88cv95ivG/bn+8IacTp3MAfM30BmMuP0nBS519f8AEziPlML0v3z9ftFNAmCOYSPdDTNfnv8Ae0YEzOfgH+nOfzcA2uB9V3/sQNvHy+P+/MGXXDl0fQ+3xdmfmf1XQiMPyJBD4Kfzv+pqTc/j+0A4fFo85tfO2FiT+spPl4P19Zwhg4f69/zBxRi5MYmkjZabIHJYtk8SA00vgz8jfAXJx3LhJAHzKe2P95DouYH4f2Z/Jr2/nj/UmCwso7m3ePAaQjCOJYUQzjP+xnxHcHD8Tk4D44nxv3lqOlnPul/t/mxH5LtGWJxYcHcBy3GDX+kq7/YSOHPvC7Ge4uTlKFzD2mmiwbkD/sd4v7Tdc6OPg/W2Ru7r9Y+khemxYox8A1j+1yseOcuLffMwMcm3hcRjzfPP6/a50x/X6Zs5rRibA+2J7lDji4gz/dplt3i2Qyj1ZzZIsjwhxHX8y2L+FLjDzd02E2+M85z5tHckgL4FHh8/j4DP26V66tmPEO6k68dXAFwBz8S/SWcSNc4ZLPmM8//aAAgBAQABPxBjviw6LRiMgHQdEE91nOgz/Dt8NELEUvg/g96Xk0cbP/V6mRuEhVMkaUXBXL/seqNIFANx4P8AOLjGciAoBAcRMn4/8qqW/bBUBC9IvYH1tdJQPI6+/RUCJkLPhAHhemwSC7ET5vKk92x/Nlas0hIIMDvz7KuFPvKEIfCG/m8yU60NMJh7w9/5FSMTIYvxvX5rwErjwsmDhDg+P93Ell9FMEOY1B+L1BBVXQngEr/X3R0Plt/w/wDlILjgD+nP2gvKaaeHzBh8XXyPL/yw2cNYHSaG2pAuysenZMPqnQO8P/w/zmgxD6PL/VgbH5P/AGqsHfNmUx49jweJ7fFhG1ggH/t3CBth9Pf1P1RHCmIEh4TssHWRm8/o+Jh86UCMJAR+WOfikhexDD6/qjJft5aJy/K+X+fVMQPCf5z+6EkJOuvx/jdgFdf5387eD/ufD/PqmBeOzqzud3DH/PFMw94Uh9PVQfsP8FRgn3ljIH3QBKmLj/4oGUn54UgEFAw28vFi5ueA/wAFYpegfzcv1+a4uFK834D9uapszEMB6DxVwNYc13Vq7HUmK1jJrsCRO89MuDrx7pGH7f5f58VEwHoNjv5oZYIQdC/z9UYzNw8p+1Q+2gMo8akERGdJ4oApxCLxDfsPkGog1HzF0TMG+2oS1BIBhj7mjKIX2u++1kq8mT5URhfal759UcRx7q3g+1PHTQBEFweStnUF3MuT0LrKylH0mnj6gSWWMz0TxtZcJAgJVCVnqVJhTKaH8d1oOBgY4C1J1ncUk/TBIww4lNHkpAC4aCeYET93DVgmZIL2iEeHxTvX0rwW4T0eLzJxRbBqEsfOtNmJowPayafMiOU3y8qNhtoaRKCx90j3/wApnn90Tb9GfyoEPkk3VCInSUUWPusHNaE+bjHgBx59v9WSSOH3zST3atIklJwZQpW5EIDSYrxIZSLORksgMlmJYUDBd+6Vy0SUkIVlEefHugQPBi/Ugj5vAh+KJ4fipPGhnGkdc3N50K4DJ3wQlQQICbC8aGVa7R5PUnGVkTgyAe4USma4o1gTJSQ2lkupxYRgQFAIOgPIUjBFIfsQQerJZMaB3Z8A4QwVLJSA9BMtga2mQdEPix/CD4cUwECeScmgaZDHEOAAg4W91cmwksMtBydZDNRMnV5ABSMjHSGz7acCgZjCXrmWNu05cVuMwYAHRtKQ6hPHxhEET1XakaD5bAv6C+aOScfZJXRy1x/FJHYBt+ea/jFP/pQ6+Kd/FTCI330RDLo0L/MbUY4ZnIRL8H5pK0gJzKF8T+q/eVQibLT4Keg9k9/NUHChUoMTBzyR/urUoyAWQmOVXG9V79QgyfUVmR/49WKSByvD9UIwQIaHcRhYSO7KReHhHooYekoDHz1WXbF7HtWAhSJ7pneW5nE9luTTMc0vJwvHmxmpfSyXTOLyS81sx0gUcyIYmJhfNQtpFZIpgnSmSIBhKFshIUBMhABw1ZLEoWBKBOUgPfPPdYxGTZAuMzMvKe9pgQLQ+E4CDBM7cWSlIAT9sFewiyEsrIEw1YEeKzj8yqBbhgj1Ny/EeZCQcwMnHHtxdGJQBPBAEeZatZB+YoVlr0Ub/dsEn8Ig/sKctHagnwStDhXX84a0hB+KWpKBwTmfFMpEGIElShCVVmb/AFH3YXBITTkJn6lot7RNMv48n4obBQiFPhyezp+bPYeqD2R1dj/JdjLYqJ5OAl45iymwYI5J3g2PMMTIpkvSVyBMYe27gMWBUxgjkkkSZDzEHuyvT0mSPI9lCDo9uZ7bCBEw9BQeBc5FUhncKMJCJHKY8WOeeCUAnlabCCFh+xn5/VMqmMA/dDJrr/SpqdwSzEFN4SsKkLNhfq+OUQIk5hhB5Fv8B+JQIBqiAJ1hyGwEknRLTLuDghKEvBhqbCNbKbkljKfXxmfspl+bf4LLUDYuZfP/ALZsV6v4LDQPYz+VvPLPan6gqqAjhTmlp15Cf93DBOP6C5NhGoX6ShyOO1/F0ZKPoEf3RyZHwziWo4ypY5i8cmjkx79VLmScCcPzS1CDDy5jxlWBy6PvfJQkWwBADyqcoQKI7AuBAoYGfOh9H+6FWUvF8rdHnOXnNw4wPMrE+ahnFCOVPBjBYIgnVBiEyGh19cvdP+AJHxZrnHFDnfqnC5Ec1tgKRw+agIIN5fd4lJk2q9RHujfIDkDrUjqEnVLoqJQi4gYh1IxTRXmUG9x8T1910YVSk9CDEnfdnI4EjwBweiKwKwsVjDQ5SQh/NELg2ksIfxFYYH4qzhR2UH0XMIeitQg9dLCMC7XwSKz2oVSAQ7+7GzSzeePDZVkxUwOuY/qoEcI5IbHISJAdftP8WRekrj/xTg8eMI4T083j4NAPXCdZcYbExlg7b54muUo5OLC9nMVGGB+DEnsT8MdTNPkIySBVdmZH2VnAjGIk8RgcPJ8KWD2JlQEvBRwhh1YlHCWJRKqfpsDfP81p08z+KC4YzFImaFHNCGgOr20mnQSnigZqG9zD+aoY0XATV++aYZOHAPPxWJA8lheIyW8TcFUtHx/sqVyzTUEF28AvTCCfzYCC8gFK2xRuWToo+0f6sJP1WCD0/H/xetifg/8A2zJEEsavZjuCILALKcyuxJy+WpxPWzOnWiZR3JYyYJBDIhssdfBYMjSqJ3+2jtjIrUjOSRA18tPxJylwUHJRKHcuVr1Sh6wE91zMBhQUtPM2ezLxiC5byf8AdBU4L+f+ai8hU1ZMxifgUSAZEckqqDEUQjviwldSTgYx1PJ6pd26vIJ16uzYAi3cHLlPWvfP7sclUH3gf00tG0iR8sK9ePdaZlQe1X8FTTSBiYsuS+Co7PiXMmKgG8DioKRumKEWhgYUsAfAVWQvPhPwx+aMDkVNEUDlGg9jD9WJgioBGiZmcknGbIBATMofxTZ5kcn5FdkGRA95YW6GmECf6u6dhGhkHMNTZjvDUyEWawvIiUFvcH5pe/zfOpUWyfwLT4P4Jf3WlMZBseAXeNZIEJs1AoMwQrIMl8UI29BRriyaGeShqBQVTyn8QeLEgKbztdZjU+8F5r7KLAYmeRsNAnxtDTL6P91y45+TnvyU3idQ6tL+fWuBz/qwLTv+fxZwL0UTVeCLbBaRvVeWCg2Lpv8AU1M4QE89roHAbtmFIA/JTo6ifhsMy4RBEy+df40REFygDjHGhJwgQzmJU+H7aeEIjZrayA2MJ91E48vCQfkJvSOknw7/ABVUJUHpz+65iUCidfOpn9WkdfxrxR9Kfg3OTvPNMNfkUaN3sH+60NrwGPnmk1zD3DhJ0pd8wKLfunj/ADIlFZyn82rDh9P9WZ+8RPm4PujHwxp8Gj9D5bynN0f3L9/qyU4O/wCVz9Ae7MfLwlMkujzd8sdP+eLLUEUI9/6sEGGD46sykCSsXQzg9kblAeV7lWpTPBQyQwXC4EdVBLU9tkhY/FAJZUxxkT+7NcTOMi8n6sjuEshjmeSHEUMSUpDLuizLS8T9PkLAwBZjIOHt/hZ5HR+Of0X5sUzwftkpsEEhEHrfKs/+n/SyygY2gbIoc2hgm8R/pXMS/wCOr1AIcu/qqwWWCEqeeyjiwbAP49WSgayhfmyrFhEweXx92IEN4n1wvwfloiCQRPgoprRbZdXhAWASDwnd4wiDR8dfVggLAGdj2/u8cPWjFI9jqEnyVeRHgnVE/GbdR1vAi/FTi0Ga+mw7AGhalF63z4oT98gkWRgI7zvjKwURYRA8n2Nc76r5zJASJ9u/kVUMBCP7b/fVKw2xC39kceLOOqYQBm5ITJJmiAgJjNSy/XBVlQY8IcfyD80AXHJcB3XPIMOLA9JI9NBhSEE062eVcZvBIyU2PUVvyiEbGLcdGXWvy88/JD/Gq55okIqhRKgg/o54DtSHmzKGjhkDkiS9pBhBfo+X8UWMoLMp5TVoKAoH5vAlhfBVQGopPTtPVpckNJGug78jyPsr/OLKH10fw/NEdBYJCJyM8JT0XjdpKTQgc8efF8kChrSJP+d3cA8lIoBOUIUpA7jj5izrgQnQCaPoKkId2Hg5YW9J51c2SzjdEhGQInHSSzeq5JWGDw5CDQmpIG5UcqTIe4ilk1sVokCxwcmRSgtLIpTPbb0eCiRz3HcyiRcfdzG2UCMABmthhnjGieWk7BTs4swlSH1NZIBib4XKjQfFQB9BeQp2JXEBHkzRKYAI9qwI8vVZh2YsA/Con167pIAAgDgq91mz6QIH7h9q6jeGJpDwowIakigldVAUqVRPMuUQVKssXsyz4G87QDAIzwK8CROpLK7FgcduVNkGuYYsCNmyNFRISOB2e+S+5ayAQcHid82bCRodDQVHRkpS3AmiCKFBMiMwbsUEAAQlIRD2ZFgI7DASiJAH4CmRiFWZKHBPJRYrLYniji/kUhfKg8sJWAQxCYRayhJpjGFbl4X3kPRGgRwiZYNxnXCsGYCUfEM2WQ2rMpcSYgk6UuR1WREySsPGDBJ7oIqPCEP4afwsli1B7n/VxH7B/qo0H3UhBfP+2613bA9C2SU3A9kPb9XWDEZePMOGERwJR0IZJKWGgke6PSY5bD0ojm58Sg2krEkUfI1RAxX8il2kCobkUwhCNFflda9sqJ1O/wAnyqu2ersYweiUuxgLPJGUiYKXDQxzLey9R2r7FTtpHP8A7/xZEkIXVZ+38WOb+28KEH5aTWmfmZmCCInqBL1OisGRjsIg7TlO2CcwGA5AMWEHCEvHdXoCRFDhy8d35jizFxFmkbBr7XE811FSsAZO676ODCvd8FlWs0UiCDHCCLmmsLR6QpCSRpxZ6panlk7ATtjCvhZZXIfRmPJZvD75HwdUAkuBV+myhQRjnF4iZmpkg9w/kKLED5/kakcAVEkiDLwron3fS/wdbthQh/PpUCRDP2V+VHpgd5Xa3tJCuzR+IU8gR0QpoxYLgOb2B0QhzG9uWdwDCRJMV5pyEDnerGPQ8JOTk9g7PBVhK/xZWrHIKwcPF/mMU/qo3axP20gkHCI+ApCAC8ieKENHLaME8Up86PLqsc0jN7vieKQBhR8hZhiI5xcn+6PD8qACJR5AINnUaMS8iDyY73zR6YRfwUcPSptTZHMlD64qsKojOI2M/MD7uC5DIDgAMKomCkMHgiIfZYugUrwBxPnn3eZMQikTwk0QB8TL/Y0wH0D/AAUCMmz/AAlQJEamiBzPmqkM9pf3YR+kpHIw6g59rvwYdtQozF2ehiPVkEiVRhpIAhWJJHhMsdezgAezxSE+AroWahg+RbPWhAINm46n5VcbQKUlCbJDeREaPF4SuIhNOJ+LOQIeBHgpIBDTQYx1aNjVpEHulgk0UpI1CtAlZwMrc4yW8vf+qvxcHwOKGkYMU0J7cqHCEgbCRK1Em88RQQWOyRaQOQJ3HcJyYWCawFDOsTERNSpESYBI2FKPtkuVZ5JwIh408SJR7bMHKy2iUAZ+6AIGarksBGCp6oDkXXjzYPjxZE9gJXIx7GOPixASkiY+HHqqXaFyRHi6O5hMS4YEsOeWOJq1ok7hVlY4odoCuLxE+aNRR0OmgYgJNmImDiPDtSW/tSIF+X1Y0+muRG82VmUWFJU05oBMm/vqukFuDsd/3YCKwbFicxJcdyWKu1JJTMSOYTl+aBegkm3AkFySwazPFSAFHMQR2EeQbYPkCJKECfuEY5s9NshMwaxPj+q5v6IfBKDxqvjiZDXjlQwSSB8yjspcBSRBORCT5B9VdLAh5mBFjGTWOdikFBE4xnGcPJpxbSeiIsCYEoY6FzASzhgIZ882HAHlaMh8cD4S97JJJPQifYw9VfXanleJz8Ux/wBS6AjwnNlEJ9X/AMpWkSnhKRHwKrLv6bBEfcVnA/hXlIHo/wB0TGc8jlwZ7YzBVXMUTEqwE1qgs6vjqu05gG9u/wCq8mqLdPy3QMzgiwu1hZdIz9LWo4+kgI+f3S4A0Si9R4qcTz0YAVmCZJKZirFpEqQ5VSSZr0iogcYDxGMgMdmA2sMj5MgRB+KXHrCIMcH1zpjJlQoPuREeDASgCzhxRobZ4oEqBkgcDHixeJgaBYMMY4y7zlOyNiBSibN1l4yDmSjYzsqc7x8AHqvVjBhBBBgkdIeq6PLCAbHqfFXiNSCkkSTSocEBwXcZJFZxmSg3VW8lZZFAnzQ2k1DSpr/xNn8KCPdOKKcJ92VuATNbwWP4vMwh/NYbO//Z",text:{default:"Let's play Teen Patti game!"},cta:{default:""},dialogTitle:{default:"Play with friends"},filters:["NEW_PLAYERS_ONLY"],data:e}).then(function(){}.bind(this)).catch(function(e){}.bind(this))}});cc._RF.pop()},{BaseManager:"BaseManager",Command:"Command",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],FriendsNewHighScoreMyself:[function(e,t,i){"use strict";cc._RF.push(t,"795232QVDpF74ArGajn/3rA","FriendsNewHighScoreMyself");var n=e("BaseComponent"),a=e("GameUtils"),o=e("LanguageData");cc.Class({extends:n,properties:{lblRank:cc.Label,lblChip:cc.Label,icon:cc.Sprite,arrRankTypeFrame:[cc.SpriteFrame],user:{default:null,visible:!1}},setUserInfo:function(e,t){this.user=e,this.setRankIndex(e.index);var i=0;0==t?(i=e.chipsWin,this.icon.spriteFrame=this.arrRankTypeFrame[0]):1==t&&(i=e.handsWin,this.icon.spriteFrame=this.arrRankTypeFrame[1]),this.lblChip.string=a.formatNumberWithRules(i)},setRankIndex:function(e){this.lblRank.string=null==e||e<0?o.t("label_text.not_in_rank"):""+(e+1)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",GameUtils:"GameUtils",LanguageData:"LanguageData"}],FriendsNewHighScore:[function(e,t,i){"use strict";cc._RF.push(t,"3fd11WbJ+9DQI/iMURnGQT2","FriendsNewHighScore");var n=e("BaseComponent"),a=e("Command"),o=e("GameUtils"),s=e("LanguageData"),r=e("AEHighScoreListView"),l=e("TeenPattiUser");cc.Class({extends:n,properties:{panelList:[cc.Node],friRankListView:r,globalRankListView:r,globalScrollView:cc.Node,myselfItem:cc.Node,arrRankFrame:[cc.SpriteFrame],toggleGroup:cc.ToggleContainer,subToggleGroup:cc.ToggleContainer,globalRankToggle:cc.Toggle,chipsWinToggler:cc.Toggle,noFriendsStatus:cc.Node,helpNode:cc.Node,helpDescPanel:cc.Node,helpBtn:cc.Node,helpBgs:[cc.Node],rankRewardLabelList:[cc.Label],rankType:0,subRankType:1,perPageCount:100},onLoad:function(){this._super(),this.globalRankCurPage=1,this.globalRankTotalPage=1,this.myselfItem.active=!1,this.helpNode.active=!1,this.helpDescPanel.active=!1,this.noFriendsStatus.active=!1;for(var e=0;e<this.panelList.length;e++)this.panelList[e].active=!1;this.panelList[1].active=!0;for(e=0;e<this.helpBgs.length;e++)this.helpBgs[e].on(cc.Node.EventType.TOUCH_END,this.onHelpNodeTouchEnd,this);for(e=0;e<this.rankRewardLabelList.length;e++)this.rankRewardLabelList[e].string="";this.friRankListView.setItemInitCb(handler(this,this.onFriRankItemViewInit)),this.globalRankListView.setItemInitCb(handler(this,this.onGlobalRankItemViewInit)),this.globalRankToggle.check()},onFriRankItemViewInit:function(e,t){var i=e.getComponent("HighScoreItem");this.isValid&&i&&(i.gameCore=this.gameCore,i.setUserInfo(t,this.rankType))},onGlobalRankItemViewInit:function(e,t){var i=e.getComponent("HighScoreItem");this.isValid&&i&&(i.gameCore=this.gameCore,i.setUserInfo(t,this.rankType))},onHelpNodeTouchEnd:function(e){e.stopPropagation()},initComplete:function(){this._super(),this.initCompleteRepeat()},initCompleteRepeat:function(){this._super(),this.gameCore.uiMng.addListener(a.SERVER_CMD_HIGH_SCORE_INFO,this,this.onHighScoreInfo),ITeenPatti.sendMsg(a.SERVER_CMD_HIGH_SCORE_INFO),this.gameCore.uiMng.addListener(a.SERVER_CMD_FRIEND_LIST,this,this.onFriendList),this.gameCore.uiMng.addListener(a.SERVER_CMD_CHIPS_WIN_HIGH_SCORE_LIST,this,this.onCWHighScoreList),this.gameCore.uiMng.addListener(a.SERVER_CMD_HANDS_WIN_HIGH_SCORE_LIST,this,this.onHWHighScoreList)},onGlobalRankScrollBottom:function(){LogUtil.debug("GlobalRank",this.globalRankCurPage+"-"+this.globalRankTotalPage),this.globalScrollView.off("bounce-bottom",this.onGlobalRankScrollBottom,this),this.globalRankCurPage<this.globalRankTotalPage&&(this.globalRankCurPage++,this.requestGlobalHighScore())},onHighScoreInfo:function(e){var t=table.createToArray(e.award);t.sort(function(e,t){return e.start-t.start});for(var i=0;i<this.rankRewardLabelList.length;i++)t[i]&&(this.rankRewardLabelList[i].string=s.t("label_text.chips_with_symbol",{number:o.formatNumber(t[i].award)}))},updateStatus:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.helpNode.active=!1,this.subToggleGroup.toggleItems[0].isChecked?e&&(this.gameCore.friendsMng.getFriendList()||(this.noFriendsStatus.active=!0)):(this.helpNode.active=!0,this.requestGlobalHighScore())},requestGlobalHighScore:function(){this.gameCore.uiMng.showLoading(cc.v2(0,0),this.globalScrollView,.7),0==this.rankType?ITeenPatti.sendMsg(a.SERVER_CMD_CHIPS_WIN_HIGH_SCORE_LIST,{page:this.globalRankCurPage,num:this.perPageCount}):ITeenPatti.sendMsg(a.SERVER_CMD_HANDS_WIN_HIGH_SCORE_LIST,{page:this.globalRankCurPage,num:this.perPageCount})},onCWHighScoreList:function(e){0==this.rankType&&1==this.subRankType&&(this.gameCore.uiMng.hideLoading(),this.updateGlobalRankList(e))},onHWHighScoreList:function(e){1==this.rankType&&1==this.subRankType&&(this.gameCore.uiMng.hideLoading(),this.updateGlobalRankList(e))},onFriendList:function(e){0==this.subRankType&&this.updateFriendRankList()},updateFriendRankList:function(){var e=ITeenPatti.getCurPlayer();if(e){this.friRankListView.reset();var t=e.getFriendList().concat();if(this.noFriendsStatus.active=0==t.length,0==t.length)return;t.push(e),t.sort(function(e,t){return 0==this.rankType?t.chipsWin-e.chipsWin:1==this.rankType?t.handsWin-e.handsWin:void 0}.bind(this));for(var i=0;i<t.length;i++)t[i].index=i,this.friRankListView.addItemData(i,t[i]),t[i].strTPID==e.strTPID&&(this.myselfItem.active=!0,this.myselfItem.getComponent("FriendsNewHighScoreMyself").setUserInfo(t[i],this.rankType))}},updateGlobalRankList:function(e){this.globalRankTotalPage=e.page;var t=ITeenPatti.getCurPlayer();if(t){for(var i=table.createToArray(e.other),n=e.start,a=0;a<i.length;a++){var o=n+a,s=new l;s.index=o,0==this.rankType?s.initWithChipsWinRankInfo(i[a]):1==this.rankType&&s.initWithHandsWinRankInfo(i[a]),this.globalRankListView.count()>o?this.globalRankListView.updateItemData(o,s):this.globalRankListView.addItemData(o,s)}t.index=e.rank,this.myselfItem.active=!0,this.myselfItem.getComponent("FriendsNewHighScoreMyself").setUserInfo(t,this.rankType),this.globalScrollView.on("bounce-bottom",this.onGlobalRankScrollBottom,this)}},updateList:function(){0==this.subRankType?this.updateFriendRankList():1==this.subRankType&&(this.globalRankCurPage=1,this.globalRankTotalPage=1,this.globalRankListView.reset())},onToggleClk:function(e,t){this.rankType=t,this.myselfItem.active=!1,this.updateList(),this.updateStatus(!1)},onSubToggleClk:function(e,t){this.subRankType=t,this.noFriendsStatus.active=!1,this.myselfItem.active=!1;for(var i=0;i<this.panelList.length;i++)this.panelList[i].active=t==i;this.updateStatus(),this.updateList(),"1"!=t||this.chipsWinToggler.isChecked||this.chipsWinToggler.check()},onHelpBtnClk:function(e){this.helpDescPanel.active=!this.helpDescPanel.active},onInviteFBFriendsClk:function(e){this.gameCore.gameMng.openInviteFriends()}}),cc._RF.pop()},{AEHighScoreListView:"AEHighScoreListView",BaseComponent:"BaseComponent",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser"}],FriendsNewInvite:[function(e,t,i){"use strict";cc._RF.push(t,"c6007SDEOBN2ov1mF5ho0pQ","FriendsNewInvite");var n=e("BaseComponent");cc.Class({extends:n,properties:{fbInviteBtn:cc.Button,whatsappInviteBtn:cc.Button},initComplete:function(){this._super(),this.fbInviteBtn.node.x=0,this.whatsappInviteBtn.node.active=!1},onFacebookClk:function(e){this.gameCore.gameMng.openInviteFriends()},onWhatsAppClk:function(e){}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],FriendsNewList:[function(e,t,i){"use strict";cc._RF.push(t,"0bf0es50dJJppa+IEoMB7my","FriendsNewList");var n=e("FriendRankList"),a=e("Command");cc.Class({extends:n,properties:{fbInviteBtn:{default:null,override:!0,visible:!1},whatsappInviteBtn:{default:null,override:!0,visible:!1}},initComplete:function(){this._super()},initCompleteRepeat:function(){this._super(),this.sendAll.active=this.gameCore.friendsMng.canInviteToRoom()&&this.gameCore.userMng.myself.isFacebookLogin(),this.gameCore.uiMng.addListener(a.UI_CMD_UPDATE_FRIEND_LIST,this,this.updateList)},updateList:function(){this.isValid&&(this.listView.reset(),this._super())},updateInviteBtn:function(){}}),cc._RF.pop()},{Command:"Command",FriendRankList:"FriendRankList"}],FriendsNew:[function(e,t,i){"use strict";cc._RF.push(t,"4480csnCdFNeaIPR4sJe6Kt","FriendsNew");var n=e("BaseEdgePopup"),a=e("Command"),o=e("UIInfo"),s=e("FriendsNewHighScore");cc.Class({extends:n,properties:{panelList:[cc.Node],toggleGroup:cc.ToggleContainer,noFriendsStatus:cc.Node,noRequestStatus:cc.Node,guestStatus:cc.Node,highScore:s,fbLoginLoading:cc.Node},onLoad:function(){if(console.info("["+(new Date).toISOString()+"][Friends]","---------- OnLoad ----------------"),this.isValid){if(this.noFriendsStatus&&(this.noFriendsStatus.active=!1),this.noRequestStatus&&(this.noRequestStatus.active=!1),this.guestStatus&&(this.guestStatus.active=!1),this.panelList)for(var e=1;e<this.panelList.length;e++)this.panelList[e].active=!1;this.fbLoginLoading&&(this.fbLoginLoading.active=!1),this.i18nRendersUpdate(),this._super()}},start:function(){console.info("["+(new Date).toISOString()+"][Friends]","---------- Start ----------------")},initComplete:function(){this._super(),this.gameCore.userMng.myself.isFacebookLogin()?this.gameCore.uiMng.addListener(a.SERVER_CMD_FRIEND_LIST,this,this.updateStatus):(this.gameCore.uiMng.addListener(a.UI_CMD_GET_FB_PROFILE_FAIL,this,this.onGetFBProfileFail),this.gameCore.uiMng.addListener(a.UI_CMD_FB_LOGIN_FAIL,this,this.onFBLoginFail),this.updateStatus())},i18nRendersUpdate:function(){this._super(),this.refreshLocalizedLabel(),this.refreshLocalizedSprite()},updateStatus:function(){if(this.gameCore&&this.gameCore.userMng&&(console.info("["+(new Date).toISOString()+"][Friends]","---------- Get Friend List ----------------"),this.panelList))if(this.gameCore.userMng.myself.isFacebookLogin())if(0==this.gameCore.userMng.myself.getFBFriendList().length)this.noFriendsStatus.active=this.panelList[0].active;else{for(var e=0;e<this.panelList.length;e++)if(this.panelList[e].active)return;this.panelList[0].active=!0}else this.guestStatus.active=this.panelList[0].active},openAnimationComplete:function(){this._super(),console.info("["+(new Date).toISOString()+"][Friends]","---------- openAnimationComplete ----------------"),console.info("["+(new Date).toISOString()+"][Friends]","---------- Request Friend List ----------------"),this.gameCore.friendsMng.getFriendList()},statesRecoverUpdate:function(){this.toggleGroup&&this.toggleGroup._isOnLoadCalled&&(void 0!=this.recoverStates[o.UI_STATE_TOGGLE_INDEX]&&this.toggleGroup.toggleItems.length>this.recoverStates[o.UI_STATE_TOGGLE_INDEX]&&(this.toggleGroup.toggleItems[this.recoverStates[o.UI_STATE_TOGGLE_INDEX]].isChecked?this.onToggleClk(null,this.recoverStates[o.UI_STATE_TOGGLE_INDEX]):this.toggleGroup.toggleItems[this.recoverStates[o.UI_STATE_TOGGLE_INDEX]].check()),this._super())},statesPersistence:function(){var e={};if(this.toggleGroup&&this.toggleGroup.toggleItems)for(var t=0;t<this.toggleGroup.toggleItems.length;t++)if(this.toggleGroup.toggleItems[t].isChecked){e[o.UI_STATE_TOGGLE_INDEX]=t;break}return e},onToggleClk:function(e,t){this.noFriendsStatus.active=!1,this.noRequestStatus.active=!1,this.guestStatus.active=!1;for(var i=0;i<this.panelList.length;i++)this.panelList[i].active=t==i;if(0==t)this.updateStatus(),null!=e&&this.gameCore.friendsMng.getFriendList();else if(2==t){var n=this.panelList[t].getComponent("FriendRequestList").updateList();this.noRequestStatus.active=0==n}else 3==t&&this.highScore.updateStatus()},onFBConnectBtnClk:function(e){this.fbLoginLoading.active=!0,this.gameCore.userMng.onFBConnectBtnClk()},onGetFBProfileFail:function(){this.fbLoginLoading.active=!1},onFBLoginFail:function(){this.fbLoginLoading.active=!1}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",Command:"Command",FriendsNewHighScore:"FriendsNewHighScore",UIInfo:"UIInfo"}],FriendsRoomResult:[function(e,t,i){"use strict";cc._RF.push(t,"3e93e0FMkBBH47HRnhcBzAO","FriendsRoomResult");var n=e("BaseUI");cc.Class({extends:n,properties:{summaryResult:cc.Node,roundsResult:cc.Node},onLoad:function(){this._super(),this.onTopToggleClk(null,"summaryresult")},onTopToggleClk:function(e,t){this.summaryResult.active="summaryresult"==t,this.roundsResult.active="roundsresult"==t}}),cc._RF.pop()},{BaseUI:"BaseUI"}],FriendsRoomSetting:[function(e,t,i){"use strict";cc._RF.push(t,"0e32eZXUmZGY69VDW6JEn+N","FriendsRoomSetting");var n=e("BaseUI"),a=e("DropDownMenu"),o=e("UIInfo");cc.Class({extends:n,properties:{modeDropDownMenu:a,roundsDropDownMenu:a,hostTable:cc.Node,yourTable:cc.Node,helpContent:cc.Node,friendsRoomResultPrefab:cc.Prefab},onLoad:function(){this._super(),this.modeDropDownMenu.data=["Classic","Classic1","Classic2","Classic3","Classic4"],this.roundsDropDownMenu.data=[1,5,10,50,100,200],this.helpContent.active=!1,this.helpContent.on(cc.Node.EventType.TOUCH_END,this.onHelpContentClk,this),this.onTopToggleClk(null,"hosttable")},onStartBtnClk:function(e){this.gameCore.gameMng.openGameUI(o.GAME_SCENE,"Game")},onTopToggleClk:function(e,t){this.hostTable.active="hosttable"==t,this.yourTable.active="yourtable"==t},onJoinBtnClk:function(e){this.closeUI(),this.gameCore.gameMng.openGameUI(o.GAME_SCENE,"Game")},onResultBtnClk:function(e){this.gameCore.uiMng.openUI(o.FRIENDS_ROOM_RESULT)},onHelpBtnClk:function(e){this.helpContent.active=!0},onHelpContentClk:function(e){e.stopPropagation()},onCloseBtnClk:function(e){this.helpContent.active?this.helpContent.active=!1:this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI",DropDownMenu:"DropDownMenu",UIInfo:"UIInfo"}],FriendsRoomSummary:[function(e,t,i){"use strict";cc._RF.push(t,"5d8e39OCV9NWacjxJvViRMQ","FriendsRoomSummary");var n=e("BaseUI");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI"}],Friends:[function(e,t,i){"use strict";cc._RF.push(t,"6049fg04YpH76efi/vHP8bz","Friends");var n=e("BaseEdgePopup"),a=e("UIInfo"),o=e("Command"),s=e("LanguageData"),r=e("GameData"),l=e("DataAnalysisKey");cc.Class({extends:n,properties:{autoDispose:{default:!1,override:!0,visible:!1},panelList:[cc.Node],titleList:[cc.Node],logoutMask:cc.Node,toggleGroup:cc.ToggleContainer,toggleRankings:cc.Toggle,subToggleGroup:cc.ToggleContainer,noFriendsStatus:cc.Node,guestStatus:cc.Node,fbConnectRewardLabel:cc.Label,expiredLabel:cc.Label},onLoad:function(){console.info("["+(new Date).toISOString()+"][Friends]","---------- OnLoad ----------------"),this.outFrom=r.DIRECTION.Up,this.noFriendsStatus.active=!1,this.guestStatus.active=!1,this.toggleRankings.interactable=!1;for(var e=0;e<this.panelList.length;e++)this.panelList[e].active=!1;this.i18nRendersUpdate(),this._super()},start:function(){console.info("["+(new Date).toISOString()+"][Friends]","---------- Start ----------------")},gameCoreSetComplete:function(){this._super()},initComplete:function(){this._super(),this.gameCore.userMng.myself.isFacebookLogin()?this.gameCore.uiMng.addListener(o.SERVER_CMD_FRIEND_LIST,this,this.updateStatus):this.updateStatus()},openAnimationComplete:function(){this._super(),console.info("["+(new Date).toISOString()+"][Friends]","---------- openAnimationComplete ----------------"),console.info("["+(new Date).toISOString()+"][Friends]","---------- Request Friend List ----------------"),this.gameCore.friendsMng.getFriendList()},i18nRendersUpdate:function(){this._super(),this.fbConnectRewardLabel.string=s.t("label_text.fb_login_reward",{reward:r.fbLoginReward()});var e=new Date,t=e.getTimezoneOffset()+330;e.setMinutes(e.getMinutes()+t),this.expiredLabel.string=s.t("label_text.expired_in_days",{smart_count:6-e.getDay()+1}),this.refreshLocalizedLabel()},updateStatus:function(){if(this.gameCore&&this.gameCore.userMng)if(console.info("["+(new Date).toISOString()+"][Friends]","---------- Get Friend List ----------------"),this.gameCore.userMng.myself.isFacebookLogin())if(this.toggleRankings&&(this.toggleRankings.interactable=!0),0==this.gameCore.userMng.myself.getFBFriendList().length)this.noFriendsStatus.active=!0;else{for(var e=0;e<this.panelList.length;e++)if(this.panelList[e].active)return;this.panelList[0].active=!0}else this.guestStatus.active=!0},statesRecoverUpdate:function(){this.toggleGroup._isOnLoadCalled&&(void 0!=this.recoverStates[a.UI_STATE_TOGGLE_INDEX]&&this.toggleGroup.toggleItems.length>this.recoverStates[a.UI_STATE_TOGGLE_INDEX]&&(this.toggleGroup.toggleItems[this.recoverStates[a.UI_STATE_TOGGLE_INDEX]].isChecked?this.onToggleClk(null,this.recoverStates[a.UI_STATE_TOGGLE_INDEX]):this.toggleGroup.toggleItems[this.recoverStates[a.UI_STATE_TOGGLE_INDEX]].check()),(this.subToggleGroup._isOnLoadCalled||1!=this.recoverStates[a.UI_STATE_TOGGLE_INDEX])&&(void 0!=this.recoverStates[a.UI_STATE_TOGGLE_INDEX+1]&&this.subToggleGroup.toggleItems.length>this.recoverStates[a.UI_STATE_TOGGLE_INDEX+1]&&this.subToggleGroup.toggleItems[this.recoverStates[a.UI_STATE_TOGGLE_INDEX+1]].check(),this._super()))},statesPersistence:function(){for(var e={},t=0;t<this.toggleGroup.toggleItems.length;t++)if(this.toggleGroup.toggleItems[t].isChecked){e[a.UI_STATE_TOGGLE_INDEX]=t;break}for(t=0;t<this.subToggleGroup.toggleItems.length;t++)if(this.subToggleGroup.toggleItems[t].isChecked){e[a.UI_STATE_TOGGLE_INDEX+1]=t;break}return e},onToggleClk:function(e,t){1==t&&this.gameCore.dataAnalysisMng.sendData(l.OPEN_FRIENDS_RANKING);for(var i=0;i<this.panelList.length;i++)this.panelList[i].active=t==i&&!this.guestStatus.active&&0!=this.gameCore.userMng.myself.getFBFriendList().length},onFBConnectBtnClk:function(e){this.gameCore.uiMng.addListener(o.UI_CMD_GET_FB_PROFILE_SUCCESS,this,this.onGetFBProfileFail),this.gameCore.userMng.onFBConnectBtnClk()},onFBLoginSuccess:function(){this.logoutMask.active=!0;var e=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);ITeenPatti.removeListener(o.SERVER_CMD_USER_EXIT_ROOM,e),ITeenPatti.sendMsg("leaveroom",null)}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",LanguageData:"LanguageData",UIInfo:"UIInfo"}],GameBaseSeat:[function(e,t,i){"use strict";cc._RF.push(t,"9d461Kw4yZGequC7f9L0efW","GameBaseSeat");var n=e("BaseComponent");cc.Class({extends:n,properties:{objGift:[cc.Node]},onUserStandUp:function(){this.resetSeat()},initSeat:function(e,t){this.resetSeat()},resetSeat:function(){if(this.objGift)for(var e=0;e<this.objGift.length;e++)this.objGift[e].removeFromParent();this.objGift=null},onGiftAccept:function(e){for(var t=0;t<e.length;t++){var i=e[t].getComponent("ReceiveGift");i.setClickCb(handler(this.partner?this.partner:this,this.partner?this.partner.onBtnGiftClicked:this.onBtnGiftClicked)),t==e.length-1&&i.setFinishCb(handler(this,this.giftFinishCb)),e[t].runAction(cc.sequence(cc.toggleVisibility(),cc.delayTime(.3*t),cc.toggleVisibility(),cc.callFunc(function(e){e.active=!0,e.isValid&&e.getComponent("ReceiveGift").startSent()},this)))}if(this.objGift)for(t=0;t<this.objGift.length;t++)this.objGift[t].stopAllActions(),this.objGift[t].removeFromParent();this.objGift=e,this.updateGiftBtnActive(!1)},giftFinishCb:function(){this.objGift=null,this.btnGift.node.active=!0}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],GameCore:[function(e,t,i){"use strict";cc._RF.push(t,"c0633Tv1JhCf7y3KQ0UkvCp","GameCore");e("Command");var n=e("BaseManager"),a=e("GameManager"),o=e("INotification"),s=e("LocalStorage");cc.Class({properties:{os:"",gameVersion:"",hotfixVersion:"",deviceModel:"",deviceId:"",defaultIcon:null,activityMng:null,downloadMng:null,uiMng:null,serverMng:null,gameMng:null,dataAnalysisMng:null,friendsMng:null,userMng:null,initPopupMng:null,instantGameANMMng:null},ctor:function(){IAds.init(),IFacebook.init(),IFacebook.setGameCore(this),ITeenPatti.init(),ITeenPatti.setGameCore(this),this.os="Browser",this.deviceId=CommonUtil.getDeviceId(),this.oldDeviceId=cc.sys.localStorage.getItem(s.keys.OLD_DEVICE_ID),this.oldDeviceId||(this.oldDeviceId=this.deviceId,cc.sys.localStorage.setItem(s.keys.OLD_DEVICE_ID,this.oldDeviceId)),this.deviceModel="",this.gameVersion="1.3.0",cc.sys.isNative&&(cc.sys.os==cc.sys.OS_ANDROID?(this.os="Android",this.deviceModel=jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","getDeviceModel","()Ljava/lang/String;"),this.gameVersion=jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","getAppVersion","()Ljava/lang/String;")):cc.sys.os==cc.sys.OS_IOS?(this.os="iOS",this.deviceModel=jsb.reflection.callStaticMethod("DeviceUtil","getDeviceModel"),this.gameVersion=jsb.reflection.callStaticMethod("DeviceUtil","getAppVersion")):this.os="Native",window.Client.Version=this.gameVersion),this.hotfixVersion=this.gameVersion+".0",cc.loader.loadRes("Common/HeadIcon/headIconDefault",cc.SpriteFrame,function(e,t){e?LogUtil.err("GameCore","Down headIconDefault Fail",e):this.defaultIcon=t}.bind(this));var t=e("DownloadManager");this.downloadMng=new t(this);var i=e("UIManager");this.uiMng=new i(this);var n=e("GameManager");this.gameMng=new n(this);var a=e("DataAnalysisManager");this.dataAnalysisMng=new a(this);var o=e("InitPopupManager");this.initPopupMng=new o(this);var r=e("VersionManager");if(this.versionMng=new r(this),this.versionMng.loadVersionCfgFromNet(),isInstantGame){var l=e("InstantGameANMManager");this.instantGameANMMng=new l(this)}cc.game.on(cc.game.EVENT_SHOW,this.onEnterForeground,this),cc.game.on(cc.game.EVENT_HIDE,this.onEnterBackground,this)},onEnterForeground:function(){LogUtil.debug("GameCore","onEnterForeground");var e=[];for(var t in this)this[t]instanceof n&&(this[t]instanceof a?e.unshift(this[t]):e.push(this[t]));for(var i=0;i<e.length;i++)e[i].onEnterForeground();ITeenPatti.loadHostCfg(),o.downloadNotifyCfg(),o.cancelAllNotifyCountdown()},onEnterBackground:function(){LogUtil.debug("GameCore","onEnterBackground");var e=[];for(var t in this)this[t]instanceof n&&(this[t]instanceof a?e.unshift(this[t]):e.push(this[t]));for(var i=0;i<e.length;i++)e[i].onEnterBackground();o.startAllNotifyCountdown()},logined:function(){for(var t=[this.friendsMng,this.userMng,this.serverMng],i=0;i<t.length;i++)t[i]&&this.uiMng.removeListenerWithTarget(t[i]);this.activityMng&&this.activityMng.logout();var n=e("ActivityManager");this.activityMng=new n(this),this.friendsMng&&this.friendsMng.logout();var a=e("FriendsManager");this.friendsMng=new a(this),this.userMng&&this.userMng.logout();var o=e("UserManager");this.userMng=new o(this),this.serverMng&&this.serverMng.logout();var s=e("ServerManager");this.serverMng=new s(this)},logout:function(){for(var e in cc.game.off(cc.game.EVENT_SHOW,this.onEnterForeground,this),cc.game.off(cc.game.EVENT_HIDE,this.onEnterBackground,this),this)this[e]instanceof n&&this[e].logout()}});cc._RF.pop()},{ActivityManager:"ActivityManager",BaseManager:"BaseManager",Command:"Command",DataAnalysisManager:"DataAnalysisManager",DownloadManager:"DownloadManager",FriendsManager:"FriendsManager",GameManager:"GameManager",INotification:"INotification",InitPopupManager:"InitPopupManager",InstantGameANMManager:"InstantGameANMManager",LocalStorage:"LocalStorage",ServerManager:"ServerManager",UIManager:"UIManager",UserManager:"UserManager",VersionManager:"VersionManager"}],GameData:[function(e,t,i){"use strict";cc._RF.push(t,"f20eaRQRAROnLwp3x2NAlSV","GameData");var n=e("GameUtils"),a=e("UIInfo"),o={PrivacyPolicyURL:"https://www.teenpattiflush.com/privacy",FreeChipsURL:"http://www.teenpattiflush.com/login/game",RazorPayURL:"http://10.122.85.175:7457/facebook",FanPageURL:"http://config.teenpattiflush.com/patti/gotofanpage.html",languages:["en","hi","bn"],fbLoginRewardCount:2e5,fbLoginReward:function(){return n.formatNumber(this.fbLoginRewardCount)},giftCount:28,systemIconCount:30,perFriendSignInBonus:500,maxFriendSignInBonus:1e5,dailySignInBonus:[5e4,75e3,1e5,13e4,17e4,22e4,3e5],maxLevel:100,ABSelectDuration:9,arrDealerName:["Jyotis","Manisha","Payal","Shikha","Varsha","Anamika","Lulu","Ishita","Aishwarya","Katrina","Deepika","Shruti","Lalita","Nandini","Nisha","Sandhya","Shabnam","Soniya","Sujata","Aparna"],levelUpBonus:[45e3,75e3,95e3,114e3,131e3,145e3,158e3,17e4,182e3,193e3,203e3,213e3,222e3,231e3,24e4,248e3,256e3,264e3,272e3,28e4,287e3,294e3,301e3,308e3,315e3,321e3,327e3,333e3,339e3,345e3,351e3,357e3,363e3,369e3,375e3,38e4,385e3,39e4,395e3,4e5,405e3,41e4,415e3,42e4,425e3,43e4,435e3,44e4,445e3,45e4,455e3,46e4,465e3,47e4,475e3,48e4,485e3,49e4,495e3,5e5,505e3,51e4,515e3,52e4,525e3,53e4,535e3,54e4,545e3,55e4,555e3,56e4,565e3,57e4,575e3,58e4,585e3,59e4,595e3,6e5,605e3,61e4,615e3,62e4,625e3,63e4,635e3,64e4,645e3,65e4,655e3,66e4,665e3,67e4,675e3,68e4,685e3,69e4,695e3,7e5],promotionSkuIDList:[],instantGameSkuIDList:["com.teenpatti.chips.1000000000","com.teenpatti.chips.470000000","com.teenpatti.chips.180000000","com.teenpatti.chips.80000000","com.teenpatti.chips.35000000","com.teenpatti.chips.5000000"],instantGameBankSkuIDList:["com.teenpatti.bank.180cr","com.teenpatti.bank.460cr"],iOSSkuIDList:["com.pokergames.teenpatti.chips.1000000000","com.pokergames.teenpatti.chips.470000000","com.pokergames.teenpatti.chips.180000000","com.pokergames.teenpatti.chips.80000000","com.pokergames.teenpatti.chips.35000000","com.pokergames.teenpatti.chips.5000000"],iOSBankSkuIDList:["com.patti.ios.bank.90cr"],iOSGoldSkuIDList:["com.teenpattipoker.ios.gold.10cr","com.teenpattipoker.ios.gold.34cr","com.teenpattipoker.ios.gold.70cr"],iOSSubsSkuIDList:["com.patti.ios.monthlyelite.primary","com.patti.ios.monthlyelite.advanced"],skuIDList:["com.teenpattipoker.chips.1000000000","com.teenpattipoker.chips.180000000","com.teenpattipoker.chips.35000000","com.teenpattipoker.chips.470000000","com.teenpattipoker.chips.5000000","com.teenpattipoker.chips.80000000","com.teenpattipoker.chips.800000","com.teenpattipoker.bank.180cr","com.teenpattipoker.bank.460cr","com.teenpattipoker.diamonds.10"],androidBankSkuIDList:["com.teenpattipoker.bank.180cr","com.teenpattipoker.bank.460cr"],androidGoldSkuIDList:["com.teenpattipoker.adnroid.gold.10cr","com.teenpattipoker.adnroid.gold.34cr","com.teenpattipoker.adnroid.gold.70cr"],androidDiamondSkuIDList:["com.teenpattipoker.diamonds.10"],diamondsSKUCount:10,facebookSkuDetails:[{id:"com.teenpatti.chips.1000000000",price:"$ 99.99",count:"1000000000",basicCount:"400000000",position:cc.v2(-25,20),scale:.9,recommend:"BestValue"},{id:"com.teenpatti.chips.470000000",price:"$ 49.99",count:"470000000",basicCount:"200000000",position:cc.v2(0,19),scale:.7},{id:"com.teenpatti.chips.180000000",price:"$ 19.99",count:"180000000",basicCount:"80000000",position:cc.v2(-1,20),scale:.7},{id:"com.teenpatti.chips.80000000",price:"$ 9.99",count:"80000000",basicCount:"40000000",position:cc.v2(5,20),scale:.75,recommend:"MostPopular"},{id:"com.teenpatti.chips.35000000",price:"$ 4.99",count:"35000000",basicCount:"20000000",position:cc.v2(0,19),scale:.8},{id:"com.teenpatti.chips.5000000",price:"$ 0.99",count:"5000000",basicCount:"4000000",position:cc.v2(5,19),scale:.85}],facebookBankSkuDetails:[{id:"com.teenpatti.bank.180cr",price:"$ 179.99",count:"1800000000",position:cc.v2(-10,15)},{id:"com.teenpatti.bank.460cr",price:"$ 399.99",count:"4600000000",position:cc.v2(0,0)}],facebookGoldSkuDetails:[{id:"com.teenpattipoker.gold.10cr",price:"$ 14.99",count:"100000000"},{id:"com.teenpattipoker.gold.34cr",price:"$ 49.99",count:"340000000"},{id:"com.teenpattipoker.gold.70cr",price:"$ 99.99",count:"700000000"}],androidNovicePackSkuIDList:["com.teenpattipoker.chips.novicepack"],iOSNovicePackSkuIDList:[],facebookNovicePackSkuIDList:[],BANK_TYPE_ADD:0,BANK_TYPE_TRANSFER:1,BANK_TYPE_DRAW:2,BANK_TYPE_GIFT:3,BANK_TRANSFER_MIN_AMOUNT:50,GAME_BG_CLASSIC:"GameScene/gs_img_classic",GAME_BG_VARIATION:"GameScene/Net/gs_img_variation",GAME_BG_DELUXE:"DeluxeScene/Dynamic/gs_img_deluxe",GAME_BG_PRIVATE:"PrivateScene/Dynamic/gs_img_private",GAME_BG_AK47:"GameScene/Net/gs_img_ak47",GAME_BG_NOLIMIT:"NoLimitScene/Dynamic/gs_img_nolimit",GAME_BG_TEXAS_HOLDEM:"GameScene/Net/gs_img_texas_holdem",GAME_BG_AB_PVP_PLAYER:"ABPVPScene/img_ab_pvp_bg1",GAME_BG_AB_PVP_BANKER:"ABPVPScene/img_ab_pvp_bg2",GAME_BG_CASINO_WAR_PVP_PLAYER:"CasinoWarPVPScene/img_casino_war_pvp_bg1",GAME_BG_CASINO_WAR_PVP_BANKER:"CasinoWarPVPScene/img_casino_war_pvp_bg2",GAME_TOUR_BG_GOA:"GameSceneTour/Dynamic/gst_img_goa",GAME_TOUR_BG_KUALALUMPUR:"GameSceneTour/Dynamic/gst_img_kualalumpur",GAME_TOUR_BG_SINGAPORE:"GameSceneTour/Dynamic/gst_img_singapore",GAME_TOUR_BG_LASVEGAS:"GameSceneTour/Dynamic/gst_img_lasvegas",GAME_TOUR_BG_MACAO:"GameSceneTour/Dynamic/gst_img_macao",GAME_TOUR_BG_SEOUL:"GameSceneTour/Dynamic/gst_img_seoul",DIRECTION:cc.Enum({Up:1,Down:2,Left:3,Right:4}),RECONNECT_REASON:cc.Enum({WIFIDisconnected:1}),PRE_BUY_P_STORE_LOBBY:1,PRE_BUY_P_CHIP_LESS:2,PRE_BUY_P_STORE_ROOM:3,PRE_BUY_P_PROMOTION:4,PRE_BUY_P_BANK:5,PRE_BUY_P_DIAMOND:6,PRE_BUY_P_CHIPS_NOT_ENOUGH:7,PRE_BUY_S_BUY_POPUP:8,LOBBY_SCENE_PRELOAD_POPUP:function(){var e=[a.VIP_TABLE_SELECT,a.FRIENDS,a.HELP,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.BANK_HISTORY,a.BANK_ALERT,a.VARIATION_MODE_SELECT,a.DELUXE_MODE_SELECT,a.CASINOWAR_MODE_SELECT,a.HEAD_ICON_CHOOSE,a.RATE,a.FB_LOGOUT_CONNECT_REMIND,a.DAILY_SIGN_IN,a.RECONNECTING,a.FRIEND_ONLINE,a.ROOM_SUMMARY,a.QUIT_GAME_POPUP,a.ALERT,a.VERSION_COMPATIBLE_ALERT,a.EMAIL_BOX_POPUP,a.EMAIL_DETAIL_POPUP,a.EMAIL_REWARD_POPUP,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.SETTING_HSM_TIPS,a.FREE_CHIPS_POPUP,a.AD_BONUS_POPUP,a.AD_FREE_CHIP_POPUP,a.VERSION_UPDATE_POPUP,a.AD_NATIVE_POPUP,a.LUCKY_COIN_POPUP,a.PROMOTION_POPUP,a.BROKE,a.NOLIMIT_BOOT_SELECT1,a.MYSELF_PLAYER_INFO,a.REDEEM_CODE,a.INVITE_CODE,a.BANK_PASSWORD,a.SWITCH_LOBBY,a.AB_PVP_ROOM_SELECT,a.ONLIVE_BET,a.MODE_NOT_OPEN_POPUP,a.EVENT_ACTIVE_POPUP,a.DAILY_MISSION,a.DAILY_MISSION_COMPLETED,a.CUSTOMER_SUPPORT_POPUP,a.MONTHLY_ELITE_BUY_POPUP,a.MONTHLY_ELITE_BONUS_GET_POPUP,a.MONTHLY_ELITE_ERROR_POPUP,a.RUMMY_CHIPS_NOT_ENOUGH_2,a.HIGH_SCORE,a.HIGH_SCORE_REWARD,a.TOURNAMENT_SELECT,a.TOURNAMENT_SINGLE_ROUND,a.TOURNAMENT_TWO_ROUND,a.TOURNAMENT_RANKING_ROUND,a.WEB_VIEW];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},GAME_SCENE_PRELOAD_POPUP:function(){var e=[a.BACK_MENU,a.CHAT,a.FRIENDS,a.HELP,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.GAME_ROOM_INFO,a.SIDE_SHOW_CONFIRM_POPUP,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.BANK_HISTORY,a.BANK_ALERT,a.HEAD_ICON_CHOOSE,a.INGAME_PLAYER_INFO,a.HSM_TIPS,a.FRIEND_ONLINE,a.ALERT,a.VERSION_COMPATIBLE_ALERT,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.SETTING_HSM_TIPS,a.FREE_CHIPS_POPUP,a.AD_NATIVE_POPUP,a.LUCKY_COIN_POPUP,a.BROKE,a.MYSELF_PLAYER_INFO,a.CHIPS_NOT_ENOUGH_1,a.CHIPS_NOT_ENOUGH_2,a.CHIPS_NOT_ENOUGH_3,a.BLOCK_CONFIRM_POPUP,a.GIFTS,a.SWITCH_TABLE_POPUP,a.LEVEL_UP_POPUP,a.WATCH_MODE_POPUP,a.DAILY_MISSION_COMPLETED,a.MODE_UNLOCK_POPUP];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},AB_PVP_SCENE_PRELOAD_POPUP:function(){var e=[a.BACK_MENU_ABPVP,a.CHAT,a.FRIENDS,a.HELP,a.ABPVP_HELP,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.GAME_ROOM_INFO_AB_PVP,a.SIDE_SHOW_CONFIRM_POPUP,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.BANK_HISTORY,a.BANK_ALERT,a.HEAD_ICON_CHOOSE,a.INGAME_PLAYER_INFO,a.HSM_TIPS,a.FRIEND_ONLINE,a.ALERT,a.VERSION_COMPATIBLE_ALERT,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.SETTING_HSM_TIPS,a.FREE_CHIPS_POPUP,a.AD_NATIVE_POPUP,a.LUCKY_COIN_POPUP,a.BROKE,a.MYSELF_PLAYER_INFO,a.CHIPS_NOT_ENOUGH_1,a.CHIPS_NOT_ENOUGH_2,a.CHIPS_NOT_ENOUGH_3,a.BLOCK_CONFIRM_POPUP,a.GIFTS,a.SWITCH_TABLE_POPUP,a.LEVEL_UP_POPUP,a.WATCH_MODE_POPUP,a.DAILY_MISSION_COMPLETED,a.MODE_UNLOCK_POPUP];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},AB_SCENE_PRELOAD_POPUP:function(){var e=[a.BACK_MENU,a.CHAT,a.FRIENDS,a.HELP,a.AB_HELP,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.GAME_ROOM_INFO_AB,a.SIDE_SHOW_CONFIRM_POPUP,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.BANK_HISTORY,a.BANK_ALERT,a.HEAD_ICON_CHOOSE,a.INGAME_PLAYER_INFO,a.HSM_TIPS,a.FRIEND_ONLINE,a.ALERT,a.VERSION_COMPATIBLE_ALERT,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.SETTING_HSM_TIPS,a.FREE_CHIPS_POPUP,a.AD_NATIVE_POPUP,a.LUCKY_COIN_POPUP,a.BROKE,a.MYSELF_PLAYER_INFO,a.CHIPS_NOT_ENOUGH_1,a.CHIPS_NOT_ENOUGH_2,a.CHIPS_NOT_ENOUGH_3,a.BLOCK_CONFIRM_POPUP,a.GIFTS,a.SWITCH_TABLE_POPUP,a.LEVEL_UP_POPUP,a.WATCH_MODE_POPUP,a.DAILY_MISSION_COMPLETED,a.MODE_UNLOCK_POPUP];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},CASINOWAR_PVP_SCENE_PRELOAD_POPUP:function(){var e=[a.BACK_MENU_ABPVP,a.CHAT,a.FRIENDS,a.HELP,a.CASINO_WAR_HELP,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.GAME_ROOM_INFO_CASINO_WAR,a.SIDE_SHOW_CONFIRM_POPUP,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.BANK_HISTORY,a.BANK_ALERT,a.HEAD_ICON_CHOOSE,a.INGAME_PLAYER_INFO,a.HSM_TIPS,a.FRIEND_ONLINE,a.ALERT,a.VERSION_COMPATIBLE_ALERT,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.SETTING_HSM_TIPS,a.FREE_CHIPS_POPUP,a.AD_NATIVE_POPUP,a.LUCKY_COIN_POPUP,a.BROKE,a.MYSELF_PLAYER_INFO,a.CHIPS_NOT_ENOUGH_1,a.CHIPS_NOT_ENOUGH_2,a.CHIPS_NOT_ENOUGH_3,a.BLOCK_CONFIRM_POPUP,a.GIFTS,a.SWITCH_TABLE_POPUP,a.LEVEL_UP_POPUP,a.WATCH_MODE_POPUP,a.DAILY_MISSION_COMPLETED,a.MODE_UNLOCK_POPUP];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},CASINOWAR_SCENE_PRELOAD_POPUP:function(){var e=[a.BACK_MENU,a.CHAT,a.FRIENDS,a.HELP,a.CASINO_WAR_HELP,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.GAME_ROOM_INFO_CASINO_WAR,a.SIDE_SHOW_CONFIRM_POPUP,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.BANK_HISTORY,a.BANK_ALERT,a.HEAD_ICON_CHOOSE,a.INGAME_PLAYER_INFO,a.HSM_TIPS,a.FRIEND_ONLINE,a.ALERT,a.VERSION_COMPATIBLE_ALERT,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.SETTING_HSM_TIPS,a.FREE_CHIPS_POPUP,a.AD_NATIVE_POPUP,a.LUCKY_COIN_POPUP,a.BROKE,a.MYSELF_PLAYER_INFO,a.CHIPS_NOT_ENOUGH_1,a.CHIPS_NOT_ENOUGH_2,a.CHIPS_NOT_ENOUGH_3,a.BLOCK_CONFIRM_POPUP,a.GIFTS,a.SWITCH_TABLE_POPUP,a.LEVEL_UP_POPUP,a.WATCH_MODE_POPUP,a.DAILY_MISSION_COMPLETED,a.MODE_UNLOCK_POPUP];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},DELUXE_SCENE_PRELOAD_POPUP:function(){var e=[a.BACK_MENU,a.CHAT,a.FRIENDS,a.HELP,a.SWITCH_DEALER_POPUP,a.SWITCH_MODE_POPUP,a.SWITCH_ROUND_MODE_POPUP,a.FB_LOGOUT_CONNECT_REMIND,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.GAME_ROOM_INFO,a.SIDE_SHOW_CONFIRM_POPUP,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.BANK_HISTORY,a.BANK_ALERT,a.INGAME_PLAYER_INFO,a.HSM_TIPS,a.FRIEND_ONLINE,a.ALERT,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.SETTING_HSM_TIPS,a.FREE_CHIPS_POPUP,a.AD_NATIVE_POPUP,a.LUCKY_COIN_POPUP,a.BROKE,a.MYSELF_PLAYER_INFO,a.CHIPS_NOT_ENOUGH_1,a.CHIPS_NOT_ENOUGH_2,a.CHIPS_NOT_ENOUGH_3,a.BLOCK_CONFIRM_POPUP,a.GIFTS,a.SWITCH_TABLE_POPUP,a.LEVEL_UP_POPUP,a.WATCH_MODE_POPUP,a.DAILY_MISSION_COMPLETED,a.MODE_UNLOCK_POPUP];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},GAME_SCENE_TOUR_PRELOAD_POPUP:function(){var e=[a.BACK_MENU_TOUR,a.CHAT,a.FRIENDS,a.HELP,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.GAME_ROOM_INFO_TOUR,a.SIDE_SHOW_CONFIRM_POPUP,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.BANK_HISTORY,a.BANK_ALERT,a.HEAD_ICON_CHOOSE,a.INGAME_PLAYER_INFO,a.HSM_TIPS,a.FRIEND_ONLINE,a.ALERT,a.VERSION_COMPATIBLE_ALERT,a.TOURNAMENT_RESULT,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.SETTING_HSM_TIPS,a.FREE_CHIPS_POPUP,a.AD_NATIVE_POPUP,a.LUCKY_COIN_POPUP,a.BROKE,a.MYSELF_PLAYER_INFO,a.CHIPS_NOT_ENOUGH_1,a.CHIPS_NOT_ENOUGH_2,a.CHIPS_NOT_ENOUGH_3,a.BLOCK_CONFIRM_POPUP,a.GIFTS,a.SWITCH_TABLE_POPUP,a.LEVEL_UP_POPUP,a.WATCH_MODE_POPUP,a.TOURNAMENT_FINAL_RANK,a.DAILY_MISSION_COMPLETED,a.MODE_UNLOCK_POPUP];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},PATTIWAR_SCENE_PRELOAD_POPUP:function(){var e=[a.BACK_MENU_PATTI_WAR,a.CHAT,a.FRIENDS,a.HELP,a.PATTI_WAR_HELP,a.PATTI_WAR_SET_POT,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.GAME_ROOM_INFO_PATTI_WAR,a.SIDE_SHOW_CONFIRM_POPUP,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.BANK_HISTORY,a.BANK_ALERT,a.HEAD_ICON_CHOOSE,a.INGAME_PLAYER_INFO,a.HSM_TIPS,a.FRIEND_ONLINE,a.ALERT,a.VERSION_COMPATIBLE_ALERT,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.SETTING_HSM_TIPS,a.FREE_CHIPS_POPUP,a.AD_NATIVE_POPUP,a.LUCKY_COIN_POPUP,a.BROKE,a.MYSELF_PLAYER_INFO,a.CHIPS_NOT_ENOUGH_1,a.CHIPS_NOT_ENOUGH_2,a.CHIPS_NOT_ENOUGH_3,a.BLOCK_CONFIRM_POPUP,a.GIFTS,a.SWITCH_TABLE_POPUP,a.LEVEL_UP_POPUP,a.WATCH_MODE_POPUP,a.DAILY_MISSION_COMPLETED,a.MODE_UNLOCK_POPUP];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},RUMMY_SCENE_PRELOAD_POPUP:function(){var e=[a.BACK_MENU,a.CHAT,a.FRIENDS,a.HELP,a.SWITCH_DEALER_POPUP,a.SWITCH_MODE_POPUP,a.SWITCH_ROUND_MODE_POPUP,a.FB_LOGOUT_CONNECT_REMIND,a.RUMMY_INTEGRAL_INFO,a.RUMMY_HELP,a.FACK_WIN_ALERT_POPUP,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.RUMMY_ROOM_INFO,a.SIDE_SHOW_CONFIRM_POPUP,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.BANK_HISTORY,a.BANK_ALERT,a.INGAME_PLAYER_INFO,a.HSM_TIPS,a.FRIEND_ONLINE,a.ALERT,a.RUMMY_CHIPS_NOT_ENOUGH_3,a.READY_TO_DECLARE_POPUP,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.SETTING_HSM_TIPS,a.FREE_CHIPS_POPUP,a.AD_NATIVE_POPUP,a.LUCKY_COIN_POPUP,a.BROKE,a.MYSELF_PLAYER_INFO,a.CHIPS_NOT_ENOUGH_1,a.CHIPS_NOT_ENOUGH_2,a.BLOCK_CONFIRM_POPUP,a.GIFTS,a.SWITCH_TABLE_POPUP,a.LEVEL_UP_POPUP,a.WATCH_MODE_POPUP,a.DAILY_MISSION_COMPLETED,a.MODE_UNLOCK_POPUP];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},TEXASHOLDEM_SCENE_PRELOAD_POPUP:function(){var e=[a.GAME_ROOM_INFO_TEXAS_HOLDEM,a.BACK_MENU,a.SWITCH_TABLE_POPUP,a.SWITCH_DEALER_POPUP,a.SWITCH_MODE_POPUP,a.FB_LOGOUT_CONNECT_REMIND,a.INVITATION_MESSAGE,a.INVITATION_ALERT,a.FRIENDS,a.FRIEND_ONLINE,a.GIFTS,a.MYSELF_PLAYER_INFO,a.INGAME_PLAYER_INFO,a.BLOCK_CONFIRM_POPUP,a.CHAT,a.HELP,a.TEXAS_HOLDEM_HELP,a.SETTING_HSM_TIPS,a.HSM_TIPS,a.WATCH_MODE_POPUP,a.LEVEL_UP_POPUP,a.MODE_UNLOCK_POPUP,a.CHIPS_NOT_ENOUGH_1,a.CHIPS_NOT_ENOUGH_2,a.CHIPS_NOT_ENOUGH_3,a.CHIPS_NOT_ENOUGH_TWO_ITEM,a.STORE,a.BANK_STORE,a.WITHDRAW_CHIPS,a.GIFT_CHIPS,a.BANK_TO_BANK,a.DAILY_MISSION_COMPLETED,a.BANK_HISTORY,a.BANK_ALERT,a.HEAD_ICON_CHOOSE,a.ALERT];return cc.sys.os==cc.sys.OS_IOS?e.push(a.SETTING_IOS):cc.sys.os==cc.sys.OS_ANDROID?e.push(a.SETTING):cc.sys.isBrowser&&e.push(a.SETTING_FB),e},WINGO_SCENE_PRELOAD_POPUP:function(){return[]}};t.exports=o,cc._RF.pop()},{GameUtils:"GameUtils",UIInfo:"UIInfo"}],GameManager:[function(e,t,i){"use strict";cc._RF.push(t,"d06b7INUONK7phwerXxpRhC","GameManager");var n=e("BaseManager"),a=e("LocalStorage"),o=e("GameData"),s=e("GameUtils"),r=e("ITeenPatti"),l=e("ITeenPattiConfig"),c=e("ISmartFox"),h=e("DataAnalysisKey"),u=e("UIInfo"),d=e("Command"),m=e("LanguageData"),g=e("StoreConfig"),p="GameManager";cc.Class({extends:n,properties:{smartfoxConfig:{default:[]},robotoRegular:cc.Font,robotoBold:cc.Font,droidHindi:cc.Font,curLobbyType:{get:function(){return this._curLobbyType},set:function(e){this._curLobbyType=e,a.saveLocalData(a.keys.LOBBY_TYPE,e)}},curLanguage:{get:function(){return this._curLanguage},set:function(e){this._curLanguage=e,a.saveLocalData(a.keys.LANGUAGE,e)}},sound:{get:function(){return this._sound},set:function(e){this._sound!=e&&(this._sound=e,this._sound&&this.gameCore.uiMng.isInLobby||this.stopAudioBg(),a.saveLocalData(a.keys.SOUND,this._sound))}},vibration:{get:function(){return this._vibration},set:function(e){this._vibration=e,a.saveLocalData(a.keys.VIBRATION,this._vibration)}},rummySort:{get:function(){return this._rummySort},set:function(e){this._rummySort=e,a.saveLocalData(a.keys.RUMMY_SORT,this._rummySort),r.getCurTable()&&r.getCurTable().contrller&&r.getCurTable().contrller.centerSeat&&r.getCurTable().contrller.centerSeat.showSortBtn&&r.getCurTable().contrller.centerSeat.showSortBtn(e)}},handStrengthMeter:{get:function(){return r.getCurPlayer().isHandStrengthMeter}},notification:{get:function(){var e=r.getCurPlayer().isNotification;return cc.sys.os==cc.sys.OS_ANDROID&&(e=e&&jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","areNotificationsEnabled","()Z")),e}},precontrolBarBan:{get:function(){return this._precontrolBarBan},set:function(e){this._precontrolBarBan=e,a.saveLocalData(a.keys.IS_PRE_CONTROL_BAR_BAN,this._precontrolBarBan)}},transferNew:{get:function(){return!isInstantGame&&(this._transferNew&&cc.sys.os==cc.sys.OS_ANDROID)},set:function(e){this._transferNew=e,this.gameCore.uiMng.dispatch(d.UI_CMD_STORE_NEW_STATUS_CHANGED),a.saveLocalData(a.keys.TRANSFER_NEW,this._transferNew)}},ABNew:{get:function(){return this._ABNew},set:function(e){this._ABNew=e,a.saveLocalData(a.keys.AB_NEW,this._ABNew)}},headIconCache:{default:{}},logined:!1,scenePreloaded:{set:function(e){this._scenePreloaded=e,this._scenePreloaded&&this.gotoLobby()}},currency:"USD",lastGameEarn:{get:function(){return this._lastGameEarn},set:function(e){this._lastGameEarn=e}},lastGameEarnGold:{get:function(){return this._lastGameEarnGold},set:function(e){this._lastGameEarnGold=e}},PVPDisbanded:!1,connectRetryStartTime:-1,connectRetryTimes:0,commandCacheList:[],isMeCreatedPrivateRoom:!1,hasRewardedVideo:{get:function(){return isInstantGame?!!this.gameCore.instantGameANMMng&&this.gameCore.instantGameANMMng.rewardedVideoLoaded:!cc.sys.isBrowser&&IAds.isVideoAdLoad()&&r.getCurPlayer()&&r.getCurPlayer().getTeenPattiProfile().advNum>0}},commandSceneOpeningCacheList:[],commandSceneOpeningIgnoreCacheList:[],sceneOpening:{set:function(e){if(this._sceneOpening=e,!e){for(var t=0;t<this.commandSceneOpeningCacheList.length;t++)r.onMsgCacheReceived(this.commandSceneOpeningCacheList[t][0],this.commandSceneOpeningCacheList[t][1]);this.commandSceneOpeningCacheList=[]}}},entryPointData:null,instantgamePaymentsReady:!1,browserQueryHandled:!1,priceCurrencyCode:"USD",PVPBankerSummary:null,signInWithApple:!1},ctor:function(){this.smartfoxConfig=l.PATTI_HOST_DEFAULT;var e=a.getLocalData(a.keys.SOUND);this._sound=void 0==e||1==e;var t=a.getLocalData(a.keys.VIBRATION);this._vibration=void 0==t||1==t;var i=a.getLocalData(a.keys.RUMMY_SORT);this._rummySort=void 0==i||1==i;var n=a.getLocalData(a.keys.TRANSFER_NEW);this._transferNew=void 0==n;var o=a.getLocalData(a.keys.AB_NEW);this._ABNew=void 0==o,this.gameCore.uiMng.addListener(d.SERVER_CMD_ANDROID_BUY,this,this.onAndroidBuy),this.gameCore.uiMng.addListener(d.SERVER_CMD_IOS_BUY,this,this.onIOSBuy),this.gameCore.uiMng.addListener(d.SERVER_CMD_IOS_SUBS_BUY,this,this.onIOSSubsBuy),this.gameCore.uiMng.addListener(d.SERVER_CMD_FACEBOOK_BUY,this,this.onFacebookBuy),this.gameCore.uiMng.addListener(d.SERVER_CMD_FACEBOOK_INSTANTGAME_BUY,this,this.onInstantGameBuy),this.gameCore.uiMng.addListener(d.SERVER_CMD_WEB_STORE,this,this.onWebStoreState),this.gameCore.uiMng.addListener(d.UI_CMD_SCENE_LOADED,this,this.onSceneLoaded),this.gameCore.uiMng.addListener(d.SERVER_CMD_BANK_ACCOUNT,this,this.onBankAccountReceived),this.gameCore.uiMng.addListener(d.SERVER_CMD_BANK_TO_CHIPS,this,this.onBankToChipsComplete),this.gameCore.uiMng.addListener(d.SERVER_CMD_BANK_TO_BANK,this,this.onBankToChipsComplete),this.gameCore.uiMng.addListener(d.SERVER_CMD_AB_PVP_BANKER_SUMMARY,this,this.onPVPBankerSummary),this.gameCore.uiMng.addListener("curserver",this,this.onCurServer),r.addListener(d.SERVER_CMD_LOGIN,this,this.onLoginCurServer),this._scenePreloaded=!1,this.androidBuyCache=[],this.iOSBuyCache=[],this.FBInstantBuyCache=[],this.skuDetails="",isInstantGame&&(this.entryPointData=FBInstant.getEntryPointData(),FBInstant.player.subscribeBotAsync().then(function(){}.bind(this)).catch(function(e){}.bind(this)),FBInstant.payments.onReady(function(){this.instantgamePaymentsReady=!0,this.gameCore.uiMng.dispatch("fb_instant_payment_ready"),this.getFBInstantPurchases()}.bind(this)),FBInstant.onPause(function(){this.gameCore&&this.gameCore.userMng&&FBInstant.setSessionData({nextSignInTime:this.gameCore.userMng.nextSignInTime})}.bind(this)))},onEnterForeground:function(){this._super(),null!=njb.launchQueryJson&&this.handleLaunchQuery()},isSupportInstantGamePurchase:function(){return!!isInstantGame&&(this.instantgamePaymentsReady&&-1!=FBInstant.getSupportedAPIs().indexOf("payments.purchaseAsync"))},getRegularFont:function(){var e=this.robotoRegular;return"hi"==this.curLanguage&&(e=this.droidHindi),e},getBoldFont:function(){var e=this.robotoBold;return"hi"==this.curLanguage&&(e=this.droidHindi),e},changeLobbyType:function(e){this.curLobbyType=e,this.gameCore.uiMng.isInLobby&&this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},LoadDefaultLobby:function(){var e=a.getLocalData(a.keys.LOBBY_TYPE);this.curLobbyType=e},changeLanguage:function(t){-1==o.languages.indexOf(t)&&(t="en"),this.curLanguage=t;var i=e("LanguageData");i.init(t),i.updateSceneRenderers(),this.gameCore.uiMng.i18nRendersUpdate()},LoadDefaultLanguage:function(e){e=a.getLocalData(a.keys.LANGUAGE);-1==o.languages.indexOf(e)&&(e="en"),this.curLanguage=e,m.init(e)},playAudioEffect:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!this.isBackground&&this.sound)for(var n=cc.director.getScene().children,a=null,o=0;o<n.length;++o)if(n[o]&&(a=n[o].getComponentsInChildren("BaseSceneAudio")).length>0)return a[0].playEffect(e,t,i)},stopAudioEffect:function(e){e&&cc.audioEngine.stop(e)},playAudioBg:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.isBackground&&this.sound)if(null!=this.audioBgID)this.resumeAudioBg();else for(var i=cc.director.getScene().children,n=null,a=0;a<i.length;++a)if(i[a]&&(n=i[a].getComponentsInChildren("BaseSceneAudio")).length>0)return this.audioBgID=n[0].playBg(e,t),this.audioBgID},pauseAudioBg:function(){null!=this.audioBgID&&cc.audioEngine.pause(this.audioBgID)},resumeAudioBg:function(){null!=this.audioBgID&&cc.audioEngine.resume(this.audioBgID)},stopAudioBg:function(){null!=this.audioBgID&&(cc.audioEngine.stop(this.audioBgID),this.audioBgID=null)},needCacheCommand:function(e,t){if(this.isBackground){if(this.gameCore.uiMng.isInCasinoWarGame){if(cc.sys.isBrowser&&-1!=d.CASINO_WAR_COMMAND_LIST_WEB().indexOf(e))return!1;if(e==d.SERVER_CMD_START_WAR)for(var i=[d.SERVER_CMD_START_TIME,d.SERVER_CMD_START_WAR,d.SERVER_CMD_ALL_CARD,d.SERVER_CMD_CASINO_BET,d.SERVER_CMD_WAR_BET,d.SERVER_CMD_WAR_READY],n=this.commandCacheList.length-1;n>=0;n--)-1!=i.indexOf(this.commandCacheList[n][0])&&this.commandCacheList.splice(n,1)}else if(this.gameCore.uiMng.curSceneKey==u.AB_SCENE.name||this.gameCore.uiMng.curSceneKey==u.AB_GOLD_SCENE.name||this.gameCore.uiMng.curSceneKey==u.AB_PVP_SCENE.name||this.gameCore.uiMng.curSceneKey==u.AB_PVP_GOLD_SCENE.name){if(e==d.SERVER_CMD_START_AB&&8!=t.roomStatus||e==d.SERVER_CMD_START_TIME){var a=[d.SERVER_CMD_START_TIME,d.SERVER_CMD_START_AB,d.SERVER_CMD_AB_DEAL,d.SERVER_CMD_AB_BET,d.SERVER_CMD_AB_READY,d.SERVER_CMD_AB_BANKER,d.SERVER_CMD_AB_CARD_SELECT];for(n=this.commandCacheList.length-1;n>=0;n--)-1!=a.indexOf(this.commandCacheList[n][0])&&this.commandCacheList.splice(n,1)}e!=d.SERVER_CMD_START_AB&&e!=d.SERVER_CMD_AB_BANKER||(t.startTime=(new Date).getTime())}else if(this.gameCore.uiMng.curSceneKey==u.PATTI_WAR_SCENE.name){if(e==d.SERVER_CMD_START_PATTI_WAR||e==d.SERVER_CMD_START_TIME){var o=[d.SERVER_CMD_START_TIME,d.SERVER_CMD_START_PATTI_WAR,d.SERVER_CMD_PATTI_WAR_USERCARDS,d.SERVER_CMD_PATTI_WAR_COUNT];for(n=this.commandCacheList.length-1;n>=0;n--)-1!=o.indexOf(this.commandCacheList[n][0])&&this.commandCacheList.splice(n,1)}e==d.SERVER_CMD_START_PATTI_WAR&&(t.startTime=(new Date).getTime())}else if(this.gameCore.uiMng.curSceneKey==u.WINGO_SCENE.name)if("winGoChangeStatus"==e){if(2==t.gameStatus){var s=["winGoChangeStatus","winGoBetInfo","winGoBet","winGoReBet"],r=!1;for(n=this.commandCacheList.length-1;n>=0;n--)"winGoChangeStatus"==this.commandCacheList[n][0]&&2==this.commandCacheList[n][1].gameStatus&&(r=!0),"winGoResult"==this.commandCacheList[n][0]?this.commandCacheList[n][1].skip=!0:-1!=s.indexOf(this.commandCacheList[n][0])&&this.commandCacheList.splice(n,1);r&&(t.hideRebet=!0)}}else"winGoResult"==e&&(t.background=!0);else if(this.gameCore.uiMng.curSceneKey==u.RUMMY_SCENE.name)"rummystarttime"==e&&(t.startTime=(new Date).getTime());else if(this.gameCore.uiMng.curSceneKey==u.DELUXE_SCENE.name&&"deluxstart"==e){var l=[d.SERVER_CMD_CPOOL,"deluxstart","choosemode",d.SERVER_CMD_START,"next",d.SERVER_CMD_GAMBLE,d.SERVER_CMD_SIDE_SHOW,d.SERVER_CMD_FINISH];for(n=this.commandCacheList.length-1;n>=0;n--)-1!=l.indexOf(this.commandCacheList[n][0])&&this.commandCacheList.splice(n,1)}return this.commandCacheList.push([e,t]),!0}return!1},needCacheSceneOpeningCommand:function(e,t){return!(!this._sceneOpening||-1!=this.commandSceneOpeningIgnoreCacheList.indexOf(e))&&(this.commandSceneOpeningCacheList.push([e,t]),!0)},getGameModeStr:function(e){var t="";return"Classic"==e?t=m.t("label_text.classic1"):"Joker"==e?t=m.t("label_text.joker1"):"Muflis"==e?t=m.t("label_text.muflis1"):"HuKam"==e?t=m.t("label_text.hukam1"):"AK47"==e&&(t=m.t("label_text.ak47")),t},onPVPBankerSummary:function(e){this.PVPBankerSummary=e.is,this.gameCore.uiMng.isInLobby&&this.openRoomSummary()},showCantEnterPattiWarReason:function(e){1==e.type?this.showAlert(m.t("label_text.table_full_patti_war")):2==e.type&&this.openChipsNotEnoughTwoItem(e.chips-this.gameCore.userMng.myself.nChips,e.chips)},openCustomerSupport:function(){r.cstmMsgHistory.newMsgCount=0,this.gameCore.uiMng.openUI(u.CUSTOMER_SUPPORT_POPUP)},isEmailClaimable:function(e){return-1!=[0,2,3,4,-99].indexOf(e)},emailActualChips:function(e){return 3==e.type?e.bankchips:4==e.type?e.diamonds:-99==e.type?e.gold:e.chips},hasPurchase:function(){return!isInstantGame||this.isSupportInstantGamePurchase()},noLimitRoomHasEnoughChips:function(){return!(this.gameCore.userMng.myself.nChips<this.gameCore.userMng.noLimitMinChips)||(this.gameCore.gameMng.openChipsNotEnoughTwoItem(this.gameCore.userMng.noLimitMinChips-this.gameCore.userMng.myself.nChips,null,m.t("label_text.play_no_limit")),!1)},priRoomHasEnoughChips:function(){for(var e=0,t=0;t<3;t++)this.gameCore.userMng.privateMinChipsList[t].length>0&&(e=Math.max(e,this.gameCore.userMng.privateMinChipsList[t][0]));return!(this.gameCore.userMng.myself.nChips<e)||(this.gameCore.gameMng.openChipsNotEnoughTwoItem(e-this.gameCore.userMng.myself.nChips,null,m.t("label_text.play_private_table")),!1)},hasEnoughGold:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!(this.gameCore.userMng.myself.nGold<e)||(this.openGoldNotEnoughTwoItem(e,null,t),!1)},hasEnoughChips:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.gameCore.uiMng.isInGoldScene?this.hasEnoughGold(e,t):!(this.gameCore.userMng.myself.nChips<e)||(this.openChipsNotEnoughTwoItem(e,null,t),!1)},hasEnoughChips2:function(e){return this.gameCore.uiMng.isInGoldScene?this.hasEnoughGold(e):!(this.gameCore.userMng.myself.nChips<e)||(this.openChipsNotEnoughTwoItem(e),!1)},hasEnoughBankBalance:function(e){return!(this.gameCore.userMng.myself.tpProfile.bankChips<e)||(this.bankPurchaseFailAlert(m.t("label_text.insufficient_balance_msg"),m.t("label_text.insufficient_balance"),m.t("label_text.insufficient_balance_button"),2),!1)},hasEnoughGoldBalance:function(e){return!(this.gameCore.userMng.myself.nGold<e)||(this.bankPurchaseFailAlert(m.t("label_text.not_enough_gold_bank"),m.t("label_text.insufficient_balance"),m.t("label_text.insufficient_balance_button"),2),!1)},openFreeChipsWebPage:function(){var e=this.gameCore.userMng.myself;e&&cc.sys.openURL(o.FreeChipsURL+"?userId="+e.strTPID)},onWebStoreState:function(e){1==e.i?this.gameCore.uiMng.dispatch(d.UI_CMD_WEB_STORE_STATE_CHANGED):2==e.i&&this.gameCore.uiMng.openUI(u.FREE_CHIPS_POPUP)},openGameScene:function(){var e=r.getCurRoom();if(e){if(e.isTournament)this.openGameUI(u.GAME_SCENE_TOUR,"Tour");else if(e.roomType==ROOM_TYPE.CASINO_WAR)this.openGameUI(u.CASINO_WAR_SCENE,"TPFWar");else if(e.roomType==ROOM_TYPE.CASINO_WAR_GOLD)this.openGameUI(u.CASINO_WAR_GOLD_SCENE,"TPFWar");else if(e.roomType==ROOM_TYPE.CASINO_WAR_PVP_GOLD){this.sceneOpening=!0,this.gameCore.uiMng.showLoading();var t=this,i=function(){ae.resloader.load(e.table.myselfIsBanker?o.GAME_BG_CASINO_WAR_PVP_BANKER:o.GAME_BG_CASINO_WAR_PVP_PLAYER,handler(t,function(e,i){t.gameCore.userMng.gameBgTex=i;var n=u.CASINO_WAR_PVP_GOLD_SCENE;cc.director.preloadScene(n.name,handler(t,function(){t.gameCore.uiMng.openUI(n)}))}))};HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("TPFWar",function(e){if(e)return console.error(e);console.log("load TPFWar successfully."),i()}):i()}else if(e.roomType==ROOM_TYPE.AB)this.openGameUI(u.AB_SCENE,"AB");else if(e.roomType==ROOM_TYPE.AB_GOLD)this.openGameUI(u.AB_GOLD_SCENE,"AB");else if(e.roomType==ROOM_TYPE.AB_PVP||e.roomType==ROOM_TYPE.AB_PVP_GOLD){this.sceneOpening=!0,this.gameCore.uiMng.showLoading();t=this;var n=function(){ae.resloader.load(e.table.myselfIsBanker?o.GAME_BG_AB_PVP_BANKER:o.GAME_BG_AB_PVP_PLAYER,handler(t,function(i,n){t.gameCore.userMng.gameBgTex=n;var a=e.roomType==ROOM_TYPE.AB_PVP?u.AB_PVP_SCENE:u.AB_PVP_GOLD_SCENE;cc.director.preloadScene(a.name,handler(t,function(){t.gameCore.uiMng.openUI(a)}))}))};HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("AB",function(e){if(e)return console.error(e);console.log("load AB successfully."),n()}):n()}else e.roomType==ROOM_TYPE.PATTI_WAR?this.openGameUI(u.PATTI_WAR_SCENE,"TPFWar"):e.roomType==ROOM_TYPE.MATCH_CRICKET?(r.sendMsg("cricketlist",null),this.openGameUI(u.CRICKET_SCENE,"OnlineBet")):e.roomType==ROOM_TYPE.MATCH_FOOTBALL?this.openGameUI(u.FOOTBALL_SCENE,"OnlineBet"):e.roomType==ROOM_TYPE.TEXAS_HOLDEM?this.openGameUI(u.TEXAS_HOLDEM_SCENE,"Deluxe_Poker"):e.roomType==ROOM_TYPE.TEXAS_HOLDEM_GOLD?this.openGameUI(u.TEXAS_HOLDEM_GOLD_SCENE,"Deluxe_Poker"):e.roomType==ROOM_TYPE.RUMMY?this.openGameUI(u.RUMMY_SCENE,"Rummy"):e.roomType==ROOM_TYPE.DELUXE?this.openGameUI(u.DELUXE_SCENE,"Deluxe_Poker"):e.roomType==ROOM_TYPE.CLASSIC_GOLD?this.openGameUI(u.CLASSIC_GOLD_SCENE,"Game"):e.roomType==ROOM_TYPE.WINGO_LOTTERY?this.openGameUI(u.WINGO_SCENE):this.openGameUI(u.GAME_SCENE,"Game");return this.isFromPrivateRoom=this.isPrivateRoom(),!0}return!1},openGameUI:function(e,t){if(HAS_SUBPACKAGE&&t){var i=this;cc.loader.downloader.loadSubpackage(t,function(n){if(n)return console.error(n);console.log("load "+t+" successfully."),i.gameCore.uiMng.openUI(e)})}else this.gameCore.uiMng.openUI(e)},showOnePromotion:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.hasBroken=null,this.hasDailyMission=null,this.hasRoomSummary=null,!this.gameCore.uiMng.isPopUpByUIKey(u.PROMOTION_POPUP.name)){var t=0,i=r.getCurPlayer()?r.getCurPlayer().ptProfile:null;if(i){for(var n=i.getPromotionList(),a=0;a<n.length;a++){var o=n[a];i.isPromotionValid(o)&&i.isPromotionReady(o)&&i.isAutoPopUp(o)&&(t+=o.weight)}if(t<1)return!1;var s=Math.random()*t+1;for(a=0;a<n.length;a++){o=n[a];if(i.isPromotionValid(o)&&i.isPromotionReady(o)&&i.isAutoPopUp(o)&&s>0&&s<=o.weight)return e||this.gameCore.uiMng.openUI(u.PROMOTION_POPUP,function(e){e&&e.setInitData(o)}),!0;s-=o.weight}}return!1}},resolveLaunchQuery:function(e){if(e.room_name&&!this.gameCore.friendsMng.isVIPRoomNoJoin(e.room_name)){if(-1!=e.room_name.indexOf("Gold")&&!this.gameCore.userMng.myVIPDataReceived)return!0;var t=!0,i=e.room_name;return-1!=i.indexOf("#pri")&&!this.gameCore.gameMng.priRoomHasEnoughChips()||-1!=i.indexOf("Deluxe@")||-1!=i.indexOf("rummy")||-1!=i.indexOf("Gold")&&-1==this.gameCore.userMng.myself.goldVIPType?t=!1:this.gameCore.userMng.playInRoom(i),njb.launchQueryJson=null,this.browserQueryHandled=!0,t}if(e.type){var n=e.type;"redeemcode"==n?this.gameCore.initPopupMng.redeemCodeData=e:"invitecode"==n&&(this.gameCore.initPopupMng.inviteCodeData=e,this.gameCore.initPopupMng.redeemCodeComplete=!0)}return njb.launchQueryJson=null,this.browserQueryHandled=!0,!1},handleLaunchQuery:function(){if(!c.isConnected()||!this.logined)return!1;if(cc.sys.isBrowser&&!this.browserQueryHandled&&""!=window.location.search){var e=window.location.search,t="";e&&e.length>1&&(t=e.substring(1));for(var i={},n=t.split("&"),a=0;a<n.length;a++){var o=n[a].split("=");2==o.length&&(i[o[0]]=o[1])}return this.resolveLaunchQuery(i)}return this.gameCore.initPopupMng.redeemCodeComplete=!0,!1},judgeUICache:function(){for(var e=0;e<this.commandCacheList.length;e++)r.onMsgCacheReceived(this.commandCacheList[e][0],this.commandCacheList[e][1]);this.commandCacheList=[];for(e=this.uiCacheDataList.length-1;e>=0;e--){var t=this.uiCacheDataList.splice(e,1)[0];"alert"==t.type?this.showAlert.apply(this,t.data):"skuDetails"==t.type?this.onGetSkuDetails(t.data):"flyChips"==t.type?this.playChipsFly.apply(this,t.data):"flyGold"==t.type?this.playGoldFly.apply(this,t.data):"bankAlert"==t.type?this.onBankToChipsComplete.apply(this,t.data):"broken"==t.type?this.onBrokenCallBack.apply(this,t.data):"bankPurchaseFailAlert"==t.type?this.bankPurchaseFailAlert.apply(this,t.data):"roomSummaryABPVP"==t.type&&this.showPVPSummary.apply(this,t.data)}this._super()},getStoreItemBasicCount:function(e){var t=e;return 1e9==e?t=4e8:47e7==e?t=2e8:18e7==e?t=8e7:8e7==e?t=4e7:35e6==e?t=2e7:5e6==e?t=4e6:25e5==e&&(t=24e5),t},getGoldNotEnoughTwoItems:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;LogUtil.debug(p,"skuDetails:"+e+" ruleChips:"+t+" minimumChips:"+i+" subTitleText:"+n);var a=[];if(cc.sys.isBrowser)a=[e[0],e[2]];else{this.gameCore.uiMng.removeListener(d.UI_CMD_GET_SKU_DETAILS,this),LogUtil.debug(p,"two items:"+e),""==e&&(e='{"productId":"com.teenpattipoker.adnroid.gold.10cr","type":"inapp","price":"$14.99","price_amount_micros":14990000,"price_currency_code":"USD","title":"10Cr Gold","description":"10Cr Gold"}|{"productId":"com.teenpattipoker.adnroid.gold.34cr","type":"inapp","price":"$49.99","price_amount_micros":49990000,"price_currency_code":"USD","title":"34Cr Gold","description":"34Cr Gold"}|{"productId":"com.teenpattipoker.adnroid.gold.70cr","type":"inapp","price":"$99.99","price_amount_micros":99990000,"price_currency_code":"USD","title":"70Cr Gold","description":"70Cr Gold"}');for(var o=this.goldSkuDetailsFilter(e),r=0;r<o.length;r++)isInstantGame||(o[r].count=s.unformatNumber(o[r].title.slice(0,o[r].title.indexOf(" "))));o.sort(function(e,t){return e.count-t.count}),a=[o[0],o[2]]}this.gameCore.uiMng.openUI(u.GOLD_NOT_ENOUGH_TWO_ITEM,handler(this,function(e,t,i,n,a){e&&(e.initData(t,i,n,a),this.closeAllRoomInfo())},[t,a,i,n]))},getChipsNotEnoughTwoItems:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;LogUtil.debug(p,"skuDetails:"+e+" ruleChips:"+t+" minimumChips:"+i+" subTitleText:"+n);var a=[];if(isInstantGame){var o=e.concat();o.sort(function(e,t){return parseInt(e.count)-parseInt(t.count)});for(var r=o[4],l=o[2],c=o[o.length-1],h=0;h<o.length;h++)if(parseInt(o[h].count)>=t){c=o[h];break}a=[parseInt(c.count)<parseInt(r.count)?c:r];for(h=0;h<o.length;h++)if(parseInt(o[h].count)>parseInt(a[0].count)){c=o[h];break}a.push(parseInt(c.count)>parseInt(l.count)?c:l)}else if(cc.sys.isBrowser){var m=e.concat();m.sort(function(e,t){return parseInt(e.count)-parseInt(t.count)});for(r=m[4],l=m[2],c=m[m.length-1],h=0;h<m.length;h++)if(parseInt(m[h].count)>=t){c=m[h];break}a=[parseInt(c.count)<parseInt(r.count)?c:r];for(h=0;h<m.length;h++)if(parseInt(m[h].count)>parseInt(a[0].count)){c=m[h];break}a.push(parseInt(c.count)>parseInt(l.count)?c:l)}else{this.gameCore.uiMng.removeListener(d.UI_CMD_GET_SKU_DETAILS,this),LogUtil.debug(p,"two items:"+e),""==e&&(e='{"productId":"com.teenpattipoker.bank.180cr","type":"inapp","price":"HK$1,409.00","price_amount_micros":1409000000,"price_currency_code":"HKD","title":"180Cr chips for bank (Teen Patti Flush: 3 Patti Poker)","description":"180Cr chips for bank"}|{"productId":"com.teenpattipoker.bank.460cr","type":"inapp","price":"HK$3,099.00","price_amount_micros":3099000000,"price_currency_code":"HKD","title":"460Cr chips for bank (Teen Patti Flush: 3 Patti Poker)","description":"460Cr chips for bank"}|{"productId":"com.teenpattipoker.chips.1000000000","type":"inapp","price":"HK$788.00","price_amount_micros":788000000,"price_currency_code":"HKD","title":"100Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"100Cr chips"}|{"productId":"com.teenpattipoker.chips.180000000","type":"inapp","price":"HK$158.00","price_amount_micros":158000000,"price_currency_code":"HKD","title":"18Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"18Cr chips"}|{"productId":"com.teenpattipoker.chips.35000000","type":"inapp","price":"HK$39.90","price_amount_micros":39900000,"price_currency_code":"HKD","title":"3.5Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"3.5Cr chips"}|{"productId":"com.teenpattipoker.chips.470000000","type":"inapp","price":"HK$389.00","price_amount_micros":389000000,"price_currency_code":"HKD","title":"47Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"47Cr chips"}|{"productId":"com.teenpattipoker.chips.5000000","type":"inapp","price":"HK$8.00","price_amount_micros":8000000,"price_currency_code":"HKD","title":"50L chips (Teen Patti Flush: 3 Patti Poker)","description":"50L chips"}|{"productId":"com.teenpattipoker.chips.800000","type":"inapp","price":"HK$389.00","price_amount_micros":389000000,"price_currency_code":"HKD","title":"46Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"46Cr chips"}|{"productId":"com.teenpattipoker.chips.80000000","type":"inapp","price":"HK$78.00","price_amount_micros":78000000,"price_currency_code":"HKD","title":"8Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"8Cr chips"}|{"productId":"com.teenpattipoker.chips.novicepack","type":"inapp","price":"HK$8.00","price_amount_micros":8000000,"price_currency_code":"HKD","title":"1.25Cr for Novice Pack (Teen Patti Flush: 3 Patti Poker)","description":"1.25Cr for Novice Pack"}|{"productId":"com.teenpattipoker.diamonds.10","type":"inapp","price":"HK$8.00","price_amount_micros":8000000,"price_currency_code":"HKD","title":"10 Diamonds (Teen Patti Flush: 3 Patti Poker)","description":"10 Diamonds"}');var g=this.skuDetailsFilter(e);for(h=0;h<g.length;h++)isInstantGame||(g[h]=JSON.parse(g[h]),g[h].count=s.unformatNumber(g[h].title.slice(0,g[h].title.indexOf(" "))),g[h].basicCount=this.getStoreItemBasicCount(g[h].count));g.sort(function(e,t){return e.count-t.count});for(r=g[4],l=g[2],c=g[g.length-1],h=0;h<g.length;h++)if(parseInt(g[h].count)>=t){c=g[h];break}a=[parseInt(c.count)<parseInt(r.count)?c:r];for(h=0;h<g.length;h++)if(parseInt(g[h].count)>parseInt(a[0].count)){c=g[h];break}a.push(parseInt(c.count)>parseInt(l.count)?c:l)}this.gameCore.uiMng.openUI(u.CHIPS_NOT_ENOUGH_TWO_ITEM,handler(this,function(e,t,i,n,a){e&&(e.initData(t,i,n,a),this.closeAllRoomInfo())},[t,a,i,n]))},closeAllRoomInfo:function(){for(var e=[u.GAME_ROOM_INFO,u.GAME_ROOM_INFO_CASINO_WAR,u.GAME_ROOM_INFO_AB,u.GAME_ROOM_INFO_PATTI_WAR,u.GAME_ROOM_INFO_TEXAS_HOLDEM,u.GAME_ROOM_INFO_AB_PVP,u.GAME_ROOM_INFO_AB_PVP_GOLD,u.GAME_ROOM_INFO_AB_GOLD,u.GAME_ROOM_INFO_CASINO_WAR_GOLD,u.GAME_ROOM_INFO_CASINO_WAR_PVP_GOLD,u.GAME_ROOM_INFO_WINGO],t=0;t<e.length;t++)this.gameCore.uiMng.closeUI(e[t])},openGoldNotEnoughTwoItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.hasPurchase()&&(cc.sys.isBrowser?this.getGoldNotEnoughTwoItems(o.facebookGoldSkuDetails,e,t,i):cc.sys.os!=cc.sys.OS_ANDROID||jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","checkGooglePlayExist","()Z")?(this.gameCore.uiMng.addListener(d.UI_CMD_GET_SKU_DETAILS,this,handler(this,this.getGoldNotEnoughTwoItems,[e,t,i])),this.gameCore.gameMng.getNativeSkuDetails()):this.getGoldNotEnoughTwoItems("",e,t,i))},openChipsNotEnoughTwoItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.hasPurchase()?isInstantGame?this.hasPurchase()&&FBInstant.payments.getCatalogAsync().then(function(n){for(var a=0;a<n.length;a++)n[a].count=s.unformatNumber(n[a].title.split(" ")[0]),n[a].basicCount=this.getStoreItemBasicCount(n[a].count);this.getChipsNotEnoughTwoItems(n,e,t,i)}.bind(this)).catch(function(e){this.gameCore.gameMng.showAlert(e.message)}.bind(this)):cc.sys.isBrowser?this.getChipsNotEnoughTwoItems(o.facebookSkuDetails,e,t,i):cc.sys.os!=cc.sys.OS_ANDROID||jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","checkGooglePlayExist","()Z")?(this.gameCore.uiMng.addListener(d.UI_CMD_GET_SKU_DETAILS,this,handler(this,this.getChipsNotEnoughTwoItems,[e,t,i])),this.gameCore.gameMng.getNativeSkuDetails()):this.getChipsNotEnoughTwoItems("",e,t,i):this.gameCore.uiMng.openUI(u.CHIPS_NOT_ENOUGH_3)},openChipsNotEnough1:function(){this.hasPurchase()&&(cc.sys.isBrowser?this.onGetSkuDetails(o.facebookSkuDetails):(this.gameCore.gameMng.getNativeSkuDetails(),this.gameCore.uiMng.addListener(d.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails)))},onGetSkuDetails:function(e){this.gameCore&&(this.skuDetails=e,this.gameCore.uiMng.removeListener(d.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails),""!=e&&(this.isBackground?this.uiCacheDataList.push({type:"skuDetails",data:e}):r.getCurPlayer().getTeenPattiProfile().storeBanned||this.gameCore.uiMng.isInGoldScene||(this.gameCore.uiMng.addListener(d.SERVER_CMD_GET_ENOUGH_ITEM,this,this.onGetEnoughItem),r.sendMsg(d.SERVER_CMD_GET_ENOUGH_ITEM,null))))},onGetEnoughItem:function(e,t){this.gameCore.uiMng.removeListener(d.SERVER_CMD_GET_ENOUGH_ITEM,this,this.onGetEnoughItem),""!=this.skuDetails&&this.gameCore.uiMng.openUI(u.CHIPS_NOT_ENOUGH_1,function(e){e&&(cc.sys.isBrowser,e.onGetSkuDetails(this.skuDetails,t.i))}.bind(this))},diamondSkuDetailsFilter:function(e){var t=[];if(isInstantGame);else if(""!=e){var i=e.split("|");if(cc.sys.os==cc.sys.OS_ANDROID)for(var n=0;n<i.length;n++)for(var a=0;a<o.androidDiamondSkuIDList.length;a++)if(-1!=i[n].indexOf(o.androidDiamondSkuIDList[a])){t.push(JSON.parse(i[n]));break}}return t},subsSkuDetailsFilter:function(e){var t=[];if(""!=e){var i=e.split("|");if(cc.sys.os==cc.sys.OS_IOS)for(var n=0;n<i.length;n++)for(var a=0;a<o.iOSSubsSkuIDList.length;a++)if(-1!=i[n].indexOf(o.iOSSubsSkuIDList[a])){t.push(JSON.parse(i[n]));break}}return t},bankSkuDetailsFilter:function(e){var t=[];if(isInstantGame)for(var i=0;i<e.length;i++)-1!=o.instantGameBankSkuIDList.indexOf(e[i].productID)&&t.push(e[i]);else if(""!=e){var n=e.split("|");if(cc.sys.os==cc.sys.OS_ANDROID){for(var a=0;a<n.length;a++)for(i=0;i<o.androidBankSkuIDList.length;i++)if(-1!=n[a].indexOf(o.androidBankSkuIDList[i])){t.push(JSON.parse(n[a]));break}}else if(cc.sys.os==cc.sys.OS_IOS)for(a=0;a<n.length;a++)for(i=0;i<o.iOSBankSkuIDList.length;i++)if(-1!=n[a].indexOf(o.iOSBankSkuIDList[i])){t.push(JSON.parse(n[a]));break}}return t},goldSkuDetailsFilter:function(e){var t=[];if(isInstantGame);else if(""!=e){var i=e.split("|");if(cc.sys.os==cc.sys.OS_ANDROID){for(var n=0;n<i.length;n++)for(var a=0;a<o.androidGoldSkuIDList.length;a++)if(-1!=i[n].indexOf(o.androidGoldSkuIDList[a])){t.push(JSON.parse(i[n]));break}}else if(cc.sys.os==cc.sys.OS_IOS)for(n=0;n<i.length;n++)for(a=0;a<o.iOSGoldSkuIDList.length;a++)if(-1!=i[n].indexOf(o.iOSGoldSkuIDList[a])){t.push(JSON.parse(i[n]));break}}return t},noviceSkuDetailsFilter:function(e){var t=[];if(isInstantGame);else if(""!=e){var i=e.split("|");if(cc.sys.os==cc.sys.OS_ANDROID){for(var n=0;n<i.length;n++)for(var a=0;a<o.androidNovicePackSkuIDList.length;a++)if(-1!=i[n].indexOf(o.androidNovicePackSkuIDList[a])){t.push(i[n]);break}}else if(cc.sys.os==cc.sys.OS_IOS)for(n=0;n<i.length;n++)for(a=0;a<o.iOSNovicePackSkuIDList.length;a++)if(-1!=i[n].indexOf(o.iOSNovicePackSkuIDList[a])){t.push(i[n]);break}}return t},skuDetailsFilter:function(e){var t=[];if(isInstantGame)for(var i=0;i<e.length;i++)-1!=o.instantGameSkuIDList.indexOf(e[i].productID)&&t.push(e[i]);else if(""!=e){var n=e.split("|");if(cc.sys.os==cc.sys.OS_ANDROID){var a=[0,3,1,5,2,4];-1!=e.indexOf("INR")&&(a=[0,1,5,2,4,6]);for(i=0;i<a.length;i++)for(var s=0;s<n.length;s++)if(-1!=n[s].indexOf(o.skuIDList[a[i]])){t.push(n[s]);break}}else if(cc.sys.os==cc.sys.OS_IOS)for(i=0;i<o.iOSSkuIDList.length;i++)for(s=0;s<n.length;s++)-1!=n[s].indexOf(o.iOSSkuIDList[i])&&-1==o.iOSSkuIDList[i].indexOf("bank")&&t.push(n[s])}return t},receiveErrorCmd:function(e){if(this.gameCore.uiMng.hideLoading(),(e.stage!=d.SERVER_CMD_INVITED_BONUS||3103!=e.errorcode)&&!(e.stage==d.SERVER_CMD_PLAY_IN_ROOM&&3002==e.errorcode||e.stage==d.SERVER_CMD_PLAY_NOLIMIT&&3004==e.errorcode||e.stage==d.SERVER_CMD_IOS_BUY&&2101==e.errorcode||e.stage==d.SERVER_CMD_GET_USER_INFO&&2001==e.errorcode||(e.stage==d.SERVER_CMD_RUMMY_DECLARETEMP||e.stage==d.SERVER_CMD_RUMMY_DECLAREWIN||e.stage==d.SERVER_CMD_RUMMY_DECLARE)&&4312==e.errorcode||e.stage==d.SERVER_CMD_RUMMY_DECLARETEMP&&4311==e.errorcode||e.stage==d.SERVER_CMD_RUMMY_DECLARE&&(4105==e.errorcode||4304==e.errorcode)||e.stage==d.SERVER_CMD_RUMMY_DISCARD&&4101==e.errorcode)){if(1!={sessionbet:!0,winnerbet:!0,pokerbuyin:!0,pokerempty:!0,playPoker:!0,switchdealer:!0,chipstobank:!0}[e.stage]){var t="";-1!=[d.SERVER_CMD_INVITED_BONUS,d.SERVER_CMD_BANNED_USER].indexOf(e.stage)&&(t="");var i=e.mess;e.stage==d.SERVER_CMD_INVITED_BONUS&&(3103==e.errorcode?i=m.t("label_text.timed_out"):3104==e.errorcode&&(i=m.t("label_text.incorrect_code_msg"))),e.stage==d.SERVER_CMD_PLAY_TOURNAMENT?(t="",3701==e.errorcode?i=m.t("label_text.tournament_close"):3702==e.errorcode&&(i=m.t("label_text.tournmanet_end"))):e.stage==d.SERVER_CMD_BANK_TO_CHIPS||e.stage==d.SERVER_CMD_BANK_TO_BANK?(t="",2001==e.errorcode&&(i=m.t("label_text.invalid_id_msg"))):e.stage==d.SERVER_CMD_AB_PVP_PLAY_IN_ROOM?(t="",3002==e.errorcode&&(i=m.t("label_text.table_disbanded"))):"goldvipscode"==e.stage&&(t="",2606==e.errorcode||2609==e.errorcode?i=m.t("label_text.incorrect_redeem"):2607==e.errorcode?i=m.t("label_text.used_redeem"):2608==e.errorcode&&(i=m.t("label_text.expired_redeem")));var n=this.gameCore.gameMng.showAlert(i,t,1.1);n&&(n.canCloseWhileChangeScene=!1)}}},showAlert:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:m.t("label_text.okay"),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:m.t("label_text.cancel"),r=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=[e,t,i,n,a,o,s];this.isBackground?this.uiCacheDataList.push({type:"alert",data:l}):this.gameCore.uiMng.openUI(u.ALERT,function(c){c?c.updateUI(e,t,i,n,a,o,s,r):this.uiCacheDataList.push({type:"alert",data:l})})},showFloatAlert:function(e){if(!this.isBackground){var t=this.gameCore.uiMng.getUIByUIKey(u.FLOAT_ALERT.name);t?t.show(e):this.gameCore.uiMng.openUI(u.FLOAT_ALERT,function(t){t.show(e)})}},showFloatAlert2:function(e){var t=this.gameCore.uiMng.getUIByUIKey(u.FLOAT_ALERT2.name);t?t.show(e):this.gameCore.uiMng.openUI(u.FLOAT_ALERT2,function(t){t.show(e)})},newModeRemind:function(e){1==e?this.showAlert(m.t("label_text.released_update"),"",1,handler(this,function(){this.openMarket()}),null,m.t("label_text.okay"),m.t("label_text.cancel"),!0):this.showFloatAlert2(m.t("label_text.coming_soon_stay_tuned"))},onBankAccountReceived:function(e){this.gameCore.uiMng.dispatch(d.UI_CMD_BANK_ACCOUNT_CHANGED)},onBankToChipsComplete:function(e){if(this.gameCore.uiMng.closeUI(u.WITHDRAW_CHIPS),this.gameCore.uiMng.closeUI(u.GIFT_CHIPS),this.gameCore.uiMng.closeUI(u.BANK_TO_BANK),!e.errorcode){this.gameCore.uiMng.dispatch(d.UI_CMD_BANK_ACCOUNT_CHANGED);var t="";e.type==o.BANK_TYPE_ADD?t=m.t("label_text.add_chips_successfully",{chips:s.formatNumberWithRules(e.chips)}):e.type==o.BANK_TYPE_TRANSFER?t=m.t("label_text.transfer_successfully",{chips:s.formatNumberWithRules(e.chips)}):e.type==o.BANK_TYPE_DRAW?t=m.t("label_text.withdrawl_complete",{chips:s.formatNumberWithRules(e.chips)}):e.type==o.BANK_TYPE_GIFT&&(t=m.t("label_text.gift_successfully",{chips:s.formatNumberWithRules(e.chips)}));var i=[t];this.isBackground?this.uiCacheDataList.push({type:"bankAlert",data:i}):this.gameCore.uiMng.openUI(u.BANK_ALERT,function(e){e?e.updateUI(t):this.uiCacheDataList.push({type:"bankAlert",data:i})}.bind(this))}},playChipsFly:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(e.change<=0)){var o=[e,t,i,n,a];this.isBackground?this.uiCacheDataList.push({type:"flyChips",data:o}):this.gameCore.uiMng.openUI(u.CHIPS_FLY_EFFECT,function(o){o?(o.chipsChangeObj=e,o.flyBezier(t,i,n,a)):0==n?this.gameCore.uiMng.dispatch(d.UI_CMD_CHIPS_CHANGE,e):1==n&&this.gameCore.uiMng.dispatch(d.UI_CMD_BANK_CHIPS_CHANGE,e)}.bind(this))}},playGoldFly:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(e.change<=0)){var a=[e,t,i,n];this.isBackground?this.uiCacheDataList.push({type:"flyGold",data:a}):this.gameCore.uiMng.openUI(u.GOLD_FLY_EFFECT,handler(this,function(a){a?(a.goldChangeObj=e,a.flyBezier(t,i,n)):this.gameCore.uiMng.dispatch(d.UI_CMD_GOLD_CHANGE,e)}))}},judgeBroken:function(){r.sendMsg(d.SERVER_CMD_BROKEN),this.gameCore.uiMng.addListener(d.SERVER_CMD_BROKEN,this,this.onBrokenCallBack)},onBrokenCallBack:function(e){this.gameCore.uiMng.removeListener(d.SERVER_CMD_BROKEN,this,this.onBrokenCallBack),e.i>0?this.gameCore.uiMng.openUI(u.BROKE,function(t){t?t.prize=e.i:this.uiCacheDataList.push({type:"broken",data:e})}.bind(this)):(this.hasBroken=!1,this.judgeOnePromotionShow())},openTourRound:function(e){if(e.level>this.gameCore.userMng.myself.nLevel)return this.gameCore.uiMng.hideLoading(),void this.gameCore.gameMng.showAlert(m.t("label_text.reach_higher_level"));if(2==e.time.length){var t=new Date(1e3*e.time[0]),i=new Date(1e3*e.time[1]),n=new Date,a=!1;if((n.getHours()<t.getHours()||n.getHours()>i.getHours())&&(a=!0),n.getHours()==t.getHours()&&n.getMinutes()<t.getMinutes()&&(a=!0),n.getHours()==i.getHours()&&n.getMinutes()>i.getMinutes()&&(a=!0),a)return this.gameCore.uiMng.hideLoading(),void this.gameCore.gameMng.showAlert(m.t("label_text.tournament_close"))}e.fee&&("ranking"==e.mode?this.gameCore.uiMng.openUI(u.TOURNAMENT_RANKING_ROUND,handler(this,function(t){this.gameCore.uiMng.hideLoading(),t.updateUI(e)})):1==e.fee.length?this.gameCore.uiMng.openUI(u.TOURNAMENT_SINGLE_ROUND,handler(this,function(t){this.gameCore.uiMng.hideLoading(),t.updateUI(e)})):2==e.fee.length&&this.gameCore.uiMng.openUI(u.TOURNAMENT_TWO_ROUND,handler(this,function(t){this.gameCore.uiMng.hideLoading(),t.updateUI(e)})))},showPVPSummary:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.PVPDisbanded=!1;var i="";if(e){var n=this.PVPBankerSummary[1].split("#"),a=Number(this.PVPBankerSummary[2]);i=-1!=n[1].indexOf("Gold")?m.t("bankrupt"==n[0]?"label_text.disband_bankrupt_gold":a>=0?0==a?"label_text.table_disband":"label_text.ab_disband_gold_won":"label_text.ab_disband_gold_lost",{number:s.formatNumberWithRules(Math.abs(a))}):m.t("bankrupt"==n[0]?"label_text.disband_bankrupt":a>=0?0==a?"label_text.table_disband":"label_text.ab_disband_won":"label_text.ab_disband_lost",{number:s.formatNumberWithRules(Math.abs(a))})}else i=t?m.t(this.lastGameEarnGold>=0?"label_text.ab_won_gold_total":"label_text.ab_lost_gold_total",{number:s.formatNumberWithRules(Math.abs(this.lastGameEarnGold))}):m.t(this.lastGameEarn>=0?"label_text.ab_won_total":"label_text.ab_lost_total",{number:s.formatNumberWithRules(Math.abs(this.lastGameEarn))});if(this.isBackground)return this.uiCacheDataList.push({type:"roomSummaryABPVP",data:[e]}),!1;var o=handler(this,function(e){e.updateUI(i,handler(this,function(){window.reconnectToAnotherServer&&(window.reconnectToAnotherServer=void 0,this.gameCore.serverMng.disconnectServer())}))}),r=this.gameCore.uiMng.getUIByUIKey(u.ROOM_SUMMARY_ABPVP.name);return r?o(r):this.gameCore.uiMng.openUI(u.ROOM_SUMMARY_ABPVP,o),this.gameCore.gameMng.lastGameEarn=0,this.gameCore.gameMng.lastGameEarnGold=0,!0},openRoomSummary:function(){this.isFromPrivateRoom&&(this.isFromPrivateRoom=!1,this.gameCore.userMng.myself.nChips<1e7&&this.showAlert(m.t("label_text.play_private_table"),"")),null==this.PVPBankerSummary?this.PVPDisbanded&&(this.gameCore.uiMng.isBackFromPVP||this.gameCore.uiMng.isBackFromPVPGold)?this.showPVPSummary(!1,this.gameCore.uiMng.isBackFromPVPGold):0!=this.lastGameEarnGold&&void 0!=this.lastGameEarnGold&&this.gameCore.uiMng.isFromGoldScene?this.gameCore.uiMng.openUI(u.ROOM_SUMMARY_GOLD):0==this.lastGameEarn||void 0==this.lastGameEarn||this.gameCore.uiMng.lastSceneKey==u.CRICKET_SCENE.name||this.gameCore.uiMng.lastSceneKey==u.FOOTBALL_SCENE.name||this.gameCore.uiMng.lastSceneKey==u.EVENTS_SCENE.name||this.gameCore.uiMng.lastSceneKey==u.GAME_SCENE_TOUR.name||this.gameCore.uiMng.isFromGoldScene?(this.hasRoomSummary=!1,this.judgeOnePromotionShow()):this.gameCore.uiMng.openUI(u.ROOM_SUMMARY):this.showPVPSummary(!0,this.gameCore.uiMng.isBackFromPVPGold)&&(this.PVPBankerSummary=null)},isImageCacheFileExist:function(e){return null},copyToClipboard:function(e){var t=!0;cc.sys.isNative?jsb.copyTextToClipboard(e):cc.sys.isBrowser&&(t=window.copyToClipboard(e)),t&&this.showFloatAlert(m.t("label_text.successfully_copied"))},getEditBoxOffsetY:function(e){if(cc.sys.isNative){var t=cc.visibleRect,i=.5;return cc.sys.os==cc.sys.OS_ANDROID?i=0:cc.sys.os==cc.sys.OS_IOS&&(i=jsb.reflection.callStaticMethod("DeviceUtil","getSoftKeyboardHeightPercent")),(i-.5)*t.height-(e.parent.convertToWorldSpaceAR(e.getPosition()).y-e.height/2-t.height/2)}},openMarket:function(){cc.sys.isNative&&(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","openMarket","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("DeviceUtil","openMarket"))},openComment:function(){cc.sys.isNative&&(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","openMarket","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("DeviceUtil","openComment"))},vibrate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;!this.isBackground&&cc.sys.isNative&&this.vibration&&(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","vibrate","(I)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("DeviceUtil","vibrate"))},reconnectIABService:function(){jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","reconnectIABService","()V")},getNativeSkuDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(cc.sys.isNative)if(cc.sys.os==cc.sys.OS_ANDROID){var t=o.skuIDList.concat(o.androidNovicePackSkuIDList,o.androidGoldSkuIDList,e);jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","getSkuDetails","(Ljava/lang/String;)V",t.join(","))}else if(cc.sys.os==cc.sys.OS_IOS){t=o.iOSSkuIDList.concat(o.promotionSkuIDList,o.iOSNovicePackSkuIDList,o.iOSBankSkuIDList,o.iOSSubsSkuIDList,o.iOSGoldSkuIDList,e);jsb.reflection.callStaticMethod("InAppPurchaseUtil","getSkuDetails:",t.join(","))}},getGameRoomBootAmount:function(){var e=r.getCurSFSRoom();return e&&e.variables&&e.variables.ba?e.variables.ba.value:0},getGameRoomChipsLimit:function(){var e=r.getCurSFSRoom();return e&&e.variables&&e.variables.ba?r.getCurRoom()&&r.getCurRoom().roomType==ROOM_TYPE.RUMMY?80*e.variables.ba.value:512*e.variables.ba.value:0},isFitHeight:function(){var e=cc.visibleRect;return!(e.width/e.height<=1.35)},sendEmail:function(e){var t=CommonUtil.getDeviceId();if(cc.sys.os==cc.sys.OS_IOS)jsb.reflection.callStaticMethod("DeviceUtil","sendSupportEmail:",this.gameCore.userMng.myself.strTPID+"+"+t);else if(cc.sys.os==cc.sys.OS_ANDROID){var i;i=jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","getDeviceModel","()Ljava/lang/String;"),cc.sys.openURL("mailto:teenpatti.poker2017@gmail.com?subject="+e+" Android "+i+" "+r.gameCore.hotfixVersion+" "+this.gameCore.userMng.myself.strTPID+" "+t)}},getDealerPrice:function(e){if(!r.getCurRoom()||!r.getCurRoom().profile)return 0;var t=r.getCurRoom().profile,i=[500,500,1e3,1e3,2e3,2e3,2500,2500,3e3,3e3,3e3,3e3,3500,3500,3500,3500,4e3,4e3,4e3,4e3][e-1]+t.nInitBootAmount*[1,1,2,2,2,2,2,2,2.5,2.5,3,3,3,3,3.5,3.5,3.5,3.5,4,4][e-1];return i=Math.max(i,t.nInitBootAmount*[2,2,2.5,2.5,3,3,3.2,3.2,3.5,3.5,3.7,3.7,4,4,4.2,4.2,4.5,4.5,4.7,4.7][e-1])},openNotificationReminder:function(){return cc.sys.os==cc.sys.OS_ANDROID&&!jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","areNotificationsEnabled","()Z")&&(this.gameCore.gameMng.showAlert(m.t("label_text.turn_on_push"),"",2,function(){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","goToNotificationSetting","()V")},null,m.t("label_text.settings")),!0)},openFriendsUI:function(e){this.gameCore.uiMng.changeUIStates(u.FRIENDS.name,u.UI_STATE_TOGGLE_INDEX,e),this.gameCore.uiMng.openUI(u.FRIENDS)},openInviteFriends:function(){if(isInstantGame){var e={};if(this.gameCore.uiMng.isInGame){var t=r.getCurRoom();t&&(e={roomName:t.roomName,time:(new Date).getTime()})}this.gameCore.friendsMng.inviteInstantGameFriends(e)}else this.gameCore.userMng.myself.isFacebookLogin()?(IFacebook.invite("","Welcome to TeenPatti",this.inviteResponse),this.gameCore.dataAnalysisMng.sendData(h.INVITE_FB_FRIENDSLIST),IFBAnalytics&&IFBAnalytics.logInviteEvent(IFBAnalytics.keys.INVITE_BTN_CLICK)):this.gameCore.userMng.onFBConnectBtnClk()},inviteResponse:function(e){if(LogUtil.debug(p,"inviteResponse:"+e+" length:"+e.length),e&&e.length>0){var t=0;if("string"==typeof e){var i=JSON.parse(e);i&&i.to?t=i.to.length:i&&void 0!=i.length&&(t=i.length)}else t=e.length;t>0&&(r.sendMsg(d.SERVER_CMD_SEND_INVITE,{i:t}),IFBAnalytics&&IFBAnalytics.logCountEvent(IFBAnalytics.keys.SEND_INVITE,t))}},openTableRules:function(){var e=r.getCurRoom(),t=r.getCurTable()?r.getCurTable().round:null;if(e)if(e.roomType==ROOM_TYPE.RUMMY)this.gameCore.uiMng.openUI(u.RUMMY_HELP);else{var i=t?t.tableRulesUIInfo:e.tableRulesUIInfo;this.gameCore.uiMng.openUI(i)}},isSupportSignInWithApple:function(){return cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("DeviceUtil","isSupportAppleSignIn")},isSupportPromotion:function(){return!0},isGameRoomSupported:function(e){if(0==e.indexOf("@"))return!0;for(var t=[ROOM_TYPE.JOKER,ROOM_TYPE.MUFLIS,ROOM_TYPE.HUKAM,ROOM_TYPE.AK47,ROOM_TYPE.POTBLIND,ROOM_TYPE.CASINO_WAR,ROOM_TYPE.AB,ROOM_TYPE.TEXAS_HOLDEM,ROOM_TYPE.PATTI_WAR,ROOM_TYPE.NOLIMIT,ROOM_TYPE.DELUXE,ROOM_TYPE.AB_PVP,ROOM_TYPE.AB_GOLD,ROOM_TYPE.AB_PVP_GOLD,ROOM_TYPE.CASINO_WAR_GOLD,ROOM_TYPE.TEXAS_HOLDEM_GOLD,ROOM_TYPE.CASINO_WAR_PVP_GOLD,ROOM_TYPE.CLASSIC_GOLD,ROOM_TYPE.WINGO_LOTTERY],i=0;i<t.length;i++)if(-1!=e.indexOf(t[i]))return!0;return!1},isPrivateRoom:function(){var e=r.getCurSFSRoom();return!(!e||!e.isPasswordProtected)},isFriendRoom:function(){return!1},curGameMode:function(){var t=e("ClassicRoom"),i=e("JokerRoom"),n=e("MuflisRoom"),a=e("HukamRoom"),o=r.getCurRoom();if(o){if(o instanceof t)return m.t("label_text.classic1");if(o instanceof i)return m.t("label_text.joker1");if(o instanceof n)return m.t("label_text.muflis1");if(o instanceof a)return m.t("label_text.hukam1")}return""},onLoginCurServer:function(e,t){if(t.currentserver&&!this.hasABCurServer){var i=t.currentserver.split(":");this.smartfoxConfig[0]=i[0],cc.sys.isNative?this.smartfoxConfig[1]=9871:this.smartfoxConfig[2]=9481,this.hasCurServer=!0}},onCurServer:function(e){var t=e.i.split(":");this.smartfoxConfig[0]=t[0],cc.sys.isNative?this.smartfoxConfig[1]=9871:this.smartfoxConfig[2]=9481,this.hasABCurServer=!0,this.hasCurServer=!0},judgeHasCurServer:function(){this.gameCore.uiMng.isInLobby&&this.hasCurServer&&(this.hasCurServer=!1,window.reconnectToAnotherServer=!0,c.disconnect())},isServerConnected:function(){return c.isConnected()},startConnectSFS:function(){this.connectRetryTimes=this.connectRetryTimes?this.connectRetryTimes++:1,this.connectRetryTimes>10?this.onPattinConnected({success:!1}):(this.logined=!1,IFirebase.logLoginEvent("Login_SFS_Connect"),this.gameCore.uiMng.addListener(d.SERVER_CMD_CONNECT,this,this.onPattinConnected),r.connect(this.smartfoxConfig[0],cc.sys.isNative?this.smartfoxConfig[1]:this.smartfoxConfig[2]))},startConnectSFSLogin:function(){c.isConnected()?(LogUtil.debug(p,"startConnectSFS but smartfox is connected"),this.onPattinConnected({success:!0})):this.startConnectSFS()},reconnectSFS:function(){if(this.gameCore.uiMng.curSceneKey==u.GAME_SCENE.name||this.gameCore.uiMng.curSceneKey==u.RUMMY_SCENE.name){var e=r.getCurRoom();e&&(this.lastPlayRoom=e.roomName)}this.connectRetryTimes=0,this.connectRetryStartTime=-1,this.gameCore.uiMng.isPopUpByUIKey(u.RECONNECTING.name)||this.gameCore.uiMng.openUI(u.RECONNECTING),cc.sys.isNative||isInstantGame||!this.loginData||"facebook"!=this.loginData.type?(LogUtil.debug(p,"reconnectSFS"),this.startConnectSFS()):(LogUtil.debug(p,"reconnectSFS relogin FB"),this.fbLogin(handler(this,function(e){e||(this.gameCore.uiMng.closeUI(u.RECONNECTING),this.gameCore.serverMng.connectionProblem(2))})))},onPattinConnected:function(e){return IFirebase.logLoginEvent("Login_SFS_Connect_Finish",e),this.gameCore.uiMng.removeListener(d.SERVER_CMD_CONNECT,this,this.onPattinConnected),e.success?(LogUtil.debug(p,"------------- TeenPatti Connect Success -----------------"),cc.director.getScheduler().unschedule(this.startConnectSFS,this),void this.pattiLogin()):(LogUtil.debug(p,"------------- TeenPatti Connect Fail ------------------"),this.connectRetryTimes<10?(this.connectRetryTimes++,LogUtil.debug(p,"------------- TeenPatti Connect Retry ------------------"+this.connectRetryTimes),void(cc.director.getScheduler().isScheduled(this.startConnectSFS,this)||(cc.director.getScheduler().schedule(this.startConnectSFS,this,.9,!1),this.connectRetryStartTime=(new Date).getTime()))):(this.connectRetryTimes=0,this.connectRetryStartTime=-1,cc.director.getScheduler().unschedule(this.startConnectSFS,this),void(this.gameCore.uiMng.curSceneKey!=u.LOGIN_SCENE.name&&this.gameCore.uiMng.curSceneKey!=u.FB_LOGIN_SCENE.name?(this.gameCore.uiMng.closeUI(u.RECONNECTING),this.gameCore.serverMng.connectionProblem(2)):this.gameCore.uiMng.dispatch(d.UI_CMD_CONNECT_FAIL))))},pattiLogin:function(){this.logined?(this.gameCore.uiMng.addListener(d.SERVER_CMD_LOGOUT,this,this.onPattiLogout),r.logout()):(IFirebase.logLoginEvent("Login_SFS_Login"),this.gameCore.uiMng.addListener(d.SERVER_CMD_LOGINED,this,this.onPattiLogin),r.login(this.strUserName,this.loginData,this.fbData),this.gameCore.dataAnalysisMng.sendData(h.LOGIN_GAME_CLIENT))},onPattiLogout:function(){this.logined=!1,this.gameCore.uiMng.removeListener(d.SERVER_CMD_LOGOUT,this,this.onPattiLogout),this.pattiLogin()},onPattiLogin:function(e){IFirebase.logLoginEvent("Login_SFS_Login_Finish",e),LogUtil.debug(p,"------------- TeenPatti User Login Success -----------------"),this.logined=!0,this.gameCore.uiMng.removeListener(d.SERVER_CMD_LOGINED,this,this.onPattiLogin),isInstantGame&&(r.sendMsg(d.SERVER_CMD_CACHE_USER_ICON,{i:r.getCurPlayer().fbProfile.strIconUrl}),this.getFBInstantPurchases()),this.sceneOpening=!0,this.commandSceneOpeningIgnoreCacheList=["curserver",d.SERVER_CMD_BANK_PW_STATUS,d.SERVER_CMD_BANK_PASSWORD,d.SERVER_CMD_BANK_PIN,d.SERVER_CMD_BANK_CHECK_PW,d.SERVER_CMD_BANK_CHECK_PIN,d.SERVER_CMD_CONNECT_LOST,d.SERVER_CMD_CONNECT_RETRY,d.SERVER_CMD_CONNECT_RESUME],r.addListener(d.SERVER_CMD_BANK_PW_STATUS,this,this.onBankPWStatus),r.sendMsg(d.SERVER_CMD_BANK_PW_STATUS,null)},onBankPWStatus:function(e,t){if(r.removeListener(d.SERVER_CMD_BANK_PW_STATUS,this,this.onBankPWStatus),this.gameCore.logined(),this.gameCore.userMng.bankStatus=t.i,4==this.gameCore.userMng.loginValidationStatus||5==this.gameCore.userMng.loginValidationStatus){this.gameCore.uiMng.isInLoginScene||(this.closePWNeedGotoLogin=!0),this.gameCore.uiMng.hideLoading();var i={4:m.t("label_text.verify_new_device"),5:m.t("label_text.verify_new_place")};this.gameCore.userMng.validatePasswordOrPIN(handler(this,this.gotoLobby),"enterPassword",i[this.gameCore.userMng.loginValidationStatus])}else 1!=this.gameCore.userMng.protectStatus&&3!=this.gameCore.userMng.protectStatus||3==this.gameCore.userMng.loginValidationStatus||6==this.gameCore.userMng.loginValidationStatus?this.gotoLobby():(this.gameCore.uiMng.isInLoginScene||(this.closePWNeedGotoLogin=!0),this.gameCore.uiMng.hideLoading(),this.gameCore.userMng.validatePasswordOrPIN(handler(this,this.gotoLobby)))},getFBInstantPurchases:function(){this.logined&&this.instantgamePaymentsReady&&-1!=FBInstant.getSupportedAPIs().indexOf("payments.getPurchasesAsync")&&FBInstant.payments.getPurchasesAsync().then(function(e){var t=JSON.stringify(e);LogUtil.debug(t),this.FBInstantBuyCache=this.FBInstantBuyCache.concat(e),this.instantGameBuy()}.bind(this))},gotoLobby:function(){LogUtil.debug(p,"gotoLobby---logined:"+this.logined+" scenePreloaded:"+this._scenePreloaded),cc.sys.isBrowser&&this.logined&&(this.gameCore.uiMng.closeUI(u.RECONNECTING),IFirebase.logLoginEvent("Login_Lobby_Load"),this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo,handler(this,function(){r.sendMsg(d.SERVER_CMD_HIGH_SCORE_AWARD),this.sceneOpening=!1,this.commandSceneOpeningIgnoreCacheList=[]})),this.gameCore.dataAnalysisMng.sendData(h.LOGIN_GAME_SUCCESS))},joinLastPlayedRoom:function(){return!!this.lastPlayRoom&&(LogUtil.debug(p,"join last played room."),r.sendMsg(d.SERVER_CMD_PLAY_IN_ROOM,{i:this.lastPlayRoom}),this.lastPlayRoom=null,!0)},joinInstantGameRoom:function(){return!!(this.entryPointData&&this.entryPointData.roomName&&(new Date).getTime()-this.entryPointData.time<=3e5)&&(LogUtil.debug(p,"join InstantGame Room."),r.sendMsg(d.SERVER_CMD_PLAY_IN_ROOM,{i:this.entryPointData.roomName}),this.entryPointData=null,!0)},judgeOnePromotionShow:function(){if(null!=this.hasBroken&&null!=this.hasDailyMission&&null!=this.hasRoomSummary&&this.gameCore.uiMng.isBackFromGame&&(!this.hasBroken||!this.gameCore.uiMng.isBackFromTableGameScene())&&!this.hasDailyMission&&!this.hasRoomSummary){var e=this.showOnePromotion(!0),t=this.canBuyMonthlyElite();e&&t?Math.random()<.5&&this.showOnePromotion():e&&this.showOnePromotion()}},canBuyMonthlyElite:function(){if(r.getCurPlayer()){var e=r.getCurPlayer().subsProfile;if(e.isPayCheck&&e.isPattiCheck&&!e.isMonthlySubs&&!e.isExistAutoSubs)return!0}return!1},openMonthlyCard:function(){var e=r.getCurPlayer().subsProfile;return LogUtil.debug(p,"openMonthlyCard--isPayCheck:"+e.isPayCheck+" isPattiCheck:"+e.isPattiCheck+" isMonthlySubs:"+e.isMonthlySubs+" isExistAutoSubs:"+e.isExistAutoSubs),!(!e.isPayCheck||!e.isPattiCheck||e.isMonthlySubs||e.isExistAutoSubs)&&(this.gameCore.uiMng.openUI(u.MONTHLY_ELITE_BUY_POPUP),!0)},appleLogin:function(e){this.strUserName=e.userID,this.fbData=null,this.loginData={isaccount:!0,type:"apple",deviceid:CommonUtil.getDeviceId(),platform:Client.Platform,version:cc.sys.isBrowser?Client.Version:r.gameCore.hotfixVersion,release:Client.Release,registerInfo:IAFAnalytics.getAFOpenRef(),source:IAFAnalytics.getAFInstallRef(),appid:FBAppId,displayname:e.givenName,email:e.email,device:this.gameCore.deviceModel,token:e.identityToken,devicedetail:CommonUtil.getDeviceDetail(),olddeviceid:cc.sys.localStorage.getItem(a.keys.OLD_DEVICE_ID)},IFirebase.logLoginEvent("Login_Apple_Login"),this.startConnectSFSLogin()},guestLogin:function(){return IFirebase.logLoginEvent("Login_Guest_Login_Clk"),!!this.judgeNetworkAvailable()&&(this.strUserName="",this.fbData=null,this.loginData={isaccount:!0,type:"guest",deviceid:CommonUtil.getDeviceId(),platform:Client.Platform,version:cc.sys.isBrowser?Client.Version:r.gameCore.hotfixVersion,release:Client.Release,appid:FBAppId,registerInfo:IAFAnalytics.getAFOpenRef(),source:IAFAnalytics.getAFInstallRef(),displayname:"test1",email:"",device:this.gameCore.deviceModel,devicedetail:CommonUtil.getDeviceDetail(),olddeviceid:cc.sys.localStorage.getItem(a.keys.OLD_DEVICE_ID)},IFirebase.logLoginEvent("Login_Guest_Login"),this.startConnectSFSLogin(),!0)},getFacebookLoginStatus:function(e){IFirebase.logLoginEvent("Login_FB_Auto_Login"),IFacebook.getLoginStatus(handler(this,this.onLoginStatusGet,e))},onLoginStatusGet:function(e,t,i){if(IFirebase.logLoginEvent("Login_FB_Auto_Login_Finish",{fid:e}),i&&i(e,t),e&&t&&(this.onFBLogin(e,t),this.gameCore.uiMng.isInLoginScene)){this.scheduleOnce(function(){HAS_SUBPACKAGE&&cc.loader.downloader.loadSubpackage("Game",function(e){if(e)return console.error(e);console.log("load Game successfully.")})},.1)}},judgeNetworkAvailable:function(){return!(cc.sys.os==cc.sys.OS_ANDROID&&!jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","hasNetwork","()Z"))||(this.gameCore.uiMng.dispatch(d.UI_CMD_CONNECT_FAIL),!1)},fbLogin:function(e){return IFirebase.logLoginEvent("Login_FB_Login_Clk"),!!this.judgeNetworkAvailable()&&(IFirebase.logLoginEvent("Login_FB_Login"),IFacebook.login(handler(this,this.onFBLogin,e)),!0)},onFBLogin:function(e,t,i){if(IFirebase.logLoginEvent("Login_FB_Login_Finish",{fid:e}),!t||!e)return this.gameCore.uiMng.dispatch(d.UI_CMD_FB_LOGIN_FAIL),LogUtil.debug(p,"------------- Facebook Login Failure -----------------"),void(i&&i(!1));this.strFBToken=t,LogUtil.debug(p,"------------- Facebook Login Success -----------------"),IFirebase.logLoginEvent("Login_FB_Profile"),IFacebook.getProfile(e,handler(this,this.onFBProfile,i))},onFBProfile:function(e,t,i){if(IFirebase.logLoginEvent("Login_FB_Profile_Finish",{succ:e,id:t&&t.id}),!e||!t||!t.id)return LogUtil.debug(p,"------------- Facebook Profile Failure -----------------"),this.gameCore.uiMng.dispatch(d.UI_CMD_GET_FB_PROFILE_FAIL),void(i&&i(!1));LogUtil.debug(p,"------------- Facebook Profile Success -----------------"),LogUtil.debug(p,t),t.currency&&(this.currency=t.currency),this.strUserName=t.id,this.fbData=t,this.loginData={isaccount:!0,type:"facebook",deviceid:CommonUtil.getDeviceId(),platform:Client.Platform,version:cc.sys.isBrowser?Client.Version:r.gameCore.hotfixVersion,release:Client.Release,registerInfo:IAFAnalytics.getAFOpenRef(),source:IAFAnalytics.getAFInstallRef(),appid:FBAppId,displayname:t.first_name?t.first_name:t.name,email:t.email,device:this.gameCore.deviceModel,token:this.strFBToken,devicedetail:CommonUtil.getDeviceDetail(),olddeviceid:cc.sys.localStorage.getItem(a.keys.OLD_DEVICE_ID)},this.gameCore.uiMng.dispatch(d.UI_CMD_GET_FB_PROFILE_SUCCESS)},loginedFromLoginScene:function(){if(cc.sys.isNative){var e=a.getLocalData(a.keys.ENTER_GAME_TIMES);e||(e=0,IFBAnalytics&&IFBAnalytics.logCompletedRegistrationEvent(IFBAnalytics.keys.REGIST_SUCCESS)),e++,a.saveLocalData(a.keys.ENTER_GAME_TIMES,e),cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","getPurchases","()V")}this.gameCore.userMng&&this.gameCore.userMng.myself&&this.gameCore.userMng.myself.isFacebookLogin()&&(a.saveLocalData(a.keys.IS_FACEBOOK_CONNECTED,!0),a.getLocalData(a.keys.IS_REGIST_FACEBOOK)||(IFBAnalytics&&IFBAnalytics.logCompletedRegistrationEvent(IFBAnalytics.keys.REGIST_FACEBOOK),a.saveLocalData(a.keys.IS_REGIST_FACEBOOK,!0)))},getGiftSendCount:function(e){return 1},createGiftItem:function(e,t,i){var n=this.getPriceOfGift(e),a=cc.instantiate(t);return a.getComponent("GiftItem").gameCore=this.gameCore,a.getComponent("GiftItem").setGiftInfo(e,n),a.getComponent("GiftItem").setClickCb(i),a},getPriceOfGift:function(e){return cc.director.getScene().getChildByName("Canvas").getComponent("GiftPrefabCache").getPriceWithGiftID(e)},sendGift:function(e,t,i){var n=r.getCurPlayer();if(r.getCurRoom()&&r.getCurRoom().roomType==ROOM_TYPE.RUMMY){if(r.getCurSFSRoom()&&r.getCurSFSRoom().variables&&r.getCurSFSRoom().variables.ba&&!this.hasEnoughChips2(i*e.length+80*r.getCurSFSRoom().variables.ba.value))return void this.gameCore.dataAnalysisMng.sendData(h.POPUP_CHIPSOUT_GIFT,this.gameCore.dataAnalysisMng.gameBaseData)}else if(!this.hasEnoughChips2(i*e.length))return void this.gameCore.dataAnalysisMng.sendData(h.POPUP_CHIPSOUT_GIFT,this.gameCore.dataAnalysisMng.gameBaseData);this.strReceiverID==n.strTPID?this.gameCore.dataAnalysisMng.sendData(h.SEND_GIFT_SELF,this.gameCore.dataAnalysisMng.gameBaseData):this.gameCore.dataAnalysisMng.sendData(h.SEND_GIFT_OTHERS,this.gameCore.dataAnalysisMng.gameBaseData),r.sendMsg("sendgift",{accpet_id:e,gift_id:t})},purchaseFail:function(e){var t=e.split(":");"2"==t[0]?this.gameCore.uiMng.dispatch("RestoreFail"):(this.gameCore.uiMng.dispatch(d.UI_CMD_PURCHASE_FAIL),this.bankPurchaseFailAlert(),"1"!=t[0]||cc.sys.isBrowser||r.sendMsg(d.SERVER_CMD_WEB_STORE,{i:2}))},bankPurchaseFailAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.t("label_text.purchase_failed_msg"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.t("label_text.purchase_failed"),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.t("label_text.purchase_failed_button"),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(this.isBackground){var a=[e,t,i,n];this.uiCacheDataList.push({type:"bankPurchaseFailAlert",data:a})}else this.gameCore.uiMng.openUI(u.BANK_ALERT,handler(this,function(a){a&&a.updateUI(e,t,i,handler(this,function(e){1==e?this.product&&(r.onMsgReceived(d.UI_CMD_STORE_SHOW_LOADING,{}),this.buyStoreItem(this.product,this.evepoint)):2==e&&this.gameCore.uiMng.dispatch(d.UI_CMD_ADD_MORE_BANK_BALANCE)},n))}))},isBuyingBankProduct:function(){return!(!this.product||-1==this.product.productId.indexOf("bank"))},buyStoreItem:function(e,t){this.product=e,this.evepoint=t,this.gameCore.uiMng.addListener(d.SERVER_CMD_PRE_BUY,this,this.onGetPayload),r.sendMsg(d.SERVER_CMD_PRE_BUY,{i:t});var i="",n=r.getCurRoom();n&&n.roomName&&(i=n.roomName.split(" ")[0]);var a=this.product?this.product.productId:"",o=0;this.product&&this.product.price&&this.product.price.split(" ")[1]&&(o=Number(this.product.price.split(" ")[1])),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.BUY_BTN_CLICK,a,this.gameCore.uiMng.curSceneKey,i,o)},onGetPayload:function(e){if(this.payloadID=e.i,this.gameCore.uiMng.removeListener(d.SERVER_CMD_PRE_BUY,this,this.onGetPayload),isInstantGame)FBInstant.payments.purchaseAsync({productID:this.product.productID,developerPayload:e.i}).then(function(e){this.gameCore.uiMng.hideLoading(),this.FBInstantBuyCache.push(e),this.instantGameBuy()}.bind(this)).catch(function(e){this.gameCore.uiMng.hideLoading(),this.resumeChipsRefresh(),r.sendMsg(d.SERVER_CMD_BUY_STATUS,{payload:this.payloadID,status:e.message,productid:this.product.productID}),this.gameCore.uiMng.dispatch(d.UI_CMD_PURCHASE_FAIL),this.bankPurchaseFailAlert(e.message)}.bind(this));else if(cc.sys.isBrowser){var t="http://www.teenpattiflush.com/patti/"+FBAppId+"/"+this.product.id+".html";FB.ui({method:"pay",action:"purchaseitem",product:t,quantity:1},handler(this,function(i){this.gameCore.uiMng.hideLoading(),i&&i.payment_id&&"completed"==i.status?(this.pauseChipsRefresh(),r.sendMsg(d.SERVER_CMD_FACEBOOK_BUY,{facebookAppId:FBAppId,orderId:i.payment_id.toString(),cn:this.currency})):(this.resumeChipsRefresh(),r.sendMsg(d.SERVER_CMD_BUY_STATUS,{payload:e.i,status:i&&i.status?i.status:"failed",productid:t}),this.gameCore.uiMng.dispatch(d.UI_CMD_PURCHASE_FAIL),this.bankPurchaseFailAlert())}))}else cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","buyProduct","(Ljava/lang/String;Ljava/lang/String;)V",this.product.productId,e.i):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("InAppPurchaseUtil","buyProduct:inQuantity:",this.product.productId,"1")},pauseChipsRefresh:function(){this.gameCore.uiMng.isInGame||this.gameCore.uiMng.dispatch(d.UI_CMD_PAUSE_CHIPS_REFRESH)},resumeChipsRefresh:function(e){this.gameCore.uiMng.dispatch(d.UI_CMD_RESUME_CHIPS_REFRESH,e)},onFacebookBuy:function(e){LogUtil.debug(p,e),e.cmd},openPrivateStore:function(){var e=this.gameCore.userMng.myself;if(e){o.RazorPayURL,FBAppId,e.isFacebookLogin()?e.strFBID:e.strTPID,e.strTPName,e.isFacebookLogin();cc.sys.openURL("http://www.teenpattiflush.com/patti/playgame.html")}},instantGameBuy:function(){if(this.FBInstantBuyCache.length>0&&!this.intantGameBuying){var e=this.FBInstantBuyCache.shift();this.intantGameBuying=!0,console.log(JSON.stringify(e)),this.purchaseToken=e.purchaseToken,r.sendMsg(d.SERVER_CMD_FACEBOOK_INSTANTGAME_BUY,{purchase_data:JSON.stringify(e),cn:e.purchasePrice.currency})}},onInstantGameBuy:function(e){if("success"!=e.cmd){if(e.errorcode&&2101!=e.errorcode)return this.intantGameBuying=!1,void this.instantGameBuy();console.log(e),FBInstant.payments.consumePurchaseAsync(this.purchaseToken).then(function(){this.intantGameBuying=!1,this.instantGameBuy()}.bind(this))}},iosBuy:function(e,t){if(this.iOSTransactionID)return LogUtil.debug(p,"previous transaction is processing:"+this.iOSTransactionID),void this.iOSBuyCache.push([e,t]);this.iOSPurchaseData=e,this.iOSTransactionID=t,this.pauseChipsRefresh(),r.sendMsg(d.SERVER_CMD_IOS_BUY,{purchase_data:e,istest:!1,cn:"USD"}),this.gameCore.dataAnalysisMng.sendData(h.STORE_BUY_SUCCESS,["Exchange_Id:"+(this.product?this.product.productId:"")]);var i="",n=r.getCurRoom();n&&n.roomName&&(i=n.roomName.split(" ")[0]);var a=this.product?this.product.productId:"",o=0;this.product&&this.product.price&&this.product.price.split(" ")[1]&&(o=Number(this.product.price.split(" ")[1])),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.BUY_SUCCESS,a,this.gameCore.uiMng.curSceneKey,i,o)},onIOSSubsBuy:function(e){e.cmd=d.SERVER_CMD_IOS_SUBS_BUY,this.onIOSBuy(e)},iOSReceiptValidation:function(e,t){var i=cc.loader.getXMLHttpRequest();i.setRequestHeader("Content-Type","application/json"),i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){LogUtil.debug(p,"iOSReceiptValidation:"+i.responseText);var t=JSON.parse(i.responseText);if(21007==t.status)this.iOSReceiptValidation(e,"https://sandbox.itunes.apple.com/verifyReceipt");else if(0==t.status&&t.receipt&&t.receipt.in_app&&t.receipt.in_app.length>0)for(var n=0;n<t.receipt.in_app.length;n++)if(t.receipt.in_app[n].transaction_id==this.iOSTransactionID){IAFAnalytics&&IAFAnalytics.onPurchaseSuccess(t.receipt.in_app[n].product_id,this.iOSTransactionID,JSON.stringify(g.getProductInfoById(t.receipt.in_app[n].product_id)));break}}}.bind(this),i.open("POST",t||"https://buy.itunes.apple.com/verifyReceipt",!0),i.send(JSON.stringify({"receipt-data":e}))},onIOSBuy:function(e){LogUtil.debug(p,e),e.cmd&&(null!=e.errorcode&&2101!=e.errorcode||!cc.sys.isNative||(jsb.reflection.callStaticMethod("InAppPurchaseUtil","finishTransaction:",this.iOSTransactionID),null==e.errorcode&&this.iOSTransactionID&&null==this.iOSTransactionID.match(/^1000000/)&&(this.product?IAFAnalytics&&IAFAnalytics.onPurchaseSuccess(this.product.productId,this.iOSTransactionID,JSON.stringify(g.getProductInfoById(this.product.productId))):this.iOSReceiptValidation(this.iOSPurchaseData))),this.iOSTransactionID=null,this.iOSBuyCache.length>0?this.iosBuy.apply(this,this.iOSBuyCache.shift()):this.gameCore.uiMng.hideLoading(),null==e.errorcode?this.gameCore.dataAnalysisMng.sendData(h.STORE_GOODS_ADD,["Exchange_Id:"+(this.product?this.product.productId:"")]):this.resumeChipsRefresh(),this.gameCore.uiMng.dispatch("onIOSBuy"))},androidBuy:function(e,t){if(this.androidBuying)return LogUtil.debug(p,"android buying,cache purchase data"),void this.androidBuyCache.push({purchaseData:e,dataSignature:t});this.androidBuying=!0,LogUtil.debug(p,"purchaseData:"+e+" dataSignature:"+t),this.purchaseData=JSON.parse(e),this.purchaseToken=JSON.parse(e).purchaseToken,this.pauseChipsRefresh(),r.sendMsg(d.SERVER_CMD_ANDROID_BUY,{purchase_data:e,data_signature:t,cn:this.product&&this.product.price_currency_code?this.product.price_currency_code:this.gameCore.gameMng.priceCurrencyCode}),this.gameCore.dataAnalysisMng.sendData(h.STORE_BUY_SUCCESS,["Exchange_Id:"+(this.product?this.product.productId:"")]);var i="",n=r.getCurRoom();n&&n.roomName&&(i=n.roomName.split(" ")[0]);var a=this.product?this.product.productId:"",o=0;this.product&&this.product.price&&this.product.price.split(" ")[1]&&(o=Number(this.product.price.split(" ")[1])),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.BUY_SUCCESS,a,this.gameCore.uiMng.curSceneKey,i,o)},onAndroidBuy:function(e){if(LogUtil.debug(p,e),e.cmd){if(this.androidBuying=!1,this.androidBuyCache.length>0){LogUtil.debug(p,"Has cache purchase data,continue androidbuy");var t=this.androidBuyCache.shift();this.androidBuy(t.purchaseData,t.dataSignature)}else this.gameCore.uiMng.hideLoading();cc.sys.isNative&&(jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","consumePurchase","(Ljava/lang/String;)V",this.purchaseToken),null==e.errorcode&&IAFAnalytics&&IAFAnalytics.onPurchaseSuccess(this.purchaseData.productId,this.purchaseData.orderId,JSON.stringify(g.getProductInfoById(this.purchaseData.productId)))),null==e.errorcode?this.gameCore.dataAnalysisMng.sendData(h.STORE_GOODS_ADD,["Exchange_Id:"+(this.product?this.product.productId:"")]):this.resumeChipsRefresh()}},getRoomName:function(e){var t="";return-1!=e.indexOf(ROOM_TYPE.AB_GOLD)?t="VIP_AB":-1!=e.indexOf(ROOM_TYPE.AB_PVP_GOLD)?t="VIP_AB_PVP":-1!=e.indexOf(ROOM_TYPE.CASINO_WAR_GOLD)?t="VIP_Casino War":-1!=e.indexOf(ROOM_TYPE.CASINO_WAR_PVP_GOLD)?t="VIP_Casino War_PVP":-1!=e.indexOf(ROOM_TYPE.TEXAS_HOLDEM_GOLD)?t="VIP_Poker":-1!=e.indexOf(ROOM_TYPE.CLASSIC_GOLD+"@")?t="VIP_Classic":0==e.indexOf("@")?t=(-1!=e.indexOf("#pri")?"Private_":"")+"Classic":-1!=e.indexOf(ROOM_TYPE.NOLIMIT)?t=(-1!=e.indexOf("#pri")?"Private_":"")+"NoLimit":-1!=e.indexOf(ROOM_TYPE.JOKER)?t=(-1!=e.indexOf("#pri")?"Private_":"")+"Joker":-1!=e.indexOf(ROOM_TYPE.MUFLIS)?t=(-1!=e.indexOf("#pri")?"Private_":"")+"Muflis":-1!=e.indexOf(ROOM_TYPE.HUKAM)?t=(-1!=e.indexOf("#pri")?"Private_":"")+"Hukam":-1!=e.indexOf(ROOM_TYPE.POTBLIND)?t="PotBlind":-1!=e.indexOf(ROOM_TYPE.AK47)?t="AK47":-1!=e.indexOf(ROOM_TYPE.CASINO_WAR)?t="Casino War":-1!=e.indexOf(ROOM_TYPE.AB)?t="Andar Bahar":-1!=e.indexOf(ROOM_TYPE.TEXAS_HOLDEM)?t=(-1!=e.indexOf("#pri")?"Private_":"")+"Poker":-1!=e.indexOf(ROOM_TYPE.RUMMY)?t="Rummy":-1!=e.indexOf(ROOM_TYPE.PATTI_WAR)?t="Patti War":-1!=e.indexOf(ROOM_TYPE.DELUXE)?t="Deluxe":-1!=e.indexOf(ROOM_TYPE.AB_PVP)?t="AB PVP":-1!=e.indexOf(ROOM_TYPE.WINGO_LOTTERY)&&(t="WINGO"),t}});cc._RF.pop()},{BaseManager:"BaseManager",ClassicRoom:"ClassicRoom",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameUtils:"GameUtils",HukamRoom:"HukamRoom",ISmartFox:"ISmartFox",ITeenPatti:"ITeenPatti",ITeenPattiConfig:"ITeenPattiConfig",JokerRoom:"JokerRoom",LanguageData:"LanguageData",LocalStorage:"LocalStorage",MuflisRoom:"MuflisRoom",StoreConfig:"StoreConfig",UIInfo:"UIInfo"}],GamePlayState:[function(e,t,i){"use strict";cc._RF.push(t,"2bf63W9G3hBD6y4roWVtxuQ","GamePlayState");cc.Class({name:"GamePlayState",properties:{arrCmdHandler:{default:{}}},ctor:function(){this.arrCmdHandler.bet=handler(this,this.onBetFinish),this.arrCmdHandler.see=handler(this,this.onSeen)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)}});cc._RF.pop()},{}],GameRoomInfoABPVP:[function(e,t,i){"use strict";cc._RF.push(t,"59f85C5goRJL4UCUJZ65mjl","GameRoomInfoABPVP");var n=e("BaseUI"),a=e("ITeenPatti"),o=e("GameUtils"),s=e("LanguageData");cc.Class({extends:n,properties:{minBetLabel:cc.Label,maxBetLabel:cc.Label,bankruptLabel:cc.Label},onLoad:function(){this._super();var e=a.getCurSFSRoom();this.minBetLabel.string="",this.maxBetLabel.string="",this.bankruptLabel.string="",e&&e.variables&&(e.variables.ba&&(this.minBetLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e.variables.ba.value)})),e.variables.ba&&e.variables.an&&(this.maxBetLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e.variables.ba.value*Math.pow(2,e.variables.an.value))})),e.variables.ba&&e.variables.an&&(this.bankruptLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e.variables.ba.value*Math.pow(2,e.variables.an.value)*10)})))},onCloseBtnClk:function(e){this._super()},onSettingBtnClk:function(e){this._super(),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData"}],GameRoomInfoAB:[function(e,t,i){"use strict";cc._RF.push(t,"65a4fne8QJPGLr6CQGh6lyF","GameRoomInfoAB");var n=e("BaseUI"),a=e("ITeenPatti"),o=e("GameUtils"),s=e("LanguageData");cc.Class({extends:n,properties:{minBetLabel:cc.Label,maxBetLabel:cc.Label,maxPayoutLabel:cc.Label},onLoad:function(){this._super();var e=a.getCurSFSRoom();this.minBetLabel.string="",this.maxBetLabel.string="",this.maxPayoutLabel.string="",e&&e.variables&&(e.variables.ba&&(this.minBetLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e.variables.ba.value)})),e.variables.ba&&e.variables.an&&(this.maxBetLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e.variables.ba.value*Math.pow(2,e.variables.an.value))})),e.variables.ba&&e.variables.an&&(this.maxPayoutLabel.string=s.t("label_text.no_limit")))},onCloseBtnClk:function(e){this._super()},onSettingBtnClk:function(e){this._super(),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData"}],GameRoomInfoCasinoWarPVPGold:[function(e,t,i){"use strict";cc._RF.push(t,"800f1pbJXJO3aYZFIiXD0ou","GameRoomInfoCasinoWarPVPGold");var n=e("BaseUI"),a=e("ITeenPatti"),o=e("GameUtils"),s=e("LanguageData");cc.Class({extends:n,properties:{bankruptLabel:cc.Label,minBetLabel:cc.Label,maxBetLabel:cc.Label,maxTieLabel:cc.Label},onLoad:function(){this._super();var e=a.getCurSFSRoom();if(this.bankruptLabel.string="",this.minBetLabel.string="",this.maxBetLabel.string="",this.maxTieLabel.string="",e&&e.variables){var t=0,i=0,n=0,r=1;e.variables.ba&&(t=e.variables.ba.value),e.variables.an&&(i=e.variables.an.value),e.variables.tan&&(n=e.variables.tan.value),e.variables.rpt2&&(r=e.variables.rpt2.value);var l=t*Math.pow(2,i),c=t*Math.pow(2,n);this.bankruptLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(10*l+5*r*c)}),this.minBetLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(t)}),this.maxBetLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(l)}),this.maxTieLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(c)})}},onCloseBtnClk:function(e){this._super()},onSettingBtnClk:function(e){this._super(),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData"}],GameRoomInfoCasinoWar:[function(e,t,i){"use strict";cc._RF.push(t,"e29a4SmNfJKmZQm3MZxq/Ea","GameRoomInfoCasinoWar");var n=e("BaseUI"),a=e("ITeenPatti"),o=e("GameUtils"),s=e("LanguageData");cc.Class({extends:n,properties:{bootAmountLabel:cc.Label,bootLimitLabel:cc.Label,addLimitLabel:cc.Label},onLoad:function(){this._super();var e=a.getCurSFSRoom();this.bootAmountLabel.string="",this.bootLimitLabel.string="",this.addLimitLabel.string="",e&&e.variables&&(e.variables.ba&&(this.bootAmountLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e.variables.ba.value)})),e.variables.ba&&e.variables.an&&(this.bootLimitLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e.variables.ba.value*Math.pow(2,e.variables.an.value))})),e.variables.an&&(this.addLimitLabel.string=o.formatNumberWithRules(e.variables.an.value)))},onCloseBtnClk:function(e){this._super()},onSettingBtnClk:function(e){this._super(),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData"}],GameRoomInfoPattiWar:[function(e,t,i){"use strict";cc._RF.push(t,"ddabbgXaalC16GCCRvUUHlK","GameRoomInfoPattiWar");var n=e("BaseUI"),a=e("ITeenPatti"),o=e("GameUtils");e("ClassicRoom"),e("NoLimitRoom"),e("JokerRoom"),e("MuflisRoom"),e("MuflisRoom"),e("HukamRoom"),e("AK47Room"),e("PotBlindRoom"),e("LanguageData");cc.Class({extends:n,properties:{minBetLabel:cc.Label,minChipsToBeBankerLabel:cc.Label,minChipsToSitLabel:cc.Label,minPotLabel:cc.Label},onLoad:function(){this._super();var e=a.getCurSFSRoom();this.minBetLabel.string="",this.minChipsToBeBankerLabel.string="",this.minChipsToSitLabel.string="",this.minPotLabel.string="",e&&e.variables&&(this.minBetLabel.string=o.formatNumberWithRules(e.variables.ba.value),this.minChipsToBeBankerLabel.string=o.formatNumberWithRules(e.variables.bc.value),this.minChipsToSitLabel.string=o.formatNumberWithRules(e.variables.sc.value),this.minPotLabel.string=o.formatNumberWithRules(e.variables.mp.value))},onCloseBtnClk:function(e){this._super()},onSettingBtnClk:function(e){this._super(),this.closeUI()}}),cc._RF.pop()},{AK47Room:"AK47Room",BaseUI:"BaseUI",ClassicRoom:"ClassicRoom",GameUtils:"GameUtils",HukamRoom:"HukamRoom",ITeenPatti:"ITeenPatti",JokerRoom:"JokerRoom",LanguageData:"LanguageData",MuflisRoom:"MuflisRoom",NoLimitRoom:"NoLimitRoom",PotBlindRoom:"PotBlindRoom"}],GameRoomInfoTexasHoldem:[function(e,t,i){"use strict";cc._RF.push(t,"8ef5eCr5xNOW6natLZwLZe6","GameRoomInfoTexasHoldem");var n=e("BaseUI"),a=e("ITeenPatti"),o=e("GameUtils");e("LanguageData");cc.Class({extends:n,properties:{lblBlind:cc.Label,lblMinBuyIn:cc.Label},onLoad:function(){this._super();var e=a.getCurTable();e&&(this.lblBlind.string=o.formatNumberWithRules(.5*e.maxBlind)+"/"+o.formatNumberWithRules(e.maxBlind),this.lblMinBuyIn.string=o.formatNumberWithRules(e.minChips)+"/"+o.formatNumberWithRules(10*e.minChips))},onCloseBtnClk:function(e){this._super()},onSettingBtnClk:function(e){this._super(),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData"}],GameRoomInfoTour:[function(e,t,i){"use strict";cc._RF.push(t,"48079N+mnJC6qo3l74IupEE","GameRoomInfoTour");var n=e("BaseUI"),a=e("GameUtils"),o=e("ClassicRoom"),s=e("NoLimitRoom"),r=e("JokerRoom"),l=e("MuflisRoom"),c=(l=e("MuflisRoom"),e("HukamRoom")),h=e("AK47Room"),u=e("PotBlindRoom"),d=e("LanguageData");cc.Class({extends:n,properties:{roomNameLabel:cc.Label,gameModeLabel:cc.Label,bootAmountLabel:cc.Label,bootLimitLabel:cc.Label,chaalLimitLabel:cc.Label,maxBlindLabel:cc.Label,potLimitLabel:cc.Label},initComplete:function(){this._super()},onLoad:function(){this._super();var e="",t=ITeenPatti.getCurRoom();t&&(t instanceof o?e=d.t("label_text.classic1"):t instanceof s?e=d.t("label_text.no_limit"):t instanceof r?e=d.t("label_text.joker1"):t instanceof l?e=d.t("label_text.muflis1"):t instanceof c?e=d.t("label_text.hukam1"):t instanceof h?e=d.t("label_text.ak47"):t instanceof u&&(e=d.t("label_text.pot_blind1")));var i=ITeenPatti.getCurSFSRoom();if(this.roomNameLabel.string="",this.gameModeLabel.string="",this.bootAmountLabel.string="",this.bootLimitLabel.string="",this.chaalLimitLabel.string="",this.maxBlindLabel.string="",this.potLimitLabel.string="",i&&i.variables){if(i.variables.rn&&(this.roomNameLabel.string=i.variables.rn.value),i.variables.mode){var n="";switch(i.variables.mode.value){case"normal":n=d.t("label_text.normal_c");break;case"allin":n=d.t("label_text.all_in_c");break;case"ranking":n=d.t("label_text.ranking")}this.gameModeLabel.string=n+"-"+e}i.variables.ba&&(this.bootAmountLabel.string=d.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(i.variables.ba.value)})),i.variables.bl&&(this.bootLimitLabel.string=d.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(i.variables.bl.value)})),i.variables.cl&&(this.chaalLimitLabel.string=d.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(i.variables.cl.value)})),i.variables.mb&&(this.maxBlindLabel.string=a.formatNumberWithRules(i.variables.mb.value)),i.variables.pl&&(0==i.variables.pl.value?this.potLimitLabel.string=d.t("label_text.no_limit"):this.potLimitLabel.string=d.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(i.variables.pl.value)}))}},onSettingBtnClk:function(e){this._super(),this.closeUI()}}),cc._RF.pop()},{AK47Room:"AK47Room",BaseUI:"BaseUI",ClassicRoom:"ClassicRoom",GameUtils:"GameUtils",HukamRoom:"HukamRoom",JokerRoom:"JokerRoom",LanguageData:"LanguageData",MuflisRoom:"MuflisRoom",NoLimitRoom:"NoLimitRoom",PotBlindRoom:"PotBlindRoom"}],GameRoomInfoWingo:[function(e,t,i){"use strict";cc._RF.push(t,"b6f01D9vRxI1ZBhxQO90kdb","GameRoomInfoWingo");var n=e("GameUtils"),a=e("BaseUI");cc.Class({extends:a,properties:{minBetLabel:cc.Label,maxBetLabel:cc.Label},onLoad:function(){this._super();var e=ITeenPatti.getCurSFSRoom();this.minBetLabel.string="",this.maxBetLabel.string="",e&&e.variables&&e.variables.ba&&(this.minBetLabel.string=n.formatNumberWithRules(e.variables.ba.value))},onCloseBtnClk:function(e){this._super()},onSettingBtnClk:function(e){this._super(),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils"}],GameRoomInfo:[function(e,t,i){"use strict";cc._RF.push(t,"07572JKPSZI1JESCpGGWxtP","GameRoomInfo");var n=e("BaseUI"),a=e("ITeenPatti"),o=e("GameUtils"),s=(e("ClassicRoom"),e("NoLimitRoom"),e("JokerRoom"),e("MuflisRoom"),e("MuflisRoom"),e("HukamRoom"),e("AK47Room"),e("PotBlindRoom"),e("LanguageData"));cc.Class({extends:n,properties:{titleLabel:cc.Label,bootAmountLabel:cc.Label,maxBlindsLabel:cc.Label,chaalLimitLabel:cc.Label,potLimitLabel:cc.Label},onLoad:function(){this._super();var e=a.getCurRoom(),t=a.getCurTable().round,i=t?t.mode:e.roomType;if(e.isDeluxe)this.titleLabel.string=s.t("label_text.deluxe");else switch(i){case ROOM_TYPE.CLASSIC:this.titleLabel.string=s.t("label_text.classic");break;case ROOM_TYPE.NOLIMIT:this.titleLabel.string=s.t("label_text.no_limit");break;case ROOM_TYPE.JOKER:this.titleLabel.string=s.t("label_text.joker");break;case ROOM_TYPE.MUFLIS:this.titleLabel.string=s.t("label_text.muflis");break;case ROOM_TYPE.HUKAM:this.titleLabel.string=s.t("label_text.hukam");break;case ROOM_TYPE.AK47:this.titleLabel.string=s.t("label_text.ak47");break;case ROOM_TYPE.POTBLIND:this.titleLabel.string=s.t("label_text.pot_blind");break;case ROOM_TYPE.CLASSIC_GOLD:this.titleLabel.string=s.t("label_text.classic")}var n=a.getCurSFSRoom();if(this.bootAmountLabel.string="",this.maxBlindsLabel.string="",this.chaalLimitLabel.string="",this.potLimitLabel.string="",n&&n.variables){var r=i==ROOM_TYPE.POTBLIND?2:1;n.variables.ba&&(this.bootAmountLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(n.variables.ba.value)})),n.variables.mb&&(i==ROOM_TYPE.POTBLIND?this.maxBlindsLabel.string=s.t("label_text.always_blind"):this.maxBlindsLabel.string=o.formatNumberWithRules(n.variables.mb.value)),n.variables.cl&&(i==ROOM_TYPE.NOLIMIT?this.chaalLimitLabel.string=s.t("label_text.no_limit"):this.chaalLimitLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(n.variables.cl.value/r)})),n.variables.pl&&(i==ROOM_TYPE.NOLIMIT?this.potLimitLabel.string=s.t("label_text.no_limit"):this.potLimitLabel.string=s.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(n.variables.pl.value)}))}},onCloseBtnClk:function(e){this._super()},onSettingBtnClk:function(e){this._super(),this.closeUI()}}),cc._RF.pop()},{AK47Room:"AK47Room",BaseUI:"BaseUI",ClassicRoom:"ClassicRoom",GameUtils:"GameUtils",HukamRoom:"HukamRoom",ITeenPatti:"ITeenPatti",JokerRoom:"JokerRoom",LanguageData:"LanguageData",MuflisRoom:"MuflisRoom",NoLimitRoom:"NoLimitRoom",PotBlindRoom:"PotBlindRoom"}],GameSceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"ce925nblUJH65NySJ6tLkEp","GameSceneAudio");var n=e("BaseSceneAudio");cc.Class({extends:n,properties:{bet:{type:cc.AudioClip,default:null},addbet:{type:cc.AudioClip,default:null},countdown:{type:cc.AudioClip,default:null},deal:{type:cc.AudioClip,default:null},myturn:{type:cc.AudioClip,default:null},pack:{type:cc.AudioClip,default:null},see:{type:cc.AudioClip,default:null},sideshow:{type:cc.AudioClip,default:null},win:{type:cc.AudioClip,default:null},levelup:{type:cc.AudioClip,default:null},tip:{type:cc.AudioClip,default:null}},onLoad:function(){}}),cc._RF.pop()},{BaseSceneAudio:"BaseSceneAudio"}],GameScenePopup:[function(e,t,i){"use strict";cc._RF.push(t,"59628iSz2xHMLiRHQ6oowBK","GameScenePopup"),cc.Class({extends:cc.Component,properties:{prefabs:[cc.Prefab]}}),cc._RF.pop()},{}],GameSceneTour:[function(e,t,i){"use strict";cc._RF.push(t,"411f5EeS2lJl4XenThjuoQm","GameSceneTour");var n=e("GameScene"),a=e("DataAnalysisKey"),o=e("UIInfo"),s=e("Command"),r=e("GameData"),l=e("TableControllerTour");cc.Class({extends:n,properties:{gameRoomInfoTourPrefab:cc.Prefab,tournamentResultPrefab:cc.Prefab,tournamentFinalRankPrefab:cc.Prefab,tableController:l},initPreloadData:function(){this.preloadPrefabs=this.preloadPrefabs.concat(r.GAME_SCENE_TOUR_PRELOAD_POPUP()),this._super()},onBackBtnClk:function(e){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(this.gameCore.uiMng.isPopUpByUIKey(o.BACK_MENU_TOUR.name)||this.gameCore.uiMng.openUI(o.BACK_MENU_TOUR))},onBackButtonClk:function(){this.gameCore.uiMng.isPopUpByUIKey(o.BACK_MENU_TOUR.name)||this.gameCore.uiMng.openUI(o.BACK_MENU_TOUR)},onLoad:function(){this._super(),this.isTourEnd=!1},initComplete:function(){this._super()},initListener:function(){this.gameCore.uiMng.openUI(o.GAME_ROOM_INFO_TOUR),this.gameCore.dataAnalysisMng.sendData(a.POPUP_TABLEINFO_ENTERTABLE,this.gameCore.dataAnalysisMng.gameBaseData),ITeenPatti.addListener(s.SERVER_CMD_TOUR_START_TIME,this,this.onNextRoundStart),ITeenPatti.addListener(s.SERVER_CMD_TOUR_START,this,this.updateGameIdValue),ITeenPatti.addListener("ConnectionResume",this,this.onConnectResume),ITeenPatti.addListener(s.SERVER_CMD_TOUR_SIDE_SHOW,this,this.onSideShowConfirm),ITeenPatti.addListener(s.SERVER_CMD_TOUR_GAMBLE,this,this.onUserAction),ITeenPatti.addListener(s.SERVER_CMD_TOUR_SEE,this,this.onUserAction),ITeenPatti.addListener(s.SERVER_CMD_TOUR_RESULT,this,this.onTourResult),ITeenPatti.addListener(s.SERVER_CMD_TOUR_TOTAL_RANK,this,this.onTourTotalRank),ITeenPatti.addListener("nativeAd",this,this.onLuckyCoinReceive),ITeenPatti.addListener("expfinish",this,this.onExpFinish),ITeenPatti.addListener("jis",this,this.onTableRefresh)},onEnterForeground:function(){this._super(),this.showTourResult()},onNextRoundStart:function(e,t){this._super(e,t),this.isRoundFinish=!1},onTableRefresh:function(e,t){5==t.status&&(this.isRoundFinish=!0,this.showTourResult()),this.updateGameIdValue()},onTourTotalRank:function(e,t){var i=ITeenPatti.getCurRoom();i&&-1==i.roomName.indexOf("#allin")&&(this.tourFinalResult=t,this.showTourResult())},showTourResult:function(){var e=this.gameCore.userMng.myself;if(!this.isBackground&&(this.isRoundFinish||!ITeenPatti.getCurTable()||ITeenPatti.getCurTable().getSitUserCount()<=1||e&&e.role&&e.role.isWatcher())&&this.tourResult&&this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role&&(this.gameCore.uiMng.getUIByUIKey(o.TOURNAMENT_RESULT.name)||this.gameCore.uiMng.openUI(o.TOURNAMENT_RESULT,handler(this,function(e){e&&e.updateUI(this.tourResult)})),this.tourResult=null),!this.isBackground&&(this.isRoundFinish||!ITeenPatti.getCurTable()||ITeenPatti.getCurTable().getSitUserCount()<=1||e&&e.role&&e.role.isWatcher())&&this.tourFinalResult&&this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role){for(var t=table.createToArray(this.tourFinalResult.result),i=t[0],n=0;n<t.length;n++)if(this.gameCore.userMng.myself&&this.gameCore.userMng.myself.strTPID==t[n].userId){i=t[n];break}var a=ITeenPatti.getCurRoom();(a&&-1==a.roomName.indexOf("#normal")&&0==i.num||a&&-1!=a.roomName.indexOf("#normal")&&!this.gameCore.uiMng.getUIByUIKey(o.TOURNAMENT_RESULT.name))&&(this.gameCore.uiMng.closeUI(o.TOURNAMENT_RESULT),this.gameCore.uiMng.openUI(o.TOURNAMENT_FINAL_RANK,handler(this,function(e){e&&e.updateUI(this.tourFinalResult,this.tableController.waitUsers)}))),this.tourFinalResult=null}},onExpFinish:function(e,t){this.isRoundFinish=!0,this.showTourResult()},onTourResult:function(e,t){this.isTourEnd=!0,this.tourResult=t,this.showTourResult()},onUserStandUp:function(e,t){this._super(e,t),t.user.isItMe&&this.showTourResult()},onRoomInfoBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(a.CLICK_TABLEINFO,this.gameCore.dataAnalysisMng.gameBaseData),this.gameCore.uiMng.openUI(o.GAME_ROOM_INFO_TOUR)},openChipsNotEnough1:function(){},hasEnoughChips:function(e){},openWatchModePopup:function(){}}),cc._RF.pop()},{Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameScene:"GameScene",TableControllerTour:"TableControllerTour",UIInfo:"UIInfo"}],GameScene:[function(e,t,i){"use strict";cc._RF.push(t,"bfa68U6AFlOiJV8LfWiMqgU","GameScene");var n=e("BaseGameScene"),a=e("ITeenPatti"),o=e("UIInfo"),s=(e("Command"),e("GameData")),r=e("DataAnalysisKey");cc.Class({extends:n,properties:{blackBg:{default:null,visible:!1,override:!0},popupBg:{default:null,visible:!1,override:!0},gameRoomInfoPrefab:cc.Prefab,connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,btnLuckyCoin:cc.Button,luckyCoinJson:{default:null,visible:!1}},initPreloadData:function(){this.preloadPrefabs=this.preloadPrefabs.concat(s.GAME_SCENE_PRELOAD_POPUP()),this._super()},onLoad:function(){LogUtil.info("GameScene","----------------------------------- Game Scene -----------------------------"),this._super(),this.btnLuckyCoin.node.active=!1;a.getCurRoom()},initComplete:function(){this._super(),LogUtil.debug("GameScene","Init Complete.")},initListener:function(){this.gameCore.gameMng.isPrivateRoom()&&this.gameCore.gameMng.isMeCreatedPrivateRoom&&this.gameCore.gameMng.openFriendsUI(0),this.gameCore.uiMng.openUI(o.GAME_ROOM_INFO),this.gameCore.dataAnalysisMng.sendData(r.POPUP_TABLEINFO_ENTERTABLE,this.gameCore.dataAnalysisMng.gameBaseData),a.addListener("ConnectionResume",this,this.onConnectResume),a.addListener("sideshow",this,this.onSideShowConfirm),a.addListener("starttime",this,this.onNextRoundStart),a.addListener("start",this,this.onNextRoundStart),a.addListener("jis",this,this.onJIS),a.addListener("gamble",this,this.onUserAction),a.addListener("see",this,this.onUserAction),a.addListener("nativeAd",this,this.onLuckyCoinReceive)},onEnable:function(){a.isReconnecting&&!a.gameCore.uiMng.isPopUpByUIKey(o.RECONNECTING.name)&&a.gameCore.uiMng.openUI(o.RECONNECTING)},onConnectResume:function(e,t){a.sendMsg("jis",null)},onNextRoundStart:function(e,t){this.updateGameIdValue()},onJIS:function(e,t){this.updateGameIdValue()},getBalance:function(){return a.getCurPlayer().nChips},onUserAction:function(e,t){if("gamble"!=e||t.action==USER_ACTION.BET||t.action==USER_ACTION.SIDE_SHOW){var i=a.getCurPlayer();if(i&&i.role&&!i.role.isWatcher()){var n=a.getCurRoom().profile.nStakeAmout;i.role.isCardSeen()&&(n*=2),this.getBalance()>=n||this.gameCore.uiMng.isPopUpByUIKey(o.CHIPS_NOT_ENOUGH_1.name)||this.openChipsNotEnough1()}}},openChipsNotEnough1:function(){this.gameCore.gameMng.openChipsNotEnough1()},onUserProfileGet:function(e,t){if(!t.errorcode&&this.gameCore&&this.gameCore&&this.gameCore.uiMng){t.user_id;this.gameCore.uiMng.openUI(this.gameCore.uiMng.inGamePlayerInfoUIData,function(e){e&&e.initWithMsgGetUserInfo(t)})}},onLuckyCoinReceive:function(e,t){this.luckyCoinJson=t,IAds.isAdLoaded(IAds.AD_NATIVE)||this.luckyCoinJson.chipload},onFriendsRoomSummaryClk:function(e){this.gameCore.uiMng.openUI(o.FRIENDS_ROOM_SUMMARY)},onSideShowConfirm:function(e){!a.getCurTable()||a.getCurTable().sshowID<0||a.getCurTable().cdStart+7e3<(new Date).getTime()||this.gameCore.uiMng.isPopUpByUIKey(o.SIDE_SHOW_CONFIRM_POPUP.name)||this.gameCore.uiMng.openUI(o.SIDE_SHOW_CONFIRM_POPUP)},onBtnLuckyClk:function(e){this.btnLuckyCoin.node.active=!1,null!=this.luckyCoinJson&&(IAds.isAdLoaded(IAds.AD_NATIVE)&&!this.luckyCoinJson.chipload?(this.gameCore.uiMng.openUI(o.AD_NATIVE_POPUP),this.luckyCoinJson=null):this.gameCore.uiMng.openUI(o.LUCKY_COIN_POPUP,handler(this,function(e){e.setInitData(this.luckyCoinJson),this.luckyCoinJson=null})))},onUserStandUp:function(t,i){if(i.user.isItMe){var n=a.getCurRoom();if(n){var o=0;o=n instanceof e("NoLimitRoom")?32*n.profile.nBootAmount:n.profile.nChaalLimit/4,this.hasEnoughChips(o)}this._super(t,i)}},hasEnoughChips:function(e){this.gameCore.gameMng.hasEnoughChips(e)}}),cc._RF.pop()},{BaseGameScene:"BaseGameScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",ITeenPatti:"ITeenPatti",NoLimitRoom:"NoLimitRoom",UIInfo:"UIInfo"}],GameStoreBtn:[function(e,t,i){"use strict";cc._RF.push(t,"a556dUvYHpINbERZL0WU6FT","GameStoreBtn");var n=e("BaseComponent");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},initComplete:function(){this._super(),this.gameCore.gameMng.hasPurchase()||(this.node.active=!1)}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],GameTableCache:[function(e,t,i){"use strict";cc._RF.push(t,"12a21x4585FloS1FxNZ0JOI","GameTableCache"),cc.Class({extends:cc.Component,properties:{arrGameTableMode:[cc.Prefab],arrGameType:[cc.Prefab]},onLoad:function(){}}),cc._RF.pop()},{}],GameTester:[function(e,t,i){"use strict";cc._RF.push(t,"ce185PgXmJHj6duw26XpXJN","GameTester");var n=e("ISmartFox");cc.Class({extends:cc.Component,properties:{pnlCtrl:cc.Node},onLoad:function(){this.pnlCtrl.active=!1},onDestroy:function(){},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.f1:case cc.macro.KEY.menu:this.pnlCtrl.active=!0;break;case cc.macro.KEY.escape:case cc.macro.KEY.back:this.pnlCtrl.active=!1}},onBtnPlayerEnterRoom:function(){ITeenPatti.onMsgReceived("UserEnterRoom",{room:{groupId:"WT1",id:44,isGame:!0,isHidden:!1,isJoined:!0,isPasswordProtected:!1,maxSpectators:0,maxUsers:1e3,name:"New York #0",variables:{b:{isPersistent:!1,isPrivate:!1,name:"b",type:"Int",value:17},bi:{isPersistent:!1,isPrivate:!1,name:"bi",type:"Int",value:0},c:{isPersistent:!1,isPrivate:!1,name:"c",type:"Int",value:58},i:{isPersistent:!1,isPrivate:!1,name:"i",type:"Int",value:1},s:{isPersistent:!1,isPrivate:!1,name:"s",type:"Bool",value:!1},u:{isPersistent:!1,isPrivate:!1,name:"u",type:"Int",value:19}}},user:{id:161,isItMe:!1,name:"10021302",privilegeId:0,variables:{country:{isPrivate:!1,name:"country",type:"String",value:"UN"},frame:{isPrivate:!1,name:"frame",type:"Int",value:0},icon:{isPrivate:!1,name:"icon",type:"String",value:"9"},name:{isPrivate:!1,name:"name",type:"String",value:"Guest10021302"},private:{isPrivate:!1,name:"private",type:"Bool",value:!1}}}})},onBtnPlayerExitRoom:function(){ITeenPatti.onMsgReceived("UserExitRoom",{room:{groupId:"WT1",id:44,isGame:!0,isHidden:!1,isJoined:!0,isPasswordProtected:!1,maxSpectators:0,maxUsers:1e3,name:"New York #0",variables:{b:{isPersistent:!1,isPrivate:!1,name:"b",type:"Int",value:18},bi:{isPersistent:!1,isPrivate:!1,name:"bi",type:"Int",value:5},c:{isPersistent:!1,isPrivate:!1,name:"c",type:"Int",value:60},i:{isPersistent:!1,isPrivate:!1,name:"i",type:"Int",value:1},s:{isPersistent:!1,isPrivate:!1,name:"s",type:"Bool",value:!0},u:{isPersistent:!1,isPrivate:!1,name:"u",type:"Int",value:20}}},user:{id:161,isItMe:!1,name:"10021302",privilegeId:0,variables:{country:{isPrivate:!1,name:"country",type:"String",value:"UN"},frame:{isPrivate:!1,name:"frame",type:"Int",value:0},icon:{isPrivate:!1,name:"icon",type:"String",value:"9"},name:{isPrivate:!1,name:"name",type:"String",value:"Guest10021302"},private:{isPrivate:!1,name:"private",type:"Bool",value:!1}}}})},onBtnPlayerSitDown:function(){ITeenPatti.onMsgReceived("UserSitDown",{changedVars:["name","icon","country","private","frame"],user:{id:161,isItMe:!0,name:"10021301",privilegeId:0,variables:{country:{isPrivate:!1,name:"country",type:"String",value:"UN"},frame:{isPrivate:!1,name:"frame",type:"Int",value:0},icon:{isPrivate:!1,name:"icon",type:"String",value:"22"},name:{isPrivate:!1,name:"name",type:"String",value:"Guest10021301"},private:{isPrivate:!1,name:"private",type:"Bool",value:!1}}}})},onBtnPlayerStandUp:function(){ITeenPatti.onMsgReceived("UserStandUp",{changedVars:["name","icon","country","private","frame"],user:{id:161,isItMe:!0,name:"10021301",privilegeId:0,variables:{country:{isPrivate:!1,name:"country",type:"String",value:"UN"},frame:{isPrivate:!1,name:"frame",type:"Int",value:0},icon:{isPrivate:!1,name:"icon",type:"String",value:"22"},name:{isPrivate:!1,name:"name",type:"String",value:"Guest10021301"},private:{isPrivate:!1,name:"private",type:"Bool",value:!1}}}})},onBtnRoundReady:function(){ITeenPatti.onMsgReceived("starttime",{i:5})},onBtnRoundStart:function(){ITeenPatti.onMsgReceived("start",{next_id:1,wait_time:1})},onBtnRoundFinish:function(){Window.TableController.onRoundReset()},onBtnUserPack:function(){for(var e=Window.TableController.arrSeat,t=0;t<e.length;t++){var i=e[t];if(i.tpUser)return void i.onUserPack()}},onBtnUserSee:function(){for(var e=Window.TableController.arrSeat,t=0;t<e.length;t++){var i=e[t];if(i.tpUser)return i.tpUser.role.arrCard=[11,22,33],void i.onUserSee()}},onBtnUserWin:function(){for(var e=Window.TableController.arrSeat,t=0;t<e.length;t++){var i=e[t];if(i.tpUser)return void i.onUserWin()}},onBtnUserLose:function(){for(var e=Window.TableController.arrSeat,t=0;t<e.length;t++){var i=e[t];if(i.tpUser)return void i.onUserLose()}},onBtnUserSide:function(){for(var e=Window.TableController.arrSeat,t=0;t<e.length;t++){var i=e[t];if(i.tpUser)return void i.onUserSide()}},onBtnUserSideLose:function(){for(var e=Window.TableController.arrSeat,t=0;t<e.length;t++){var i=e[t];if(i.tpUser)return i.tpUser.role.arrCard=[11,22,33],void i.onUserSideLose()}},onBtnUserSideWin:function(){for(var e=Window.TableController.arrSeat,t=0;t<e.length;t++){var i=e[t];if(i.tpUser)return i.tpUser.role.arrCard=[11,22,33],void i.onUserSideWin()}},onMsgRoomJoinReceived:function(e,t){ITeenPatti.onMsgReceived("starttime",{i:ITeenPatti.getCurPlayer.role.playerId})},onMsgRoomExitSend:function(e,t){window.MODE_DEVELOP_LOCAL&&(ITeenPatti.getCurPlayer().isFacebookLogin()?n.onMsgReceived("UserExitRoom",{room:{groupId:"WT1",id:12,isGame:!0,isHidden:!1,isJoined:!1,isPasswordProtected:!1,maxSpectators:0,maxUsers:1e3,name:"New York #0",variables:{b:{isPersistent:!1,isPrivate:!1,name:"b",type:"Int",value:18},bi:{isPersistent:!1,isPrivate:!1,name:"bi",type:"Int",value:5},c:{isPersistent:!1,isPrivate:!1,name:"c",type:"Int",value:61},i:{isPersistent:!1,isPrivate:!1,name:"i",type:"Int",value:1},s:{isPersistent:!1,isPrivate:!1,name:"s",type:"Bool",value:!0},u:{isPersistent:!1,isPrivate:!1,name:"u",type:"Int",value:19}}},user:{id:41,isItMe:!0,name:"10021259",privilegeId:0,variables:{country:{isPrivate:!1,name:"country",type:"String",value:"UN"},frame:{isPrivate:!1,name:"frame",type:"Int",value:0},icon:{isPrivate:!1,name:"icon",type:"String",value:"https://graph.facebook.com//picture?width=100&height=100&1504511446"},name:{isPrivate:!1,name:"name",type:"String",value:"Sanwen Kong"},private:{isPrivate:!1,name:"private",type:"Bool",value:!1}}}}):n.onMsgReceived("UserExitRoom",{room:{groupId:"WT1",id:18,isGame:!0,isHidden:!1,isJoined:!1,isPasswordProtected:!1,maxSpectators:0,maxUsers:1e3,name:"New York #0",variables:{b:{isPersistent:!1,isPrivate:!1,name:"b",type:"Int",value:7},bi:{isPersistent:!1,isPrivate:!1,name:"bi",type:"Int",value:0},c:{isPersistent:!1,isPrivate:!1,name:"c",type:"Int",value:25},i:{isPersistent:!1,isPrivate:!1,name:"i",type:"Int",value:1},s:{isPersistent:!1,isPrivate:!1,name:"s",type:"Bool",value:!1},u:{isPersistent:!1,isPrivate:!1,name:"u",type:"Int",value:8}}},user:{id:90,isItMe:!0,name:"10021264",privilegeId:0,variables:{country:{isPrivate:!1,name:"country",type:"String",value:"UN"},frame:{isPrivate:!1,name:"frame",type:"Int",value:0},icon:{isPrivate:!1,name:"icon",type:"String",value:"7"},name:{isPrivate:!1,name:"name",type:"String",value:"Guest10021264"},private:{isPrivate:!1,name:"private",type:"Bool",value:!1}}}}))},onMsgUserEnterRoom:function(e,t){ITeenPatti.getCurTable().arrUser.length}}),cc._RF.pop()},{ISmartFox:"ISmartFox"}],GameUtils:[function(e,t,i){"use strict";cc._RF.push(t,"77fbaawLOlDwLJdGmJJljKQ","GameUtils");var n={formatName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=e;return i.length>t&&(i=e.slice(0,t-1)+".."),i},formatNumber:function(e){VIDEO_RECORD&&(e*=1e3);return(""+e).replace(/(\d)(?=(\d{3})$)/g,"$1,").replace(/(\d)(?=(\d{2})+[,])/g,"$1,")},formatNumberWithRulesWithK:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return e>=1e3&&e<t?e/1e3+"K":this.formatNumberWithRules(e,t,i)},formatNumberWithRules:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this.convertNumber(e,t,i);return a.num+(n?a.unit:"")},convertNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;VIDEO_RECORD&&(e*=1e3);var n=e<0?"-":"";return(e=Math.abs(e))<t?{num:n+this.formatNumber(e),unit:""}:e>=1e7?{num:n+this.subStrDecimalNumber(e/1e7,e>99999e7?0:i),unit:"Cr"}:e>=1e5?{num:n+this.subStrDecimalNumber(e/1e5,i),unit:"L"}:e%1e5!=0?{num:n+this.subStrDecimalNumber(e/1e5,i),unit:"L"}:{num:n+e/1e5,unit:"L"}},subStrDecimalNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=String(e);if(-1!=i.indexOf(".")){for(var n="",a=(n=i.substr(0,Math.min(i.lastIndexOf(".")+t+1,i.length))).length-1;a>=0;a--){if("0"!=n[a]){if("."==n[a]){n=n.substr(0,n.length-1);break}break}n=n.substr(0,n.length-1)}return n}return i},unformatNumber:function(e){var t=0;return t=-1!=e.indexOf("Cr")?1e7*parseFloat(e.slice(0,e.indexOf("Cr"))):-1!=e.indexOf("L")?1e5*parseFloat(e.slice(0,e.indexOf("L"))):e,LogUtil.debug("GameUtils","unformatNumber result:"+t),t}};t.exports=n,cc._RF.pop()},{}],GiftChips:[function(e,t,i){"use strict";cc._RF.push(t,"9620b5K67RPdIoPV/bddQkv","GiftChips");var n=e("Command"),a=e("LanguageData"),o=e("BaseEditboxUI");cc.Class({extends:o,properties:{chipsEditBox:cc.EditBox,userIdEditBox:cc.EditBox,remind1:cc.Node,remind2:cc.Node},initComplete:function(){this._super(),this.editboxOffsetY=20,this.remind1.active=!1,this.remind2.active=!1},onChipsToGiftChange:function(e,t){if(""!=e&&e){var i=new String(e);i=i.replace(new RegExp("[^0-9]","g"),"");var n=Math.max(1,Math.min(200,parseInt(i)));t.string=n}},onUserIdChange:function(e,t){if(""!=e&&e){var i=new String(e);i=i.replace(new RegExp("[^0-9]","g"),""),t.string=i}},onGiftBtnClk:function(e){if(""==this.userIdEditBox.string||!this.userIdEditBox.string||""==this.chipsEditBox.string||!this.chipsEditBox.string)return this.remind1.active=""==this.chipsEditBox.string||!this.chipsEditBox.string,void(this.remind2.active=""==this.userIdEditBox.string||!this.userIdEditBox.string);this.gameCore.gameMng.hasEnoughBankBalance(1e7*parseInt(this.chipsEditBox.string))&&(this.gameCore.uiMng.addListener("getUserInfo",this,this.onProfile),this.requestUserID=parseInt(this.userIdEditBox.string),ITeenPatti.sendMsg("getUserInfo",{i:this.requestUserID}))},onProfile:function(e){if(e.errorcode||this.requestUserID==e.id)if(this.gameCore.uiMng.removeListener("getUserInfo",this,this.onProfile),e.errorcode)2001==e.errorcode&&this.gameCore.gameMng.showAlert(a.t("label_text.user_not_exist",{id:this.userIdEditBox.string}));else{var t=-1!=e.name.indexOf(this.requestUserID)?e.name:e.name+"(id:"+this.requestUserID+")";this.gameCore.gameMng.showAlert(a.t("label_text.gift_confirm",{name:t,chips:this.chipsEditBox.string+"Cr"}),"",2,handler(this,this.sendGift))}},sendGift:function(){this.gameCore.userMng.transactionWithPassword(handler(this,function(){var e=this.chipsEditBox.string+"Cr chips\xa0from\xa0"+this.gameCore.userMng.myself.strTPName,t="Congratulations! You've got "+e,i={userId:parseInt(this.userIdEditBox.string),chips:1e7*parseInt(this.chipsEditBox.string),title:e,message:t};ITeenPatti.sendMsg(n.SERVER_CMD_BANK_TO_CHIPS,i),this.showNetworkDelayLoading()}))},showDelayLoading:function(){this._super(cc.v2(0,0))}}),cc._RF.pop()},{BaseEditboxUI:"BaseEditboxUI",Command:"Command",LanguageData:"LanguageData"}],GiftItem:[function(e,t,i){"use strict";cc._RF.push(t,"50017EJxeNLVJITYMKLqkFx","GiftItem");e("UIInfo");var n=e("GameUtils"),a=e("DataAnalysisKey"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{imgBg:cc.Sprite,lblPrice:cc.Label,imgGift:cc.Sprite,imgHot:cc.Sprite,nGiftID:0,nGiftPrice:0,spfHotBg:cc.SpriteFrame},onLoad:function(){this._super(),this.imgHot.node.active=!1},setClickCb:function(e){this.hClickCb=e},setHotGift:function(){this.imgBg.spriteFrame=this.spfHotBg,this.imgHot.node.active=!0},setGiftInfo:function(e,t){this.nGiftID=e,this.nGiftPrice=t,this.lblPrice.string=-1==t?"-":n.formatNumberWithRules(t),this.indicator=this.gameCore.uiMng.showLoading1(cc.v2(0,10),this.imgGift.node,.5),cc.loader.loadRes("Common/Gift/gs_gift_"+e,cc.SpriteFrame,function(e,t){e?LogUtil.err("GiftItem","Download Gift Icon Fail",e):this&&this.gameCore&&this.gameCore.uiMng&&(this.gameCore.uiMng.hideLoading1(this),this.imgGift.spriteFrame=t)}.bind(this))},onBtnGiftClicked:function(e){if(-1!=this.nGiftPrice){ITeenPatti.getCurPlayer();if(ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().roomType==ROOM_TYPE.RUMMY){if(ITeenPatti.getCurSFSRoom()&&ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&!this.gameCore.gameMng.hasEnoughChips2(this.nGiftPrice+80*ITeenPatti.getCurSFSRoom().variables.ba.value))return void this.gameCore.dataAnalysisMng.sendData(a.POPUP_CHIPSOUT_GIFT,this.gameCore.dataAnalysisMng.gameBaseData)}else if(!this.gameCore.gameMng.hasEnoughChips2(this.nGiftPrice))return void this.gameCore.dataAnalysisMng.sendData(a.POPUP_CHIPSOUT_GIFT,this.gameCore.dataAnalysisMng.gameBaseData);this.hClickCb&&this.hClickCb(e,this.nGiftID,this.nGiftPrice)}}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",UIInfo:"UIInfo"}],GiftPrefabCache:[function(e,t,i){"use strict";cc._RF.push(t,"5340fao4sNPJIyhm8nTTlwb","GiftPrefabCache"),cc.Class({extends:cc.Component,properties:{arrFactor:[]},onLoad:function(){ITeenPatti.sendMsg("giftprice"),ITeenPatti.addListener("giftprice",this,this.onGetGiftPrice)},onGetGiftPrice:function(e,t){this.arrFactor=table.createToArray(t.is)},createGiftWithID:function(e,t){return cc.instantiate(this.arrGiftPrefab[e-1])},createPopularWithID:function(e,t){return cc.instantiate(this.arrGiftPrefab[e-1])},getPriceWithGiftID:function(e){return e>this.arrFactor.length?-1:this.arrFactor[e-1]},getGiftCount:function(){return 18}}),cc._RF.pop()},{}],Gifts:[function(e,t,i){"use strict";cc._RF.push(t,"a2818P4rdFMerVhhGWxz8AQ","Gifts");var n=e("BaseUIGold"),a=e("GiftItem"),o=e("GameUtils"),s=(e("DataAnalysisKey"),e("UIInfo"),e("GameData"));cc.Class({extends:n,properties:{lblBalance:cc.Label,tglSendToAll:cc.Toggle,giftContent:{default:null,type:cc.Node},popularGiftContent:{default:null,type:cc.Node},item:{default:null,type:cc.Prefab},itemPopular:{default:null,type:cc.Prefab},arrGiftList:[a],arrPopularList:[a],strReceiverID:null},onLoad:function(){this._super()},initComplete:function(){this._super(),this.lblBalance.string=o.formatNumberWithRules(this.myBalance());var e=cc.visibleRect;if(e.width<this.popupBg.width-4){var t=e.width/(this.popupBg.width-4);this.popupBg.setScale(t)}this.giftContent.removeAllChildren();for(var i=s.giftCount,n=0,a=[1,2,3,4,26,24,23,28,27,25,22,5,19,20,8,21,10,11,12,13,14,15,16,17,18,6,7,9],r=0;r<i;r++)if(16!=a[r]){var l=this.gameCore.gameMng.createGiftItem(a[r],this.item,handler(this,this.onBtnGiftClicked));l.setPosition(n%4*150+80,-150*Math.floor(n/4)-72),this.giftContent.addChild(l),this.arrGiftList[r]=l.getComponent("GiftItem"),n++}this.giftContent.height=150*Math.ceil((i-1)/4),this.onToggleSendToAllClicked()},setReceiverID:function(e){this.strReceiverID=e},onToggleSendToAllClicked:function(){},onBtnGiftClicked:function(e,t,i){var n=[this.strReceiverID];if(this.tglSendToAll.isChecked){n=[];for(var a=ITeenPatti.getCurTable().getUserList(),o=0;o<a.length;o++){var s=a[o],r=!1;ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().roomType==ROOM_TYPE.RUMMY?s.rummyrole&&(r=s.rummyrole.isWatcher()):s.role&&(r=s.role.isWatcher()),r||s.strTPID==this.gameCore.userMng.myself.strTPID&&ITeenPatti.getCurRoom().roomType!=ROOM_TYPE.WINGO_LOTTERY||n.push(s.userId)}!ITeenPatti.getCurRoom()||ITeenPatti.getCurRoom().roomType!=ROOM_TYPE.AB_PVP&&ITeenPatti.getCurRoom().roomType!=ROOM_TYPE.AB_PVP_GOLD&&ITeenPatti.getCurRoom().roomType!=ROOM_TYPE.CASINO_WAR_PVP_GOLD||ITeenPatti.getCurTable()&&-1==n.indexOf(ITeenPatti.getCurTable().playerBankerID)&&n.push(ITeenPatti.getCurTable().playerBankerID)}this.gameCore.gameMng.sendGift(n,t,i),this.closeUI()}}),cc._RF.pop()},{BaseUIGold:"BaseUIGold",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameUtils:"GameUtils",GiftItem:"GiftItem",UIInfo:"UIInfo"}],GlobalRankItem:[function(e,t,i){"use strict";cc._RF.push(t,"5490brBuHRMias9OufksU52","GlobalRankItem");var n=e("FacebookIcon"),a=e("GameUtils"),o=e("ClampLabel");cc.Class({extends:cc.Component,properties:{imgRank:cc.Node,lblRank:cc.Label,imgIcon:n,lblName:o,lblChip:cc.Label,chipIcon:cc.Node,online:cc.Node,offline:cc.Node,arrRankFrame:[cc.SpriteFrame],user:{default:null,visible:!1}},onLoad:function(){},setUserInfo:function(e,t,i){this.user=e,this.setRankIndex(t),this.lblName.string=e.strTPName;var n=0;0==i?n=e.chipsWin:1==i?n=e.handsWin:2==i&&(n=e.nChips),this.chipIcon.active=!(1==i),this.lblChip.string=a.formatNumberWithRules(n),this.imgIcon.initWithTeenPattiUser(e),this.online.active=e.online,this.offline.active=!e.online},setRankIndex:function(e){if(e<3)return this.lblRank.node.active=!1,this.imgRank.active=!0,void(this.imgRank.getComponent(cc.Sprite).spriteFrame=this.arrRankFrame[e]);this.lblRank.node.active=!0,this.imgRank.active=!1,this.lblRank.string=""+(e+1)}}),cc._RF.pop()},{ClampLabel:"ClampLabel",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils"}],GlobalRankList:[function(e,t,i){"use strict";cc._RF.push(t,"0623c0iim9NSbdKVyA4HoaG","GlobalRankList");var n=e("BaseComponent"),a=e("Command"),o=e("DataAnalysisKey"),s=e("AERankListView");cc.Class({extends:n,properties:{prfRankItem:cc.Prefab,contentView:cc.Node,listView:s,rankType:0,itemList:{default:[],visible:!1}},onLoad:function(){this._super(),this.listView.setItemInitCb(handler(this,this.onItemViewInit))},initComplete:function(){this._super(),this.itemGapY=-90,this.gameCore.uiMng.addListener(a.SERVER_CMD_FRIEND_LIST,this,this.updateList)},start:function(){this.updateList()},updateList:function(){var e=ITeenPatti.getCurPlayer();e.online=!0;var t=e.getFBFriendList().concat();t.push(e),0==this.rankType?t.sort(function(e,t){return t.chipsWin-e.chipsWin}):1==this.rankType?t.sort(function(e,t){return t.handsWin-e.handsWin}):2==this.rankType&&t.sort(function(e,t){return t.nChips-e.nChips});for(var i=0;i<t.length;i++)t[i].index=i,this.listView.addItemData(i,t[i]);this.i18nFontUpdate()},onItemViewInit:function(e,t){e.getComponent("GlobalRankItem").setUserInfo(t,t.index,this.rankType)},onToggleClk:function(e,t){this.rankType=t,1==this.rankType?this.gameCore.dataAnalysisMng.sendData(o.OPEN_RANKING_HANDSWIN):2==this.rankType&&this.gameCore.dataAnalysisMng.sendData(o.OPEN_RANKING_CHIPSLEFT),this.updateList()}}),cc._RF.pop()},{AERankListView:"AERankListView",BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey"}],GoldFlyEffect:[function(e,t,i){"use strict";cc._RF.push(t,"2cc83xz4s1E5ZdrqImjGzVT","GoldFlyEffect");var n=e("Command"),a=e("GameUtils"),o=e("LanguageData"),s=e("BoldLabel"),r=e("BaseEffect");cc.Class({extends:r,properties:{goldRotate:cc.Prefab,goldCount:10,startPos:cc.v2(0,0),goldChangeObj:{default:null,visible:!1},hUpdateCb:{visible:!1,default:null},hFinishCb:{visible:!1,default:null}},onLoad:function(){this._super()},flyBezier:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.isValid){this.startPos=e||cc.v2(0,0),this.endPos=[cc.v2(120,this.gameCore.userMng.goldEndPosY),cc.v2(286,192),cc.v2(154,59),cc.v2(0,-282)];cc.v2((this.endPos.x-this.startPos.x)/2,(this.endPos.y-this.startPos.y)/2);for(var r=0;r<this.goldCount;r++){var l=cc.instantiate(this.goldRotate);l.rotation=360*Math.random(),l.setPosition(this.startPos.add(cc.v2(-50,-50)).add(cc.v2(100*Math.random(),100*Math.random())));var c=[cc.delayTime(.08*r),cc.spawn([cc.callFunc(function(e){this&&this.isValid&&this.node.addChild(e)},this,l),cc.scaleTo(.7,0==t?.9:.7),cc.moveTo(.7,this.endPos[t])])];0==r?c.unshift(cc.callFunc(function(){this.gameCore&&this.gameCore.gameMng.playAudioEffect("bonus")},this)):r==this.goldCount-1&&c.push(cc.callFunc(function(){if(this&&this.isValid&&(this.gameCore.userMng.goldFlyStartPos=null,this.gameCore.gameMng.resumeChipsRefresh(),this.goldChangeObj))if(this.gameCore.uiMng.dispatch(n.UI_CMD_GOLD_CHANGE,this.goldChangeObj),i){var e=new cc.Node;e.opactiy=0;var r=e.addComponent(s);r.overflow=cc.Label.Overflow.NONE,r.fontSize=24,r.horizontalAlign=cc.Label.HorizontalAlign.LEFT,r.verticalAlign=cc.Label.VerticalAlign.CENTER,r.string=o.t("label_text.chips_with_symbol_plus",{number:a.formatNumberWithRules(this.goldChangeObj.change)}),e.setPosition(this.endPos[t].add(cc.v2(0,-25))),this.node.addChild(e),e.runAction(cc.sequence(cc.fadeTo(.3,255),cc.delayTime(.2),cc.callFunc(function(e){this.closeUI()},this,e)))}else this.closeUI()},this)),l.runAction(cc.sequence(c))}}},fly:function(e,t){this.nChipAdd=0,this.startPos=e?this.node.convertToNodeSpaceAR(e):cc.v2(0,0),this.endPos=this.node.convertToNodeSpaceAR(t);for(var i=this.startPos.sub(this.endPos).mag()/300,a=0;a<this.goldCount;a++){var o=cc.instantiate(this.goldRotate);o.setPosition(this.startPos),this.node.addChild(o);var s=[cc.delayTime(.08*a),cc.spawn([cc.scaleTo(.7,i),cc.moveTo(.7,this.endPos)]),cc.callFunc(function(){this.onChipUpdate()},this)];0==a?s.unshift(cc.callFunc(function(){this.gameCore.gameMng.playAudioEffect("bonus")},this)):a==this.goldCount-1&&s.push(cc.callFunc(function(){this.gameCore.userMng.goldFlyStartPos=null,this.gameCore.gameMng.resumeChipsRefresh(),this.goldChangeObj&&this.gameCore.uiMng.dispatch(n.UI_CMD_CHIPS_CHANGE,this.goldChangeObj),this.onChipFinish(),this.closeUI()},this)),o.runAction(cc.sequence(s))}},onChipUpdate:function(){this.nChipAdd+=1,this.hUpdateCb&&this.hUpdateCb(this.nChipAdd)},onChipFinish:function(){this.hFinishCb&&this.hFinishCb()},setUpdateCb:function(e,t){this.hUpdateCb=e,this.hFinishCb=t}}),cc._RF.pop()},{BaseEffect:"BaseEffect",BoldLabel:"BoldLabel",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],GoldHistoryItem:[function(e,t,i){"use strict";cc._RF.push(t,"e192f06d/xFwJ3U90lqU6UI","GoldHistoryItem");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseScrollViewItem"),s=new cc.Color(255,60,60),r=new cc.Color(255,255,255),l=0,c=1,h=2,u=3,d=4,m=5,g=6,p=7,C=8,f=9,b=10,I=11,_=12,S=13,P=16,T=19;cc.Class({extends:o,properties:{descriptionLabel:cc.Label,amountLabel:cc.Label,timeLabel:cc.Label,taxLabel:cc.Label},onLoad:function(){this._super(),this.taxLabel.node.active=!1},setData:function(e){if(this._super(e),this.taxLabel.node.active=!1,e&&"more"!=e){var t="",i=null,o=0,R=e.gameid;e.type!=c&&e.type!=u||R.length>15&&(R=R.substring(0,15)+"...");var v="";if(-1!=e.room.indexOf(ROOM_TYPE.AB_GOLD)?v="AB":-1!=e.room.indexOf(ROOM_TYPE.AB_PVP_GOLD)?v="AB_PVP":-1!=e.room.indexOf(ROOM_TYPE.CASINO_WAR_GOLD)?v="Casino War":-1!=e.room.indexOf(ROOM_TYPE.CASINO_WAR_PVP_GOLD)?v="Casino War_PVP":-1!=e.room.indexOf(ROOM_TYPE.TEXAS_HOLDEM_GOLD)?v="Poker":-1!=e.room.indexOf(ROOM_TYPE.CLASSIC_GOLD+"@")&&(v="Classic"),e.type==l)t=a.t("label_text.buy_gold");else if(e.type==c){var y=e.room.split("_");R=-1!=R.indexOf(y[1])?R:R+"(id:"+y[1]+")",t=a.t("label_text.transfer_gold",{name:R}),this.taxLabel.node.active=!0,o=Number(y[0]),this.taxLabel.string=a.t("label_text.tax")+" -"+n.formatNumberWithRules(o)}else if(e.type==h)t=a.t("label_text.tax_gold");else if(e.type==u)R=-1!=R.indexOf(e.room)?R:R+"(id:"+e.room+")",t=a.t("label_text.receive_gold",{name:R});else if(e.type==d)t=a.t("label_text.bet_gold",{name:v}),i=e.gameid;else if(e.type==m)t=a.t("label_text.lose_gold",{name:v}),i=e.gameid;else if(e.type==g)t=a.t("label_text.win_gold",{name:v}),i=e.gameid;else if(e.type==p)t=a.t("label_text.tip_gold",{name:v});else if(e.type==C)t=a.t("label_text.gift_gold",{name:v});else if(e.type==f)t=a.t("label_text.switch_deal",{name:v});else if(e.type==b)t=a.t("label_text.banker_win",{name:v}),i=e.gameid;else if(e.type==I)t=a.t("label_text.banker_lose",{name:v}),i=e.gameid;else if(e.type==_){var A=[a.t("label_text.gold_c"),a.t("label_text.platinum"),a.t("label_text.diamond")];t=a.t("label_text.buy_vip_type",{type:A[parseInt(e.room)-1]})}else e.type==S?t=a.t("label_text.transfer_bank_gold"):e.type==P?(t=e.change>0?a.t("label_text.win_in_poker"):a.t("label_text.lose_in_poker"),i=e.gameid):e.type==T&&(t=a.t("label_text.event_bonus"));this.descriptionLabel.string=t,e.change>0?(this.amountLabel.node.color=s,this.amountLabel.string="+"+n.formatNumberWithRules(e.change)):(this.amountLabel.node.color=r,this.amountLabel.string=n.formatNumberWithRules(e.change+o));var L=new Date(e.time);this.timeLabel.string=L.getMonth()+1+"/"+L.getDate()+"/"+L.getFullYear()+"  "+(L.getHours()<10?"0"+L.getHours():L.getHours())+":"+(L.getMinutes()<10?"0"+L.getMinutes():L.getMinutes())+":"+(L.getSeconds()<10?"0"+L.getSeconds():L.getSeconds())+(null!=i?"  "+a.t("label_text.game_id",{id:i}):"")}}}),cc._RF.pop()},{BaseScrollViewItem:"BaseScrollViewItem",GameUtils:"GameUtils",LanguageData:"LanguageData"}],GoldHistory:[function(e,t,i){"use strict";cc._RF.push(t,"0e9e0Q7sg9J8pMT8OvGQELM","GoldHistory");var n=e("Command"),a=e("LanguageData"),o=e("GameUtils"),s=e("BaseScrollViewUI"),r=0,l=1,c=2,h=3,u=4,d=2,m=0,g=1;cc.Class({extends:s,properties:{noRecordLabel:cc.Node,tmpDataList:[],timeFilterLabel:cc.Label,typeFilterLabel:cc.Label,expenseNumLabel:cc.Label,incomeNumLabel:cc.Label,timeFilterPopup:cc.Node,timeFilterLabelList:[cc.Label],typeFilterPopup:cc.Node,typeFilterLabelList:[cc.Label]},onLoad:function(){this.itemYGap=80,this.itemScriptComponentName="GoldHistoryItem",this.scrollView.verticalScrollBar.node.active=!1,this.noRecordLabel.active=!1,this.timeFilterPopup.active=!1,this.typeFilterPopup.active=!1,this._super()},initComplete:function(){this._super(),this.timeFilterTypeList=[{text:a.t("label_text.current_month"),type:r},{text:a.t("label_text.last_month"),type:l},{text:a.t("label_text.today"),type:c},{text:a.t("label_text.yesterday"),type:h},{text:a.t("label_text.last_days"),type:u}],this.curFilterTime=u,this.timeFilterLabel.string=this.timeFilterTypeList[u].text,this.selectFilterList=[],this.typeFilterTypeList=[{text:a.t("label_text.transaction"),type:m},{text:a.t("label_text.game_records"),type:g},{text:a.t("label_text.all_records"),type:d}],this.curFilterType=d,this.typeFilterLabel.string=this.typeFilterTypeList[d].text,this.selectTypeFilterList=[],this.gameCore.uiMng.addListener(n.SERVER_CMD_GOLD_HISTORY,this,this.onGoldHistory),this.requestNextPage()},showDelayLoading:function(){this._super(cc.v2(0,24))},requestNextPage:function(){this._super();var e=0,t=new Date,i=Math.floor(t.getTime()/1e3),a=(t.getDate(),t.getMonth()),o=t.getFullYear();if(this.curFilterTime==r)t.setFullYear(o,a,1),t.setHours(0,0,0),e=Math.floor(t.getTime()/1e3);else if(this.curFilterTime==l){t.setFullYear(o,a,1),t.setHours(0,0,0),i=Math.floor(t.getTime()/1e3)-1;var s=a-1,d=o;s<0&&(s=11,d=o-1),t.setFullYear(d,s,1),t.setHours(0,0,0),e=Math.floor(t.getTime()/1e3)}else this.curFilterTime==c?(t.setHours(0,0,0),e=Math.floor(t.getTime()/1e3)):this.curFilterTime==h?(t.setHours(0,0,0),i=Math.floor(t.getTime()/1e3)-1,e=Math.floor(t.getTime()/1e3)-86400):this.curFilterTime==u&&(e=Math.floor(t.getTime()/1e3)-604800);ITeenPatti.sendMsg(n.SERVER_CMD_GOLD_HISTORY,{page:this.curPage,num:10,time1:e,time2:i,isgame:this.curFilterType})},onGoldHistory:function(e){if(!e.errorcode){this.noRecordLabel.active=0==e.totalPage,this.scrollView.verticalScrollBar.node.active=!0,this.totalPage=e.totalPage;for(var t=1;t<=table.length(e.bh);t++)this.tmpDataList.push({change:e.bh[t].change,final:e.bh[t].final,type:e.bh[t].type,room:e.bh[t].room,gameid:e.bh[t].gameid,time:1e3*e.bh[t].time});e.sum1?this.incomeNumLabel.string="+"+o.formatNumberWithRules(e.sum1):this.incomeNumLabel.string="0",e.sum2?this.expenseNumLabel.string="-"+o.formatNumberWithRules(e.sum2):this.expenseNumLabel.string="0",this.dataList=this.tmpDataList,this.setDataProvider(this.dataList),this.requesting=!1}},onTypeFilterBtnClick:function(e,t){if(this.typeFilterPopup.active)this.typeFilterPopup.active=!1;else{this.selectTypeFilterList=[];for(var i=0;i<this.typeFilterTypeList.length;i++)this.typeFilterTypeList[i].type!=this.curFilterType&&this.selectTypeFilterList.push(this.typeFilterTypeList[i]);for(i=0;i<this.typeFilterLabelList.length;i++)this.typeFilterLabelList[i]&&this.selectTypeFilterList[i]&&(this.typeFilterLabelList[i].string=this.selectTypeFilterList[i].text);this.typeFilterPopup.active=!0}},onTypeFilterItemClick:function(e,t){this.selectTypeFilterList[Number(t)]&&(this.curFilterType=this.selectTypeFilterList[Number(t)].type,this.typeFilterLabel.string=this.selectTypeFilterList[Number(t)].text,this.resetScrollViewData()),this.typeFilterPopup.active=!1,this.requestNextPage()},onTypeFilterCloseBtnClick:function(e,t){this.typeFilterPopup.active=!1},onTimeFilterBtnClick:function(e,t){if(this.timeFilterPopup.active)this.timeFilterPopup.active=!1;else{this.selectFilterList=[];for(var i=0;i<this.timeFilterTypeList.length;i++)this.timeFilterTypeList[i].type!=this.curFilterTime&&this.selectFilterList.push(this.timeFilterTypeList[i]);for(i=0;i<this.timeFilterLabelList.length;i++)this.timeFilterLabelList[i]&&this.selectFilterList[i]&&(this.timeFilterLabelList[i].string=this.selectFilterList[i].text);this.timeFilterPopup.active=!0}},onTimeFilterItemClick:function(e,t){this.selectFilterList[Number(t)]&&(this.curFilterTime=this.selectFilterList[Number(t)].type,this.timeFilterLabel.string=this.selectFilterList[Number(t)].text,this.resetScrollViewData()),this.timeFilterPopup.active=!1,this.requestNextPage()},onTimeFilterCloseBtnClick:function(e,t){this.timeFilterPopup.active=!1},resetScrollViewData:function(){this.tmpDataList=[],this.curPage=0,this.totalPage=1,this.startIndex=0,this.endIndex=0,this.contentNode.y=200}}),cc._RF.pop()},{BaseScrollViewUI:"BaseScrollViewUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],GoldNotEnoughTwoItem:[function(e,t,i){"use strict";cc._RF.push(t,"6fd1e6JdXxD65UTHmq+tD3+","GoldNotEnoughTwoItem");var n=e("ChipsNotEnoughTwoItem"),a=e("Command"),o=e("GameUtils"),s=e("LanguageData");cc.Class({extends:n,properties:{},initListener:function(){this.gameCore.uiMng.addListener(a.UI_CMD_GOLD_CHANGE,this,this.updateGold)},updateBalanceLabel:function(e){this.balanceLabel.string=o.formatNumberWithRules(e||this.gameCore.userMng.myself.nGold)},getSubTitleText:function(){return s.t("label_text.buy_more_gold_continue")},updateGold:function(e){this.balanceLabel&&e&&this.updateBalanceLabel(e.final)}}),cc._RF.pop()},{ChipsNotEnoughTwoItem:"ChipsNotEnoughTwoItem",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],GoldStoreItem:[function(e,t,i){"use strict";cc._RF.push(t,"c7309WXiP1DGaxRtPOuZ0hJ","GoldStoreItem");var n=e("GameUtils"),a=e("BaseComponent"),o=e("Command"),s=e("DataAnalysisKey"),r=e("ITeenPatti"),l=(e("ButtonCursor"),e("GameData"));cc.Class({extends:a,properties:{price:cc.Label,totalCount:cc.Label,buyBtn:cc.Button,data:{get:function(){return this._data},set:function(e){this._data=e,this.price.string=e.price,this.totalCount.string=n.formatNumberWithRules(e.count)},visible:!1},store:{default:null,visible:!1}},onLoad:function(){this._super()},onBuyBtnClk:function(e){this.store.showLoading(),this.gameCore.gameMng.buyStoreItem(this.data,r.isInRoom()?l.PRE_BUY_P_STORE_ROOM:l.PRE_BUY_P_STORE_LOBBY),this.gameCore.userMng.chipsFlyStartPos=this.node.position.add(cc.v2(-375,-36)),this.gameCore.dataAnalysisMng.sendData(s.CLICK_STORE_BUY,["Exchange_Id:"+this.data.productId]),this.gameCore.uiMng.addListener(o.UI_CMD_GOLD_CHANGE,this,this.onGoldGet),this.gameCore.uiMng.addListener(o.UI_CMD_PURCHASE_FAIL,this,this.onPurchaseFail)},onPurchaseFail:function(){this.gameCore.uiMng.removeListener(o.UI_CMD_GOLD_CHANGE,this,this.onGoldGet),this.gameCore.uiMng.removeListener(o.UI_CMD_PURCHASE_FAIL,this,this.onPurchaseFail)},onGoldGet:function(e){this.gameCore.gameMng.playGoldFly(e,this.node.position.add(cc.v2(-375,-36)),1),this.gameCore.uiMng.removeListener(o.UI_CMD_GOLD_CHANGE,this,this.onGoldGet)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ButtonCursor:"ButtonCursor",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti"}],GoldStore:[function(e,t,i){"use strict";cc._RF.push(t,"f387diGCMlMOLAysHzWWYCI","GoldStore");var n=e("BaseEditboxUI"),a=e("GoldStoreItem"),o=e("GameUtils"),s=e("Command"),r=e("GameData"),l=e("LanguageData"),c=e("UIInfo");cc.Class({extends:n,properties:{totalGoldLabel:cc.Label,googlePlayInstallRemind:cc.Node,retryBtn:cc.Button,loadingBgContainer:cc.Node,goldContainer:cc.Node,VIPContainer:cc.Node,toggle0CheckMark:cc.Node,toggleItems:[cc.Toggle],toggles:{get:function(){return this.toggleItems},visible:!1},items:[a],chipsEditBox:cc.EditBox,userIdEditBox:cc.EditBox,totalPayLabel:cc.Label,taxForLabel:cc.Label,remainingFreeLabel:cc.Label,remind1:cc.Node,remind2:cc.Node,totalRemind:cc.Node,protectionSpriteFrames:[cc.SpriteFrame],VIPSpriteFrames:[cc.SpriteFrame],curVIPIcon:cc.Sprite,curVIPNameLabel:cc.Label,curVIPLeftTimeLabel:cc.Label,curVIPProtection:cc.Sprite,curVIPFreeCountLabel:cc.Label,curVIPTransferFeeLabel:cc.Label,VIPProtection:[cc.Sprite],VIPFreeCountLabels:[cc.Label],VIPTransferFeeLabels:[cc.Label],VIPLevelCountLabels:[cc.Label]},myGoldVIP:function(){return ITeenPatti.onlineCfg.goldVIPs?ITeenPatti.onlineCfg.goldVIPs[this.gameCore.userMng.myself.goldVIP+1]&&this.gameCore.userMng.myself.goldVIPExp-(new Date).getTime()>0?ITeenPatti.onlineCfg.goldVIPs[this.gameCore.userMng.myself.goldVIP+1]:ITeenPatti.onlineCfg.goldVIPs[1]:null},onLoad:function(){this.goldContainer.active=!1,this.VIPContainer.active=!1,this.editboxOffsetY=20;for(var e=0;e<this.items.length;e++)this.items[e].node.active=!1;this.remind1.active=!1,this.remind2.active=!1,this.totalRemind.active=!1,this._super()},initComplete:function(){if(this._super(),ITeenPatti.addListener(s.UI_CMD_STORE_SHOW_LOADING,this,this.showLoading),this.gameCore.uiMng.addListener(s.UI_CMD_GOLD_CHANGE,this,this.updateGold),this.gameCore.uiMng.addListener(s.SERVER_CMD_GOLD_VIPS,this,this.updateVIPStatus),this.gameCore.uiMng.addListener(s.SERVER_CMD_GOLD_TRANSFER,this,this.onGoldTransferComplete),this.gameCore.uiMng.addListener(s.UI_CMD_UPDATE_VIP_STATUS,this,this.updateVIPStatus),this.retryBtn.node.active=!1,this.googlePlayInstallRemind.active=!1,this.updateBalanceLabel(),this.onChipsToGiftChangeEnd(this.chipsEditBox),cc.sys.isBrowser){var e=r.facebookGoldSkuDetails.concat();e.sort(function(e,t){return e.count-t.count});for(var t=0;t<e.length;t++)this.items[t]&&(this.items[t].node.active=!0,this.items[t].store=this,this.items[t].data=e[t]);this.i18nRendersUpdate()}else this.googlePlayInstallRemind.active||this.gameCore.uiMng.showLoading(cc.v2(0,0),this.goldContainer,1,!1),this.gameCore.uiMng.addListener(s.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails),this.gameCore.uiMng.addListener(s.UI_CMD_IAB_SERVICE_IS_NOT_CONNECTED,this,this.onAndroidIABServiceIsNotConnected),cc.sys.os!=cc.sys.OS_ANDROID||jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","checkGooglePlayExist","()Z")?this.scheduleOnce(this.gameCore.gameMng.getNativeSkuDetails,0):this.onGetSkuDetails('{"productId":"com.teenpattipoker.adnroid.gold.9cr","type":"inapp","price":"$9.99","price_amount_micros":9990000,"price_currency_code":"USD","title":"9Cr Gold","description":"9Cr Gold"}|{"productId":"com.teenpattipoker.adnroid.gold.19cr","type":"inapp","price":"$19.99","price_amount_micros":19990000,"price_currency_code":"USD","title":"19Cr Gold","description":"19Cr Gold"}|{"productId":"com.teenpattipoker.adnroid.gold.99cr","type":"inapp","price":"$99.99","price_amount_micros":99990000,"price_currency_code":"USD","title":"100Cr Gold","description":"100Cr Gold"}')},onGoldTransferComplete:function(e){if(!e.errorcode){this.gameCore.userMng.myself.tpProfile.goldTransFreeLeft=e.freeleft,this.onChipsToGiftChangeEnd(this.chipsEditBox);var t=l.t("label_text.transfer_gold_successfully",{gold:o.formatNumberWithRules(e.change)});this.gameCore.uiMng.openUI(c.BANK_ALERT,handler(this,function(e){e&&e.updateUI(t)}))}},updateTaxFor:function(){this.myGoldVIP()&&(this.taxForLabel.string=0==this.myGoldVIP().tax||this.gameCore.userMng.myself.goldTransFreeLeft>0?l.t("label_text.free"):this.myGoldVIP().tax+"%",this.remainingFreeLabel.string=0==this.myGoldVIP().tax?"":l.t("label_text.remain_free_transfer",{number:o.formatNumberWithRules(this.gameCore.userMng.myself.goldTransFreeLeft)}))},onBuyVIPClk:function(e,t){var i=ITeenPatti.onlineCfg.goldVIPs;if(i){var n=parseInt(t)+1;i[n]&&this.gameCore.gameMng.hasEnoughGold(i[n].buys)&&this.gameCore.gameMng.showAlert(l.t("label_text.become_vip_confirm",{gold:o.formatNumberWithRules(i[n].buys)}),"",2,handler(this,function(){this.gameCore.userMng.transactionWithPassword(handler(this,function(){ITeenPatti.sendMsg(s.SERVER_CMD_GOLD_VIPS_EXCHANGE,{i:parseInt(t)})}))}))}},updateGold:function(e){this.totalGoldLabel&&e&&this.updateBalanceLabel(e.final)},updateBalanceLabel:function(e){this.totalGoldLabel.string=o.formatNumberWithRules(e||this.gameCore.userMng.myself.nGold)},showLoading:function(){this.gameCore.uiMng.showLoading(cc.v2(0,0),null,1,!0,this.loadingBgContainer)},onAndroidIABServiceIsNotConnected:function(){this.retryBtn.node.active=!0,this.gameCore.uiMng.hideLoading()},onGetSkuDetails:function(e){if(!ITeenPatti.getCurPlayer().getTeenPattiProfile().storeBanned&&this.gameCore){this.gameCore.uiMng.hideLoading(),this.gameCore.uiMng.removeListener(s.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails);var t=this.gameCore.gameMng.goldSkuDetailsFilter(e);if(t.length>0){t.sort(function(e,t){return o.unformatNumber(e.title.slice(0,e.title.indexOf(" ")))-o.unformatNumber(t.title.slice(0,t.title.indexOf(" ")))});for(var i=0;i<t.length;i++){var n=t[i];n.count=o.unformatNumber(n.title.slice(0,n.title.indexOf(" "))),this.items[i]&&(this.items[i].node.active=!0,this.items[i].store=this,this.items[i].data=n)}}}},onGoldHistoryBtnClk:function(e){this.gameCore.uiMng.openUI(c.GOLD_HISTORY)},onTransferBtnClk:function(e){if(""==this.userIdEditBox.string||!this.userIdEditBox.string||""==this.chipsEditBox.string||!this.chipsEditBox.string)return this.remind1.active=""==this.chipsEditBox.string||!this.chipsEditBox.string,this.remind2.active=""==this.userIdEditBox.string||!this.userIdEditBox.string,void(this.totalRemind.active=!0);this.remind1.active=!1,this.remind2.active=!1,this.totalRemind.active=!1,this.gameCore.gameMng.hasEnoughGoldBalance(1e7*Math.min(Math.floor(Number.MAX_SAFE_INTEGER/1e7),parseInt(this.chipsEditBox.string)))&&this.gameCore.gameMng.showAlert(l.t("label_text.transfer_gold_msg",{userid:this.userIdEditBox.string,gold:this.chipsEditBox.string+"Cr"}),"",2,handler(this,this.transferGold))},transferGold:function(){this.gameCore.userMng.transactionWithPassword(handler(this,function(){var e={userId:parseInt(this.userIdEditBox.string),chips:this.chipsEditBox.string+"0000000"};ITeenPatti.sendMsg(s.SERVER_CMD_GOLD_TRANSFER,e),this.gameCore.uiMng.closeUI(c.BANK_PASSWORD)}))},regTextToNum:function(e){return e.replace(new RegExp("[^0-9]","g"),"")},onUserIdChange:function(e,t){if(""!=e&&e){var i=this.regTextToNum(new String(e));t.string=i}},onChipsToGiftChange:function(e,t){if(""!=e&&e){var i=this.regTextToNum(new String(e)),n=Math.max(1,parseInt(i));t.string=n}},onChipsToGiftChangeEnd:function(e){this.totalPayLabel.string="";var t=this.regTextToNum(new String(e.string));if(""!=t&&t){var i=Math.max(1,parseInt(t));if(e.string=i,this.myGoldVIP()){this.updateTaxFor();var n=i;if(this.myGoldVIP().tax>0){var a=Math.max(0,n-this.gameCore.userMng.myself.goldTransFreeLeft/1e7)*this.myGoldVIP().tax/100;a>0&&(this.taxForLabel.string=this.myGoldVIP().tax+"%"),(n=n+a)%1>0&&(n=n.toFixed(2))}this.totalPayLabel.string=n+"Cr"}}},onTopTabClk:function(e,t){this.goldContainer.active=this.toggle0CheckMark.active=0==t,this.VIPContainer.active=1==t,1==t&&(ITeenPatti.sendMsg(s.SERVER_CMD_GOLD_VIPS),this.updateVIPStatus())},updateVIPStatus:function(){var e=ITeenPatti.onlineCfg.goldVIPs;if(e){var t=ITeenPatti.getCurPlayer();if(t){var i=this.VIPSpriteFrames[t.goldVIP];i&&(this.curVIPIcon.spriteFrame=i);var n=[l.t("label_text.gold_c"),l.t("label_text.platinum"),l.t("label_text.diamond")];this.curVIPNameLabel.node.color=new cc.Color(255,255,255),this.curVIPNameLabel.string=t.goldVIP>0&&t.goldVIP<=n.length?n[t.goldVIP-1]:l.t("label_text.gold_c"),t.goldVIP>=1?t.goldVIPExp-(new Date).getTime()<=0?(this.curVIPNameLabel.node.color=new cc.Color(160,160,160),this.curVIPLeftTimeLabel.node.color=new cc.Color(255,70,70),this.curVIPLeftTimeLabel.string=l.t("label_text.expired")):(this.curVIPLeftTimeLabel.node.color=new cc.Color(0,255,0),this.unscheduleAllCallbacks(),this.onCountDown(),this.schedule(this.onCountDown,1)):(this.curVIPNameLabel.node.color=new cc.Color(160,160,160),this.curVIPLeftTimeLabel.node.color=new cc.Color(182,182,239),this.curVIPLeftTimeLabel.string=l.t("label_text.unactivated")),e&&(this.curVIPFreeCountLabel.string=o.formatNumberWithRules(e[t.goldVIP+1].free),this.curVIPTransferFeeLabel.string=0==e[t.goldVIP+1].tax?l.t("label_text.free"):e[t.goldVIP+1].tax+"%")}if(e)for(var a=0;a<this.VIPFreeCountLabels.length;a++){var s=e[a+2];s&&(this.VIPFreeCountLabels[a].string=o.formatNumberWithRules(s.free),this.VIPTransferFeeLabels[a].string=0==s.tax?l.t("label_text.free"):s.tax+"%",this.VIPLevelCountLabels[a].string=o.formatNumberWithRules(s.buys))}this.curVIPProtection.spriteFrame=this.gameCore.userMng.protectStatus>=2?this.protectionSpriteFrames[1]:this.protectionSpriteFrames[0];for(a=0;a<this.VIPProtection.length;a++)this.VIPProtection[a].spriteFrame=this.gameCore.userMng.protectStatus>=2?this.protectionSpriteFrames[1]:this.protectionSpriteFrames[0];this.onChipsToGiftChangeEnd(this.chipsEditBox)}},onCountDown:function(){var e=this.VIPLeftTime(),t=Math.floor(e/86400);this.curVIPLeftTimeLabel.string=(t>0?t+"d":"")+" "+CommonUtil.getTimeString(e%86400),0==e&&(this.unschedule(this.onCountDown),this.updateVIPStatus(),ITeenPatti.sendMsg(s.SERVER_CMD_MY_GOLD_VIP))},VIPLeftTime:function(){return Math.max(0,(ITeenPatti.gameCore.userMng.myself.goldVIPExp-(new Date).getTime())/1e3)},noStatesRecover:function(){this.onTopTabClk(null,0)},statesRecoverUpdate:function(){for(var e=0;e<this.toggles.length;e++)if(!this.toggles[e]._isOnLoadCalled)return;void 0!=this.recoverStates[c.UI_STATE_TOGGLE_INDEX]&&this.toggles.length>this.recoverStates[c.UI_STATE_TOGGLE_INDEX]&&(this.toggles[this.recoverStates[c.UI_STATE_TOGGLE_INDEX]].isChecked?this.onTopTabClk(null,this.recoverStates[c.UI_STATE_TOGGLE_INDEX]):this.toggles[this.recoverStates[c.UI_STATE_TOGGLE_INDEX]].check()),this._super()},statesPersistence:function(){for(var e={},t=0;t<this.toggles.length;t++)if(this.toggles[t].isChecked){e[c.UI_STATE_TOGGLE_INDEX]=t;break}return e}}),cc._RF.pop()},{BaseEditboxUI:"BaseEditboxUI",Command:"Command",GameData:"GameData",GameUtils:"GameUtils",GoldStoreItem:"GoldStoreItem",LanguageData:"LanguageData",UIInfo:"UIInfo"}],GuestLoginRemind:[function(e,t,i){"use strict";cc._RF.push(t,"95bbdJgLbxBJrM58rd7Z1Xz","GuestLoginRemind");var n=e("BaseUI"),a=e("LanguageData"),o=e("GameData");cc.Class({extends:n,properties:{guestLoginDelegate:{default:null,visible:!1},fbLoginDelegate:{default:null,visible:!1},contentLabel:cc.Label,guestLoginLabel:cc.Label,guestLoginLine:cc.Node,guestLoginNode:cc.Node,fbLoginLabel:cc.Label,fbLoginLine:cc.Node,fbLoginNode:cc.Node},onLoad:function(){this._super(),this.i18nRendersUpdate()},initComplete:function(){this._super(),this.guestLoginLabel.node.on("size-changed",handler(this,function(){this.guestLoginLine.width=this.guestLoginLabel.node.width+5,this.guestLoginNode.width=this.guestLoginLabel.node.width+25})),this.fbLoginLabel.node.on("size-changed",handler(this,function(){this.fbLoginLine.width=this.fbLoginLabel.node.width+5,this.fbLoginNode.width=this.fbLoginLabel.node.width+25}))},i18nRendersUpdate:function(){this._super(),this.contentLabel.string=a.t("label_text.login_using_facebook_remind_desc1",{reward:o.fbLoginReward()})},playUIOpenAudioEffect:function(){},playUICloseAudioEffect:function(){},onFBLoginBtnClk:function(e){this.fbLoginNode.getComponent(cc.Button).interactable=!1,this.closeUI(),this.fbLoginDelegate&&this.fbLoginDelegate()},onGuestLoginBtnClk:function(e){this.guestLoginNode.getComponent(cc.Button).interactable=!1,this.closeUI(),this.guestLoginDelegate&&this.guestLoginDelegate()},onCloseBtnClk:function(e){this._super(),this.closeDelegate&&this.closeDelegate()},onBackButtonClk:function(){this._super(),this.closeDelegate&&this.closeDelegate()},closeUIByBlackBg:function(){this._super(),this.closeDelegate&&this.closeDelegate()},closeUIByCloseBtn:function(){this._super(),this.closeDelegate&&this.closeDelegate()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameData:"GameData",LanguageData:"LanguageData"}],HandStrengthMeterTips:[function(e,t,i){"use strict";cc._RF.push(t,"1ef06eZpjFEJZzdT5+HaczW","HandStrengthMeterTips");var n=e("LanguageData"),a=e("BaseUI");cc.Class({extends:a,properties:{descLabel:cc.Label},onLoad:function(){this._super()},initComplete:function(){this._super(),this.descLabel.string=this.gameCore.userMng.myself.handStrengthMeterFreeTime<(new Date).getTime()?n.t("label_text.hand_strength_end"):n.t("label_text.hand_strength_free"),this.scheduleOnce(handler(this,function(){this.closeUI()}),5)}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],HeadIconChooseItem:[function(e,t,i){"use strict";cc._RF.push(t,"8eb51Dj7uBPBYtgtyJL9B2E","HeadIconChooseItem");var n=e("FacebookIcon");cc.Class({extends:cc.Component,properties:{icon:cc.Sprite,iconSpriteFrame:{set:function(e){this.icon.spriteFrame=e}},facebookIcon:n,toggle:cc.Toggle,toggleGroup:{set:function(e){e.toggleItems.push(this.toggle)}},black:cc.Node},onLoad:function(){},reset:function(){},onToggleClk:function(){}}),cc._RF.pop()},{FacebookIcon:"FacebookIcon"}],HeadIconChoose:[function(e,t,i){"use strict";cc._RF.push(t,"eb3a2tA9bNE0LQlKP8o3Yop","HeadIconChoose");var n=e("BaseUI"),a=e("Command"),o=e("ITeenPatti"),s=e("DataAnalysisKey"),r=e("GameData");cc.Class({extends:n,properties:{toggleGroup:cc.ToggleContainer,item:cc.Prefab,contentView:cc.Node,changeNameBtn:cc.Node,changeNamePanel:cc.Node,changeNameEditBox:cc.EditBox,itemList:{default:[],visible:!1}},onLoad:function(){this._super(),this.changeNameBtn.active=VIDEO_RECORD,this.changeNamePanel.active=!1;var e=o.getCurPlayer();this.selectIcon=e.strIconID,this.isFacebookLogin=e.isFacebookLogin();for(var t=r.systemIconCount+(this.isFacebookLogin?1:0),i=[16,17,18,19,20,21,26,23,29,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,22,24,27,28,30,25],n=0;n<t;n++){var a=cc.instantiate(this.item);a.setPosition(n%5*154-308,-140*Math.floor(n/5)-88);var s=a.getComponent("HeadIconChooseItem");if(this.itemList.push(s),s.toggleGroup=this.toggleGroup,this.isFacebookLogin&&0==n){var l=o.getCurPlayer();s.facebookIcon.initWithFBIcon(l),a.selectIcon=-1,-1==e.strIconID&&s.toggle.check()}else{var c=n-(this.isFacebookLogin?1:0),h=i[c]?i[c]:c+1;s.facebookIcon.updateIconByIconId(h),a.selectIcon=h,e.strIconID==h&&s.toggle.check()}a.on("toggle",this.onHeadIconSelect.bind(this)),this.toggleGroup.node.addChild(a)}this.contentView.height=140*Math.ceil(t/5)+35},onHeadIconSelect:function(e){for(var t=0;t<this.itemList.length;t++)this.itemList[t].reset();this.selectIcon=e.node.selectIcon,o.sendMsg(a.SERVER_CMD_EDIT_USER_ICON,{i:this.selectIcon}),this.gameCore.dataAnalysisMng.sendData(s.CHANGE_AVATAR)},onOkBtnClk:function(e){this.closeUI()},onChangeNameBtnClk:function(e){this.changeNamePanel.active=!this.changeNamePanel.active},onChangeNameOKClk:function(e){this.changeNamePanel.active=!1,this.gameCore.userMng.myself.fakeName=this.changeNameEditBox.string},closeUI:function(){this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",ITeenPatti:"ITeenPatti"}],HelloWorld:[function(e,t,i){"use strict";cc._RF.push(t,"f2dffRib1VG3YCWaQzvImda","HelloWorld");var n=e("IFacebook"),a=e("ITeenPatti");cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){cc.log("-------------------------------------------"),e("LanguageData").init("hi"),n.init(),a.init(),a.loadProtoFile(["resources/Proto/socialproto.proto","resources/Proto/roomproto.proto","resources/Proto/zoneproto.proto"])},onExit:function(){a.removeListener("logined",handler(this,this.onTeenPattiLogin)),a.removeListener("getuserinfo",handler(this,this.onTeanPattiUserInfoGet))},onBtnClk:function(){var t=e("LanguageData");t.init("en"),t.updateSceneRenderers()},update:function(e){},onBtnFBLoginClicked:function(){n.login(handler(this,this.onFacebookLogin))},onFacebookLogin:function(e,t){LogUtil.info("HelloWorld","Facebook Login Success!"),LogUtil.debug("Info","FBID: "+e+" Token : "+t)},onBtnConnectClicked:function(){var e=cc.sys.isBrowser?9181:9872;a.connect("10.122.81.243",e)},onTeenPattiConnected:function(){LogUtil("HellWorld","------------- TeenPatti Server Connect Success -----------------")},onBtnConnectRetryClicked:function(){a.connectRetry()},onBtnTeenPattiLoginClicked:function(){var e={isaccount:!1,type:"guest",deviceid:"NmZlMGZjOGQ3MzcyY2QwOQ==",platform:PLATFORM_ANDROID,version:Client.Version,release:Client.Release,source:"",appid:window.FBAppId};LogUtil.debug("TAG","---------------------------------------------------");a.login("1067315",e),a.addListener("logined",handler(this,this.onTeenPattiLogin)),a.addListener("getuserinfo",handler(this,this.onTeanPattiUserInfoGet))},onBtnLogoutClicked:function(){a.logout(),a.addListener("logout",handler(this,this.onTeenPattiLogout))},onTeenPattiLogin:function(e,t){LogUtil.debug("HellWorld","------------- TeenPatti User Login Success -----------------")},onTeenPattiLogout:function(){LogUtil.debug("HellWorld","------------- TeenPatti User Logout Success -----------------")},onTeanPattiUserInfoGet:function(e,t){LogUtil.debug("HellWorld","------------- TeenPatti User Login Success -----------------"),console.log(t)}}),cc._RF.pop()},{IFacebook:"IFacebook",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData"}],Help:[function(e,t,i){"use strict";cc._RF.push(t,"6cc9cxnhzdIAZi9phsDtzQQ","Help");var n=e("BaseUI"),a=e("LanguageData");cc.Class({extends:n,properties:{handsRanking:cc.Node,richTextList:[cc.Label],scrollContent:cc.Node,closeBtnWidget:cc.Widget},onLoad:function(){cc.sys.isBrowser&&(this.closeBtnWidget.right=0,this.closeBtnWidget.top=0),this.richTextList[0].scheduleOnce(handler(this,this.onSchedule),0),this._super()},onSchedule:function(){for(var e=a.t("label_text.basic_help2");-1!=e.indexOf("<color=#ffea00>");)e=e.replace("<color=#ffea00>","");for(;-1!=e.indexOf("</color>");)e=e.replace("</color>","");for(var t=e.split("\n"),i=0;i<t.length;i++)this.richTextList[i]&&(this.richTextList[i].string=t[i])},initComplete:function(){this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],HighScoreItemSelf:[function(e,t,i){"use strict";cc._RF.push(t,"0a502h5RaVA0Z4F8vPGT5Pw","HighScoreItemSelf");var n=e("BaseComponent"),a=e("FacebookIcon"),o=e("ClampLabel"),s=e("GameUtils");cc.Class({extends:n,properties:{stateInRank:cc.Node,stateNotInRank:cc.Node,lblRank:cc.Label,imgIcon:a,lblName:o,lblChip:cc.Label,icon:cc.Sprite,arrRankTypeFrame:[cc.SpriteFrame],user:{default:null,visible:!1}},setUserInfo:function(e,t){this.user=e,this.setRankIndex(e.index),this.lblName.string=e.strTPName;var i=0;0==t?(i=e.chipsWin,this.icon.spriteFrame=this.arrRankTypeFrame[0]):1==t&&(i=e.handsWin,this.icon.spriteFrame=this.arrRankTypeFrame[1]),this.lblChip.string=s.formatNumberWithRules(i),this.imgIcon.initWithTeenPattiUser(e)},setRankIndex:function(e){if(null==e||e<0)return this.stateInRank.active=!1,void(this.stateNotInRank.active=!0);this.stateInRank.active=!0,this.stateNotInRank.active=!1,this.lblRank.string=""+(e+1)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClampLabel:"ClampLabel",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils"}],HighScoreItem:[function(e,t,i){"use strict";cc._RF.push(t,"8358dtbx9dKobJ2ngoYcrhw","HighScoreItem");var n=e("BaseComponent"),a=e("FacebookIcon"),o=e("ClampLabel"),s=e("GameUtils");cc.Class({extends:n,properties:{imgRank:cc.Node,lblRank:cc.Label,imgIcon:a,lblName:o,lblChip:cc.Label,icon:cc.Sprite,arrRankFrame:[cc.SpriteFrame],arrRankTypeFrame:[cc.SpriteFrame],user:{default:null,visible:!1}},setUserInfo:function(e,t){if(e){this.user=e,this.setRankIndex(e.index),this.lblName.string=e.strTPName;var i=0;0==t?(i=e.chipsWin,this.icon.spriteFrame=this.arrRankTypeFrame[0]):1==t&&(i=e.handsWin,this.icon.spriteFrame=this.arrRankTypeFrame[1]),this.lblChip.string=s.formatNumberWithRules(i),this.imgIcon.initWithTeenPattiUser(e)}},setRankIndex:function(e){if(e<3)return this.lblRank.node.active=!1,this.imgRank.active=!0,void(this.imgRank.getComponent(cc.Sprite).spriteFrame=this.arrRankFrame[e]);this.lblRank.node.active=!0,this.imgRank.active=!1,this.lblRank.string=-1==e?"-":""+(e+1)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClampLabel:"ClampLabel",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils"}],HighScoreReward:[function(e,t,i){"use strict";cc._RF.push(t,"2a32dWsowRCCqXaTqJ7YAnL","HighScoreReward");var n=e("BaseUI"),a=e("GameUtils"),o=e("Command"),s=e("LanguageData");cc.Class({extends:n,properties:{descLabel:cc.RichText,rewardLabel:cc.Label},initComplete:function(){this._super()},receiveData:function(e){1==e.type?this.descLabel.string=s.t("label_text.chips_won_rank",{rank:e.rank+1}):2==e.type&&(this.descLabel.string=s.t("label_text.hands_won_rank",{rank:e.rank+1})),this.rewardLabel.string=a.formatNumberWithRules(e.award)},claimAward:function(){this.gameCore.uiMng.dispatch(o.UI_CMD_PAUSE_CHIPS_REFRESH),this.gameCore.uiMng.addListener(o.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),ITeenPatti.sendMsg(o.SERVER_CMD_HIGH_SCORE_AWARD_ACCEPT)},onCloseBtnClk:function(e){this.claimAward()},onClaimBtnClk:function(e){this.claimAward()},onChipsGet:function(e){this.gameCore.uiMng.removeListener(o.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.uiMng.isInGame||this.gameCore.gameMng.playChipsFly(e,cc.v2(0,0),0),this.closeUI()},onBlackBgTouchEnd:function(e){e.stopPropagation()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],HighScore:[function(e,t,i){"use strict";cc._RF.push(t,"08b2bnWYXtCdZvaoHREQllc","HighScore");var n=e("BaseEdgePopup"),a=(e("FacebookIcon"),e("ClampLabel"),e("UIInfo"),e("Command")),o=e("LanguageData"),s=e("GameUtils"),r=e("AEHighScoreListView"),l=e("TeenPattiUser");cc.Class({extends:n,properties:{panelList:[cc.Node],friRankListView:r,globalRankListView:r,globalScrollView:cc.Node,myselfItem:cc.Node,arrRankFrame:[cc.SpriteFrame],toggleGroup:cc.ToggleContainer,subToggleGroup:cc.ToggleContainer,globalRankToggle:cc.Toggle,chipsWinToggler:cc.Toggle,noFriendsStatus:cc.Node,helpNode:cc.Node,helpDescPanel:cc.Node,helpBtn:cc.Node,helpBgs:[cc.Node],rankRewardLabelList:[cc.Label],rankType:0,subRankType:0,perPageCount:100},onLoad:function(){this._super(),this.globalRankCurPage=1,this.globalRankTotalPage=1,this.myselfItem.active=!1,this.helpNode.active=!1,this.helpDescPanel.active=!1,this.noFriendsStatus.active=!1;for(var e=0;e<this.panelList.length;e++)this.panelList[e].active=!1;this.panelList[1].active=!0;for(e=0;e<this.helpBgs.length;e++)this.helpBgs[e].on(cc.Node.EventType.TOUCH_END,this.onHelpNodeTouchEnd,this);for(e=0;e<this.rankRewardLabelList.length;e++)this.rankRewardLabelList[e].string="";this.friRankListView.setItemInitCb(handler(this,this.onFriRankItemViewInit)),this.globalRankListView.setItemInitCb(handler(this,this.onGlobalRankItemViewInit)),this.globalRankToggle.check()},onFriRankItemViewInit:function(e,t){var i=e.getComponent("HighScoreItem");this.isValid&&i&&(i.gameCore=this.gameCore,i.setUserInfo(t,this.rankType))},onGlobalRankItemViewInit:function(e,t){var i=e.getComponent("HighScoreItem");this.isValid&&i&&(i.gameCore=this.gameCore,i.setUserInfo(t,this.rankType))},onHelpNodeTouchEnd:function(e){e.stopPropagation()},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(a.SERVER_CMD_HIGH_SCORE_INFO,this,this.onHighScoreInfo),ITeenPatti.sendMsg(a.SERVER_CMD_HIGH_SCORE_INFO),this.gameCore.uiMng.addListener(a.SERVER_CMD_FRIEND_LIST,this,this.onFriendList),this.gameCore.uiMng.addListener(a.SERVER_CMD_CHIPS_WIN_HIGH_SCORE_LIST,this,this.onCWHighScoreList),this.gameCore.uiMng.addListener(a.SERVER_CMD_HANDS_WIN_HIGH_SCORE_LIST,this,this.onHWHighScoreList)},onGlobalRankScrollBottom:function(){LogUtil.debug("GlobalRank",this.globalRankCurPage+"-"+this.globalRankTotalPage),this.globalScrollView.off("bounce-bottom",this.onGlobalRankScrollBottom,this),this.globalRankCurPage<this.globalRankTotalPage&&(this.globalRankCurPage++,this.requestGlobalHighScore())},onHighScoreInfo:function(e){var t=table.createToArray(e.award);t.sort(function(e,t){return e.start-t.start});for(var i=0;i<this.rankRewardLabelList.length;i++)t[i]&&(this.rankRewardLabelList[i].string=o.t("label_text.chips_with_symbol",{number:s.formatNumber(t[i].award)}))},openAnimationComplete:function(){this._super(),this.updateStatus()},updateStatus:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.helpNode.active=!1,this.subToggleGroup.toggleItems[0].isChecked?e&&(this.gameCore.friendsMng.getFriendList()||(this.noFriendsStatus.active=!0)):(this.helpNode.active=!0,this.requestGlobalHighScore())},requestGlobalHighScore:function(){this.gameCore.uiMng.showLoading(cc.v2(0,0),this.globalScrollView,.7),0==this.rankType?ITeenPatti.sendMsg(a.SERVER_CMD_CHIPS_WIN_HIGH_SCORE_LIST,{page:this.globalRankCurPage,num:this.perPageCount}):ITeenPatti.sendMsg(a.SERVER_CMD_HANDS_WIN_HIGH_SCORE_LIST,{page:this.globalRankCurPage,num:this.perPageCount})},onCWHighScoreList:function(e){0==this.rankType&&1==this.subRankType&&(this.gameCore.uiMng.hideLoading(),this.updateGlobalRankList(e))},onHWHighScoreList:function(e){1==this.rankType&&1==this.subRankType&&(this.gameCore.uiMng.hideLoading(),this.updateGlobalRankList(e))},onFriendList:function(e){0==this.subRankType&&this.updateFriendRankList()},updateFriendRankList:function(){var e=ITeenPatti.getCurPlayer();if(e){this.friRankListView.reset();var t=e.getFriendList().concat();if(this.noFriendsStatus.active=0==t.length,0==t.length)return;t.push(e),t.sort(function(e,t){return 0==this.rankType?t.chipsWin-e.chipsWin:1==this.rankType?t.handsWin-e.handsWin:void 0}.bind(this));for(var i=0;i<t.length;i++)t[i].index=i,this.friRankListView.addItemData(i,t[i]),t[i].strTPID==e.strTPID&&(this.myselfItem.active=!0,this.myselfItem.getComponent("HighScoreItemSelf").setUserInfo(t[i],this.rankType))}},updateGlobalRankList:function(e){this.globalRankTotalPage=e.page;var t=ITeenPatti.getCurPlayer();if(t){for(var i=table.createToArray(e.other),n=e.start,a=0;a<i.length;a++){var o=n+a,s=new l;s.index=o,0==this.rankType?s.initWithChipsWinRankInfo(i[a]):1==this.rankType&&s.initWithHandsWinRankInfo(i[a]),this.globalRankListView.count()>o?this.globalRankListView.updateItemData(o,s):this.globalRankListView.addItemData(o,s)}t.index=e.rank,this.myselfItem.active=!0,this.myselfItem.getComponent("HighScoreItemSelf").setUserInfo(t,this.rankType),this.globalScrollView.on("bounce-bottom",this.onGlobalRankScrollBottom,this)}},updateList:function(){0==this.subRankType?this.updateFriendRankList():1==this.subRankType&&(this.globalRankCurPage=1,this.globalRankTotalPage=1,this.globalRankListView.reset())},onToggleClk:function(e,t){this.rankType=t,this.myselfItem.active=!1,this.updateList(),this.updateStatus(!1)},onSubToggleClk:function(e,t){this.subRankType=t,this.noFriendsStatus.active=!1,this.myselfItem.active=!1;for(var i=0;i<this.panelList.length;i++)this.panelList[i].active=t==i;this.updateStatus(),this.updateList(),"1"!=t||this.chipsWinToggler.isChecked||this.chipsWinToggler.check()},onHelpBtnClk:function(e){this.helpDescPanel.active=!this.helpDescPanel.active},onInviteFBFriendsClk:function(e){this.gameCore.gameMng.openInviteFriends()},closeUI:function(){this.gameCore.uiMng.hideLoading(),this._super()}}),cc._RF.pop()},{AEHighScoreListView:"AEHighScoreListView",BaseEdgePopup:"BaseEdgePopup",ClampLabel:"ClampLabel",Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],HotFixChecker:[function(e,t,i){"use strict";cc._RF.push(t,"d04daOYMTJICJR2r6zoQSXf","HotFixChecker");var n="HotFixChecker";cc.Class({extends:cc.Component,properties:{manifestUrl:{type:cc.Asset,default:null},notifyNode:cc.Node,info:cc.Label,byteProgress:cc.ProgressBar,fileProgress:cc.ProgressBar,lblByteProgress:cc.Label,needHotFixCheck:{get:function(){return!1}},hotFixBg:cc.Node,updateInfoLabel:cc.Label},onLoad:function(){if(this.needHotFixCheck){this.bCheckTimeOut=!1,this.bCheckValid=!1,this.hotFixBg.active=!1,this.updateInfoLabel.active=!1,this.isTestEnvir(),this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"remote-asset",this._am=new jsb.AssetsManager("",this._storagePath),this._am.setVerifyCallback(handler(this,this.onFileVerify))}},isTestEnvir:function(){LogUtil.info(n,"Check Hot Fix Test Envir!");var e=cc.loader.getXMLHttpRequest();e.onreadystatechange=function(){if(4==e.readyState&&(cc.sys.localStorage.removeItem("Aemobile_Hot_Fix_Package_Test"),cc.sys.localStorage.removeItem("Aemobile_Hot_Fix_Manifest_Test"),cc.sys.localStorage.removeItem("Aemobile_Hot_Fix_Version_Test"),!(e.status<200&&e.status>=300))){var t=e.responseText;LogUtil.info(n,t);var i=null;if(!("string"!=typeof t&&t.length<1)){try{i=JSON.parse(t)}catch(e){return LogUtil.info(n,t),void LogUtil.err(n,"There is error parse Test Hot Fix config on Down",e)}i&&i.package&&i.manifest&&i.version&&(LogUtil.info(n,"Hot Fix Is Test Envir!"),cc.sys.localStorage.setItem("Aemobile_Hot_Fix_Package_Test",i.package),cc.sys.localStorage.setItem("Aemobile_Hot_Fix_Manifest_Test",i.manifest),cc.sys.localStorage.setItem("Aemobile_Hot_Fix_Version_Test",i.version))}}},e.ontimeout=function(){cc.sys.localStorage.removeItem("Aemobile_Hot_Fix_Package_Test"),cc.sys.localStorage.removeItem("Aemobile_Hot_Fix_Manifest_Test"),cc.sys.localStorage.removeItem("Aemobile_Hot_Fix_Version_Test")},e.onerror=function(){cc.sys.localStorage.removeItem("Aemobile_Hot_Fix_Package_Test"),cc.sys.localStorage.removeItem("Aemobile_Hot_Fix_Manifest_Test"),cc.sys.localStorage.removeItem("Aemobile_Hot_Fix_Version_Test")},e.open("GET","http://www.patti.aemobile.com:9000/hotfix.json",!0),e.timeout=1e3;e.send()},onDestroy:function(){this._updateListener&&cc.eventManager.removeListener(this._updateListener),this._updateListener=null},start:function(){if(this.node.active=this.needHotFixCheck,this.needHotFixCheck)if(this._updating)this.onVersionChecked();else{if(cc.sys.localStorage.getItem("Aemobile_Hot_Fix"))return ITeenPatti.gameCore.hotfixVersion=cc.sys.localStorage.getItem("Aemobile_Hot_Fix"),LogUtil.info(n,"Current App Version : "+ITeenPatti.gameCore.hotfixVersion),cc.sys.localStorage.removeItem("Aemobile_Hot_Fix"),void this.onVersionChecked(.7);if(this._am.getState()===jsb.AssetsManager.State.UNINITED&&this._am.loadLocalManifest(this.manifestUrl.nativeUrl),!this._am.getLocalManifest()||!this._am.getLocalManifest().isLoaded())return this.info.string="Update failed",void this.onVersionChecked();cc.sys.localStorage.setItem("HotFix_Version_Url",this._am.getLocalManifest().getVersionFileUrl()),LogUtil.info(n,"Hot Fix url : "+this._am.getLocalManifest().getVersionFileUrl()),ITeenPatti.gameCore.hotfixVersion=this._am.getLocalManifest().getVersion(),LogUtil.info(n,"Current App Version : "+this._am.getLocalManifest().getVersion());this._am.getLocalManifest().getPackageUrl(),ITeenPatti.gameCore.gameVersion;this._am.setEventCallback(handler(this,this.onCheckCb)),LogUtil.info(n,"Start Check Remote Hot Fix Config!"),this.bCheckTimeOut=!1,this.bCheckValid=!1,this._am.checkUpdate(),this._updating=!0,this.fileProgress&&(this.fileProgress.progress=0),this.byteProgress&&(this.byteProgress.progress=0),this.byteProgress&&(this.byteProgress.node.active=!1),this.lblByteProgress.node.active=!1,this.info&&(this.info.string="");var e=this;performWithDelay(this.node,3.5,function(){e.bCheckValid||(e.onVersionChecked(),e.bCheckTimeOut=!0)})}else this.onVersionChecked()},startHotFix:function(){if(this._am&&!this._updating){this._am.setEventCallback(handler(this,this.onUpdateCb)),this._am.getState()===jsb.AssetsManager.State.UNINITED&&this._am.loadLocalManifest(this.manifestUrl),this._failCount=0,this._am.update(),this._updating=!0,this._remoteVersion=ITeenPatti.gameCore.hotfixVersion;var e=this._am.getRemoteManifest();e&&(this._remoteVersion=e.getVersion())}},onFileVerify:function(e,t){LogUtil.info(n,"Verify File: "+e);t.compressed,t.md5,t.path,t.size;return!0},onCheckCb:function(e){if(!this.bCheckTimeOut){var t=!1,i=!1;switch(this.bCheckValid=!0,LogUtil.info(n,"Check Event Code: "+e.getEventCode()),this._am.getRemoteManifest()&&LogUtil.info(n,"Remote App Version : "+this._am.getRemoteManifest().getVersion()),e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:LogUtil.info(n,"onCheckCb: ERROR_NO_LOCAL_MANIFEST"),i=!0,this.info&&(this.info.string="Hot update skipped");break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:LogUtil.info(n,"onCheckCb: ERROR_DOWNLOAD_MANIFEST"),i=!0,this.info&&(this.info.string="Hot update skipped");break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:LogUtil.info(n,"onCheckCb: ERROR_PARSE_MANIFEST"),i=!0,this.info&&(this.info.string="Hot update skipped");break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:LogUtil.info(n,"onCheckCb: ALREADY_UP_TO_DATE"),i=!0,this.info&&(this.info.string="No updates required"),cc.sys.localStorage.removeItem("HotFix_Remote_Version");break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:LogUtil.info(n,"onCheckCb: NEW_VERSION_FOUND"),t=!0,i=!0,this.info&&(this.info.string="Start to update"),this.fileProgress&&(this.fileProgress.progress=0),this.byteProgress&&(this.byteProgress.progress=0);break;default:return}cc.eventManager.removeListener(this._checkListener),this._checkListener=null,this._updating=!1,this.hotFixBg.active=!0,this.updateInfoLabel.active=!0,t?this.startHotFix():i&&this.onVersionChecked()}},onVersionChecked:function(e){LogUtil.info(n,"App Version Check Finish!"),this.node.active=!1,this.notifyNode.emit("AE_Version_Check",{delay:e||0})},onUpdateCb:function(e){if(LogUtil.info(n,"Update Event Code: "+e.getEventCode()+" "+e.getMessage()+"  "+e.getPercent()+" "),this._am){var t=this._am.getTotalBytes(),i=this._am.getDownloadedBytes();LogUtil.info(n,"-------------- total byte = "+t);var a=Math.ceil(t/1048576),o=Math.floor(i/1048576),s=(i-=1048576*o)/(t=o==a-1?t-1048576*(a-1):1048576);LogUtil.info(n,e);var r=!1,l=!1;switch(LogUtil.info(n,"--------------"+i+" : "+t),e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.info&&(this.info.string="Hot update skipped"),l=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:a>0?this.info&&(this.info.string="Downloading resources("+(o+1)+"/"+a+")"):this.info&&(this.info.string="Downloading resources"),this.fileProgress&&(this.fileProgress.progress=e.getPercentByFile()),this.byteProgress&&(this.byteProgress.node.active=!0),this.byteProgress&&(this.byteProgress.progress=s),this.lblByteProgress.string=parseInt(100*s)+"%",this.lblByteProgress.node.active=!0;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.info&&(this.info.string="Hot update skipped"),l=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.info&&(this.info.string="No updates required"),l=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.info&&(this.info.string="Update completed"),this.byteProgress&&(this.byteProgress.progress=1),this.lblByteProgress.string="100%",r=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.info&&(this.info.string="Update failed"),this._updating=!1,this._canRetry=!0,l=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:l=!0;break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.info&&(this.info.string=e.getMessage())}if(l)return cc.eventManager.removeListener(this._updateListener),this._updateListener=null,this._updating=!1,void this.onVersionChecked();r&&(this._updateListener&&cc.eventManager.removeListener(this._updateListener),this._updateListener=null,this.onVersionUpdated())}},onVersionUpdated:function(){LogUtil.info(n,"App Version Hot Fix Finish, Ready Restart!"),this.needHotFixCheck&&cc.sys.platform==cc.sys.ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showSplash","()V"),this._remoteVersion&&(ITeenPatti.gameCore.hotfixVersion=this._remoteVersion),cc.sys.localStorage.setItem("Aemobile_Hot_Fix",ITeenPatti.gameCore.hotfixVersion);var e=ITeenPatti.gameCore.gameVersion;jsb.reflection.callStaticMethod("DeviceUtil","getAppVersion"),cc.sys.localStorage.setItem("Aemobile_Hot_Fix_Version",e),cc.sys.localStorage.removeItem("HotFix_Remote_Version");var t=jsb.fileUtils?jsb.fileUtils.getSearchPaths():"";if(this._am.getState()===jsb.AssetsManager.State.UNINITED&&this._am.loadLocalManifest(this.manifestUrl.nativeUrl),this._am.getLocalManifest()){var i=this._am.getLocalManifest().getSearchPaths();console.log(JSON.stringify(i)),Array.prototype.unshift(t,i)}cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(t)),jsb.fileUtils.setSearchPaths(t),cc.audioEngine.stopAll(),cc.audioEngine.uncacheAll(),performWithDelay(this.node,.2,function(){cc.game.restart()})}}),cc._RF.pop()},{}],HukamHelp:[function(e,t,i){"use strict";cc._RF.push(t,"cc4e3YdLOlFE46G7WOjmF5P","HukamHelp");var n=e("BaseEdgePopup");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup"}],HukamRoom:[function(e,t,i){"use strict";cc._RF.push(t,"3f2a4cIbBdC9bfS+eT+c+1x","HukamRoom");var n=e("BaseRoom"),a=e("UIInfo");cc.Class({name:"HukamRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.HUKAM,this.tableRulesUIInfo=a.HUKAM_HELP}}),cc._RF.pop()},{BaseRoom:"BaseRoom",UIInfo:"UIInfo"}],IAFAnalytics:[function(e,t,i){"use strict";cc._RF.push(t,"fd0287Dne9FXJJXegzgsKbB","IAFAnalytics"),function(){if(window.IAFAnalytics)t.exports=window.IAFAnalytics;else{cc.sys.isBrowser||(cc.AFDelegate.prototype.onOpenRefGet=function(){e.onInstallRefGet()},cc.AFDelegate.prototype.onInstallRefGet=function(){e.onOpenRefGet()});var e={init:function(e,t){this.delegate_install=e,this.delegate_open=t,cc.sys.isBrowser||(this.objDelegate=cc.AFDelegate.create(),ae.AFHelper.initAFProxy(this.objDelegate))},onPurchaseSuccess:function(e,t,i){!cc.sys.isBrowser&&APPSFLYER_ENBALE&&ae.AFHelper.onPurchaseSuccess(e,t,i)},onInstallRefGet:function(){this.delegate_install&&this.delegate_install()},onOpenRefGet:function(){this.delegate_open&&this.delegate_open()},getAFInstallRef:function(){return cc.sys.isBrowser?"":ae.AFHelper.getAFInstallRef()},getAFOpenRef:function(){if(cc.sys.isBrowser)return"";var e=ae.AFHelper.getAFOpenRef();return e&&e.length>0?e:this.getAFInstallRef()}};window.IAFAnalytics=e,t.exports=e}}(),cc._RF.pop()},{}],IAdsAdmob:[function(e,t,i){"use strict";cc._RF.push(t,"a6f52Xn2cJAHaf54FLbD9mc","IAdsAdmob"),function(){if(window.IAdsAdmob)t.exports=window.IAdsAdmob;else{var e="IAdsAdmob",i=i||{},n="com/aemobile/ads/admob/AdmobAdsHelper";i.delegate=null,i.init=function(e){this.delegate=e},i.setAdUnitID=function(e,t){cc.sys.isBrowser||e&&t&&(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"setAdUnitID","(Ljava/lang/String;Ljava/lang/String;)V",e,t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobAdsProxy","setAdUnitID:nativeId:",""+e,""+t))},i.getBannerHeight=function(e){cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"getBannerHeight","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobAdsProxy","getBannerHeight:",e))},i.isBannerAdShow=function(e){},i.showBannerAd=function(t){LogUtil.info(e,"Show Banner Ad: "+t),cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"showBannerAd","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobAdsProxy","showBannerAd:",t))},i.hideBannerAd=function(t){LogUtil.info(e,"Hide Banner Ad: "+t),cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"hideBannerAd","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobAdsProxy","hideBannerAd:",t))},i.isInterstitialAdLoaded=function(e){var t=!1;return cc.sys.isBrowser?t:(cc.sys.os==cc.sys.OS_ANDROID?t=jsb.reflection.callStaticMethod(n,"isInterstitialAdLoaded","(Ljava/lang/String;)Z",e):cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("AdmobAdsProxy","isInterstitialAdLoaded:",e)),t)},i.isInterstitialAdShowing=function(){var e=!1;if(cc.sys.isBrowser)return e;return cc.sys.os==cc.sys.OS_ANDROID?e=jsb.reflection.callStaticMethod(n,"isInterstitialAdShowing","(Ljava/lang/String;)Z"," "):cc.sys.os==cc.sys.OS_IOS&&(e=jsb.reflection.callStaticMethod("AdmobAdsProxy","isInterstitialAdShowing:"," ")),e},i.loadInterstitialAd=function(t){LogUtil.info(e,"Load Interstitial Ad: "+t),cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"loadInterstitialAd","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobAdsProxy","loadInterstitialAd:",t))},i.showInterstitialAd=function(e){cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"showInterstitialAd","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobAdsProxy","showInterstitialAd:",e))},i.onVideoAdLoaded=function(e){},i.onVideoClose=function(e){},i.onInterstitialAdLoadSucc=function(t){LogUtil.info(e,"Load Interstitial Ad Succ: "+t),IAds.onInterstitialAdLoadSucc(t,"Admob")},i.onInterstitialAdLoadFailure=function(t){LogUtil.info(e,"Load Interstitial Ad Fail: "+t),IAds.onInterstitialAdLoadFailure(t,"Admob")},i.onInterstitialAdClose=function(t){LogUtil.info(e,"Close Interstitial Ad : "+t),IAds.onInterstitialAdClose(t,"Admob")},window.IAdsAdmob=i,t.exports=i}}(),cc._RF.pop()},{}],IAdsConfig:[function(e,t,i){"use strict";cc._RF.push(t,"79532hRPCZCT58nJ7SyWI4P","IAdsConfig"),function(){if(window.IAdsConfig)t.exports=window.IAdsConfig;else{var i=new(e("AdsConfig"));window.IAdsConfig=i,t.exports=i}}(),cc._RF.pop()},{AdsConfig:"AdsConfig"}],IAdsFacebook:[function(e,t,i){"use strict";cc._RF.push(t,"c3761wK6NVC5o9DBgkdjS3U","IAdsFacebook"),function(){if(window.IAdsFacebook)t.exports=window.IAdsFacebook;else{var e="IAdsFacebook",i=i||{};i.delegate=null;var n="com/aemobile/ads/facebook/FacebookAdsHelper";i.init=function(e){this.delegate=e},i.setAdUnitID=function(e,t){cc.sys.isBrowser||e&&t&&(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"setAdUnitID","(Ljava/lang/String;Ljava/lang/String;)V",e,t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("FacebookAdsProxy","setAdUnitID:nativeId:",""+e,""+t))},i.getBannerHeight=function(e){cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"getBannerHeight","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("FacebookAdsProxy","getBannerHeight:",e))},i.isBannerAdShow=function(e){},i.showBannerAd=function(t){LogUtil.info(e,"Show Banner Ad: "+t),cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"showBannerAd","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("FacebookAdsProxy","showBannerAd:",t))},i.hideBannerAd=function(t){LogUtil.info(e,"Hide Banner Ad: "+t),cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"hideBannerAd","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("FacebookAdsProxy","hideBannerAd:",t))},i.isInterstitialAdLoaded=function(e){var t=!1;return cc.sys.isBrowser?t:(cc.sys.os==cc.sys.OS_ANDROID?t=jsb.reflection.callStaticMethod(n,"isInterstitialAdLoaded","(Ljava/lang/String;)Z",e):cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("FacebookAdsProxy","isInterstitialAdLoaded:",e)),t)},i.isInterstitialAdShowing=function(){var e=!1;if(cc.sys.isBrowser)return e;return cc.sys.os==cc.sys.OS_ANDROID?e=jsb.reflection.callStaticMethod(n,"isInterstitialAdShowing","(Ljava/lang/String;)Z"," "):cc.sys.os==cc.sys.OS_IOS&&(e=jsb.reflection.callStaticMethod("FacebookAdsProxy","isInterstitialAdShowing:"," ")),e},i.loadInterstitialAd=function(t){LogUtil.info(e,"Load Interstitial Ad: "+t),cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"loadInterstitialAd","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("FacebookAdsProxy","loadInterstitialAd:",t))},i.showInterstitialAd=function(e){cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"showInterstitialAd","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("FacebookAdsProxy","showInterstitialAd:",e))},i.onVideoAdLoaded=function(e){},i.onVideoClose=function(e){},i.onInterstitialAdLoadSucc=function(t){LogUtil.info(e,"Load Interstitial Ad Succ: "+t),IAds.onInterstitialAdLoadSucc(t,"Facebook")},i.onInterstitialAdLoadFailure=function(t){LogUtil.info(e,"Load Interstitial Ad Fail: "+t),IAds.onInterstitialAdLoadFailure(t,"Facebook")},i.onInterstitialAdClose=function(t){LogUtil.info(e,"Close Interstitial Ad : "+t),IAds.onInterstitialAdClose(t,"Facebook")},window.IAdsFacebook=i,t.exports=i}}(),cc._RF.pop()},{}],IAdsIronSrc:[function(e,t,i){"use strict";cc._RF.push(t,"33e5bmDdDJOorwNgmKKg3Gx","IAdsIronSrc"),function(){if(window.IAdsIronSrc)t.exports=window.IAdsIronSrc;else{var e="IAdsIronSrc",i=i||{};i.delegate=null;var n="com/aemobile/ads/ironsrc/IronSrcAdsHelper";i.init=function(e){this.delegate=e},i.setAdUnitID=function(e,t){cc.sys.isBrowser||e&&t&&(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"setAdUnitID","(Ljava/lang/String;Ljava/lang/String;)V",e,t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("IronSrcAdsProxy","setAdUnitID:nativeId:",""+e,""+t))},i.getBannerHeight=function(e){cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"getBannerHeight","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("IronSrcAdsProxy","getBannerHeight:",e))},i.isBannerAdShow=function(e){},i.showBannerAd=function(t){LogUtil.info(e,"Show Banner Ad: "+t),cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"showBannerAd","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("IronSrcAdsProxy","showBannerAd:",t))},i.hideBannerAd=function(t){LogUtil.info(e,"Hide Banner Ad: "+t),cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"hideBannerAd","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("IronSrcAdsProxy","hideBannerAd:",t))},i.isInterstitialAdLoaded=function(e){var t=!1;return cc.sys.isBrowser?t:(cc.sys.os==cc.sys.OS_ANDROID?t=jsb.reflection.callStaticMethod(n,"isInterstitialAdLoaded","(Ljava/lang/String;)Z",e):cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("IronSrcAdsProxy","isInterstitialAdLoaded:",e)),t)},i.isInterstitialAdShowing=function(){var e=!1;if(cc.sys.isBrowser)return e;return cc.sys.os==cc.sys.OS_ANDROID?e=jsb.reflection.callStaticMethod(n,"isInterstitialAdShowing","(Ljava/lang/String;)Z"," "):cc.sys.os==cc.sys.OS_IOS&&(e=jsb.reflection.callStaticMethod("IronSrcAdsProxy","isInterstitialAdShowing:"," ")),e},i.loadInterstitialAd=function(t){LogUtil.info(e,"Load Interstitial Ad: "+t),cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"loadInterstitialAd","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("IronSrcAdsProxy","loadInterstitialAd:",t))},i.showInterstitialAd=function(e){cc.sys.isBrowser||(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(n,"showInterstitialAd","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("IronSrcAdsProxy","showInterstitialAd:",e))},i.onVideoAdLoaded=function(e){},i.onVideoClose=function(e){},i.onInterstitialAdLoadSucc=function(t){LogUtil.info(e,"Load Interstitial Ad Succ: "+t),IAds.onInterstitialAdLoadSucc(t,"IronSrc")},i.onInterstitialAdLoadFailure=function(t){LogUtil.info(e,"Load Interstitial Ad Fail: "+t),IAds.onInterstitialAdLoadFailure(t,"IronSrc")},i.onInterstitialAdClose=function(t){LogUtil.info(e,"Close Interstitial Ad : "+t),IAds.onInterstitialAdClose(t,"IronSrc")},window.IAdsIronSrc=i,t.exports=i}}(),cc._RF.pop()},{}],IAdsNative:[function(e,t,i){"use strict";cc._RF.push(t,"0c062D/EL9EXYLfYjZD3v9K","IAdsNative"),function(){if(!cc.sys.isBrowser){var e=e||{};e.delegate=null,cc.AdsDelegate.prototype.onVideoAdLoaded=function(t){e.onVideoAdLoaded(t)},cc.AdsDelegate.prototype.onVideoAdClose=function(t){cc.game.resume(),e.onVideoAdClose(t)},cc.AdsDelegate.prototype.onAdLoad=function(t){e.onAdLoad(t)},cc.AdsDelegate.prototype.onAdClose=function(t){e.onAdClose(t)},e.init=function(e){this.delegate=e,this.objDelegate=cc.AdsDelegate.create(),cc.game.addPersistRootNode(this.objDelegate),ae.AdsHelper.initAdsProxy(this.objDelegate)},e.setVideoAdLoadCb=function(e){this.hAdLoadCb=e},e.showVideoAd=function(e){this.hCloseCb=e,cc.game.pause(),ae.AdsHelper.showVideoAd()},e.isVideoAdLoad=function(){return ae.AdsHelper.isVideoAdLoaded()},e.isAdLoaded=function(e){return!1},e.getAdJson=function(e){var t=null;try{var i=ae.AdsHelper.getAdJson(e);t=JSON.parse(i)}catch(e){return null}return t},e.loadAd=function(e,t){this.hAdLoadCb=t,ae.AdsHelper.loadAd(e)},e.showAd=function(e,t){this.hCloseCb=t,ae.AdsHelper.showAd(e)},e.closeAd=function(e){ae.AdsHelper.closeAd(e)},e.addClickArea=function(e,t,i,n){ae.AdsHelper.addClickArea(e,t,i,n)},e.onVideoAdLoaded=function(e){this.hAdLoadCb&&this.hAdLoadCb(e)},e.onVideoAdClose=function(e){this.hCloseCb&&this.hCloseCb(e)},e.onAdLoad=function(e){this.hAdLoadCb&&this.hAdLoadCb(e)},e.onAdClose=function(e){this.hCloseCb&&this.hCloseCb(e)},t.exports=e}}(),cc._RF.pop()},{}],IAdsWeb:[function(e,t,i){"use strict";cc._RF.push(t,"cb14feBTFdL1rw0a9mz2Yf+","IAdsWeb"),function(){if(cc.sys.isBrowser){var e=e||{};e.delegate=null,e.init=function(e){this.delegate=e},e.setVideoAdLoadCb=function(e){this.hAdLoadCb=e},e.showVideoAd=function(t){this.hCloseCb=t,performWithDelay(cc.director.getScene().getChildByName("Canvas"),3,function(){e.onVideoClose(!0)})},e.isVideoAdLoad=function(){return!0},e.isAdLoaded=function(e){return!1},e.getAdJson=function(e){return{title:"Trip.com by Ctrip",body:"Japan's cherry blossom season is almost here once again, and we've got some amazing early...",icon:"https://external.xx.fbcdn.net/safe_image.php?d=AQBW-SmzRexgJx5O&w=128&h=128&url=http%3A%2F%2Flh3.googleusercontent.com%2FEaMUL4Gys0dO96VKLATFk3G9E7WCQVJQi0OAezGo9fFDuapOvfE_MeurQinr24c4dOCt%3Dw300&_nc_hash=AQBdTqOKL2QpYv22",cover:"https://scontent.xx.fbcdn.net/v/t45.1600-4/p796x416/27699546_23842708583950180_2833732581957042176_n.png.jpg?oh=6e0bdf51f13409f8035b3355b5c9ddd3&oe=5B45A8C6"}},e.loadAd=function(e){},e.showAd=function(e){},e.closeAd=function(e){},e.addClickArea=function(e,t,i,n){},e.onVideoAdLoaded=function(e){this.hAdLoadCb&&this.hAdLoadCb(e)},e.onVideoClose=function(e){this.hCloseCb&&this.hCloseCb(e)},t.exports=e}}(),cc._RF.pop()},{}],IAds:[function(e,t,i){"use strict";cc._RF.push(t,"efd8cQqbBlGVKoQUzOy5yFS","IAds"),function(){if(window.IAds)t.exports=window.IAds;else{e("AdsConfig");var i=e("IAdsConfig"),n=(e("IAdsAdmob"),e("IAdsFacebook"),e("IAdsIronSrc")),a=a||{};(a=cc.sys.isBrowser?e("IAdsWeb"):e("IAdsNative")).adsHelper={},a.adsHelper.IronSrc=n,a.setAdUnitID=function(e,t,i){a.adsHelper&&e&&a.adsHelper[e]&&a.adsHelper[e].setAdUnitID(t,i)},a.initAdUnit=function(){for(var e=i.getPlacementList(),t=0;t<e.length;t++)for(var n=i.getProviderList(e[t]),o=0;o<n.length;o++)a.setAdUnitID(n[o],e[t],i.getAdNativeId(e[t],n[o]))},a.getBannerHeight=function(e){},a.isBannerAdShow=function(e){},a.showBannerAd=function(e){if(a.adsHelper){var t=i.getChiefProvider(e);a.adsHelper&&t&&a.adsHelper[t]&&a.adsHelper[t].showBannerAd(e)}},a.hideBannerAd=function(e){if(a.adsHelper){var t=i.getProviderList(e);if(t)for(var n=0;n<t.length;n++){var o=t[n];o&&a.adsHelper[o]&&a.adsHelper[o].hideBannerAd(e)}}},a.isInterstitialAdShowing=function(){if(!a.adsHelper)return!1;for(var e in a.adsHelper)if(a.adsHelper[e]&&a.adsHelper[e].isInterstitialAdShowing())return!0;return!1},a.isInterstitialAdLoaded=function(e){if(!a.adsHelper)return!1;var t=i.getChiefProvider(e);return!!(a.adsHelper&&t&&a.adsHelper[t]&&a.adsHelper[t].isInterstitialAdLoaded(e))},a.loadInterstitialAd=function(e){var t=i.getChiefProvider(e);i.getLoadPercent(e);a.adsHelper&&t&&a.adsHelper[t]&&a.adsHelper[t].loadInterstitialAd(e)},a.showInterstitialAd=function(e){if(a.adsHelper){var t=i.getChiefProvider(e);if(a.adsHelper&&t&&a.adsHelper[t]&&a.adsHelper[t].isInterstitialAdLoaded(e))return a.adsHelper[t].showInterstitialAd(e),void(ITeenPatti&&ITeenPatti.onMsgReceived("AE_Ads_Open",{id:e,provider:t}));var n=i.getProviderList(e);if(n)for(var o=0;o<n.length;o++){if((t=n[o])&&a.adsHelper[t]&&a.adsHelper[t].isInterstitialAdLoaded(e))return a.adsHelper[t].showInterstitialAd(e),void(ITeenPatti&&ITeenPatti.onMsgReceived("AE_Ads_Open",{id:e,provider:t}))}}},a.onInterstitialAdLoadSucc=function(e,t){ITeenPatti&&ITeenPatti.onMsgReceived("AE_Ads_Load_Succ",{id:e,provider:t})},a.onInterstitialAdLoadFailure=function(e,t){ITeenPatti&&ITeenPatti.onMsgReceived("AE_Ads_Load_Fail",{id:e,provider:t});var n=i.getAlternateProvider(e,t);a.adsHelper&&n&&a.adsHelper[n]&&a.adsHelper[n].loadInterstitialAd(e)},a.onInterstitialAdClose=function(e,t){ITeenPatti&&ITeenPatti.onMsgReceived("AE_Ads_Close",{id:e,provider:t})},a.AD_NATIVE="",window.IAds=a,t.exports=a}}(),cc._RF.pop()},{AdsConfig:"AdsConfig",IAdsAdmob:"IAdsAdmob",IAdsConfig:"IAdsConfig",IAdsFacebook:"IAdsFacebook",IAdsIronSrc:"IAdsIronSrc",IAdsNative:"IAdsNative",IAdsWeb:"IAdsWeb"}],IDynamic:[function(e,t,i){"use strict";cc._RF.push(t,"75bd9oawFpOzIqNb5ZsIMVu","IDynamic"),function(){if(window.IDynamic)t.exports=window.IDynamic;else{var e=e||{};e.installedFeature={},e.launchScene={},e.isModeInstalled=function(e){return!0},e.isFeatureDownloading=function(){return!1},e.isFeatureLaunch=function(e){return!0},e.isFeatureInstall=function(e){return!0},e.installFeature=function(e){},e.launchFeature=function(e){},e.onFeatureInstallUpdate=function(e,t,i){ITeenPatti.onMsgReceived("AE_Feature_Install_Update",{feature:e,download:t,totalSize:i})},e.onFeatureInstallFinish=function(e,t){ITeenPatti.onMsgReceived("AE_Feature_Install",{feature:e,result:t})},e.onFeatureLaunchFinish=function(e){var t=this;this.installedFeature[e]=!0;var i={rummy:"RummyScene/RummyScene"}[e];i?cc.director.preloadScene(i,function(){cc.log("Preload Rummy Scene"),t.launchScene[e]=!0,ITeenPatti.onMsgReceived("AE_Feature_Launch",{feature:e})}):(this.launchScene[e]=!0,ITeenPatti.onMsgReceived("AE_Feature_Launch",{feature:e}))},window.IDynamic=e,t.exports=e}}(),cc._RF.pop()},{}],IEvent:[function(e,t,i){"use strict";cc._RF.push(t,"7f95cEKHZBGPYHI50pCLGIx","IEvent"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],IFBAnalytics:[function(e,t,i){"use strict";cc._RF.push(t,"09919ADd8NHOb41GbxnKFP5","IFBAnalytics"),function(){if(window.IFBAnalytics)t.exports=window.IFBAnalytics;else{cc.sys.isBrowser;var e={keys:{IS_FIRST_LAUNCH:"is_first_launch",REGIST_SUCCESS:"regist_success",REGIST_FACEBOOK:"regist_facebook",INVITE_BTN_CLICK:"click_invite",SEND_INVITE:"send_invite",ROUND_FINISH_COUNT:"round_finish_count",BUY_BTN_CLICK:"click_buy",BUY_SUCCESS:"buy_success",OPEN_STORE_LOBBY:"open_store_lobby",OPEN_STORE_GAME:"open_store_game",OPEN_STORE_CHIPSOUT_GAME:"open_store_chipsout_game",OPEN_STORE_CHIPSOUT_OTHER:"open_store_chipsout_other"},init:function(){cc.sys.isBrowser||(this.objDelegate=cc.FBAnalyticsDelegate.create(),ae.FBAnalyticsHelper.initFBAnalyticsProxy(this.objDelegate))},logCompletedRegistrationEvent:function(e){cc.sys.isBrowser||ae.FBAnalyticsHelper.logCompletedRegistrationEvent(e)},logInviteEvent:function(e){cc.sys.isBrowser||ae.FBAnalyticsHelper.logInviteEvent(e)},logBuyEvent:function(e,t,i,n,a){cc.sys.isBrowser||ae.FBAnalyticsHelper.logBuyEvent(e,t,i,n,a)},logUserEvent:function(e,t,i){cc.sys.isBrowser||(t||(t="action"),i||(i=e),ae.FBAnalyticsHelper.logUserEvent(e,t,i))},logCountEvent:function(e,t){cc.sys.isBrowser||ae.FBAnalyticsHelper.logCountEvent(e,t)}};window.IFBAnalytics=e,t.exports=e}}(),cc._RF.pop()},{}],IFacebookNative:[function(e,t,i){"use strict";cc._RF.push(t,"4a6acoDF/5N2ZoK/5O+Qls9","IFacebookNative"),function(){if(!cc.sys.isBrowser){var e=e||{};e.inited=!1,e.delegate=null,e.token=null,e.fbid=null,e.showLoginBtn=!1,cc.FacebookDelegate.prototype.onGetLoginStatus=function(t){e.onGetLoginStatus(t)},cc.FacebookDelegate.prototype.onLogin=function(t,i){var n=cc.sys.platform==cc.sys.WIN32?window.FBTestID:t,a=cc.sys.platform==cc.sys.WIN32?window.FBTestToken:i;e.onLogin(n,a)},cc.FacebookDelegate.prototype.onGraphRequest=function(t){e.onGraphRequest(t)},cc.FacebookDelegate.prototype.onLogout=function(){e.onLogout()},cc.FacebookDelegate.prototype.onInvite=function(t){e.onInvite(t)},e.init=function(e){this.inited||(this.inited=!0,e&&e())},e.getLoginStatus=function(e){this.delegate=e,ae.FacebookHelper.getLoginStatus(cc.FacebookDelegate.create())},e.login=function(e){this.delegate=e,ae.FacebookHelper.login(cc.FacebookDelegate.create())},e.logout=function(e){this.token=null,this.delegate=e,ae.FacebookHelper.logout(cc.FacebookDelegate.create())},e.invite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Welcome to TeenPatti",i=arguments[2];this.delegate=i,ae.FacebookHelper.invite(cc.FacebookDelegate.create(),e,t)},e.share=function(e){ae.FacebookHelper.share(cc.FacebookDelegate.create(),e)},e.onGetLoginStatus=function(e){var t=JSON.parse(e);LogUtil.debug("IFacebookNative","response:"+t),"connected"==t.status&&(this.fbid=t.authResponse.userID,this.token=t.authResponse.accessToken),this.delegate&&this.delegate(this.fbid,this.token)},e.onLogin=function(e,t){"Refresh"==e?(this.token=t,this.gameCore.gameMng.loginData&&"facebook"==this.gameCore.gameMng.loginData.type&&(this.gameCore.gameMng.loginData.token=t)):(this.fbid=e,this.token=t,this.delegate&&this.delegate(e,t))},e.onGraphRequest=function(e){var t=e?JSON.parse(e):null;this.graphRequestDelegate&&this.graphRequestDelegate(t)},e.onLogout=function(){this.delegate&&this.delegate()},e.onInvite=function(e){this.delegate&&this.delegate(e)},t.exports=e}}(),cc._RF.pop()},{}],IFacebookWeb:[function(e,t,i){"use strict";cc._RF.push(t,"5ac49ToUaVNZ5vhk5q6GMUm","IFacebookWeb"),function(){var e=e||{};e.inited=!1,e.sfsServer=null,e.delegate=null,e.token=null,e.fbid=null,e.showLoginBtn=!1,e.init=function(e){if(!this.inited){this.inited=!0;this.initDelegate=e,window.FB&&e&&e()}},e.getLoginStatus=function(e){this.delegate=e,FB.getLoginStatus(handler(this,this.onLoginStatusGet))},e.login=function(e){this.delegate=e;FB.login(handler(this,this.onLoginFinish),{scope:"email",return_scopes:!0})},e.logout=function(e){this.showLoginBtn=!0,e()},e.invite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Welcome to TeenPatti",i=arguments[2],n={method:"apprequests",message:t};"nofilter"!=e&&(n.filters=["app_non_users"]),FB.ui(n,handler(this,this.onInviteResponse,[i]))},window.onInitFinish=function(){e.initDelegate&&e.initDelegate()},e.onLoginStatusGet=function(e){"connected"==e.status&&(this.fbid=e.authResponse.userID,this.token=e.authResponse.accessToken),this.delegate&&this.delegate(this.fbid,this.token)},e.onLoginFinish=function(e){if("connected"==e.status){this.showLoginBtn=!1;var t=e.authResponse.grantedScopes.split(",");this.scopes={};for(var i=0;i<t.length;i++)this.scopes[t[i]]=!0;this.fbid=e.authResponse.userID,this.token=e.authResponse.accessToken,this.delegate&&this.delegate(e.authResponse.userID,e.authResponse.accessToken)}else this.delegate&&this.delegate(null,null)},e.onProfileGet=function(e){if(e){var t={};t.name=e.name,t.id=e.id,t.token=this.token,e.email&&(t.email=e.email),e.gender&&(t.sex=e.gender),e.picture&&e.picture.data&&(t.faceUrl=e.picture.data.url),this.delegate&&this.delegate(!0,t)}else this.delegate&&this.delegate(!1)},e.onInviteResponse=function(e,t){e.request&&e.to&&t(e.to)},t.exports=e}(),cc._RF.pop()},{}],IFacebook:[function(e,t,i){"use strict";cc._RF.push(t,"efd0c+JYV1LbYRZ5QZl//Hv","IFacebook"),function(){if(window.IFacebook)t.exports=window.IFacebook;else{var i="IFacebook",n=n||{};(n=cc.sys.isBrowser?e("IFacebookWeb"):e("IFacebookNative")).gameCore=null,n.setGameCore=function(e){this.gameCore=e},n.getCurFBID=function(){return this.fbid},n.getProfile=function(e,t){this.delegate_profile=t;var i=FBHost+e+"?fields=name,first_name,picture,gender,email,currency&access_token="+this.token;this.startRequest(e,i,handler(this,this.onProfileGet))},n.getFriendList=function(e,t,i){this.delegate_friend=t;var n=i||FBHost+e+"/friends?fields=name,picture&access_token="+this.token;this.startRequest(e,n,handler(this,this.onFriendListGet))},n.getInviteFriendList=function(e,t,i){this.delegate_friend_invite=t;var n=i||FBHost+e+"/invitable_friends?access_token="+this.token;this.startRequest(e,n,handler(this,this.onInviteFriendListGet))},n.getIconUrl=function(e,t){if(this.delegate_icon=this.delegate_icon||{},this.delegate_icon[e])this.delegate_icon[e].push(t);else{this.delegate_icon[e]=[t];var i=FBHost+e+"/picture?redirect=false&type=large&width=100&height=100";this.startRequest(e,i,handler(this,this.onIconUrlGet))}},n.downIcon=function(e,t,n,a){LogUtil.info(i,"WEB PLATFORM CAN NOT DOWNLOAD ICON FOR CACHE")},n.startRequest=function(e,t,n){LogUtil.printFBRequest(i,t);var a=cc.loader.getXMLHttpRequest();a.onreadystatechange=function(){if(4==a.readyState)if(a.status>=200&&a.status<300)try{var t=JSON.parse(a.responseText);LogUtil.printFBResponse(i,t),n(e,t)}catch(t){n(e,null)}else n(e,null)},a.ontimeout=function(){n(e,null)},a.onerror=function(){n(e,null)},a.open("GET",t,!0),a.timeout=15e3,a.send()},n.onProfileGet=function(e,t){if(t){var i={};i.name=t.name,i.id=t.id,i.token=this.token,t.first_name&&(i.first_name=t.first_name),t.email&&(i.email=t.email),t.gender&&(i.sex=t.gender),t.picture&&t.picture.data&&(i.faceUrl=t.picture.data.url),t.user_currency&&(i.currency=t.user_currency),this.delegate_profile&&this.delegate_profile(!0,i),this.delegate_profile=null}else this.delegate_profile&&this.delegate_profile(!1)},n.onFriendListGet=function(e,t){this.delegate_friend&&this.delegate_friend(t)},n.onInviteFriendListGet=function(e,t){this.delegate_friend_invite&&t&&this.delegate_friend_invite(t)},n.onIconUrlGet=function(e,t){var i=t&&t.data&&t.data.url?t.data.url:"";if(this.delegate_icon[e]&&""!=i)for(var n=0;n<this.delegate_icon[e].length;n++)this.delegate_icon[e][n](e,i);this.delegate_icon[e]=null},n.onIconDownFinish=function(e,t){if(LogUtil.debug(i,"onIconDownFinish fbId:"+e+" path:"+t+" delegate:"+this.delegate_icon_down[e]),this.delegate_icon_down[e])for(var n=0;n<this.delegate_icon_down[e].length;n++)this.delegate_icon_down[e][n](e,t);this.delegate_icon_down[e]=null},n.onImageTaskSucc=function(t){var a=t.requestURL,o=t.identifier;LogUtil.debug(i,"Download Facebook Icon Succ "+a);var s=e("LocalStorage");s.saveLocalData(s.keys.HEAD_ICON_EXPIRE_DATA+o,.001*(new Date).getTime()),n.onIconDownFinish(o,t.storagePath)},n.onImageTaskFail=function(e){var t=e.requestURL,a=e.identifier;LogUtil.debug(i,"Download Facebook Icon Fail "+t),n.onIconDownFinish(a,e.storagePath)},window.IFacebook=n,t.exports=n}}(),cc._RF.pop()},{IFacebookNative:"IFacebookNative",IFacebookWeb:"IFacebookWeb",LocalStorage:"LocalStorage"}],IFirebase:[function(e,t,i){"use strict";cc._RF.push(t,"36bdaI0ePlJtZuqr2yWXM8l","IFirebase"),function(){if(window.IFirebase)t.exports=window.IFirebase;else{cc.sys.isBrowser||(cc.FirebaseDelegate.prototype.onTokenGet=function(){e.onTokenGet()});var e={init:function(e,t){this.hTokenRefreshCb=t,cc.sys.isBrowser||(this.objDelegate=cc.FirebaseDelegate.create(),ae.FirebaseHelper.initProxy(this.objDelegate))},onTokenGet:function(){this.hTokenRefreshCb&&this.hTokenRefreshCb()},getToken:function(){return cc.sys.isBrowser?"":ae.FirebaseHelper.getToken()},logEvent:function(e,t,i){LogUtil.info("IFirebase",e+" : "+t+" : "+i),cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/aemobile/analytics/firebase/FirebaseHelper","logEvent","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,i)},logLoginEvent:function(t,i){(i=i||{}).time=(new Date).getTime(),e.logEvent(t,CommonUtil.getDeviceId(),JSON.stringify(i))}};window.IFirebase=e,t.exports=e}}(),cc._RF.pop()},{}],IGoogleAnalytics:[function(e,t,i){"use strict";cc._RF.push(t,"e6d1e/ekvRJKokP6ahLb3Hz","IGoogleAnalytics"),function(){if(window.IGoogleAnalytics)t.exports=window.IGoogleAnalytics;else{var e={logEvent:function(e,t,i){LogUtil.info("IGoogleAnalytics",e+" : "+t+" : "+i),cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/aemobile/analytics/google/GoogleHelper","logEvent","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,i)},logLoginEvent:function(t,i){(i=i||{}).time=(new Date).getTime(),e.logEvent(t,CommonUtil.getDeviceId(),JSON.stringify(i))}};window.IGoogleAnalytics=e,t.exports=e}}(),cc._RF.pop()},{}],IJSBridgeNative:[function(e,t,i){"use strict";cc._RF.push(t,"df32dUAs0FCiLP/BS2iX4MJ","IJSBridgeNative"),function(){if(!cc.sys.isBrowser){var e=e||{};e.delegate=null,cc.JSBridgeDelegate.prototype.onLauchQueryGet=function(e){LogUtil.info("IPayNative","---------- Get Lauch Query Info ------------"),njb.onReceiveLaunchQuery(e)},e.init=function(e){this.delegate=e,this.objDelegate=cc.JSBridgeDelegate.create(),cc.game.addPersistRootNode(this.objDelegate),ae.JSBridgeHelper.initProxy(this.objDelegate)},t.exports=e}}(),cc._RF.pop()},{}],IJSBridgeWeb:[function(e,t,i){"use strict";cc._RF.push(t,"18f3dLpkixNgrGogKORfIgD","IJSBridgeWeb"),function(){if(cc.sys.isBrowser){var e=e||{};e.delegate=null,e.init=function(e){},t.exports=e}}(),cc._RF.pop()},{}],IJSBridge:[function(e,t,i){"use strict";cc._RF.push(t,"65e0bKT/QVA0KVWCQWlFsHv","IJSBridge"),function(){if(window.IJSBridge)t.exports=window.IJSBridge;else{var i=i||{};i=cc.sys.isBrowser?e("IJSBridgeWeb"):e("IJSBridgeNative"),window.IJSBridge=i,t.exports=i}}(),cc._RF.pop()},{IJSBridgeNative:"IJSBridgeNative",IJSBridgeWeb:"IJSBridgeWeb"}],INotification:[function(e,t,i){"use strict";cc._RF.push(t,"5f9bcP9jE9Hl5yMj8TiHdbS","INotification"),function(){if(window.INotification)t.exports=window.INotification;else{var i=e("NtfctProfile"),n=(e("NotificationCfg"),"INotification"),a=a||{};a.arrNtfctProfile=[],a.downloadNotifyCfg=function(){LogUtil.info(n,"-------------------- load Remote Notification Config --------------------");var e=NTFCT_CFG_URL;LogUtil.info(n,e);var t=this,i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){4==i.readyState&&(i.status>=200&&i.status<300?t.onDownloadSucc(i.responseText):t.loadNotifyConfigFromCache())},i.open("GET",e,!0);i.send();t.loadNotifyConfigFromCache()},a.loadNotifyConfigFromCache=function(){var e=JSON.parse(cc.sys.localStorage.getItem(NTFCT_CFG_KEY));e&&(e=e.notification),e||(e=NotificationCfgDefault),this.arrNtfctProfile=[];for(var t=0;t<e.length;t++)this.arrNtfctProfile[t]=new i(t,e[t])},a.startAllNotifyCountdown=function(){for(var e=0;e<this.arrNtfctProfile.length;e++)this.arrNtfctProfile[e].start()},a.startNotifyCountdown=function(e,t,i,n){},a.cancelAllNotifyCountdown=function(){},a.setNotifyEnable=function(e){},a.onDownloadSucc=function(e){var t=null;try{t=(t=JSON.parse(e)).notification}catch(e){return void LogUtil.err(n,"There is error parse notification config",e)}if(t){console.info(n,"Download Notification Success!"),this.arrNtfctProfile=[];for(var a=0;a<t.length;a++)this.arrNtfctProfile[a]=new i(a,t[a])}else LogUtil.err(n,"There is error in notification config")},window.INotification=a,t.exports=a}}(),cc._RF.pop()},{NotificationCfg:"NotificationCfg",NtfctProfile:"NtfctProfile"}],IPayAmazon:[function(e,t,i){"use strict";cc._RF.push(t,"6a942h7iDdJkIyxs/uyqWeA","IPayAmazon"),function(){if(!cc.sys.isBrowser){e("Base64").Base64,e("IPayConfig");var i=i||{};i.delegate=null,i.skuDetailMap={},i.init=function(e){this.getSkuDetailList()},i.initDetailList=function(e){},i.getSkuDetailList=function(){},i.getAllSubscription=function(){},i.buySubscription=function(e,t){},i.updateSubscription=function(e,t,i){},i.onSkuDetailsGet=function(e){njb.onGetSkuDetails(e)},i.onPurchaseGet=function(e,t){njb.onGetPurchases(e,t)},i.onSubsPurchaseGet=function(e,t){},i.onPurchaseSuccess=function(e,t){njb.onGetPurchases(e,t)},i.onPurchaseFail=function(e,t){njb.onNativePurchaseFail(e,t)},i.onSubscriptionSuccess=function(e,t){},i.onSubscriptionFail=function(e,t){},t.exports=i}}(),cc._RF.pop()},{Base64:"Base64",IPayConfig:"IPayConfig"}],IPayApple:[function(e,t,i){"use strict";cc._RF.push(t,"ac331minvxKjo1XKNQZi1Ka","IPayApple"),function(){if(!cc.sys.isBrowser){e("Base64").Base64,e("IPayConfig");var i=i||{};i.delegate=null,i.skuDetailMap={},i.init=function(e){this.getSkuDetailList()},i.initDetailList=function(e){},i.getSkuDetailList=function(){},i.getAllSubscription=function(){},i.buySubscription=function(e,t){},i.updateSubscription=function(e,t,i){},i.onSkuDetailsGet=function(e){njb.onGetSkuDetails(e)},i.onPurchaseGet=function(e,t){njb.onGetPurchases(e,t)},i.onSubsPurchaseGet=function(e,t){},i.onPurchaseSuccess=function(e,t){njb.onGetPurchases(e,t)},i.onPurchaseFail=function(e,t){njb.onNativePurchaseFail(e,t)},i.onSubscriptionSuccess=function(e,t){},i.onSubscriptionFail=function(e,t){},t.exports=i}}(),cc._RF.pop()},{Base64:"Base64",IPayConfig:"IPayConfig"}],IPayConfig:[function(e,t,i){"use strict";cc._RF.push(t,"f755eyVgrdE861coFnG8n7y","IPayConfig"),function(){var e=e||{};e.skuMap={},e.skuList=["subs.weekly.card.1","subs.weekly.card.2"],e.MONTHLY_ELITE_1="subs.weekly.card.1",e.MONTHLY_ELITE_2="subs.weekly.card.2",cc.sys.platform==cc.sys.ANDROID&&(e.productList=["com.teenpattipoker.chips.1000000000","com.teenpattipoker.chips.180000000","com.teenpattipoker.chips.35000000","com.teenpattipoker.chips.470000000","com.teenpattipoker.chips.5000000","com.teenpattipoker.chips.80000000","com.teenpattipoker.chips.800000","com.teenpattipoker.bank.180cr","com.teenpattipoker.bank.460cr","com.teenpattipoker.diamonds.10","com.teenpattipoker.bank.180cr","com.teenpattipoker.bank.460cr","com.teenpattipoker.diamonds.10"],e.subsList=["com.patti.android.monthlyelite.primary","com.patti.android.monthlyelite.advanced"],e.skuMap["subs.weekly.card.1"]="com.patti.android.monthlyelite.primary",e.skuMap["subs.weekly.card.2"]="com.patti.android.monthlyelite.advanced"),t.exports=e}(),cc._RF.pop()},{}],IPayFacebook:[function(e,t,i){"use strict";cc._RF.push(t,"3645bSJa4xCN5HsCo/y1a6l","IPayFacebook"),function(){if(!cc.sys.isBrowser){e("Base64").Base64,e("IPayConfig");var i=i||{};i.delegate=null,i.skuDetailMap={},i.init=function(e){this.getSkuDetailList()},i.initDetailList=function(e){},i.getSkuDetailList=function(){},i.getAllSubscription=function(){},i.buySubscription=function(e,t){},i.updateSubscription=function(e,t,i){},i.onSkuDetailsGet=function(e){},i.onPurchaseGet=function(e,t){njb.onGetPurchases(e,t)},i.onSubsPurchaseGet=function(e,t){},i.onPurchaseSuccess=function(e,t){njb.onGetPurchases(e,t)},i.onPurchaseFail=function(e,t){njb.onNativePurchaseFail(e,t)},i.onSubscriptionSuccess=function(e,t){},i.onSubscriptionFail=function(e,t){},t.exports=i}}(),cc._RF.pop()},{Base64:"Base64",IPayConfig:"IPayConfig"}],IPayGoogle:[function(e,t,i){"use strict";cc._RF.push(t,"484efYGd/ZMvoTF10sELgsm","IPayGoogle"),function(){if(!cc.sys.isBrowser){var i="IPayGoogle",n=e("Base64").Base64,a=e("IPayConfig"),o=o||{};o.delegate=null,o.isSupport=null,o.lastPurchaseData=null,o.skuDetailMap={},o.init=function(e){this.isBillingSupported(),this.getSkuDetailList()},o.initDetailList=function(e){for(var t=0;t<e.length;t++){var i=e[t];try{var n=JSON.parse(i);this.skuDetailMap[n.productId]=n}catch(e){LogUtil.err("IPayGoogle","There is error parse sku detail json on js",e)}}},o.isBillingSupported=function(){return null!=this.isSupport?this.isSupport:(this.isSupport=jsb.reflection.callStaticMethod("com/aemobile/pay/google/GooglePayHelper","isBillingSupported","()Z"),this.isSupport)},o.getSkuCurrencyCode=function(e){var t=this.skuDetailMap[e];if(t)return t.price_currency_code;LogUtil.err(i,"The Product ID is not set: "+e)},o.getSkuPrice=function(e){var t=this.skuDetailMap[e];return t?t.price:(LogUtil.err(i,"The Product ID is not set: "+e),"")},o.getSkuDetailList=function(){var e=a.productList.concat();jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","getSkuDetails","(Ljava/lang/String;)V",e);var t=a.subsList.concat();jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","getSubsSkuDetail","(Ljava/lang/String;)V",t)},o.getAllSubscription=function(){this.isBillingSupported()?jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","getSubscription","()V"):ITeenPatti.getCurPlayer()&&(ITeenPatti.onMsgReceived("payCheck",{isSupport:!1,SubsList:[],curSubsName:null,uploadOrder:[]}),ITeenPatti.sendMsg("subsProfile",null))},o.buySubscription=function(e,t){jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","buySubscription","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},o.updateSubscription=function(e,t,i){jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","updateSubscription","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,i)},o.comsumePurchase=function(e){jsb.reflection.callStaticMethod("com/aemobile/utils/InAppBillingUtil","consumePurchase","(Ljava/lang/String;)V",e)},o.onSkuDetailsGet=function(e){var t=n.decode(e).split("|");this.initDetailList(t),njb.onGetSkuDetails(e)},o.onPurchaseGet=function(e,t){njb.onGetPurchases(e,t)},o.onSubsPurchaseGet=function(e,t){if(ITeenPatti.getCurPlayer()){var a=ITeenPatti.getCurPlayer().subsProfile;if(a){for(var o=n.decode(e),s=n.decode(t).split("|"),r=o.split("|"),l=[],c=null,h=-1,u=[],d=0;d<r.length;d++){var m=r[d];try{var g=JSON.parse(m),p=g.productId,C=this.getSkuCurrencyCode(p);if(C=C||"USD",!p||!this.skuDetailMap[p]){LogUtil.err(i,"There is error parse on purchase get",o);break}(0==d||h<=g.purchaseTime)&&(c=IPay.getSkuNameWithID(p),h=g.purchaseTime),a.isOrderUpload(g.orderId,g.autoRenewing)||u.push({purchase_data:m,data_signature:s[d],cn:C}),l.push({skuName:IPay.getSkuNameWithID(p),orderId:g.orderId,autoRenew:g.autoRenewing})}catch(e){LogUtil.err(i,"There is error parse purcharse json on js",e)}}ITeenPatti.onMsgReceived("payCheck",{SubsList:l,curSubsName:c,uploadOrder:u}),u.length>0&&ITeenPatti.sendMsg("androidSubsBuy",{order:u}),ITeenPatti.sendMsg("subsProfile",null)}}},o.onPurchaseSuccess=function(e,t){njb.onGetPurchases(e,t)},o.onPurchaseFail=function(e,t){njb.onNativePurchaseFail(e,t)},o.onSubscriptionSuccess=function(e,t){if(ITeenPatti.getCurPlayer()){var a=n.decode(e),o=n.decode(t);try{var s=JSON.parse(a).productId,r=IPay.getSkuNameWithID(s),l=this.getSkuCurrencyCode(s);if(l=l||"USD",!s||!r||!this.skuDetailMap[s])return void LogUtil.err(i,"There is error parse on purchase succ",a);ITeenPatti.sendMsg("androidSubsBuy",{order:[{purchase_data:a,data_signature:o,cn:l}]}),ITeenPatti.onMsgReceived("subscriptionSucc",{subsName:r})}catch(e){LogUtil.err(i,"There is error parse purcharse json on js",e)}}},o.onSubscriptionFail=function(e,t){},o.onSkuDetailsGetSucc=function(e){for(var t=n.decode(e).split("|"),i=[],a=0;a<t.length;a++)if(!(t[a].length<1)){var o=JSON.parse(t[a]);o.oneTimePurchaseOfferDetails&&(o.priceTxt=o.oneTimePurchaseOfferDetails.formattedPrice,o.price=1e-6*o.oneTimePurchaseOfferDetails.priceAmountMicros,o.currency=o.oneTimePurchaseOfferDetails.priceCurrencyCode,o.price_currency_code=o.currency),this.skuDetailMap[o.productId]=o,i.push(o)}IPay.onSkuDetailsGetSucc(i)},window.IPayGoogle=o,t.exports=o}}(),cc._RF.pop()},{Base64:"Base64",IPayConfig:"IPayConfig"}],IPayNative:[function(e,t,i){"use strict";cc._RF.push(t,"3add7lDl89N4I36RMWu26jY","IPayNative"),function(){if(!cc.sys.isBrowser){var i="IPayNative",n=(e("Base64").Base64,e("IPayConfig")),a=e("IPayApple"),o=e("IPayGoogle"),s=s||{};s.delegate=null,cc.sys.platform==cc.sys.ANDROID?s.payProxy=o:cc.sys.platform!=cc.sys.IPHONE&&cc.sys.platform!=cc.sys.IPAD||(s.payProxy=a),cc.PayDelegate.prototype.onSkuDetailsGet=function(e){LogUtil.info(i,"---------- Get Sku Detail Info ------------"),s.onSkuDetailsGet(e)},cc.PayDelegate.prototype.onPurchaseGet=function(e,t,n){LogUtil.info(i,"---------- Get Purchase Order List ------------"),s.onPurchaseGet(e,t,n)},cc.PayDelegate.prototype.onPurchaseFail=function(e,t,n){LogUtil.info(i,"---------- Get Purchase Fail Info ------------"),s.onPurchaseFail(e,t,n)},cc.PayDelegate.prototype.onPurchaseSuccess=function(e,t,n){LogUtil.info(i,"---------- Get Purchase Success Info ------------"),s.onPurchaseSuccess(e,t,n)},s.init=function(e){this.delegate=e,this.skuDetailMap={},this.objDelegate=cc.PayDelegate.create(),cc.game.addPersistRootNode(this.objDelegate),ae.PayHelper.initProxy(this.objDelegate),this.getSkuDetailList()},s.isBillingSupported=function(){return this.payProxy&&this.payProxy.isBillingSupported()},s.getSkuCurrencyCode=function(e){var t=n.skuMap[e];if(t)return this.payProxy&&this.payProxy.getSkuCurrencyCode(t);LogUtil.err(i,"The Product ID is not set: "+e)},s.getSkuPrice=function(e){var t=n.skuMap[e];return t?this.payProxy&&this.payProxy.getSkuPrice(t):(LogUtil.err(i,"The Product ID is not set: "+e),"")},s.getSkuNameWithID=function(e){if(!e)return null;for(var t in n.skuMap)if(n.skuMap[t]==e)return t;return null},s.getSkuDetailList=function(){this.payProxy&&this.payProxy.getSkuDetailList()},s.getAllSubscription=function(){this.payProxy&&this.payProxy.getAllSubscription()},s.buySubscription=function(e,t){var a=n.skuMap[e];a?(this.lastPurchaseData={productID:e,type:"buy"},this.payProxy&&this.payProxy.buySubscription(a,t)):LogUtil.err(i,"The Product ID is not set: "+e)},s.updateSubscription=function(e,t,a){var o=n.skuMap[e],s=n.skuMap[t];o&&s?(this.lastPurchaseData={productID:e,updateID:t,type:"update"},this.payProxy&&this.payProxy.updateSubscription(o,s,a)):LogUtil.err(i,"The Product ID is not set: "+e+" "+t)},s.onSkuDetailsGet=function(e){this.payProxy&&this.payProxy.onSkuDetailsGet(e)},s.onPurchaseGet=function(e,t,i){"inapp"==e?this.payProxy&&this.payProxy.onPurchaseGet(t,i):this.payProxy&&this.payProxy.onSubsPurchaseGet(t,i)},s.onPurchaseSuccess=function(e,t,i){if("inapp"==e)this.payProxy&&this.payProxy.onPurchaseSuccess(t,i);else{this.payProxy&&this.payProxy.onSubscriptionSuccess(t,i);var n={success:!0,type:this.lastPurchaseData?this.lastPurchaseData.type:null,productID:this.lastPurchaseData?this.lastPurchaseData.productID:null,updateID:this.lastPurchaseData?this.lastPurchaseData.updateID:null};ITeenPatti.onMsgReceived("subscriptionFinish",n)}},s.onPurchaseFail=function(e,t,i){if("inapp"==e)this.payProxy&&this.payProxy.onPurchaseFail(t,i);else{this.payProxy&&this.payProxy.onSubscriptionFail(t,i);var n={success:!1,type:this.lastPurchaseData?this.lastPurchaseData.type:null,productID:this.lastPurchaseData?this.lastPurchaseData.productID:null,updateID:this.lastPurchaseData?this.lastPurchaseData.updateID:null};ITeenPatti.onMsgReceived("subscriptionFinish",n)}},t.exports=s}}(),cc._RF.pop()},{Base64:"Base64",IPayApple:"IPayApple",IPayConfig:"IPayConfig",IPayGoogle:"IPayGoogle"}],IPayWeb:[function(e,t,i){"use strict";cc._RF.push(t,"63396EaFy9Fn73H8JYPtIge","IPayWeb"),function(){if(cc.sys.isBrowser){var e=e||{};e.delegate=null;e.init=function(e){this.delegate=e},e.isBillingSupported=function(){return!1},e.buySubscription=function(e,t){0},e.updateSubscription=function(e,t,i){0},e.getAllSubscription=function(){0},t.exports=e}}(),cc._RF.pop()},{}],IPay:[function(e,t,i){"use strict";cc._RF.push(t,"4f152SDPiJMi48n5xzwXH9P","IPay"),function(){if(window.IPay)t.exports=window.IPay;else{var i=i||{},n=e("IPayConfig");(i=cc.sys.isBrowser?e("IPayWeb"):e("IPayNative")).getSkuCurrencyCode=function(e){return n.skuMap[e]?n.skuMap[e].currency:null},i.getSkuPrice=function(e){return n.skuMap[e]?n.skuMap[e].price:null},i.getSkuPriceText=function(e){return n.skuMap[e]?n.skuMap[e].priceTxt:null},i.getSkuDetail=function(e){return n.skuMap[e]},i.onSkuDetailsGetSucc=function(e){for(var t=0;t<e.length;t++){var i=e[t].productId;n.skuMap[i]={},n.skuMap[i].id=e[t].productId,n.skuMap[i].price=e[t].price,n.skuMap[i].priceTxt=e[t].priceTxt,n.skuMap[i].currency=e[t].currency,LogUtil.debug("IPay",e[t])}},window.IPay=i,t.exports=i}}(),cc._RF.pop()},{IPayConfig:"IPayConfig",IPayNative:"IPayNative",IPayWeb:"IPayWeb"}],IPlatformConfig:[function(e,t,i){"use strict";cc._RF.push(t,"850d4dPtr5O0JhVpN6fYHT6","IPlatformConfig"),window.PLATFORM_WIN32=1,window.PLATFORM_IOS=2,window.PLATFORM_ANDROID=3,window.PLATFORM_WEB=4,window.Client=window.Client||{},window.Client.Platform=cc.sys.isBrowser?window.PLATFORM_WEB:window.PLATFORM_WIN32,window.Client.Version=cc.sys.isBrowser?"H1.1.4":"V1.0.4",window.Client.Release=17,cc.sys.platform==cc.sys.ANDROID?window.Client.Platform=window.PLATFORM_ANDROID:cc.sys.platform!=cc.sys.IPHONE&&cc.sys.platform!=cc.sys.IPAD||(window.Client.Platform=window.PLATFORM_IOS),cc._RF.pop()},{}],IProtoBufConfig:[function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}cc._RF.push(t,"4936dI/nS1COK8i+vVEOzjo","IProtoBufConfig"),function(){var e,i=i||{};i.RequestMsg={"proto.C2S_Login":"LoginRequest","smartfox.logout":"LogoutRequest","smartfox.joinRoom":"JoinRoomRequest","smartfox.leaveRoom":"LeaveRoomRequest","smartfox.PublicMessage":"PublicMessageRequest",default:"ExtensionRequest"},i.getSmartFoxRequestName=function(e){return this.RequestMsg[e]?this.RequestMsg[e]:this.RequestMsg.default},i.ResponseMsg=(n(e={Login:"proto.S2C_Login",getpowerups:"proto.SC_UserPowerups",getuserscene:"proto.S2C_UserScenes",unlockedspecialscene:"smartfox",getUserInfo:"proto.S2C_Common_UserInfo",getservertime:"proto.S2C_System_Time",hinttime:"proto.S2C_UserHintTime",logined:"proto.Common_SS",versioncontrol:"proto.Common_S",error:"proto.S2C_Common_Message",play:"proto.Common_L",nlplay:"proto.Common_L",jis:"proto.S2C_Join",starttime:"proto.Common_I",start:"proto.S2C_Start",next:"proto.S2C_Next",gamble:"proto.S2C_Gamble",cpool:"proto.S2C_Deal_Pool",finish:"proto.S2C_Game_End",updatebonus:"proto.Common_I",deluxstart:"proto.S2C_Start_Delux",choosemode:"proto.S2C_Delux_Mode",bet:"proto.S2C_Next",see:"proto.UserCards",pack:"proto.S2C_Next",show:"proto.S2C_Show",sideshow:"proto.Common_L",profile:"proto.S2C_Profile",myprofile:"proto.S2C_MP",sunr:"proto.Common_S",switchdealer:"proto.Common_I",tip:"proto.S2C_Tip",giftprice:"proto.Common_IS",inviteToGame:"proto.S2C_Invite",ismax:"proto.Common_Boolean",sendai:"proto.S2C_Ai_Msg",sit:"proto.Common_LS",dxjackpot:"proto.S2C_Deluxe_Jackpot",startwar:"proto.S2C_Start_War",allcard:"proto.S2C_All_Card",warbet:"proto.S2C_War_Bet",warready:"proto.Common_I",friendlist:"proto.S2C_7_Friends",friendonline:"proto.S2C_Common_UserInfo",addFriReq:"proto.Add_Friend",addFriDec:"proto.Add_Friend",delFri:"proto.Add_Friend",signin:"proto.S2C_Signin",sendmessage:"proto.S2C_Msg",sendgift:"proto.S2C_Gift",getpayload:"proto.Common_S",notificationlist:"proto.S2C_Notificaitons",acceptnotification:"proto.S2C_Notification_Result",onenotification:"proto.S2C_Notificaiton",webstore:"proto.Common_I",bankaccount:"proto.Common_L",diamondaccount:"proto.S2C_Diamond_Account",diamondtobank:"proto.S2C_DTB",adddiamonds:"proto.S2C_Add_Diamonds",banktochips:"proto.S2C_BTC",banktobank:"proto.S2C_BTC",bankhistory:"proto.S2C_BHs",goldtransfer:"proto.S2C_GTG",goldhistory:"proto.S2C_GHs",goldvips:"proto.S2C_GVIPS",mygoldvip:"proto.S2C_Mygoldvip",goldvipsexchange:"proto.S2C_Mygoldvip",goldvipscode:"proto.S2C_Mygoldvip",goldvipscollect:"proto.S2C_Mygoldvip",passwordstatus:"proto.Common_I",checkpassword:"proto.Common_I",checkpin:"proto.Common_I",broken:"proto.Common_I",nlboot:"proto.Common_IS",getWinGoInfo:"proto.S2C_GetWinGoInfo",pboot:"proto.S2C_Boots",pnlboot:"proto.S2C_Boots",ppokerboot:"proto.S2C_Boots",nlminchips:"proto.Common_L",checkredeemcode:"proto.S2C_Check_Redeem_code",redeemcode:"proto.S2C_Common_Change",invitecode:"proto.S2C_Invite_Code",invitedbonus:"proto.S2C_Invited_Bonus",invitebonus:"proto.S2C_Invite_Bonus",cwhslist:"proto.S2C_HighScoreList",hwhslist:"proto.S2C_HighScoreList",hsinfo:"proto.HighScoreListInfo",hsaward:"proto.HighSocreAward",iosSubsBuy:"proto.S2C_Subs_Profile",iosSubsUserList:"proto.SubsMsg",iosSubsProfile:"proto.S2C_Subs_Profile",iosSubsAccept:"proto.S2C_Subs_Profile",success:"proto.S2C_Common_Message",sportaccess:"proto.Common_S",getZoneMessage:"proto.S2C_Zone_Message",curserver:"proto.Common_S",goldreceive:"proto.S2C_GTR",vipstar:"proto.S2C_VipStar",claimvipstar:"proto.S2C_UserVipStar",uservipstar:"proto.S2C_UserVipStar",buy:"proto.Common_S",androidbuy:"proto.S2C_PromoteBuy",iosBuy:"proto.S2C_PromoteBuy",facebookBuy:"proto.S2C_PromoteBuy",facebooksmallbuy:"proto.S2C_PromoteBuy",bannedbuy:"proto.Common_Boolean",promotelist:"proto.S2C_PromoteList",getEnoughItem:"proto.Common_S",advnum:"proto.Common_I",advchips:"proto.S2C_AdvChips",nativeAd:"proto.S2C_NativeAd",cricketlist:"proto.S2C_Crickets",newcricketlist:"proto.S2C_CricketList",winneraccept:"proto.Common_I",sessionaccept:"proto.Common_I",winnerbetError:"proto.S2C_WinnerBetError",bets:"proto.S2C_MatchList",betresult:"proto.S2C_Bets"},"startwar","proto.S2C_Start_War"),n(e,"allcard","proto.S2C_All_Card"),n(e,"casinobet","proto.S2C_Casino_Bet"),n(e,"warbet","proto.S2C_War_Bet"),n(e,"warready","proto.Common_I"),n(e,"gbankerwarchips","proto.S2C_AB_RoomLevles"),n(e,"gbankerwarrooms","proto.S2C_AB_Rooms"),n(e,"abbanker","proto.S2C_AB_Banker"),n(e,"abselect","proto.S2C_AB_Select"),n(e,"startab","proto.S2C_Start_AB"),n(e,"abbet","proto.S2C_AB_Bet"),n(e,"abdeal","proto.S2C_AB_Deal"),n(e,"abready","proto.Common_I"),n(e,"abjis","proto.S2C_AB_JIS"),n(e,"babjis","proto.S2C_BAB_JIS"),n(e,"bankerabchips","proto.S2C_AB_RoomLevles"),n(e,"bankerabrooms","proto.S2C_AB_Rooms"),n(e,"gbankerabchips","proto.S2C_AB_RoomLevles"),n(e,"gbankerabrooms","proto.S2C_AB_Rooms"),n(e,"abfinish","proto.S2C_BankerAB_End"),n(e,"bigwin","proto.S2C_BankerAB_End"),n(e,"abRoomLose","proto.Common_SS"),n(e,"startpw","proto.Start_Patti_War"),n(e,"pwjis","proto.Start_Patti_War"),n(e,"sitebet","proto.S2C_Site_Bet"),n(e,"usercards","proto.S2C_User_Cards"),n(e,"count","proto.S2C_Count"),n(e,"bebanker","proto.Common_Boolean"),n(e,"cancelbanker","proto.Common_Boolean"),n(e,"bankerunavailable","proto.Common_I"),n(e,"pattiwar","proto.S2C_Patti_War"),n(e,"dividejackpot","proto.S2C_Count"),n(e,"winGoBet","proto.S2C_WinGoBet"),n(e,"winGoReBet","proto.S2C_WinGoReBet"),n(e,"winGoResult","proto.S2C_WinGoResult"),n(e,"winGoChangeStatus","proto.S2C_WinGoChangeStatus"),n(e,"winGoBetInfo","proto.S2C_WinGoBetInfo"),n(e,"getWinGoRankInfo","proto.S2C_GetWinGoRankInfo"),n(e,"getWinGoRoomInfo","proto.S2C_GetWinGoRoomInfo"),n(e,"footballlist","proto.S2C_FootballList"),n(e,"footballbetresult","proto.S2C_Football_BetsList"),n(e,"footballbets","proto.S2C_Football_MatchList"),n(e,"footballclaimbets","proto.C2S_Football_ClaimBet"),n(e,"pokerstatus","proto.S2C_Poker_Status"),n(e,"pokerstarttime","proto.Common_I"),n(e,"pokerstart","proto.S2C_Poker_Start"),n(e,"pokernext","proto.S2C_Poker_Next"),n(e,"pokerperflop","proto.S2C_Poker_Perflop"),n(e,"pokerpool","proto.Common_LS"),n(e,"pokercompare","proto.S2C_Poker_Compare"),n(e,"pokerend","proto.S2C_Poker_End"),n(e,"pokercall","proto.S2C_Poker_Ope"),n(e,"pokerraise","proto.S2C_Poker_Ope"),n(e,"pokerallin","proto.S2C_Poker_Ope"),n(e,"pokerfold","proto.S2C_Poker_Ope"),n(e,"pokersetrebuy","proto.Common_Boolean"),n(e,"pokerbuyin","proto.Common_LS"),n(e,"pokerexpchange","proto.S2C_Poker_Exp"),n(e,"getchipstobank","proto.S2C_CTB_Event"),n(e,"chipstobank","proto.S2C_CTB"),n(e,"rummyjis","proto.S2C_Rummy_Join"),n(e,"rummystarttime","proto.Common_I"),n(e,"rummystart","proto.S2C_Rummy_Start"),n(e,"rummynext","proto.S2C_Rummy_Next"),n(e,"rummydrop","proto.S2C_Rummy_Drop"),n(e,"rummydraw","proto.S2C_Rummy_Draw"),n(e,"rummydiscard","proto.S2C_Rummy_Discard"),n(e,"rummytowin","proto.S2C_Rummy_Discard"),n(e,"rummydeclarewin","proto.S2C_Rummy_Declare"),n(e,"rummydeclaretemp","proto.Common_IS"),n(e,"rummydeclare","proto.S2C_Rummy_Declare"),n(e,"rummyfinish","proto.S2C_Rummy_End"),n(e,"rummyshowintegral","proto.S2C_Rummy_ShowIntegral"),n(e,"rummymydrop","proto.S2C_Common_Change"),n(e,"rummymin","proto.Common_I"),n(e,"tasklist","proto.S2C_Task_List"),n(e,"acceptTask","proto.Common_I"),n(e,"taskcompleted","proto.S2C_Task_Completed"),n(e,"tournament","proto.S2C_Tournament"),n(e,"tourstarttime","proto.Common_I"),n(e,"tourstart","proto.S2C_Tour_Start"),n(e,"toursee","proto.TourUserCards"),n(e,"tournext","proto.S2C_Tour_Next"),n(e,"toursideshow","proto.Common_L"),n(e,"touragreeside","proto.Common_Boolean"),n(e,"tourshow","proto.S2C_Tour_Show"),n(e,"tourcpool","proto.S2C_Tour_Deal_Pool"),n(e,"tourgamble","proto.S2C_Tour_Gamble"),n(e,"tourresult","proto.S2C_Tour_Game_Result"),n(e,"rank","proto.Common_IS"),n(e,"tourrank","proto.S2C_Tour_Rank"),n(e,"customerSerList","proto.S2C_CSL"),n(e,"customerSerSendChat","proto.S2C_SendChat"),n(e,"androidSubsBuy","proto.S2C_Subs_Profile"),n(e,"subsUserList","proto.SubsMsg"),n(e,"subsProfile","proto.S2C_Subs_Profile"),n(e,"subsAccept","proto.S2C_Subs_Profile"),n(e,"modelimit","proto.S2C_Model_Limit"),n(e,"deleteUserApple","proto.S2C_DeleteUserApple"),n(e,"ismax","proto.Common_Boolean"),n(e,"degree","proto.S2C_Degree"),n(e,"default","smartfox"),e),i.getProtoBufResponseName=function(e){return this.ResponseMsg[e]?this.ResponseMsg[e]:this.ResponseMsg.default},t.exports=i}(),cc._RF.pop()},{}],IProtoBuf:[function(e,t,i){"use strict";cc._RF.push(t,"2d5d0FdVB1Mgq2EDTTGj4a4","IProtoBuf");var n=e("ISmartFox"),a=e("aeprotobuf"),o=e("IProtoBufConfig"),s=e("ProtoBufEncoder"),r=e("ProtoBufDecoder");(function(){if(window.IProtoBuf)t.exports=window.IProtoBuf;else{var e=e||{};e.delegate=null,e.encoder=new s,e.decoder=new r,e.init=function(e){this.delegate=e,n.init(this)},e.addProtoBuilder=function(e){this.encoder.addProtoBuilder(e),this.decoder.addProtoBuilder(e)},e.connect=function(e,t){window.MODE_DEVELOP_LOCAL||n.connect(e,t)},e.connectRetry=function(){window.MODE_DEVELOP_LOCAL||n.connectRetry()},e.setUserName=function(e){window.MODE_DEVELOP_LOCAL||n.setUserName(e)},e.loadFile=function(e,t){t(e,e)},e.initProtoBuilder=function(t,i){e.addProtoBuilder(a),LogUtil.debug("ITeenPatti","Load ProtoBuf File Finish")},e.sendMsg=function(e,t,i){var a=o.getSmartFoxRequestName(t),s=this.encoder.encode(t,i);!i||s?window.MODE_DEVELOP_LOCAL||n.sendMsg(e,a,s):LogUtil.err("IProtoBuf","ProtoBuf Encode Fail")},e.onMsgReceived=function(e,t){var i=o.getProtoBufResponseName(e),n=this.decoder.decode(i,t);n?this.delegate&&this.delegate.onMsgReceived&&this.delegate.onMsgReceived(e,n):LogUtil.err("IProtoBuf","Fail To Decode "+e)},e.decodeMsg=function(e,t){var i=o.getProtoBufResponseName(e),n=this.decoder.createMsgProto(i).decodeHex(t);n=CommonUtil.convertNetDataLong(n),LogUtil.printTeenPattiResponse(e,n)},window.IProtoBuf=e,t.exports=e}})(),cc._RF.pop()},{IProtoBufConfig:"IProtoBufConfig",ISmartFox:"ISmartFox",ProtoBufDecoder:"ProtoBufDecoder",ProtoBufEncoder:"ProtoBufEncoder",aeprotobuf:"aeprotobuf"}],ISmartFoxConfig:[function(e,t,i){"use strict";cc._RF.push(t,"11f29urUFFAcaHFfToLGQbO","ISmartFoxConfig"),function(){var i=i||{};i.ZONE="AEPatti",i.ResponseMsg={getpowerups:"proto.SC_UserPowerups",getuserscene:"proto.S2C_UserScenes",unlockedspecialscene:"smartfox",getUserInfo:"proto.S2C_Common_UserInfo",getservertime:"proto.S2C_System_Time",hinttime:"proto.S2C_UserHintTime",logined:"smartfox",bingo:"proto.S2C_Bingo",friendlist:"proto.S2C_Friends",success:"proto.S2C_Common_Message",default:"smartfox"},i.getProtoBufResponseName=function(e){return this.ResponseMsg[e]?this.ResponseMsg[e]:this.ResponseMsg.default};var n=e("Command");i.ZoneCmdList=[n.SERVER_CMD_FRIEND_LIST,n.SERVER_CMD_PLAY_IN_ROOM,n.SERVER_CMD_GET_PAYLOAD,n.SERVER_CMD_ANDROID_BUY,n.SERVER_CMD_IOS_BUY,n.SERVER_CMD_FACEBOOK_BUY,n.SERVER_CMD_FACEBOOK_INSTANTGAME_BUY,n.SERVER_CMD_KEEP_CONNECTION,n.SERVER_CMD_LOGIN,n.SERVER_CMD_SYSTEM_MESSAGE,n.SERVER_CMD_EDIT_USER_ICON,n.SERVER_CMD_SIGN_IN,n.SERVER_CMD_INVITE_FB_FRIEND,n.SERVER_CMD_ADD_FRIENDS,n.SERVER_CMD_FRIEND_ONLINE,n.SERVER_CMD_FRIEND_HISTORY,n.SERVER_CMD_PLAY,n.SERVER_CMD_PLAY_DELUXE,n.SERVER_CMD_CREATE_PRIVATE_ROOM,n.SERVER_CMD_CREATE_FRIEND_ROOM,n.SERVER_CMD_GET_USER_INFO,n.SERVER_CMD_SET_DEGREE,n.SERVER_CMD_WEB_STORE,n.SERVER_CMD_BANK_ACCOUNT,n.SERVER_CMD_BANK_TO_CHIPS,n.SERVER_CMD_BANK_TO_BANK,n.SERVER_CMD_PLAY_CASINO_WAR,n.SERVER_CMD_REDEEM_CODE,n.SERVER_CMD_BANK_HISTORY,n.SERVER_CMD_BUY_STATUS,n.SERVER_CMD_BROKEN,n.SERVER_CMD_ACCEPT_BROKEN,n.SERVER_CMD_MY_PROFILE,n.SERVER_CMD_VIDEO_AD_NUM,n.SERVER_CMD_CHECK_REDEEM_CODE,"sport","getchipstobank","registerInfo","cricketlist",n.SERVER_CMD_DIAMOND_ACCOUNT,n.SERVER_CMD_DIAMOND_TO_BANK,"bannedbuy",n.SERVER_CMD_TASK_LIST,n.SERVER_CMD_ACCEPT_TASK,n.SERVER_CMD_SEND_INVITE,n.SERVER_CMD_PLAY_NOLIMIT,"customerSerList",n.SERVER_CMD_PRE_BUY,n.SERVER_CMD_ADD_FRIEND_REQUEST,n.SERVER_CMD_ADD_FRIEND_DECISION,n.SERVER_CMD_DELETE_FRIEND,n.SERVER_CMD_CHIPS_WIN_HIGH_SCORE_LIST,n.SERVER_CMD_HANDS_WIN_HIGH_SCORE_LIST,n.SERVER_CMD_HIGH_SCORE_INFO,n.SERVER_CMD_HIGH_SCORE_AWARD,n.SERVER_CMD_HIGH_SCORE_AWARD_ACCEPT,n.SERVER_CMD_TOURNAMENT,n.SERVER_CMD_PLAY_TOURNAMENT,"acceptnotification",n.SERVER_CMD_BANK_PASSWORD,n.SERVER_CMD_BANK_PIN,n.SERVER_CMD_BANK_PW_STATUS,n.SERVER_CMD_BANK_CHECK_PW,n.SERVER_CMD_BANK_CHECK_PIN,n.SERVER_CMD_AB_PVP_MINCHIPS_REQUIRE,n.SERVER_CMD_AB_PVP_ROOMS,n.SERVER_CMD_AB_PVP_CREATE_ROOM,n.SERVER_CMD_AB_PVP_PLAY_IN_ROOM,n.SERVER_CMD_AB_PVP_GOLD_MINCHIPS_REQUIRE,n.SERVER_CMD_AB_PVP_GOLD_ROOMS,n.SERVER_CMD_AB_PVP_GOLD_CREATE_ROOM,n.SERVER_CMD_AB_PVP_GOLD_PLAY_IN_ROOM,n.SERVER_CMD_GOLD_TRANSFER,n.SERVER_CMD_GOLD_HISTORY,n.SERVER_CMD_GOLD_VIPS_EXCHANGE,n.SERVER_CMD_GOLD_VIPS,n.SERVER_CMD_MY_GOLD_VIP,n.SERVER_CMD_VIP_COLLECT,n.SERVER_CMD_VIP_STAR,n.SERVER_CMD_CLAIM_VIP_STAR,"deleteUserApple"],i.isZoneCmd=function(e){for(var t=0;t<i.ZoneCmdList.length;t++)if(i.ZoneCmdList[t]==e)return!0;return!1},t.exports=i}(),cc._RF.pop()},{Command:"Command"}],ISmartFoxNative:[function(e,t,i){"use strict";cc._RF.push(t,"c1a15JsWjRHeoqwUffbYUvR","ISmartFoxNative");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){if(!cc.sys.isBrowser){var i=e("ISmartFoxConfig"),a=a||{};a.delegate=null,cc.SFSDelegate.prototype.onMsgReceived=function(e,t){var i={};if("string"==typeof t&&t.length>0)try{i=JSON.parse(t)}catch(e){LogUtil.err("ISmartFoxNative","There is error parse sfs response json on js",e)}a.onMsgReceived(e||"",i)},a.init=function(e){this.connectTime=0,this.isConnect=!1,this.delegate=e,this.lastHeartBeatTime=0,this.objDelegate=cc.SFSDelegate.create(),cc.game.addPersistRootNode(this.objDelegate),ae.SFSHelper.initSFSProxy(this.objDelegate),ae.SFSHelper.setZoneName(i.ZONE),this.objSheduler=new cc.Component,cc.director.getScheduler().schedule(handler(this,this.onSecondUpdate),this.objSheduler,1,!1)},a.isConnected=function(){return ae.SFSHelper.isConnected()},a.getLastHeartBeatTime=function(){return this.lastHeartBeatTime},a.connect=function(e,t){ae.SFSHelper.connect(e,t)},a.disconnect=function(){ae.SFSHelper.disconnect()},a.connectRetry=function(){ae.SFSHelper.connectRetry()},a.onSecondUpdate=function(e){this.connectTime+=e,this.isConnect&&(this.connectTime<5||(this.sendMsg("HeartBeat","KeepConnection",null),this.connectTime=this.connectTime%5,this.lastHeartBeatTime=(new Date).getTime()))},a.sendMsg=function(e,t,a,o){a=a&&"object"==(void 0===a?"undefined":n(a))?JSON.stringify(a):a,ae.SFSHelper.sendMsg(e,t,a||"",i.isZoneCmd(e))},a.setUserName=function(e){ae.SFSHelper.setUserName(e)},a.getCurSFSUser=function(){var e=ae.SFSHelper.getCurSFSUser(),t={};if("string"==typeof e&&e.length>0)try{t=JSON.parse(e)}catch(e){LogUtil.err("ISmartFoxNative","There is error parse sfs cur self json on js",e)}return t},a.getCurRoomUserList=function(){var e=ae.SFSHelper.getCurRoomUserList(),t=[];if("string"==typeof e&&e.length>0)try{t=JSON.parse(e)}catch(e){LogUtil.err("ISmartFoxNative","There is error parse sfs cur self json on js",e)}return t},a.getCurRoom=function(){var e=ae.SFSHelper.getCurRoom(),t={};if("string"==typeof e&&e.length>0)try{t=JSON.parse(e)}catch(e){LogUtil.err("ISmartFoxNative","There is error parse sfs cur room json on js",e)}return t},a.onMsgReceived=function(e,t){LogUtil.printSFSResponse(e,t),"ConnectionResume"==e||"Connect"==e&&t&&1==t.success?this.isConnect=!0:("ConnectionRetry"==e||"ConnectionLost"==e||"Connect"==e&&t&&0==t.success)&&(this.isConnect=!1),this.delegate&&this.delegate.onMsgReceived(e,t)},t.exports=a}})(),cc._RF.pop()},{ISmartFoxConfig:"ISmartFoxConfig"}],ISmartFoxWeb:[function(e,t,i){"use strict";cc._RF.push(t,"ae69eIz1etB3oWLMn+qR46w","ISmartFoxWeb"),function(){if(cc.sys.isBrowser){e("ISmartFoxConfig");var i=i||{};i.sfsServer=null,i.objDecoder=e("SFSDecoder"),i.objEncoder=e("SFSEncoder"),i.strUserName=null,i.delegate=null,i.init=function(e){this.delegate=e,this.connectTime=0,this.lastHeartBeatTime=0,this.sfsServer=new SmartFox,this.sfsServer.addEventListener(SFS2X.SFSEvent.CONNECTION,handler(this,this.onMsgConnectReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.CONNECTION_RETRY,handler(this,this.onMsgConnectRetryReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.CONNECTION_RESUME,handler(this,this.onMsgConnectResumeReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.CONNECTION_LOST,handler(this,this.onMsgConnectLostReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.SOCKET_ERROR,handler(this,this.onMsgSocketErrorReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.LOGIN,handler(this,this.onMsgLoginReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.LOGIN_ERROR,handler(this,this.onMsgLoginErrorReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.LOGOUT,handler(this,this.onMsgLogoutReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.USER_VARIABLES_UPDATE,handler(this,this.onMsgUserUpdateReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.USER_ENTER_ROOM,handler(this,this.onMsgUserEnterRoomReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,handler(this,this.onMsgUserExitRoomReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.PLAYER_TO_SPECTATOR,handler(this,this.onMsgUserStandUpReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.SPECTATOR_TO_PLAYER,handler(this,this.onMsgUserSitDownReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,handler(this,this.onMsgRoomJoinReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.ROOM_VARIABLES_UPDATE,handler(this,this.onMsgRoomVariablesUpdateReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.PUBLIC_MESSAGE,handler(this,this.onMsgPublicMessageReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.ADMIN_MESSAGE,handler(this,this.onMsgAdminMessageReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.MODERATOR_MESSAGE,handler(this,this.onMsgModeratorMessageReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.INVITATION,handler(this,this.onMsgInvitationReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.INVITATION_REPLY,handler(this,this.onMsgInvitationReplyReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.INVITATION_REPLY_ERROR,handler(this,this.onMsgInvitationReplyErrorReceived)),this.sfsServer.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,handler(this,this.onMsgExtensionReceived)),this.objSheduler=new cc.Component,cc.director.getScheduler().schedule(handler(this,this.onSecondUpdate),this.objSheduler,1,!1)},i.isConnected=function(){return this.sfsServer.isConnected()},i.getLastHeartBeatTime=function(){return this.lastHeartBeatTime},i.connect=function(e,t){this.sfsServer.connect(e,t,cc.sys.isBrowser&&-1!=e.indexOf("teenpattiflush"))},i.disconnect=function(){this.sfsServer.disconnect()},i.connectRetry=function(){this.sfsServer.connect()},i.onSecondUpdate=function(e){this.connectTime+=e,this.sfsServer.isConnected()&&(this.connectTime<30||(this.sendMsg("HeartBeat","KeepConnecttion",null),this.connectTime=this.connectTime%30,this.lastHeartBeatTime=(new Date).getTime()))},i.sendMsg=function(e,t,i){var n=this.objEncoder.encode(e,t,i);n?(LogUtil.printSFSRequest(t,e,n),this.sfsServer.send(n)):LogUtil.err("ISmartFoxWeb","Encode SmartFox Error")},i.setUserName=function(e){this.strUserName=e,this.objEncoder.setUserName(e)},i.getCurSFSUser=function(){return this.sfsServer.mySelf.playerId=null,this.sfsServer.mySelf&&this.sfsServer.lastJoinedRoom&&(this.sfsServer.mySelf.playerId=this.sfsServer.mySelf.getPlayerId(this.sfsServer.lastJoinedRoom)),this.sfsServer.mySelf},i.getCurRoomUserList=function(){if(window.MODE_DEVELOP_LOCAL)return[];if(!this.sfsServer.lastJoinedRoom)return[];for(var e=this.sfsServer.lastJoinedRoom.getUserList(),t=0;t<e.length;t++)e[t].playerId=e[t].getPlayerId(this.sfsServer.lastJoinedRoom);return e},i.getCurRoomSitUserList=function(){if(window.MODE_DEVELOP_LOCAL)return[];if(!this.sfsServer.lastJoinedRoom)return[];for(var e=this.sfsServer.lastJoinedRoom.getUserList(),t=0;t<e.length;t++)e[t].playerId=e[t].getPlayerId(this.sfsServer.lastJoinedRoom);for(t=e.length-1;t>=0;t--)-1==e[t].playerId&&e.splice(t,1);return e},i.getCurRoom=function(){return this.sfsServer.lastJoinedRoom},i.joinRoom=function(e){this.sfsServer.send(new SFS2X.Requests.System.JoinRoomRequest(e))},i.invitationAccept=function(e){this.sfsServer.send(new SFS2X.Requests.Game.InvitationReplyRequest(e,SFS2X.Entities.Invitation.InvitationReply.ACCEPT))},i.invitationRefuse=function(e){this.sfsServer.send(new SFS2X.Requests.Game.InvitationReplyRequest(e,SFS2X.Entities.Invitation.InvitationReply.REFUSE))},i.onMsgConnectReceived=function(e){this.onMsgReceived("Connect",e)},i.onMsgConnectRetryReceived=function(e){this.onMsgReceived("ConnectionRetry",e)},i.onMsgConnectResumeReceived=function(e){this.onMsgReceived("ConnectionResume",e)},i.onMsgConnectLostReceived=function(e){this.onMsgReceived("ConnectionLost",e)},i.onMsgSocketErrorReceived=function(e){this.sendMsg("logout","LogoutRequest",""),this.onMsgReceived("SocketError",e)},i.onMsgLoginReceived=function(e){this.onMsgReceived("Login",e)},i.onMsgLoginErrorReceived=function(e){this.onMsgReceived("LoginError",e)},i.onMsgLogoutReceived=function(e){this.onMsgReceived("Logout",e)},i.onMsgRoomJoinReceived=function(e){e.user=this.sfsServer.mySelf,this.onMsgReceived("RoomJoin",e),this.objEncoder.setCurRoom(e.room),this.objEncoder.setLastRoom(e.room)},i.onMsgRoomVariablesUpdateReceived=function(e){this.onMsgReceived("RoomUpdate",e)},i.onMsgUserUpdateReceived=function(e){this.onMsgReceived("UserUpdate",e)},i.onMsgUserEnterRoomReceived=function(e){this.onMsgReceived("UserEnterRoom",e)},i.onMsgUserExitRoomReceived=function(e){e.user.isItMe&&this.objEncoder.setCurRoom(null),this.onMsgReceived("UserExitRoom",e)},i.onMsgUserStandUpReceived=function(e){this.onMsgReceived("UserStandUp",e)},i.onMsgUserSitDownReceived=function(e){this.onMsgReceived("UserSitDown",e)},i.onMsgPublicMessageReceived=function(e){var t=this.sfsServer.lastJoinedRoom.getUserById(e.sender.id);e.id=e.sender.name,e.name=t.getVariable("n").value,e.msg=e.message,this.onMsgReceived("PublicMessage",e)},i.onMsgAdminMessageReceived=function(e){this.onMsgReceived("AdminMessage",e)},i.onMsgModeratorMessageReceived=function(e){this.onMsgReceived("ModeratorMessage",e)},i.onMsgInvitationReceived=function(e){this.onMsgReceived("Invitation",e)},i.onMsgInvitationReplyReceived=function(e){this.onMsgReceived("InvitationReply",e)},i.onMsgInvitationReplyErrorReceived=function(e){this.onMsgReceived("InvitationReplyError",e)},i.onMsgExtensionReceived=function(e){var t=e.cmd?e.cmd:"";this.onMsgReceived(t,e)},i.onMsgReceived=function(e,t){t&&t.user&&(t.user.playerId=null),t&&t.user&&this.sfsServer.lastJoinedRoom&&(t.user.playerId=t.user.getPlayerId(this.sfsServer.lastJoinedRoom)),LogUtil.printSFSResponse(e,t),"Logout"!=e&&"ConnectionLost"!=e||(this.objEncoder.setUserName(""),this.objEncoder.setCurRoom(null),this.objEncoder.setLastRoom(null)),this.delegate.onMsgReceived(e,t)},t.exports=i}}(),cc._RF.pop()},{ISmartFoxConfig:"ISmartFoxConfig",SFSDecoder:"SFSDecoder",SFSEncoder:"SFSEncoder"}],ISmartFox:[function(e,t,i){"use strict";cc._RF.push(t,"93787H5AdFPp553hBYzFPMs","ISmartFox"),function(){if(window.ISmartFox)t.exports=window.ISmartFox;else{var i=i||{};i=cc.sys.isBrowser?e("ISmartFoxWeb"):e("ISmartFoxNative"),t.exports=i}}(),cc._RF.pop()},{ISmartFoxNative:"ISmartFoxNative",ISmartFoxWeb:"ISmartFoxWeb"}],ITeenPattiConfig:[function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}cc._RF.push(t,"7c0d6vn545BGbyNTjvliRMN","ITeenPattiConfig"),function(){var e,i=i||{};i.PATTI_HOST_TEST=!1,i.PATTI_HOST_CACHE="PattiHostCache",i.PATTI_HOST_DEFAULT=["gs1.teenpattiflush.com",9871,9481],i.PATTI_HOST_URL="https://config.teenpattiflush.com/patti/hostconfig.json",i.RequestMsg=(n(e={login:"proto.C2S_Login",logout:"smartfox.logout",playbingo:"proto.C2S_Common_I",roomJoin:"smartfox.roomJoin",facebookfriend:"proto.Common_SS"},"playbingo","proto.C2S_Common_I"),n(e,"leaveroom","smartfox.leaveRoom"),n(e,"registerInfo","proto.Common_S"),n(e,"acceptnotification","proto.Common_LS"),n(e,"deletenotification","proto.Common_LS"),n(e,"cacheusericon","proto.Common_S"),n(e,"play","proto.C2S_Play"),n(e,"joinroom","smartfox.joinRoom"),n(e,"deluxeplay","proto.C2S_Play"),n(e,"nlplay","proto.C2S_Play"),n(e,"joinWinGoRoom","proto.C2S_Play"),n(e,"war","proto.C2S_War_Play"),n(e,"gwar","proto.C2S_War_Play"),n(e,"pattiwar","proto.C2S_Patti_War"),n(e,"sit","proto.Common_I"),n(e,"bet","proto.Common_L"),n(e,"see","proto.Common_Boolean"),n(e,"show","proto.Common_L"),n(e,"sideshow","proto.Common_L"),n(e,"agreeside","proto.Common_Boolean"),n(e,"tip","proto.Common_I"),n(e,"switchdealer","proto.Common_I"),n(e,"switchtable","proto.C2S_Play"),n(e,"choosemode","proto.Common_S"),n(e,"sendmessage","proto.C2S_Msg"),n(e,"publicmsg","smartfox.PublicMessage"),n(e,"sendgift","proto.C2S_Gift"),n(e,"inviteToGame","proto.Common_LS"),n(e,"playinRoom","proto.Common_S"),n(e,"profile","proto.Common_L"),n(e,"createNewPriRoom","proto.C2S_Pri_Play"),n(e,"createNewPriPokerRoom","proto.Common_I"),n(e,"friendlist","proto.Common_Boolean"),n(e,"addfbfriends","proto.Common_SS"),n(e,"addFriReq","proto.Common_L"),n(e,"addFriDec","proto.Common_L"),n(e,"delFri","proto.Common_L"),n(e,"editusericon","proto.Common_I"),n(e,"getUserInfo","proto.Common_L"),n(e,"signin","proto.Common_Boolean"),n(e,"setdegree","proto.Common_Boolean"),n(e,"setnotification","proto.Common_Boolean"),n(e,"webstore","proto.Common_I"),n(e,"diamondtobank","proto.Common_L"),n(e,"banktochips","proto.C2S_BTC"),n(e,"banktobank","proto.C2S_BTB"),n(e,"bankhistory","proto.C2S_BH"),n(e,"goldtransfer","proto.C2S_GTG"),n(e,"goldhistory","proto.C2S_GH"),n(e,"bankpassword","proto.C2S_Bank_PWD"),n(e,"bankpin","proto.C2S_Bank_PWD"),n(e,"checkpassword","proto.Common_S"),n(e,"checkpin","proto.Common_I"),n(e,"androidbuy","proto.C2S_Android_Buy"),n(e,"iosBuy","proto.C2S_IOS_Buy"),n(e,"facebookBuy","proto.C2S_Facebook_Buy"),n(e,"facebooksmallbuy","proto.C2S_Facebook_Small_Buy"),n(e,"buystatus","proto.C2S_Buy_Status"),n(e,"buy","proto.Common_I"),n(e,"acceptbroken","proto.Common_I"),n(e,"checkredeemcode","proto.Common_S"),n(e,"redeemcode","proto.Common_S"),n(e,"invitedbonus","proto.Common_S"),n(e,"invitebonus","proto.Common_I"),n(e,"cwhslist","proto.C2S_HighScoreList"),n(e,"hwhslist","proto.C2S_HighScoreList"),n(e,"goldvipsexchange","proto.Common_I"),n(e,"goldvipscode","proto.Common_S"),n(e,"goldvipscollect","proto.Common_I"),n(e,"getZoneMessage","proto.Common_SS"),n(e,"gclassic","proto.C2S_Play"),n(e,"claimvipstar","proto.Common_I"),n(e,"casinobet","proto.C2S_Casino_Bet"),n(e,"warbet","proto.Common_Boolean"),n(e,"gcreatebwarRoom","proto.Common_L"),n(e,"gplayinbwarRoom","proto.Common_S"),n(e,"ab","proto.C2S_AB_Play"),n(e,"nab","proto.C2S_AB_Play"),n(e,"abbet","proto.AB_Bet"),n(e,"abselect","proto.Common_I"),n(e,"createABRoom","proto.Common_L"),n(e,"playinABRoom","proto.Common_S"),n(e,"gcreateABRoom","proto.Common_L"),n(e,"gplayinABRoom","proto.Common_S"),n(e,"gab","proto.C2S_AB_Play"),n(e,"sitebet","proto.C2S_Site_Bet"),n(e,"cancelbanker","proto.Common_I"),n(e,"claimnativeAd","proto.Common_S"),n(e,"bets","proto.C2S_Match"),n(e,"winnerbet","proto.C2S_WinnerBet"),n(e,"sessionbet","proto.C2S_SessionBet"),n(e,"claimbets","proto.C2S_ClaimBet"),n(e,"winneraccept","proto.Common_I"),n(e,"sessionaccept","proto.Common_I"),n(e,"sport","proto.C2S_Sport_Play"),n(e,"footballbets","proto.C2S_Football_Match"),n(e,"footballclaimbets","proto.C2S_Football_ClaimBet"),n(e,"playPoker","proto.C2S_Play"),n(e,"pokerraise","proto.Common_L"),n(e,"pokerbuyin","proto.Common_LS"),n(e,"pokersetrebuy","proto.Common_Boolean"),n(e,"testcards","proto.C2S_TestC"),n(e,"createTestRoom","proto.C2S_Pri_Play"),n(e,"gpoker","proto.C2S_Play"),n(e,"playRummy","proto.C2S_Play"),n(e,"rummydraw","proto.Common_Boolean"),n(e,"rummydiscard","proto.Common_I"),n(e,"rummytowin","proto.C2S_Rummy_Towin"),n(e,"rummydeclarewin","proto.C2S_Rummy_Declare"),n(e,"rummydeclaretemp","proto.C2S_Rummy_Declare"),n(e,"rummydeclare","proto.C2S_Rummy_Declare"),n(e,"bebanker","proto.Common_L"),n(e,"changepot","proto.Common_L"),n(e,"winGoBet","proto.C2S_WinGoBet"),n(e,"chipstobank","proto.C2S_CTB"),n(e,"acceptTask","proto.Common_I"),n(e,"sendinvite","proto.Common_I"),n(e,"customerSerSendChat","proto.C2S_SendChat"),n(e,"customerSerList","proto.Common_I"),n(e,"androidSubsBuy","proto.C2S_Subs_Buy"),n(e,"playtour","proto.C2S_Tour_Play"),n(e,"toursideshow","proto.Common_L"),n(e,"touragreeside","proto.Common_Boolean"),n(e,"tourshow","proto.Common_L"),n(e,"tourbet","proto.Common_L"),n(e,"deleteUserApple","proto.C2S_DeleteUserApple"),n(e,"fcm","proto.Common_S"),e),i.getProtoBufRequestName=function(e){return this.RequestMsg[e]?this.RequestMsg[e]:null},i.ResponseMsg={},t.exports=i}(),cc._RF.pop()},{}],ITeenPatti:[function(e,t,i){"use strict";cc._RF.push(t,"b6e1aCTekJN0L9rhEnauD1r","ITeenPatti");var n=e("IProtoBuf"),a=e("ISmartFox"),o=e("ITeenPattiConfig"),s=e("PattiOnlineConfig"),r=e("PattiMsgCache"),l=e("TeenPattiPlayer"),c=e("TeenPattiEmailBox"),h=(e("CustomerSupportHistory"),e("ClassicRoom"),e("NoLimitRoom"),e("JokerRoom"),e("MuflisRoom"),e("HukamRoom"),e("AK47Room"),e("PotBlindRoom"),e("MatchCricketRoom"),e("CasinoWarRoom"),e("MatchFootballRoom"),e("ABRoom"),e("PattiWarRoom"),e("TexasHoldemRoom"),e("DataAnalysisKey")),u=e("Command"),d=(e("RummyRoom"),e("LanguageData"),e("LocalStorage"),e("TeenPattiEncoder")),m=e("TeenPattiDecoder"),g=e("AEMobile");(function(){if(window.ITeenPatti)t.exports=window.ITeenPatti;else{var e="ITeenPatti",i=i||{};i.arrListenerMap={},i.player=null,i.room=null,i.lastRoom=null,i.inited=!1,i.gameCore=null,i.emailBox=null,i.onlineCfg=null,i.cstmMsgHistory=null,i.isReconnecting=!1,i.delayMilliseconds=0,i.delayAnalysisObj={logined:{key:h.LOGIN_NETWORK_DELAY_MILLISECONDS},RoomJoin:{key:h.ROOMJOIN_NETWORK_DELAY_MILLISECONDS},gamble:{key:h.BET_NETWORK_DELAY_MILLISECONDS},see:{key:h.SEECARD_NETWORK_DELAY_MILLISECONDS}},i.objDecoder=new m,i.objEncoder=new d,i.init=function(e){this.inited||(this.inited=!0,this.onlineCfg=new s,this.msgCache=new r,g.initAEMobile(),n.init(this))},i.setGameCore=function(e){this.gameCore=e},i.getLastHeartBeatTime=function(){return a.getLastHeartBeatTime()},i.networkDelayAnalysis=function(t,n,a){if(1==t)"login"==n?this.delayAnalysisObj.logined.lastSendTime=(new Date).getTime():"bet"==n?this.delayAnalysisObj.gamble.lastSendTime=(new Date).getTime():-1!=[u.SERVER_CMD_PLAY,u.SERVER_CMD_PLAY_DELUXE,u.SERVER_CMD_PLAY_NOLIMIT,u.SERVER_CMD_PLAY_CASINO_WAR,u.SERVER_CMD_PLAY_AB,u.SERVER_CMD_PLAY_IN_ROOM,u.SERVER_CMD_PLAY_PATTI_WAR,u.SERVER_CMD_PLAY_TEXAS_HOLDEM,u.SERVER_CMD_SPORT,u.SERVER_CMD_CREATE_PRIVATE_ROOM,u.SERVER_CMD_PLAY_TOURNAMENT,u.SERVER_CMD_PLAY_WINGO].indexOf(n)?this.delayAnalysisObj.RoomJoin.lastSendTime=(new Date).getTime():this.delayAnalysisObj[n]&&(this.delayAnalysisObj[n].lastSendTime=(new Date).getTime());else if(2==t){if("see"==n){if(!this.player||!this.player.role||this.player.role.playerId!=a.id)return}else if(!("gamble"!=n||this.player&&this.player.role&&this.player.role.playerId==a.playerId&&2==a.action))return;if(this.gameCore&&i.delayAnalysisObj[n]){LogUtil.debug(e,"cmd:"+n+" delay:"+((new Date).getTime()-this.delayAnalysisObj[n].lastSendTime));var o="unknown";cc.sys.platform==cc.sys.ANDROID&&(o=jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","getNetworkType","()Ljava/lang/String;")),this.gameCore.dataAnalysisMng.sendData(this.delayAnalysisObj[n].key,this.gameCore.dataAnalysisMng.gameBaseData.concat(["delay:"+((new Date).getTime()-this.delayAnalysisObj[n].lastSendTime),"network:"+o]))}}},i.connect=function(t,i){LogUtil.info(e,"Start Connect Server "+t+" "+i),this.hostName="gs"==t.substr(0,2)?t.substr(0,3):t,n.connect(t,i)},i.connectRetry=function(){n.connectRetry()},i.loadProtoFile=function(e,t){this.allProtoFileLoadedCallback=t,this.nLoadCount=0,this.arrProtoContent={},this.arrProtoPath=e;for(var i=0;i<e.length;i++){var a=e[i];n.loadFile(a,handler(this,this.onLoadFileFinish))}},i.onLoadFileFinish=function(e,t){this.nLoadCount++,this.arrProtoContent[e]=t,this.nLoadCount<this.arrProtoPath.length||(n.initProtoBuilder(this.arrProtoPath,this.arrProtoContent),this.allProtoFileLoadedCallback())},i.loadHostCfg=function(e){this.onlineCfg.loadHostCfg(e)},i.loadHostCfgFromCache=function(e){this.onlineCfg.loadHostCfgFromCache(e)},i.roomLeaved=function(){this.gameCore.userMng.isJoining=!1,this.lastRoom=i.room,this.room=null},i.addListener=function(e,t,i){if(e&&i){var n=this.arrListenerMap[e]||[];n.length||(n=[]);for(var a=0;a<n.length;++a)if(t==n[a].target&&i==n[a].listener)return;n[n.length]={target:t,listener:i},this.arrListenerMap[e]=n}},i.removeListener=function(e,t,i){if(e&&t){for(var n=this.arrListenerMap[e]||[],a=n.length-1;a>=0;--a)i&&i==n[a].listener?n.splice(a,1):t==n[a].target&&n.splice(a,1);this.arrListenerMap[e]=n}},i.removeListenerWithTarget=function(e){for(var t in this.arrListenerMap)this.removeListener(t,e)},i.login=function(e,t,i){this.player=new l(i),this.player.gameCore=this.gameCore,this.player.initWithFBData(i),this.emailBox=new c,n.setUserName(e),this.sendMsg("login",t)},i.logout=function(){this.player=null,this.emailBox=null,this.cstmMsgHistory=null,this.sendMsg("logout",null)},i.getCurPlayer=function(){return this.player},i.getMySelfRole=function(){return this.roomType===ROOM_TYPE.RUMMY?this.player.rummyrole:this.player.role},i.getEmailBox=function(){return this.emailBox},i.getLastRoom=function(){return this.lastRoom},i.getCurRoom=function(){return this.room},i.getCurTable=function(){return this.room?this.room.table:null},i.getCurSFSUser=function(){return a.getCurSFSUser()},i.getCurRoomSFSUserList=function(){return a.getCurRoomUserList()},i.getCurRoomSFSSitUserList=function(){return a.getCurRoomSitUserList()},i.getCurSFSRoom=function(){return a.getCurRoom()},i.isInRoom=function(){return!!this.room},i.sendMsg=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=o.getProtoBufRequestName(t);!i||a?(LogUtil.printTeenPattiRequest(t,i),t==u.SERVER_CMD_PLAY_IN_ROOM&&i&&(this.playInRoomName=i.i),n.sendMsg(t,a,i),this.networkDelayAnalysis(1,t)):LogUtil.err(e,"Exist Message But Can not find Proto Define of Cmd")},i.onInitFinish=function(){},i.onMsgReceived=function(e,t){if(e){LogUtil.printTeenPattiResponse(e,t),IApplication&&IApplication.onMsgReceived(e,t),this.onlineCfg&&this.onlineCfg.onMsgReceived(e,t),this.msgCache&&this.msgCache.onMsgReceived(e,t),this.player&&this.player.onMsgReceived(e,t),this.emailBox&&this.emailBox.onMsgReceived(e,t),this.cstmMsgHistory&&this.cstmMsgHistory.onMsgReceived(e,t);var i=this.objDecoder.decode(e,t);if(e=i.cmd,t=i.data,!(this.gameCore&&this.gameCore.gameMng.needCacheSceneOpeningCommand(e,t)||this.gameCore&&this.gameCore.gameMng.needCacheCommand(e,t))){this.networkDelayAnalysis(2,e,t),"RoomJoin"==e&&this.gameCore&&this.gameCore.userMng&&(this.playInRoomName==t.room.name&&this.gameCore.userMng.playInRoomFilter(this.playInRoomName),this.playInRoomName=null);for(var n=this.arrListenerMap[e]||[],a=n.length-1;a>=0;--a)n[a]&&null==typeof n[a].target.node&&n.splice(a,1);for(var o=n.length-1;o>=0;--o){if(n[o])handler(n[o].target,n[o].listener)(e,t)}this.arrListenerMap[e]=n}}},i.onMsgCacheReceived=function(e,t){if(e&&(!this.gameCore||!this.gameCore.gameMng.needCacheSceneOpeningCommand(e,t))){for(var i=this.arrListenerMap[e]||[],n=i.length-1;n>=0;--n)i[n]&&null==typeof i[n].target.node&&i.splice(n,1);for(var a=i.length-1;a>=0;--a){if(i[a])handler(i[a].target,i[a].listener)(e,t)}this.arrListenerMap[e]=i}},i.decodeMsg=function(e,t){n.decodeMsg(e,t)},window.ITeenPatti=i,t.exports=i}})(),cc._RF.pop()},{ABRoom:"ABRoom",AEMobile:"AEMobile",AK47Room:"AK47Room",CasinoWarRoom:"CasinoWarRoom",ClassicRoom:"ClassicRoom",Command:"Command",CustomerSupportHistory:"CustomerSupportHistory",DataAnalysisKey:"DataAnalysisKey",HukamRoom:"HukamRoom",IProtoBuf:"IProtoBuf",ISmartFox:"ISmartFox",ITeenPattiConfig:"ITeenPattiConfig",JokerRoom:"JokerRoom",LanguageData:"LanguageData",LocalStorage:"LocalStorage",MatchCricketRoom:"MatchCricketRoom",MatchFootballRoom:"MatchFootballRoom",MuflisRoom:"MuflisRoom",NoLimitRoom:"NoLimitRoom",PattiMsgCache:"PattiMsgCache",PattiOnlineConfig:"PattiOnlineConfig",PattiWarRoom:"PattiWarRoom",PotBlindRoom:"PotBlindRoom",RummyRoom:"RummyRoom",TeenPattiDecoder:"TeenPattiDecoder",TeenPattiEmailBox:"TeenPattiEmailBox",TeenPattiEncoder:"TeenPattiEncoder",TeenPattiPlayer:"TeenPattiPlayer",TexasHoldemRoom:"TexasHoldemRoom"}],IconFrameCache:[function(e,t,i){"use strict";cc._RF.push(t,"2ee45K2sP9JxYqlChEyceHc","IconFrameCache");cc.Class({extends:cc.Component,properties:{arrIconFrame:[cc.SpriteFrame]},onLoad:function(){},getIconFrameWithID:function(e){return this.arrIconFrame[e]}});cc._RF.pop()},{}],InGamePlayerInfo:[function(e,t,i){"use strict";cc._RF.push(t,"4cacdw3JExK75S25Zf8+PrM","InGamePlayerInfo");var n=e("BaseUI"),a=e("TeenPattiUser"),o=e("UIInfo"),s=e("GameData"),r=e("ProgressBar"),l=e("DataAnalysisKey"),c=e("LanguageData"),h=e("FacebookIcon"),u=e("Command"),d=e("GameUtils");cc.Class({extends:n,properties:{myselfNode:cc.Node,othersNode:cc.Node,lblName:cc.Label,lblUserID:cc.Label,lblChips:cc.Label,lblLevel:cc.Label,lblHandsWin:cc.Label,lblChipsWin:cc.Label,lblChipsWinDesc:cc.Label,lblChipsMyself:cc.Label,lblLevelMyself:cc.Label,lblNextLevelMyself:cc.Label,lblNextLevelRewardMyself:cc.Label,lblNextLevelRewardNodeMyself:cc.Node,levelProgressMyself:r,imgIcon:h,btnMsg:cc.Button,btnBlock:cc.Button,btnUnblock:cc.Button,btnAddFriend:cc.Button,msgNode:cc.Node,blockUnblockNode:cc.Node,addFriendNode:cc.Node,delFriendNode:cc.Node,giftBlackMask:cc.Node,giftContent:cc.Node,item:cc.Prefab,strUserID:"",tpUser:a,chipRed:cc.Node,chipYellow:cc.Node,userIDContainer:cc.Node,newIDLabel:cc.Label},onLoad:function(){this._super();var e=ITeenPatti.getCurRoom();e&&(this.chipRed.active=!e.isTournament,this.chipYellow.active=e.isTournament),this.updateBlockBtnStatus()},initComplete:function(){this._super(),this.gameCore.dataAnalysisMng.sendData(l.CLICK_PLAYER_INFOPAGE,this.gameCore.dataAnalysisMng.gameBaseData),this.myselfNode.active=!1,this.othersNode.active=!1,this.lblName.string="",this.lblUserID.string="",this.newIDLabel.string="",this.giftContent.removeAllChildren();for(var e=s.giftCount,t=0,i=[1,2,3,4,26,24,23,28,27,25,22,5,19,20,8,21,10,11,12,13,14,15,16,17,18,6,7,9],n=0;n<e;n++)if(16!=i[n]){var a=this.gameCore.gameMng.createGiftItem(i[n],this.item,handler(this,this.onBtnGiftClicked));a.scale=.7,a.setPosition(t%4*106-157,-106*Math.floor(t/4)-50),this.giftContent.addChild(a),t++}this.giftContent.height=106*Math.ceil((e-1)/4)},updateBlockBtnStatus:function(){if(ITeenPatti.getCurRoom()){var e=ITeenPatti.getCurRoom().msgHistory.isBlocked(this.strUserID);this.btnBlock.node.active=!e,this.btnUnblock.node.active=e}},onBtnGiftClicked:function(e,t,i){this.gameCore.gameMng.sendGift([this.strUserID],t,i),this.closeUI()},initWithMsgGetUserInfo:function(e){if(this.profileData=e,this.strUserID=e.user_id,ITeenPatti.getCurTable()&&(this.tpUser=ITeenPatti.getCurTable().getUserWithUserID(this.strUserID),ITeenPatti.getCurRoom())){var t=ITeenPatti.getCurRoom().msgHistory;if(this.lblUserID.string=this.strUserID,this.newIDLabel.string=c.t("label_text.id",{id:this.profileData.id}),this.tpUser){this.lblName.string=this.tpUser.strTPName;this.tpUser.role;ITeenPatti.getCurRoom().roomType==ROOM_TYPE.RUMMY&&this.tpUser.rummyrole}this.updateChipsWonLabel(e),this.lblHandsWin.string=e.hands_win+" / "+e.hands_num;var i=!1;ITeenPatti.getCurPlayer().role?i=ITeenPatti.getCurPlayer().role.isWatcher()&&!ITeenPatti.getCurTable().myselfIsBanker:ITeenPatti.getCurPlayer().rummyrole&&(i=ITeenPatti.getCurPlayer().rummyrole.isWatcher()),this.strUserID==ITeenPatti.getCurPlayer().userId?(this.myselfNode.active=!0,this.updateMyselfChipsLabel(),this.levelProgressMyself.progress=this.gameCore.userMng.myself.expProgress,this.lblLevelMyself.string=c.t("label_text.lobby_profile_bar_level",{lv:this.gameCore.userMng.myself.nLevel}),this.lblNextLevelMyself.string="",this.lblNextLevelMyself.string="",this.gameCore.userMng.myself.nLevel>=s.maxLevel?(this.lblNextLevelRewardNodeMyself.active=!1,this.lblNextLevelMyself.horizontalAlign=cc.Label.HorizontalAlign.LEFT,this.lblNextLevelMyself.node.x=125,this.lblNextLevelMyself.string=c.t("label_text.max_level")):e.levelbonus&&(this.lblNextLevelMyself.string=c.t("label_text.lobby_profile_bar_level1",{lv:e.levelbonus.level}),this.lblNextLevelRewardMyself.string=c.t("label_text.lobby_profile_bar_get",{reward:d.formatNumberWithRules(e.levelbonus.bonus)}))):(this.userIDContainer.active=!1,this.othersNode.active=!!this.tpUser,this.updateOthers(),this.updateBlockBtnStatus(),this.btnMsg.interactable=!t.isBlocked(this.strUserID),this.tpUser||(this.gameCore.uiMng.addListener(u.UI_CMD_USER_INFO_GOTTEN,this,this.userInfoGotten),ITeenPatti.sendMsg(u.SERVER_CMD_GET_USER_INFO,{i:this.strUserID}))),i&&(this.btnMsg.interactable=!1,this.btnBlock.interactable=!1,this.btnUnblock.interactable=!1,this.giftBlackMask.active=!0),this.tpUser&&this.imgIcon.initWithTeenPattiUser(this.tpUser)}},userInfoGotten:function(e){e.id==this.strUserID&&(this.othersNode.active=!0,this.gameCore.uiMng.removeListener(u.UI_CMD_USER_INFO_GOTTEN,this,this.userInfoGotten),this.tpUser=new a,this.tpUser.initWithUserinfoData(e),this.lblName.string=this.tpUser.strTPName,this.updateOthers(),this.imgIcon.initWithTeenPattiUser(this.tpUser))},updateOthers:function(){if(this.tpUser){var e=ITeenPatti.getCurPlayer().isFacebookLogin()&&this.tpUser&&this.tpUser.isFacebookLogin();this.addFriendNode.active=0==this.profileData.relation&&e,this.delFriendNode.active=2==this.profileData.relation&&e,this.msgNode.x=1!=this.profileData.relation&&e?0:-56,this.blockUnblockNode.x=1!=this.profileData.relation&&e?80:56,this.updateOtherChipsLabel(),this.lblLevel.string=c.t("label_text.lobby_profile_bar_level",{lv:this.tpUser.getTeenPattiProfile().nLevel})}},updateChipsWonLabel:function(e){var t=e.new_chips_win?e.new_chips_win:e.chips_win;this.lblChipsWin.string=c.t("label_text.chips_with_symbol",{number:d.formatNumberWithRules(Math.abs(t))}),this.lblChipsWinDesc.string=t>=0?c.t("label_text.chips_won"):c.t("label_text.chips_lost")},updateMyselfChipsLabel:function(){this.lblChipsMyself.string=this.gameCore.uiMng.curSceneKey==o.TEXAS_HOLDEM_SCENE.name?d.formatNumberWithRules(this.gameCore.userMng.myself.tpProfile.realChips):d.formatNumberWithRules(this.gameCore.userMng.myself.nChips)},updateOtherChipsLabel:function(){this.lblChips.string=""+d.formatNumberWithRules(this.tpUser.getTeenPattiProfile().nChips)},onUserBlockOrUnBlock:function(e){var t=ITeenPatti.getCurRoom().msgHistory;t.isBlocked(this.strUserID)?t.removeBlockID(this.strUserID):t.addBlockID(this.strUserID),this.updateBlockBtnStatus(),this.btnMsg.interactable=!t.isBlocked(this.strUserID)},onBtnSendGiftClicked:function(e){this.tpUser&&(this.gameCore.uiMng.openUI(o.GIFTS,handler(this,function(e){e&&e.setReceiverID(this.tpUser.userId)})),this.onBlackBgTouchEnd(e))},onBtnSendMsgClicked:function(e){this.tpUser&&(this.gameCore.uiMng.openUI(o.CHAT,handler(this,function(e){e&&e.setReceiverID(this.strUserID)})),this.onBlackBgTouchEnd(e))},onBtnBlockClicked:function(){this.tpUser&&(this.gameCore.uiMng.isPopUpByUIKey(o.BLOCK_CONFIRM_POPUP.name)||this.gameCore.uiMng.openUI(o.BLOCK_CONFIRM_POPUP,handler(this,function(e){e&&(e.setUserInfo(this.tpUser.userId),e.setSureCb(handler(this,this.onUserBlockOrUnBlock)))})))},onBtnAddFriendClicked:function(e){this.gameCore.gameMng.showFloatAlert(c.t("label_text.request_sent")),ITeenPatti.sendMsg(u.SERVER_CMD_ADD_FRIEND_REQUEST,{i:this.strUserID}),this.btnAddFriend.interactable=!1,this.btnAddFriend.node.color=new cc.Color(100,100,100)},onBtnDelFriendClicked:function(e){this.gameCore.uiMng.addListener(u.SERVER_CMD_DELETE_FRIEND,this,this.onDelFriend),ITeenPatti.sendMsg(u.SERVER_CMD_DELETE_FRIEND,{i:this.strUserID})},onDelFriend:function(e){this.gameCore.uiMng.removeListener(u.SERVER_CMD_DELETE_FRIEND,this,this.onDelFriend),e.errorcode||this.strUserID==e.userInfo.id&&(this.addFriendNode.active=!0,this.delFriendNode.active=!1)},onUserIDClk:function(e){this.gameCore.gameMng.copyToClipboard(this.lblUserID.string)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon",GameData:"GameData",GameUtils:"GameUtils",LanguageData:"LanguageData",ProgressBar:"ProgressBar",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],InVIPGamePlayerInfo:[function(e,t,i){"use strict";cc._RF.push(t,"9fe90TD+0dDj4lQ1udpABYm","InVIPGamePlayerInfo");var n=e("InGamePlayerInfo"),a=e("GameUtils"),o=e("LanguageData");cc.Class({extends:n,properties:{},updateChipsWonLabel:function(e){var t=e.new_chips_win?e.new_chips_win:e.chips_win;this.lblChipsWin.string=o.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(Math.abs(t))}),this.lblChipsWinDesc.string=t>=0?o.t("label_text.gold_won"):o.t("label_text.gold_lost")},updateMyselfChipsLabel:function(){this.lblChipsMyself.string=a.formatNumberWithRules(this.profileData.chips)},updateOtherChipsLabel:function(){this.lblChips.string=""+a.formatNumberWithRules(this.profileData.chips)}}),cc._RF.pop()},{GameUtils:"GameUtils",InGamePlayerInfo:"InGamePlayerInfo",LanguageData:"LanguageData"}],InitPopupManager:[function(e,t,i){"use strict";cc._RF.push(t,"61559MWV05PxqrvWUDOo7PE","InitPopupManager");var n=e("BaseManager"),a=e("ITeenPatti"),o=e("LocalStorage"),s=e("Command"),r=e("UIInfo");cc.Class({extends:n,properties:{pause:!1,isAllComplete:!1,redeemCodeComplete:{set:function(e){this._redeemCodeComplete=e,e&&(this.isBackground||this.openInviteCode())}},inviteCodeComplete:{set:function(e){this._inviteCodeComplete=e,e&&this.openVersionUpdate()}},versionUpdateComplete:{set:function(e){this._versionUpdateComplete=e,e&&this.openPromotion()}},promotionComplete:{set:function(e){this._promotionComplete=e,e&&this.openMonthlyElite()}},monthlyEliteComplete:{set:function(e){this._monthlyEliteComplete=e,e&&this.openDailySignIn()}},dailySignInComplete:{set:function(e){this._dailySignInComplete=e,this.gameCore.uiMng.getUIByUIKey(r.DAILY_SIGN_IN.name)||e&&this.openRateUs()}},rateUsComplete:{set:function(e){this._rateUsComplete=e,e&&this.openEventActive()}},eventActiveComplete:{set:function(e){this._eventActiveComplete=e,e&&(this.isAllComplete=!0)}},objVersionCfg:null,redeemCodeData:{set:function(e){this._redeemCodeData=e,this.isBackground||this.openRedeemCode()}},inviteCodeData:{set:function(e){this._inviteCodeData=e}}},ctor:function(){this._redeemCodeComplete=!1,this._inviteCodeComplete=!1,this._versionUpdateComplete=!1,this._promotionComplete=!1,this._monthlyEliteComplete=!1,this._dailySignInComplete=!1,this._rateUsComplete=!1},onEnterForeground:function(){this._super(),this._redeemCodeData?this.openRedeemCode():this._inviteCodeData&&this.openInviteCode()},openPromotion:function(){if(this.canGoOn("promotion"))if(this._promotionComplete)this.openMonthlyElite();else{if(this.gameCore.uiMng.getUIByUIKey(r.PROMOTION_POPUP.name))return;if((Math.random()<.5||!this.gameCore.gameMng.canBuyMonthlyElite())&&a.getCurPlayer()&&a.getCurPlayer().ptProfile){var e=a.getCurPlayer().ptProfile;if(e){var t=e.getCanAutoPopupItem();t?this.gameCore.uiMng.openUI(r.PROMOTION_POPUP,function(e){e&&(this.hasPromotionOpened=!0,e.setInitData(t),o.saveLocalData(o.keys.IS_PROMOTION_POPUPED+t.id,!0))}.bind(this)):this.promotionComplete=!0}}}},openMonthlyElite:function(){this.canGoOn("monthlyElite")&&(this._monthlyEliteComplete?this.openDailySignIn():!this.hasPromotionOpened&&this.gameCore.gameMng.openMonthlyCard()||(this.monthlyEliteComplete=!0))},openRedeemCode:function(){this.isPreviousAllComplete("redeemCode")&&(this._redeemCodeData?(this.gameCore.uiMng.addListener(s.SERVER_CMD_CHECK_REDEEM_CODE,this,this.onCheckRedeemCode),a.sendMsg(s.SERVER_CMD_CHECK_REDEEM_CODE,{i:this._redeemCodeData.gid})):this.redeemCodeComplete=!0)},onCheckRedeemCode:function(e){if(this.gameCore.uiMng.removeListener(s.SERVER_CMD_CHECK_REDEEM_CODE,this,this.onCheckRedeemCode),e.errorcode)this.redeemCodeComplete=!0,this._redeemCodeData=null;else if(e.isReceive)this.gameCore.uiMng.openUI(r.REDEEM_CODE,handler(this,function(e,t){e&&this._redeemCodeData&&(this._redeemCodeData.chips=t.chips,e.setInitData(this._redeemCodeData),this._redeemCodeData=null)},e));else{var t="";t=2605==e.chips&&e.msg?e.msg:{2601:"The gift code is expired.",2602:"The gift code is invalid.",2603:"You have collected the bonus.",2604:"The free gift is not ready yet.",2605:"You are not qualified to claim this bonus."}[e.chips],this.gameCore.gameMng.showAlert(t,"",1.1,handler(this,function(){this.redeemCodeComplete=!0})),this._redeemCodeData=null}},openInviteCode:function(){this.isPreviousAllComplete("inviteCode")&&(this._inviteCodeData&&this.gameCore.uiMng.isInLobby&&a.getCurPlayer().isFacebookLogin()?this.gameCore.uiMng.openUI(r.INVITE_CODE,handler(this,function(e){e&&this._inviteCodeData&&(e.setFriendInviteCode(this._inviteCodeData.id),this._inviteCodeData=null)})):this.inviteCodeComplete=!0)},openVersionUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.objVersionCfg=e),this.canGoOn("versionUpdate")&&(this.objVersionCfg&&this.gameCore.uiMng.lastSceneKey==r.LOGIN_SCENE.name?this.gameCore.uiMng.openUI(r.VERSION_UPDATE_POPUP,function(e){e&&this.objVersionCfg&&(e.setInitData(this.objVersionCfg),this.objVersionCfg=null)}.bind(this)):this.versionUpdateComplete=!0)},openDailySignIn:function(){this.isPreviousAllComplete("dailySignIn")&&(this.gameCore.userMng.needAutoPopupSignIn?(this.gameCore.userMng.needAutoPopupSignIn=!1,this.gameCore.uiMng.openUI(r.DAILY_SIGN_IN)):this.dailySignInComplete=!0)},openRateUs:function(){this.canGoOn("rateUs")&&(cc.sys.isNative&&!o.getLocalData("enter_game_rate_us")&&3==o.getLocalData(o.keys.ENTER_GAME_TIMES)?(this.gameCore.uiMng.openUI(r.RATE),o.saveLocalData("enter_game_rate_us",!0)):this.rateUsComplete=!0)},openEventActive:function(){this.canGoOn("eventActive")&&(this.gameCore.userMng.needAutoPopupEventActive?(this.gameCore.userMng.needAutoPopupEventActive=!1,this.gameCore.uiMng.openUI(r.EVENT_ACTIVE_POPUP)):this.eventActiveComplete=!0)},canGoOn:function(e){return!this.pause&&!(this.isAllComplete||!this.isPreviousAllComplete(e))},isPreviousAllComplete:function(e){if(this.pause)return!1;for(var t=["redeemCode","inviteCode","versionUpdate","promotion","monthlyElite","dailySignIn","rateUs"],i=[this._redeemCodeComplete,this._inviteCodeComplete,this._versionUpdateComplete,this._promotionComplete,this._monthlyEliteComplete,this._dailySignInComplete,this._rateUsComplete,this._eventActiveComplete],n=t.indexOf(e),a=0;a<n;a++)if(0==i[a])return!1;return!0}});cc._RF.pop()},{BaseManager:"BaseManager",Command:"Command",ITeenPatti:"ITeenPatti",LocalStorage:"LocalStorage",UIInfo:"UIInfo"}],InstantGameANMManager:[function(e,t,i){"use strict";cc._RF.push(t,"370dajB8o9AWbC49NGjikSu","InstantGameANMManager");var n=e("Command"),a=e("BaseManager");cc.Class({extends:a,properties:{preloadedInterstitial:null,preloadedRewardedVideo:null,interstitialLoaded:!1,rewardedVideoLoaded:!1},ctor:function(){this.preloadInterstitialAdAsync(),this.preloadRewardedVideoAsync()},showInterstitialAd:function(){isInstantGame&&(this.interstitialLoaded&&this.preloadedInterstitial?this.preloadedInterstitial.showAsync().then(function(){this.interstitialLoaded=!1,this.preloadInterstitialAdAsync()}.bind(this)).catch(function(e){cc.log(e.message)}):this.preloadInterstitialAdAsync())},showRewardedVideo:function(e){return!!(isInstantGame&&this.rewardedVideoLoaded&&this.preloadedRewardedVideo)&&(this.rewardedVideoLoaded=!1,this.preloadRewardedVideoAsync(),this.preloadedRewardedVideo.showAsync().then(function(){e&&e(!0)}.bind(this)).catch(function(e){cc.log(e.message)}.bind(this)),!0)},preloadInterstitialAdAsync:function(){isInstantGame&&!this.interstitialLoaded&&(FBInstant.getSupportedAPIs().includes("getInterstitialAdAsync")&&FBInstant.getInterstitialAdAsync("1907746885933852_1907750845933456").then(function(e){return this.preloadedInterstitial=e,this.preloadedInterstitial.loadAsync()}.bind(this)).then(function(){this.interstitialLoaded=!0}.bind(this)).catch(function(e){cc.log("Interstitial failed to preload:"+e.message)}))},preloadRewardedVideoAsync:function(){isInstantGame&&!this.rewardedVideoLoaded&&(FBInstant.getSupportedAPIs().includes("getRewardedVideoAsync")&&FBInstant.getRewardedVideoAsync("1907746885933852_1907753795933161").then(function(e){return this.preloadedRewardedVideo=e,this.preloadedRewardedVideo.loadAsync()}.bind(this)).then(function(){this.rewardedVideoLoaded=!0,this.gameCore.uiMng.dispatch(n.UI_CMD_INSTANTGAME_REWARDED_VIDEO_LOADED)}.bind(this)).catch(function(e){cc.log("Rewarded video failed to preload:"+e.message)}))}});cc._RF.pop()},{BaseManager:"BaseManager",Command:"Command"}],InvitationAlert:[function(e,t,i){"use strict";cc._RF.push(t,"a8cd1r0x9NGEqiX09nssDeS","InvitationAlert");var n=e("BaseEdgePopup"),a=e("FacebookIcon"),o=e("GameUtils"),s=(e("TeenPattiUser"),e("ISmartFox"),e("ClampLabel")),r=e("DataAnalysisKey");cc.Class({extends:n,properties:{invitation:{default:null,visible:!1},nameLabel:s,chipsLabel:cc.Label,facebookIcon:a},onLoad:function(){this._super()},initComplete:function(){this._super(),this.gameCore.dataAnalysisMng.sendData(r.POPUP_FRIENDSTABLE_REQUEST)},initWithData:function(e){this.invitation=e,this.nameLabel.string=e.inviter.strTPName,this.chipsLabel.string=o.formatNumberWithRules(e.inviter.nChips),this.facebookIcon.initWithTeenPattiUser(e.inviter),this.schedule(this.closeUI,3)},closeUI:function(){this.unschedule(this.closeUI),this._super()},onDeclineBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(r.DECLINE_FRIENDSTABLE_REQUEST),this.invitation.expired=(new Date).getTime()/1e3,this.closeUI()},onJoinBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(r.ACCEPT_FRIENDSTABLE_REQUEST),this.invitation.expired=(new Date).getTime()/1e3,(-1==this.invitation.roomName.indexOf("#pri")||this.gameCore.gameMng.priRoomHasEnoughChips())&&(-1==this.invitation.roomName.indexOf("NoLimit")||this.gameCore.gameMng.noLimitRoomHasEnoughChips())&&0!=this.invitation.roomName.indexOf("ab@")?(this.gameCore.userMng.playInRoom(this.invitation.roomName),this.closeUI()):this.closeUI()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",ClampLabel:"ClampLabel",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",ISmartFox:"ISmartFox",TeenPattiUser:"TeenPattiUser"}],InvitationMailerBtn:[function(e,t,i){"use strict";cc._RF.push(t,"6341eUTSHVHMp9DmsQic0Oz","InvitationMailerBtn");var n=e("BaseComponent"),a=e("Command");cc.Class({extends:n,properties:{countLabel:cc.Label},initComplete:function(){this._super(),this.node.active=!1,this.gameCore.uiMng.addListener(a.UI_CMD_INVITATION_COUNT,this,this.updateStatus),this.updateStatus()},onEnterForeground:function(){this._super(),this.updateStatus()},updateStatus:function(){if(this.node&&!this.isBackground&&this.gameCore){var e=this.gameCore.userMng.invitationCount;this.node.active=e>0,this.countLabel.string=Math.min(9,e)}}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command"}],InvitationMessage:[function(e,t,i){"use strict";cc._RF.push(t,"2da1fXkmLtJvrBZrgFgy+gU","InvitationMessage");var n=e("BaseEdgePopup"),a=e("Command");cc.Class({extends:n,properties:{scrollviewContent:cc.Node,item:cc.Prefab},onLoad:function(){this._super()},gameCoreSetComplete:function(){this._super(),this.gameCore.uiMng.addListener(a.UI_CMD_INVITATION_COUNT,this,this.updateList),this.updateList()},updateList:function(){if(this.scrollviewContent){this.scrollviewContent.removeAllChildren();for(var e=this.gameCore.userMng.invitations,t=e.length-1;t>=0;t--){var i=cc.instantiate(this.item);i.setPosition(0,-160*t);var n=i.getComponent("InvitationMsgItem");n.gameCore=this.gameCore,n.updateItem(e[t]),this.scrollviewContent.addChild(i)}this.scrollviewContent.height=160*e.length-10}}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",Command:"Command"}],InvitationMsgItem:[function(e,t,i){"use strict";cc._RF.push(t,"16fa4O4c81O94aiviWyBreN","InvitationMsgItem");var n=e("GameUtils"),a=e("FacebookIcon");e("ISmartFox"),e("TeenPattiUser");cc.Class({extends:cc.Component,properties:{invitation:{default:null,visible:!1},gameCore:{default:null,visible:!1},nameLabel:cc.Label,chipsLabel:cc.Label,roomNameLabel:cc.Label,facebookIcon:a},onLoad:function(){},updateItem:function(e){this.invitation=e,this.nameLabel.string=e.inviter.strTPName,this.chipsLabel.string=n.formatNumberWithRules(e.inviter.nChips),this.roomNameLabel.string=ITeenPatti.gameCore.gameMng.getRoomName(this.invitation.roomName),this.facebookIcon.initWithTeenPattiUser(e.inviter)},onDeclineBtnClk:function(e){this.invitation.expired=(new Date).getTime()/1e3},onJoinBtnClk:function(e){this.invitation.expired=(new Date).getTime()/1e3,(-1==this.invitation.roomName.indexOf("#pri")||this.gameCore.gameMng.priRoomHasEnoughChips())&&(-1==this.invitation.roomName.indexOf("NoLimit")||this.gameCore.gameMng.noLimitRoomHasEnoughChips())&&0!=this.invitation.roomName.indexOf("ab@")&&this.gameCore.userMng.playInRoom(this.invitation.roomName)}}),cc._RF.pop()},{FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",ISmartFox:"ISmartFox",TeenPattiUser:"TeenPattiUser"}],InviteCode:[function(e,t,i){"use strict";cc._RF.push(t,"9b03fF9A25CD71f0dOF2ntd","InviteCode");var n=e("Command"),a=e("GameUtils"),o=e("LanguageData"),s=e("BaseUI");cc.Class({extends:s,properties:{topBg:cc.Node,bottomBg:cc.Node,codeLabel:cc.Label,codeEnterLabel:cc.EditBox,claimableNodes:[cc.Node],rewardNodes:[cc.Node],rewardCompleteNodes:[cc.Node],rewardLabels:[cc.Label],requirementLabels:[cc.Label],shareDescLabel:cc.Label,claimBtn:cc.Node,okBtn:cc.Button,whatsappBtn:cc.Node,fbBtn:cc.Node,singleBonus:cc.Node,multiBonus:cc.Node,singleBonusContentLabel:cc.RichText,multiBonusContentLabel:cc.Label,multiBonusRewardLabel:cc.Label,multiBonusRequirementLabel:cc.Label,friendsCodeDescLabel:cc.Label,leftClaimCount:cc.Node,leftClaimCountLabel:cc.Label,stopPropagationNodes:[cc.Node],code:{default:null,visible:!1},isCode:{get:function(){return this._isCode},set:function(e){this._isCode=e,this.bottomBg.active=e},visible:!1},totalInviteNum:{default:0,visible:!1},requireInviteNum:{default:null,visible:!1},shareURL:{default:null,visible:!1}},onLoad:function(){this._super(),this.topBg.y=this.bottomBg.y=0,this.claimBtn.active=this.whatsappBtn.active=this.fbBtn.active=!1,this.singleBonus.active=this.multiBonus.active=!1;for(var e=0;e<this.claimableNodes.length;e++)this.claimableNodes[e].active=!1;for(e=0;e<this.stopPropagationNodes.length;e++)this.stopPropagationNodes[e].on(cc.Node.EventType.TOUCH_END,this.onBgMouseTouchEnd,this);for(e=0;e<this.rewardNodes.length;e++)this.rewardNodes[e].active=!1,this.rewardCompleteNodes[e].active=!1},initComplete:function(){this._super(),this.loadingPos=cc.v2(0,0),this.loadingContainer=this.node,this.loadingScale=1,this.showNetworkDelayLoading(),ITeenPatti.sendMsg(n.SERVER_CMD_INVITE_CODE),this.gameCore.uiMng.addListener(n.SERVER_CMD_INVITE_CODE,this,this.onInviteCodeDetail),this.codeEnterLabel.placeholder=o.t("label_text.enter_code")},setFriendInviteCode:function(e){this.codeEnterLabel.string=e,this.needAutoGetReward=!0,this.autoGetReward()},autoGetReward:function(){this.needAutoGetReward&&this.code&&(this.needAutoGetReward=!1,this.onGetRewardBtnClk())},onInviteCodeDetail:function(e){if(this.hideNetworkDelayLoading(),!e.errorcode&&this.isValid){this.codeLabel.string=this.code=e.code,this.friendsCodeDescLabel.string=o.t("label_text.enter_invite_code",{chips:a.formatNumberWithRulesWithK(e.codeBonus),number:e.codeDays}),this.shareURL="http://www.teenpattiflush.com/patti/playgame.html?type=invitecode&id="+this.code,this.shareMessage=(o.t("label_text.share_code_msg",{userid:this.code,chips:a.formatNumberWithRulesWithK(e.codeBonus)})+"\n"+this.shareURL).split(" ").join("[%@]");for(var t=1;t<=this.rewardLabels.length;t++)e.bonuses[t]&&(this.rewardLabels[t-1].string=a.formatNumberWithRulesWithK(e.bonuses[t]));this.totalInviteNum=e.num,this.requireInviteNum=e.bounsNum,this.bonuses=e.bonuses,this.invitedNum=e.invitedNum?e.invitedNum:0,this.claimableNodes[0].active=e.hasInvited,this.updateClaimableAndRequirement(e.accpeted);for(t=1;t<this.claimableNodes.length;t++)this.claimableNodes[t].active&&this.invitedNum++;this.updateLeftClaimCount(),this.isCode=e.isCode,this.isCode&&(this.topBg.runAction(cc.moveTo(.3,cc.v2(0,60))),this.bottomBg.runAction(cc.moveTo(.3,cc.v2(0,-250)))),this.autoGetReward()}},updateClaimableAndRequirement:function(e){this.accpeted=e;for(var t=!1,i=1;i<=this.requirementLabels.length;i++)this.requireInviteNum[i]&&(this.requirementLabels[i-1].string=this.totalInviteNum+"/"+this.requireInviteNum[i],this.claimableNodes[i].active=this.totalInviteNum>=this.requireInviteNum[i]&&e<i,this.claimableNodes[i].active&&(t=!0),this.rewardNodes[i-1].active=i>e,this.rewardCompleteNodes[i-1].active=!this.rewardNodes[i-1].active);this.claimBtn.active=this.claimableNodes[0].active||t,this.whatsappBtn.active=this.fbBtn.active=!this.claimBtn.active,this.updateLeftClaimCount()},updateLeftClaimCount:function(){this.leftClaimCount.active=this.invitedNum>0,this.leftClaimCountLabel.string=Math.min(99,this.invitedNum);for(var e=0,t=0,i=1;i<this.claimableNodes.length;i++)this.claimableNodes[i].active&&(t++,e+=this.bonuses[i+1]);e+=(this.invitedNum-t)*this.bonuses[1],this.shareDescLabel.string=this.claimBtn.active?o.t("label_text.chips_to_claim",{chips:a.formatNumberWithRulesWithK(e)}):o.t("label_text.share_invite_code",{chips:this.rewardLabels[0].string})},onBgMouseTouchEnd:function(e){e.stopPropagation()},onWhatsAppBtnClk:function(e){var t=this.shareMessage+"&utm_source=WhatsApp";cc.sys.platform==cc.sys.ANDROID?jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","sendWhatsAppMessage","(Ljava/lang/String;Ljava/lang/String;)V",t,""):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("DeviceUtil","sendWhatsAppMessage:andScreenShotFilePath:",t,"")},onFBBtnClk:function(e){IFacebook.invite("nofilter",this.shareURL)},onClaimBtnClk:function(e){this.gameCore.uiMng.addListener(n.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.uiMng.addListener(n.SERVER_CMD_INVITE_BONUS,this,this.onInviteBonus),ITeenPatti.sendMsg(n.SERVER_CMD_INVITE_BONUS,{i:this.claimableNodes[0].active?1:2}),this.loadingPos=cc.v2(0,0),this.loadingContainer=this.claimBtn,this.loadingScale=.6,this.showNetworkDelayLoading()},onChipsGet:function(e){this.gameCore.uiMng.removeListener(n.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.gameMng.playChipsFly(e,cc.v2(0,0),0)},onInviteBonus:function(e){this.hideNetworkDelayLoading(),1==e.type?(this.singleBonus.active=!0,this.singleBonusContentLabel.string=o.t("label_text.invite_reward",{name:e.name,chips:a.formatNumberWithRulesWithK(e.change.change)}),this.claimableNodes[0].active=e.continue,this.claimBtn.active=e.continue||this.multiClaimable(),this.invitedNum--,this.updateClaimableAndRequirement(this.accpeted)):2==e.type&&(this.multiBonus.active=!0,this.multiBonusContentLabel.string=o.t("label_text.invite_friends_succeed",{number:this.requireInviteNum[e.accpeted],chips:a.formatNumberWithRulesWithK(e.change.change)}),this.multiBonusRewardLabel.string=a.formatNumberWithRulesWithK(e.change.change),this.multiBonusRequirementLabel.string=this.requireInviteNum[e.accpeted]+"/"+this.requireInviteNum[e.accpeted],this.invitedNum--,this.updateClaimableAndRequirement(e.accpeted))},multiClaimable:function(){for(var e=1;e<this.claimableNodes.length;e++)if(this.claimableNodes[e].active)return!0;return!1},onSingleBonusCloseBtnClk:function(e){this.singleBonus.active=!1},onMultiBonusCloseBtnClk:function(e){this.multiBonus.active=!1},onGetRewardBtnClk:function(e){this.codeEnterLabel.string.toLowerCase()!=this.code.toLowerCase()?""!=this.codeEnterLabel.string&&(this.loadingPos=cc.v2(0,0),this.loadingContainer=this.okBtn.node,this.loadingScale=.5,this.showNetworkDelayLoading(),this.okBtn.interactable=!1,this.gameCore.uiMng.addListener(n.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.uiMng.addListener(n.SERVER_CMD_INVITED_BONUS,this,this.onInvitedBonus),ITeenPatti.sendMsg(n.SERVER_CMD_INVITED_BONUS,{i:this.codeEnterLabel.string})):this.gameCore.gameMng.showAlert(o.t("label_text.no_own_code"))},onInvitedBonus:function(e){this.hideNetworkDelayLoading(),this.okBtn.interactable=!0,e.errorcode||(this.topBg.stopAllActions(),this.bottomBg.stopAllActions(),this.isCode=!1,this.topBg.runAction(cc.moveTo(.3,cc.v2(0,0))),this.singleBonus.active=!0,this.singleBonusContentLabel.string=o.t("label_text.accept_invite_bonus",{chips:a.formatNumberWithRulesWithK(e.change.change),name:"<color=#ffff00>"+e.name+"</color>"}))},showDelayLoading:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._super(this.loadingPos,this.loadingContainer,this.loadingScale)},closeUI:function(){this._super(),this.gameCore.initPopupMng.inviteCodeComplete=!0}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],InviteFriendsItem:[function(e,t,i){"use strict";cc._RF.push(t,"2b51bnIPxdOi7an9jZxtIFP","InviteFriendsItem");var n=e("FacebookIcon"),a=e("Command"),o=(e("IFacebook"),e("BaseCollectionViewItem"));cc.Class({extends:o,properties:{facebookIcon:n,lblName:cc.Label,selected:cc.Node,isSent:{default:!1,visible:!1},user:{default:null,visible:!1}},onLoad:function(){this.selected.active=!1},userToken:function(){return this.user.strIToken},setData:function(e){this.user=e,this.selected.active=e.selected,this.lblName.string=e.strTPName,this.facebookIcon.hideIcon(),this.facebookIcon.initWithTeenPattiUser(e)},onSelfClk:function(e){this.selected.active=!this.selected.active,this.user.selected=this.selected.active,this.gameCore.uiMng.dispatch(a.UI_CMD_INVITABLE_FRIEND_CLICK)}}),cc._RF.pop()},{BaseCollectionViewItem:"BaseCollectionViewItem",Command:"Command",FacebookIcon:"FacebookIcon",IFacebook:"IFacebook"}],InviteFriends:[function(e,t,i){"use strict";cc._RF.push(t,"4c692+dc0VPb45ZGeGh7UFc","InviteFriends");var n=e("Command"),a=e("BaseCollectionViewUI");cc.Class({extends:a,properties:{addBtn:cc.Button,tglSelectAll:cc.Toggle,searchNode:cc.Node,searchField:cc.EditBox,noSearchResult:cc.Node,noFriendsInvite:cc.Node,itemCount:6},onLoad:function(){this.noSearchResult.active=!1,this.noFriendsInvite.active=!1,this.lastSearchStr="",this.itemXGap=111,this.itemYGap=121,this.horizontalItemCount=6,this.itemScriptComponentName="InviteFriendsItem",this._super()},initComplete:function(){this._super(),this.tokenSendList=[],this.addBtn.interactable=!1,this.gameCore.uiMng.addListener(n.UI_CMD_INVITABLE_FRIEND_CLICK,this,this.onInvitableFriendClk);for(var e=this.friendList(),t=0;t<e.length;t++)e[t].selected=!1;this.setDataProvider(e),this.updateNoFriendsInviteStatus()},friendList:function(){return this.gameCore.userMng.myself.getFBInviteFriendList()},updateNoFriendsInviteStatus:function(){this.noFriendsInvite.active=0==this.dataList.length,this.searchNode.active=!this.noFriendsInvite.active,this.tglSelectAll.node.active=!this.noFriendsInvite.active},onSearchBtnClk:function(e){var t=this.searchField.string.toLowerCase();if(this.lastSearchStr!=t){this.originalDataList=this.originalDataList?this.originalDataList:this.dataList,this.lastSearchStr=t;for(var i=[],n=this.originalDataList.concat(),a=0;a<n.length;a++)-1!=n[a].strTPName.toLowerCase().indexOf(this.lastSearchStr)&&i.push(n[a]);this.setDataProvider(i),this.noSearchResult.active=0==i.length&&""!=t}},onSelectAllClk:function(e){if(this.ignoreSelectAllCB)this.ignoreSelectAllCB=!1;else{for(var t=0;t<this.dataList.length;t++)this.dataList[t].selected=this.tglSelectAll.isChecked;this.reloadScollView(),this.updateAddBtnStatus()}},onInviteFriendsBtnClk:function(e){this.tempTokenSendList=[];for(var t=0;t<this.dataList.length&&(this.dataList[t].selected&&this.tempTokenSendList.push(this.dataList[t].strIToken),50!=this.tempTokenSendList.length);t++);this.tempTokenSendList.length>0&&IFacebook.invite(this.tempTokenSendList,handler(this,this.inviteResponse))},inviteResponse:function(e){this.tokenSendList=this.tokenSendList.concat(this.tempTokenSendList);for(var t=[],i=0;i<this.dataList.length;i++)-1==this.tokenSendList.indexOf(this.dataList[i].strIToken)&&t.push(this.dataList[i]);this.setDataProvider(t);for(i=0;i<this.originalDataList.length;i++)-1!=this.tokenSendList.indexOf(this.originalDataList[i].strIToken)&&(this.originalDataList.splice(i,1),i--)},onInvitableFriendClk:function(){this.updateAddBtnStatus();for(var e=!0,t=0;t<this.dataList.length;t++)this.dataList[t].selected||(e=!1);this.ignoreSelectAllCB=!0,e?this.tglSelectAll.check():this.tglSelectAll.uncheck()},updateAddBtnStatus:function(){for(var e=!1,t=0;t<this.dataList.length;t++)if(this.dataList[t].selected){e=!0;break}this.addBtn.interactable=e}}),cc._RF.pop()},{BaseCollectionViewUI:"BaseCollectionViewUI",Command:"Command"}],InviteToTable:[function(e,t,i){"use strict";cc._RF.push(t,"473bdEZyrxCN5xtWpwRkjR6","InviteToTable");var n=e("BaseUI");cc.Class({extends:n,properties:{item:{default:null,type:cc.Prefab}},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI"}],JSDelegate:[function(e,t,i){"use strict";cc._RF.push(t,"8eba92N6aFDmJiPdbh/hgl0","JSDelegate");var n=e("IAFAnalytics"),a=e("IFirebase"),o=e("IJSBridge"),s=e("AEApplication"),r=e("IPay"),l="JSDelegate";cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.game.addPersistRootNode(this.node),s.init(),n.init(handler(this,this.onRegisterInfoGet),handler(this,this.onRegisterInfoGet)),a.init(handler(this,this.onFirebaseTokenGet)),IFBAnalytics.init(),r.init(),o.init()},onRegisterInfoGet:function(){LogUtil.info(l,"---------- Get RegisterInfo ------------"),ITeenPatti.getCurPlayer()&&ITeenPatti.sendMsg("registerInfo",{i:n.getAFOpenRef()})},onFirebaseTokenGet:function(){LogUtil.info(l,"---------- Get Firebase Info ------------"),ITeenPatti.getCurPlayer()&&ITeenPatti.sendMsg("fcm",{i:a.getToken()})}}),cc._RF.pop()},{AEApplication:"AEApplication",IAFAnalytics:"IAFAnalytics",IFirebase:"IFirebase",IJSBridge:"IJSBridge",IPay:"IPay"}],JokerHelp:[function(e,t,i){"use strict";cc._RF.push(t,"018111q/QVHt45zK78zo/II","JokerHelp");var n=e("BaseEdgePopup");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup"}],JokerRoom:[function(e,t,i){"use strict";cc._RF.push(t,"dbb7bdiUHNA75wuiXvcDNhL","JokerRoom");var n=e("BaseRoom"),a=e("UIInfo");cc.Class({name:"JokerRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.JOKER,this.tableRulesUIInfo=a.JOKER_HELP}});cc._RF.pop()},{BaseRoom:"BaseRoom",UIInfo:"UIInfo"}],LanguageData:[function(e,t,i){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var n=e("polyglot.min"),a=null;function o(e){return window.i18n.languages[e]}function s(e){e&&(a?a.replace(e):a=new n({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=o(e)||{};window.i18n.curLang=e,s(t),this.inst=a}},t:function(e,t){if(a)return a.t(e,t)},inst:a,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],i=0;i<e.length;++i){var n=e[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,n)}for(var a=0;a<t.length;++a){var o=t[a];o.node.active&&o.updateLabel()}for(var s=[],r=0;r<e.length;++r){var l=e[r].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(s,l)}for(var c=0;c<s.length;++c){var h=s[c];h.node.active&&h.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LevelUpPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"0c3a8/IrmdO5ppkdtOTbtje","LevelUpPopUp");var n=e("BaseUI"),a=e("UIInfo"),o=e("GameUtils"),s=e("LanguageData"),r=e("DataAnalysisKey");cc.Class({extends:n,properties:{lblLevel:cc.Label,lblBonus:cc.Label,lblRewardTips:cc.Label},onLoad:function(){this._super()},update:function(e){this.updateNextLevelBonus()},updateNextLevelBonus:function(){this.lblRewardTips.string="";var e=ITeenPatti.getCurTable();e&&e.nextLevel>e.curUserLevel&&(this.lblRewardTips.string=s.t("label_text.reach_level_bonus",{number:e.nextLevel,chips:o.formatNumberWithRules(e.nextLevelBonus)}))},initComplete:function(){this._super(),this.gameCore.dataAnalysisMng.sendData(r.POPUP_LEVELUP);var e=ITeenPatti.getCurTable();if(e){this.lblLevel.string=e.curUserLevel,this.lblBonus.string=o.formatNumberWithRules(e.curLevelUpBonus),this.updateNextLevelBonus();var t=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);ITeenPatti.removeListener("profile",t),ITeenPatti.sendMsg("profile",{i:parseInt(ITeenPatti.getCurPlayer().userId)}),this.gameCore.gameMng.playAudioEffect("levelup"),this.gameCore.userMng.getUserInfo(this.gameCore.userMng.myself.strTPID)}},onAnimLevelUpFinish:function(){var e=ITeenPatti.onlineCfg,t=e.getLastUnlockMode(ITeenPatti.getCurPlayer().nLevel);if(t&&e.getUnlockLevel(t)==ITeenPatti.getCurPlayer().nLevel){var i=ITeenPatti.getCurRoom();i&&i.isTournament||this.gameCore.uiMng.openUI(a.MODE_UNLOCK_POPUP,function(e){e&&e.setInitData({unlock:t})})}this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],LoadingBg:[function(e,t,i){"use strict";cc._RF.push(t,"2b29fYufu9B6bwStMEWv2gN","LoadingBg"),cc.Class({extends:cc.Component,properties:{bg:cc.Node},onLoad:function(){this.bg.on(cc.Node.EventType.TOUCH_END,this.onBgTouchEnd.bind(this))},onBgTouchEnd:function(e){e.stopPropagation()}}),cc._RF.pop()},{}],LoadingIndicator2:[function(e,t,i){"use strict";cc._RF.push(t,"c9081oA82lB86fA3/Mu51Im","LoadingIndicator2"),cc.Class({extends:cc.Component,properties:{loadingImg:cc.Node},onLoad:function(){},onEnable:function(){this.loadingImg.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(0,30),cc.delayTime(.08))))},onDisable:function(){this.loadingImg.stopAllActions()}}),cc._RF.pop()},{}],LoadingIndicator:[function(e,t,i){"use strict";cc._RF.push(t,"63f26Aa41FJFr9VkQ1Gpk7k","LoadingIndicator"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],Loading:[function(e,t,i){"use strict";cc._RF.push(t,"8e544Z2YOxKm5/PAwN9roJ6","Loading");var n=e("BaseUI");cc.Class({extends:n,properties:{progressLabel:cc.Label},onLoad:function(){this._super(),this.progressLabel.string="0%"},initComplete:function(){this._super(),cc.loader.onProgress=handler(this,this.onProgress)},onProgress:function(e,t,i){0!=t&&null!=this.progressLabel&&(this.progressLabel.string=Math.floor(e/t*100)+"%")},onDestroy:function(){cc.loader.onProgress=null,this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI"}],LobbyAdBonusBtn:[function(e,t,i){"use strict";cc._RF.push(t,"39a2eCWkAxLaLRGCPsCdaUC","LobbyAdBonusBtn");var n=e("Command"),a=e("BaseComponent");cc.Class({extends:a,properties:{timeval:0,lblCount:cc.Label,objCount:cc.Node,spine:cc.Node},initComplete:function(){this._super(),ITeenPatti.addListener("advchips",this,this.onAdBonusGet),ITeenPatti.addListener("advnum",this,this.onAdBonusGet),ITeenPatti.addListener("adshow",this,this.onAdOpen),this.gameCore.uiMng.addListener(n.UI_CMD_INSTANTGAME_REWARDED_VIDEO_LOADED,this,this.updateActive),this.updateActive()},start:function(){},updateActive:function(){if(this.node.active=this.gameCore.gameMng.hasRewardedVideo,this.spine&&this.node.active){var e=this.spine.getComponent(sp.Skeleton);e&&e.setAnimation(0,"animation2",!0)}},onBtnAdBonusClicked:function(){this.node.getComponent(cc.Button).interactable=!1,this.gameCore&&this.gameCore.userMng.showRewardedVideo(handler(this,this.onAdClose))},onAdOpen:function(){this.isValid&&(this.node.getComponent(cc.Button).interactable=!1)},onAdClose:function(e){this.isValid&&(this.node.getComponent(cc.Button).interactable=!0,e?(ITeenPatti.getCurPlayer().getTeenPattiProfile().advNum-=1,ITeenPatti.sendMsg("advchips",null),this.updateActive()):this.updateActive())},onAdBonusGet:function(e,t){this&&this.node&&this.isValid&&(this.node.getComponent(cc.Button).interactable=!0,this.updateActive())}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command"}],LobbyCreditBar:[function(e,t,i){"use strict";cc._RF.push(t,"013c97yV5pFEbfvpnArwG1q","LobbyCreditBar");e("ITeenPatti");var n=e("Command"),a=e("BaseComponent");cc.Class({extends:a,properties:{newStatus:cc.Node},onLoad:function(){this._super()},initComplete:function(){this.gameCore.uiMng.addListener(n.UI_CMD_STORE_NEW_STATUS_CHANGED,this,this.updateNewStatus),this.gameCore.uiMng.addListener("fb_instant_payment_ready",this,this.onFBInstantPaymentReady),this._super(),this.updateNewStatus(),isInstantGame&&this.updateBuyStatus(),this.node.on("position-changed",function(){this.gameCore.userMng.endPosY=this.node.y+this.node.parent.y},this)},onFBInstantPaymentReady:function(){this.updateBuyStatus()},updateBuyStatus:function(){this.node.getChildByName("buyBtn").getComponent(cc.Button).interactable=this.gameCore.gameMng.hasPurchase(),this.node.getChildByName("buyBtn").getChildByName("bg").active=this.gameCore.gameMng.hasPurchase()},updateNewStatus:function(){this.newStatus&&(this.newStatus.active=!1)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",ITeenPatti:"ITeenPatti"}],LobbyDailyMission:[function(e,t,i){"use strict";cc._RF.push(t,"08179Cp+4hA5YHuaADhZUc1","LobbyDailyMission");var n=e("BaseComponent"),a=e("DataAnalysisKey"),o=e("Command"),s=e("UIInfo");cc.Class({extends:n,properties:{leftTimeLabel:cc.Label,nextMissionTime:{default:-1,visible:!1},taskData:{default:null,visible:!1},redDot:cc.Node},onLoad:function(){this._super(),this.node.active=!1,this.leftTimeLabel.string="--:--:--",this.redDot.active=!1,this.firstRequest=!0},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(o.SERVER_CMD_TASK_LIST,this,this.onTaskList),this.gameCore.uiMng.addListener(o.UI_CMD_TASK_COMPLETED,this,this.onDailyMissionCompleted),this.gameCore.uiMng.addListener(o.SERVER_CMD_ACCEPT_TASK,this,this.onAcceptTask),ITeenPatti.sendMsg(o.SERVER_CMD_TASK_LIST)},onAcceptTask:function(e){if(this.taskData)for(var t in this.taskData.taskId==e.i&&(this.taskData.isAccept=!0),this.taskData.tasks)this.taskData.tasks[t].taskId==e.i&&(this.taskData.tasks[t].isAccept=!0);this.updateRedDot()},onDailyMissionCompleted:function(e){this.redDot&&(this.redDot.active=!0)},updateRedDot:function(){if(this.taskData){this.hasNewClaimableTask=!1;for(var e=!1,t=!0,i=table.createToArray(this.taskData.tasks),n=0;n<i.length;n++)i[n].isAccept||(t=!1),!i[n].isAccept&&i[n].finish>=i[n].num&&(e=!0,-1==this.gameCore.userMng.remindedTaskList.indexOf(i[n].taskId)&&(this.hasNewClaimableTask=!0));var a=t&&!this.taskData.isAccept;a&&-1==this.gameCore.userMng.remindedTaskList.indexOf(this.taskData.taskId)&&(this.hasNewClaimableTask=!0),this.redDot.active=e||a,this.node.active=!(t&&!a)}},onTaskList:function(e){this.node&&(this.taskData=e,this.node.active=!0,this.updateRedDot(),this.redDot.active&&this.hasNewClaimableTask&&this.gameCore.uiMng.lastSceneKey!=s.LOGIN_SCENE.name&&this.gameCore.uiMng.lastSceneKey!=s.FB_LOGIN_SCENE.name&&this.gameCore.uiMng.lastSceneKey!=s.LOBBY_SCENE.name&&this.gameCore.uiMng.lastSceneKey!=s.LOBBY_SCENE2.name||this.firstRequest&&(this.gameCore.gameMng.hasDailyMission=!1,this.gameCore.gameMng.judgeOnePromotionShow()),this.firstRequest=!1,this.nextMissionTime=(new Date).getTime()/1e3+e.stopTime,this.countDown(),this.schedule(this.countDown,1))},countDown:function(){var e=Math.max(0,this.nextMissionTime-(new Date).getTime()/1e3);this.leftTimeLabel.string=CommonUtil.getTimeString(e),0==e&&(this.unschedule(this.countDown),ITeenPatti.sendMsg(o.SERVER_CMD_TASK_LIST))},onDailyMissionBtnClk:function(e){e?this.gameCore.dataAnalysisMng.sendData(a.SHOW_MISSION):this.gameCore.dataAnalysisMng.sendData(a.SHOW_MISSION_COMPLETE),this.gameCore.uiMng.openUI(s.DAILY_MISSION)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey",UIInfo:"UIInfo"}],LobbyEffectManager:[function(e,t,i){"use strict";cc._RF.push(t,"a990eFlf6hJW5lNGNFBEaGP","LobbyEffectManager");var n=e("UIInfo"),a=e("Command");cc.Class({extends:cc.Component,properties:{objCreditLabel:cc.Node},onLoad:function(){ITeenPatti.addListener("UI_COIN_GET",this,this.onCoinGet)},onDestroy:function(){ITeenPatti.removeListenerWithTarget(this)},start:function(){},onCoinGet:function(e,t){if(this.node&&this.node.isValid){var i=t.final,o=this.objCreditLabel.convertToWorldSpaceAR(cc.v2(0,0));ITeenPatti.gameCore.uiMng.openUI(n.CHIPS_FLY_EFFECT,function(e){e.fly(t.start,t.end||o),e.setUpdateCb(function(){},function(){ITeenPatti.gameCore.uiMng.dispatch(a.UI_CMD_CHIPS_CHANGE,{final:i})})})}}}),cc._RF.pop()},{Command:"Command",UIInfo:"UIInfo"}],LobbyEmailBox:[function(e,t,i){"use strict";cc._RF.push(t,"0e6753iIIFKS7vI87w5a46E","LobbyEmailBox");var n=e("Command"),a=(e("UIInfo"),e("BaseComponent"));cc.Class({extends:a,properties:{lblCount:cc.Label,objCount:cc.Node},initComplete:function(){this.refreshUI(),ITeenPatti.addListener("notificationlist",this,this.onEmailListGet),ITeenPatti.addListener("acceptnotification",this,this.onEmailRead)},refreshUI:function(){if(this.objCount){var e=ITeenPatti.getEmailBox(),t=e?e.getUnreadEmailCount():0;this.objCount.active=t>0,this.lblCount.string=""+t}},onBtnEmailBoxClk:function(){this.gameCore.userMng.play(n.SERVER_CMD_PLAY,"Deluxe")},onEmailListGet:function(e,t){this.refreshUI()},onEmailRead:function(e,t){this.refreshUI()}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",UIInfo:"UIInfo"}],LobbyEventsButton:[function(e,t,i){"use strict";cc._RF.push(t,"b4b0fr5+9xA2K8ignXRb3A8","LobbyEventsButton");var n=e("BaseComponent"),a=e("ITeenPatti"),o=e("UIInfo");cc.Class({extends:n,properties:{lblDuration:cc.Label},onLoad:function(){this.nDeltaSecond=0,this._super()},initComplete:function(){this._super(),a.addListener("getchipstobank",this,this.onEventRefresh);var e=a.getCurPlayer();this.node.active=cc.sys.os!=cc.sys.OS_IOS&&e&&e.eventProfile&&e.eventProfile.isEventActive()},start:function(){this.update(1)},update:function(e){if(this.nDeltaSecond+=e,!(this.nDeltaSecond<1)){this.nDeltaSecond-=1;var t=a.getCurPlayer();if(t&&t.eventProfile){var i=t.eventProfile.taskEndTime-(new Date).getTime()/1e3;i=i<0?0:i,this.node.active=cc.sys.os!=cc.sys.OS_IOS&&t.eventProfile.isEventActive(),this.lblDuration.string=CommonUtil.getTimeString(i)}}},onEventRefresh:function(){var e=a.getCurPlayer();e&&e.eventProfile&&this.node&&(this.node.active=cc.sys.os!=cc.sys.OS_IOS&&e.eventProfile.isEventActive())},onBtnClick:function(){this.gameCore.uiMng.openUI(o.EVENTS_SCENE)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ITeenPatti:"ITeenPatti",UIInfo:"UIInfo"}],LobbyFriendBar:[function(e,t,i){"use strict";cc._RF.push(t,"2dc73oDX49Du48jKxWUMvL4","LobbyFriendBar");var n=e("FacebookIcon"),a=e("BaseComponent"),o=(e("UIInfo"),e("DataAnalysisKey")),s=e("LanguageData"),r=e("GameData");cc.Class({extends:a,properties:{arrBtnFriend:[cc.Node],arrFacebookIcon:[n],lblHint:cc.Label,fbConnectBtn:cc.Button,fbConnectRewardLabel:cc.Label},onLoad:function(){this.refreshBar(),this.i18nRendersUpdate()},i18nRendersUpdate:function(){this.fbConnectRewardLabel.string=s.t("label_text.fb_login_reward1",{reward:r.fbLoginReward()})},refreshBar:function(){var e=ITeenPatti.getCurPlayer();e&&(this.fbConnectBtn.node.active=!e.isFacebookLogin(),this.node.active=e.isFacebookLogin())},onBtnFriendClicked:function(){isInstantGame?this.gameCore.friendsMng.inviteInstantGameFriends():this.gameCore.gameMng.openInviteFriends()},onFBConnectBtnClk:function(e){this.gameCore.userMng.onFBConnectBtnClk(),this.gameCore.dataAnalysisMng.sendData(o.CLICK_LOBBY_FB_LOGIN)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon",GameData:"GameData",LanguageData:"LanguageData",UIInfo:"UIInfo"}],LobbyGoldBar:[function(e,t,i){"use strict";cc._RF.push(t,"2c6e8SP8ItAzamMkdHanNsf","LobbyGoldBar");e("Command");var n=e("BaseComponent");cc.Class({extends:n,properties:{newStatus:cc.Node},onLoad:function(){this._super()},initComplete:function(){this._super(),this.updateNewStatus(),this.node.on("position-changed",function(){this.gameCore.userMng.goldEndPosY=this.node.y+this.node.parent.y},this)},updateNewStatus:function(){this.newStatus&&(this.newStatus.active=!1)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command"}],LobbyInviteCodeButton:[function(e,t,i){"use strict";cc._RF.push(t,"670e0pmiaVHhrtxR/6wSUWT","LobbyInviteCodeButton");var n=e("UIInfo"),a=e("Command"),o=e("BaseComponent");cc.Class({extends:o,properties:{codeLabel:cc.Label,spine:cc.Node},onLoad:function(){this._super(),this.node.active=!1},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(a.UI_CMD_USER_INFO_GOTTEN,this,this.userInfoGotten),this.gameCore.uiMng.addListener(a.SERVER_CMD_INVITE_CODE,this,this.onInviteCodeDetail),this.gameCore.uiMng.addListener(a.SERVER_CMD_INVITE_BONUS,this,this.onInviteBonus),this.node.active=ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().isFacebookLogin()&&!isInstantGame&&!cc.sys.isBrowser,ITeenPatti.sendMsg(a.SERVER_CMD_INVITE_CODE)},userInfoGotten:function(e){if(this.isValid){var t=ITeenPatti.getCurPlayer();t&&e.id==t.strTPID&&e.code&&(this.codeLabel.string=e.code)}},onInviteCodeDetail:function(e){if(!e.errorcode){this.invitedNum=e.invitedNum?e.invitedNum:0;for(var t=1;t<=3;t++)e.num>=e.bounsNum[t]&&e.accpeted<t&&this.invitedNum++;this.updateStatus()}},onInviteBonus:function(e){e.errorcode||(this.invitedNum--,this.updateStatus())},updateStatus:function(){if(this.isValid&&this.spine){var e=this.spine.getComponent(sp.Skeleton);e&&e.setAnimation(0,"animation",!0)}},openInviteCode:function(e){ITeenPatti.getCurPlayer()&&(ITeenPatti.getCurPlayer().isFacebookLogin()?this.gameCore.uiMng.openUI(n.INVITE_CODE):this.gameCore.userMng.onFBConnectBtnClk())}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",UIInfo:"UIInfo"}],LobbyLayoutButton:[function(e,t,i){"use strict";cc._RF.push(t,"41863S0vcpNJaMJaFiKxEbz","LobbyLayoutButton");var n=e("BaseComponent"),a=e("LocalizedSprite");cc.Class({extends:n,properties:{iconSprite:cc.Sprite,titleSprite:a},updateIcon:function(e){this.iconSprite&&e&&(this.iconSprite.spriteFrame=e)},updateTitle:function(e){this.titleSprite&&e&&(this.titleSprite.spriteFrameSet=e,this.titleSprite.fetchRender())}}),cc._RF.pop()},{BaseComponent:"BaseComponent",LocalizedSprite:"LocalizedSprite"}],LobbyLayout:[function(e,t,i){"use strict";cc._RF.push(t,"7601cR7GgxB2YwHraI5OKtz","LobbyLayout");var n=e("BaseComponent"),a=e("GameData"),o="LobbyLayout";cc.Class({extends:n,properties:{scrollView:cc.ScrollView,subModeName:"",layoutButtonName:"",modeButtonPrefab:cc.Prefab,layout:[],modeButtons:[cc.Node],level:{default:1,visible:!1},row:{default:1,visible:!1},startX:{default:0,visible:!1},startY:{default:0,visible:!1},gapX:{default:0,visible:!1},gapY:{default:0,visible:!1},delegate:{default:null,visible:!1},defaultLayout:{default:null,visible:!1}},onLoad:function(){this._super()},initComplete:function(){this._super(),this.reset(),ITeenPatti.addListener("layout",this,this.onLayout),this.onLayout()},getModeButton:function(e){for(var t=this.scrollView.content.getComponentsInChildren(this.layoutButtonName),i=0;i<t.length;i++)if(t[i].mode==e)return t[i];for(i=0;i<this.modeButtons.length;i++){var n=this.modeButtons[i].getComponent(this.layoutButtonName);if(n&&n.mode==e)return n}return null},getLayoutIndex:function(e){for(var t=0;t<this.layout.length;t++)if(e.mode==this.layout[t].mode)return t;return-1},getLobbyType:function(){return 1==this.level?this.gameCore.gameMng.curLobbyType?this.gameCore.gameMng.curLobbyType:1:""},loadIconImage:function(e){if(this.isValid)if(e.icon)if(e.iconSpriteFrame)this.onLayout();else{var t=e.icon+this.getLobbyType()+".png";LogUtil.debug(o,"loadIconImage url:"+t),cc.loader.load(t,handler(this,function(e,t,i){e?LogUtil.debug(o,"loadIconImage err:"+e):(i.iconSpriteFrame=new cc.SpriteFrame(t),this.onLayout())},e))}else LogUtil.debug(o,"loadIconImage icon is null");else LogUtil.debug(o,"loadIconImage not valid")},loadTitleImage:function(t){if(this.isValid)if(t.title)if(t.titleSpriteFrameSet)this.onLayout();else{for(var i=[],n=0;n<a.languages.length;n++){var s=t.title+this.getLobbyType()+"_"+a.languages[n]+".png";i.push(s)}cc.loader.load(i,handler(this,function(t,n,s){if(t)for(var r=0;r<t.length;r++)LogUtil.debug(o,"Error url ["+t[r]+"]: "+n.getError(t[r]));else{var l=e("SpriteFrameSet"),c=[];for(r=0;r<i.length;r++){var h=n.getContent(i[r]);if(h){var u=new l;u.language=a.languages[r],u.spriteFrame=new cc.SpriteFrame(h),c.push(u)}}s.titleSpriteFrameSet=c,this.onLayout()}},t))}else LogUtil.debug(o,"loadIconImage title is null");else LogUtil.debug(o,"loadTitleImage not valid")},onNewIconTitleLoadComplete:function(e){if(this.isValid){LogUtil.debug(o,"Download NewIconTitle Complete "+e);for(var t=0;t<this.layout.length;t++)if(this.layout[t].mode==e){this.layout[t].loadedCount=void 0==this.layout[t].loadedCount?0:this.layout[t].loadedCount,this.layout[t].loadedCount+=1;var i=(this.layout[t].icon?1:0)+(this.layout[t].title?3:0);LogUtil.debug(o,this.layout[t].loadedCount+"=="+i),this.layout[t].loadedCount>=i&&(this.loadIconImage(this.layout[t]),this.loadTitleImage(this.layout[t]));break}}else LogUtil.debug(o,"onNewIconTitleLoadComplete not valid.")},onNewIconTitleLoadSuccess:function(e){this.isValid&&(LogUtil.debug(o,"Download NewIconTitle Success "+e.requestURL),this.onNewIconTitleLoadComplete(e.identifier))},onNewIconTitleLoadFail:function(e){this.isValid&&LogUtil.debug(o,"Download NewIconTitle Fail "+e.requestURL)},reset:function(){LogUtil.debug(o,"reset");var e=isInstantGame?[]:this.getMyLayout();if(e)for(var t=0;t<e.length;t++)if(delete e[t].loading,delete e[t].loadedCount,1==this.level&&(delete e[t].iconSpriteFrame,delete e[t].titleSpriteFrameSet),e[t].children)for(var i=0;i<e[t].children.length;i++)delete e[t].children[i].loading,delete e[t].children[i].loadedCount},getMyLayout:function(){if(!ITeenPatti.onlineCfg.lobbyLayout[this.gameCore.userMng.myself.strCountry]&&!ITeenPatti.onlineCfg.lobbyLayout.default)return this.defaultLayout;var e=ITeenPatti.onlineCfg.lobbyLayout[this.gameCore.userMng.myself.strCountry]||ITeenPatti.onlineCfg.lobbyLayout.default;if("string"==typeof e&&(e=ITeenPatti.onlineCfg.lobbyLayout[e]||ITeenPatti.onlineCfg.lobbyLayout.default),e&&""!=this.subModeName){for(var t=0;t<e.length;t++)if(e[t].mode==this.subModeName&&e[t].subs&&e[t].subs.length>0)return e[t].subs;return this.defaultLayout}return e},updateScrollView:function(e){this.delegate&&this.delegate.updateScrollView(e)},onLayout:function(){if(this.isValid)if(this.gameCore&&this.gameCore.userMng&&this.gameCore.userMng.myself){var e=isInstantGame||cc.sys.isBrowser?[]:this.getMyLayout();if(e){for(var t=0;t<e.length;t++){var i=this.getLayoutIndex(e[t]);if(-1==i)e[t].isNew=!0,this.layout.push(e[t]);else for(var n in e[t])this.layout[i][n]=e[t][n];if(!e[t].loading&&(e[t].icon&&!e[t].iconSpriteFrame||e[t].title&&!e[t].titleSpriteFrameSet)){e[t].loading=!0;var s=this.getLobbyType(),r=[];if(e[t].icon&&!e[t].iconSpriteFrame&&r.push(e[t].icon+s+".png"),e[t].title&&!e[t].titleSpriteFrameSet)for(var l=0;l<a.languages.length;l++)r.push(e[t].title+s+"_"+a.languages[l]+".png");this.loadIconImage(e[t]),this.loadTitleImage(e[t])}}this.layout.sort(function(e,t){return e.order-t.order});var c=0;for(t=0;t<this.layout.length;t++){var h=this.getModeButton(this.layout[t].mode);if(null==h){var u=cc.instantiate(this.modeButtonPrefab);this.scrollView.content.addChild(u),(h=u.getComponent(this.layoutButtonName)).gameCore=this.gameCore}if(null!=h)if((!this.layout[t].minRelease||Client.Release>=this.layout[t].minRelease)&&1==this.layout[t].visible&&(!this.layout[t].isNew||this.layout[t].isNew&&this.layout[t].iconSpriteFrame&&this.layout[t].titleSpriteFrameSet)){if(h.node.active=!0,h.node.setPosition(cc.v2(this.startX+Math.floor(c/this.row)*this.gapX,2==this.layout[t].height?0:this.startY-c%2*this.gapY)),this.layout[t].icon&&this.layout[t].iconSpriteFrame&&h.updateIcon(this.layout[t].iconSpriteFrame),this.layout[t].title&&this.layout[t].titleSpriteFrameSet&&h.updateTitle(this.layout[t].titleSpriteFrameSet),void 0!=this.layout[t].released&&(h.released=this.layout[t].released),void 0!=this.layout[t].mode&&(h.mode=this.layout[t].mode),this.layout[t].fixed||(2==this.layout[t].height?c+=2:c+=1),this.layout[t].children)for(l=this.layout[t].children.length-1;l>=0;l--)this.layout[t].children[l].minRelease&&Client.Release<this.layout[t].children[l].minRelease&&this.layout[t].children.splice(l,1);this.layout[t].children&&this.layout[t].children.length>0&&h.setChildren&&h.setChildren(this.layout[t].children)}else h.node.active=!1}this.updateScrollView(c)}else LogUtil.debug(o,"onLayout return 2")}else LogUtil.debug(o,"onLayout return 1");else LogUtil.debug(o,"onLayout not valid")}}),cc._RF.pop()},{BaseComponent:"BaseComponent",GameData:"GameData",SpriteFrameSet:"SpriteFrameSet"}],LobbyModeButton:[function(e,t,i){"use strict";cc._RF.push(t,"aae77IPqylANYDjWOqbZZZV","LobbyModeButton");var n=e("UIInfo"),a=e("Command"),o=e("DataAnalysisKey"),s=e("LobbyLayoutButton"),r=(e("LanguageData"),e("LocalStorage"));cc.Class({extends:s,properties:{mask:cc.Node,modeIcon:cc.Node,modeSpine:sp.Skeleton,animationName:"",newStatus:cc.Node,mode:"",unlockLevel:{default:0,visible:!1},unlock:cc.Node,unlockLevelLabel:cc.Label,released:{default:0,visible:!1}},onLoad:function(){this._super(),this.unlockLevel=ITeenPatti.onlineCfg.getUnlockLevel(this.mode),this.modeSpine&&(this.modeSpine.setAnimation(0,this.animationName,!0),this.scheduleOnce(this.modeSpineStart.bind(this),.4)),this.unlock&&(this.unlock.active=!1)},initComplete:function(){this._super(),this.mask&&(this.mask.active=!1),this.updateNewStatus(),this.gameCore.uiMng.addListener(a.UI_CMD_USER_INFO_GOTTEN,this,this.userInfoGotten),this.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY_TEXAS_HOLDEM,this,this.onPlayResponse),this.gameCore.uiMng.addListener(a.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded)},userInfoGotten:function(e){this.unlock&&this.unlockLevel>0&&this.gameCore.userMng.myself.nLevel<this.unlockLevel&&(this.unlock.active=!0,this.unlockLevelLabel.string=this.unlockLevelStr())},unlockLevelStr:function(){return"LV."+this.unlockLevel},onTopPromotionLoaded:function(e){this.node.x+=e,this.gameCore.uiMng.removeListener(a.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded),this.gameCore.uiMng.addListener(a.UI_CMD_TOP_POSITION_PROMOTION_REMOVED,this,this.onTopPromotionRemoved)},onTopPromotionRemoved:function(e){this.gameCore.uiMng.removeListener(a.UI_CMD_TOP_POSITION_PROMOTION_REMOVED,this,this.onTopPromotionRemoved),this.node.x+=e,this.gameCore.uiMng.addListener(a.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded)},updateNewStatus:function(){if(this.newStatus&&(this.newStatus.active=!1,this.mode&&!(this.mode.length<1))){var e=r.getLocalData(this.mode);this.newStatus.active=!e||e<1}},onPlayResponse:function(e,t){this.gameCore&&(this.gameCore.userMng.isJoining=!1,this.gameCore.uiMng.removeListener(a.SERVER_CMD_PLAY,this,this.onPlayResponse),ITeenPatti.removeListener(a.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),t&&"error"!=t.cmd?t.i&&(this.mask&&(this.mask.active=!1),this.gameCore.gameMng.openChipsNotEnoughTwoItem(t.i-this.gameCore.userMng.myself.nChips,t.i)):this.mask&&(this.mask.active=!1))},modeSpineStart:function(){},openNoLimitBootSelect:function(){this.gameCore.uiMng.openUI(n.NOLIMIT_BOOT_SELECT,handler(this,function(e){e&&e.updateSize(this.node.x+this.node.parent.x,this.node.height)}))},openWingoBootSelect:function(){this.gameCore.uiMng.openUI(n.WINGO_BOOT_SELECT,handler(this,function(e){e&&e.updateSize(this.node.x+this.node.parent.x,this.node.height)}))},onButtonClk:function(e){var t=this;if(LogUtil.debug("LobbyModeButton","onButtonClk:"+e.target),ITeenPatti.addListener(a.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),"viptable"==this.mode)this.gameCore&&(this.gameCore.uiMng.openUI(n.VIP_TABLE_SELECT),this.gameCore.dataAnalysisMng.sendData(o.CLICK_VIPTABLE_BUTTON));else if("classic"==this.mode)this.mask.active=!0,this.node.interactable=!1,this.gameCore&&this.gameCore.dataAnalysisMng.sendData(o.CLICK_CLASSIC_BUTTON),this.scheduleOnce(function(){t.gameCore&&(t.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY,t,t.onPlayResponse),t.gameCore.userMng.play()||(t.mask.active=!1,t.node.interactable=!0))},0);else if("nolimit"==this.mode){if(this.gameCore.userMng.myself.nLevel<this.unlockLevel)return;if(!this.gameCore.gameMng.noLimitRoomHasEnoughChips())return;(i=this.gameCore.uiMng.getUIByUIKey(this.gameCore.uiMng.lobbySceneUIInfo.name))&&(r.saveLocalData(this.mode,!0),i.openNoLimitBootSelect(),this.gameCore.dataAnalysisMng.sendData(o.CLICK_NOLIMIT_BUTTON),performWithDelay(this.node,.15,handler(this,this.openNoLimitBootSelect)))}else if("variation"==this.mode)this.gameCore.uiMng.openUI(n.VARIATION_MODE_SELECT),this.gameCore.dataAnalysisMng.sendData(o.CLICK_VARIATION_BUTTON);else if("deluxe"==this.mode)this.gameCore.userMng.play(a.SERVER_CMD_PLAY,"Deluxe")&&(this.mask.active=!0,this.node.interactable=!1,this.newStatus&&(this.newStatus.active=!1),r.saveLocalData(this.mode,!0),this.gameCore.dataAnalysisMng.sendData(o.CLICK_DELUXE_BUTTON),this.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY,this,this.onPlayResponse));else if("casinowar"==this.mode)this.newStatus&&(this.newStatus.active=!1),r.saveLocalData(this.mode,!0),this.gameCore.uiMng.openUI(n.CASINOWAR_MODE_SELECT);else if("onlivebet"==this.mode)this.gameCore.uiMng.openUI(n.ONLIVE_BET);else if("private"==this.mode){if(!this.gameCore.gameMng.priRoomHasEnoughChips())return;this.gameCore.uiMng.openUI(n.PRIVATE_ROOM_SETTING),this.gameCore.dataAnalysisMng.sendData(o.CLICK_PRIVATE_BUTTON)}else{if("friends"==this.mode)return;if("texas"==this.mode){if(this.gameCore.userMng.myself.nLevel<this.unlockLevel)return;this.mask.active=!0,this.node.interactable=!1,this.gameCore.dataAnalysisMng.sendData(o.CLICK_TEXASHOLDEM_BUTTON),this.scheduleOnce(function(){r.saveLocalData(t.mode,!0),t.gameCore.userMng.playTexasHoldem(!1)||(this.mask.active=!1,this.node.interactable=!0)},0)}else if("rummy"==this.mode){if(this.gameCore.userMng.myself.nLevel<this.unlockLevel)return;this.gameCore.gameMng.hasEnoughChips2(this.gameCore.userMng.rummyMinChips)&&this.gameCore.userMng.playRummy(!1)&&(this.mask.active=!0,this.node.interactable=!1,r.saveLocalData(this.mode,!0),this.gameCore.dataAnalysisMng.sendData(o.CLICK_RUMMY_BUTTON))}else if("tournament"==this.mode){(i=this.gameCore.uiMng.getUIByUIKey(this.gameCore.uiMng.lobbySceneUIInfo.name))&&(this.newStatus&&(this.newStatus.active=!1),r.saveLocalData(this.mode,!0),i.openTournamentSelect())}else if("PotBlind"==this.mode)this.gameCore.userMng.play(a.SERVER_CMD_PLAY,this.mode)&&(this.mask.active=!0,this.node.interactable=!1,this.newStatus&&(this.newStatus.active=!1),r.saveLocalData(this.mode,!0),this.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY,this,this.onPlayResponse));else if("ab"==this.mode){if(this.gameCore.userMng.myself.nLevel<this.unlockLevel)return;if(!this.gameCore.userMng.playAB())return;this.mask.active=!0,this.node.interactable=!1,this.gameCore.dataAnalysisMng.sendData(o.CLICK_AB_BUTTON)}else if("abpvp"==this.mode)r.saveLocalData(this.mode,!0),this.gameCore.uiMng.openUI(n.AB_PVP_ROOM_SELECT);else if("wingo"==this.mode){if(this.gameCore.userMng.myself.nLevel<this.unlockLevel)return;var i;(i=this.gameCore.uiMng.getUIByUIKey(this.gameCore.uiMng.lobbySceneUIInfo.name))&&(i.openWingoBootSelect(),performWithDelay(this.node,.15,handler(this,this.openWingoBootSelect)))}else"comingsoon"==this.mode||void 0!=this.released&&this.gameCore.gameMng.newModeRemind(this.released)}}}),cc._RF.pop()},{Command:"Command",DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData",LobbyLayoutButton:"LobbyLayoutButton",LocalStorage:"LocalStorage",UIInfo:"UIInfo"}],LobbyMonthlyEliteButton:[function(e,t,i){"use strict";cc._RF.push(t,"a8e836Rum5PbI+rKc+SYAF8","LobbyMonthlyEliteButton");var n=e("BaseComponent"),a=(e("DataAnalysisKey"),e("Command")),o=e("UIInfo"),s="LobbyMonthlyEliteButton";cc.Class({extends:n,properties:{stateBonusAvail:cc.Node,redDot:cc.Node,lblLeftDays:cc.Label,stateBonusDisable:cc.Node,lblCDTime:cc.Label,spine:cc.Node},isiOS:function(){return cc.sys.os==cc.sys.OS_IOS&&!isInstantGame},onLoad:function(){this.stateBonusAvail.active=!1,this.stateBonusDisable.active=!1,this.setActive(this.isiOS()),this.interval=0,cc.sys.os==cc.sys.OS_ANDROID?(ITeenPatti.addListener("payCheck",this,this.onPayCheck),ITeenPatti.addListener("androidSubsBuy",this,this.onSubscriptionProfile),ITeenPatti.addListener("subsUserList",this,this.onSubscriptionProfile),ITeenPatti.addListener("subsProfile",this,this.onSubscriptionProfile),ITeenPatti.addListener("subsAccept",this,this.onSubscriptionProfile),IPay.getAllSubscription()):this.isiOS()&&(ITeenPatti.addListener(a.SERVER_CMD_IOS_SUBS_PROFILE,this,this.oniOSSubscriptionProfile),ITeenPatti.addListener(a.SERVER_CMD_IOS_SUBS_ACCEPT,this,this.oniOSSubscriptionProfile),ITeenPatti.addListener(a.SERVER_CMD_IOS_SUBS_BUY,this,this.oniOSSubscriptionProfile),ITeenPatti.sendMsg(a.SERVER_CMD_IOS_SUBS_PROFILE))},update:function(e){if(this.interval+=e,!(this.interval<1))if(this.interval-=1,this.isiOS()){if(void 0==this.nextBonusTimeLeft)return;this.nextBonusTimeLeft=Math.max(0,this.nextBonusTimeLeft-1)}else if(ITeenPatti.getCurPlayer()){var t=.001*(new Date).getTime(),i=ITeenPatti.getCurPlayer().subsProfile;!i||i.isRefreshing||i.monthlyEliteLevel<1||(i.isBonusGet,this.stateBonusAvail.active,i.isBonusGet&&(this.lblCDTime.string=CommonUtil.getTimeString(Math.max(i.nextGetTime-t,0))),(i.isBonusGet&&i.nextGetTime-t<0||i.renewTime-t<0)&&(i.isRefreshing=!0,ITeenPatti.sendMsg("subsProfile",null)))}},setActive:function(e){this.node.active=e},onBtnClk:function(){if(this.isiOS())this.gameCore.uiMng.openUI(o.MONTHLY_ELITE_IOS);else{var e=ITeenPatti.getCurPlayer().subsProfile;if(e)return e.isMonthlySubs?(ITeenPatti.sendMsg("subsProfile",null),void this.gameCore.uiMng.openUI(o.MONTHLY_ELITE_BONUS_GET_POPUP)):void this.gameCore.uiMng.openUI(o.MONTHLY_ELITE_BUY_POPUP);LogUtil.err(s,"Error: CurPlayer don't have subscription profile")}},onPayCheck:function(e,t){if(this.isValid){if(this.setActive(!1),ITeenPatti.getCurPlayer()){var i=ITeenPatti.getCurPlayer().subsProfile;if(!i.isPayCheck||!i.isPattiCheck)return void LogUtil.debug(s,"onSubscriptionProfile:PayCheck-"+i.isPayCheck+" PattiCheck-"+i.isPattiCheck)}this.setActive(!0)}},onSubscriptionProfile:function(e,t){if(this.isValid){this.setActive(!1);var i=ITeenPatti.getCurPlayer()?ITeenPatti.getCurPlayer().subsProfile:null;if(i)if(i.isPayCheck&&i.isPattiCheck){this.setActive(!0);var n=.001*(new Date).getTime();this.stateBonusAvail.active=i.monthlyEliteLevel>0,this.redDot.active=!i.isBonusGet,this.stateBonusDisable.active=0==i.monthlyEliteLevel,this.lblCDTime.string=CommonUtil.getTimeString(Math.max(i.nextGetTime-n,0))}else LogUtil.debug(s,"onSubscriptionProfile:PayCheck-"+i.isPayCheck+" PattiCheck-"+i.isPattiCheck)}},oniOSSubscriptionProfile:function(e,t){this.stateBonusAvail.active=t.type>0,this.redDot.active=t.isAccept,this.stateBonusDisable.active=0==t.type,this.nextBonusTimeLeft=0,this.interval=0,0!=t.type&&(this.nextBonusTimeLeft=t.isAccept?0:t.nextTime)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey",UIInfo:"UIInfo"}],LobbyNewFBConnect:[function(e,t,i){"use strict";cc._RF.push(t,"930aaOecyNMZaUH85ULy3np","LobbyNewFBConnect");var n=e("BaseComponent"),a=e("GameUtils"),o=e("GameData"),s=e("LanguageData"),r=e("Command");cc.Class({extends:n,properties:{rewardLabel:cc.Label,loadingNode:cc.Node},onLoad:function(){this._super(),this.node.active=!1,this.loadingNode.active=!1},initComplete:function(){this._super(),this.node.active=ITeenPatti.getCurPlayer()&&!ITeenPatti.getCurPlayer().isFacebookLogin(),this.rewardLabel.string=s.t("label_text.fb_login_reward1",{reward:a.formatNumberWithRules(o.fbLoginRewardCount)}),this.gameCore.uiMng.addListener(r.UI_CMD_GET_FB_PROFILE_FAIL,this,this.onGetFBProfileFail),this.gameCore.uiMng.addListener(r.UI_CMD_FB_LOGIN_FAIL,this,this.onFBLoginFail)},onButtonClk:function(e){this.loadingNode.active=!0,this.gameCore.userMng.onFBConnectBtnClk()},onGetFBProfileFail:function(){this.loadingNode.active=!1},onFBLoginFail:function(){this.loadingNode.active=!1}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",GameData:"GameData",GameUtils:"GameUtils",LanguageData:"LanguageData"}],LobbyNewFeatureDownManager:[function(e,t,i){"use strict";cc._RF.push(t,"67ec3y9qjJMfJgveCSOVWM+","LobbyNewFeatureDownManager");var n=e("BaseComponent");e("BoldLabel");cc.Class({extends:n,properties:{curDownFeature:{default:null,visible:!1},arrDownFeature:{default:[],visible:!1}},initComplete:function(){this._super(),ITeenPatti.addListener("AE_Feature_Install_Start",this,this.onInstallStart),ITeenPatti.addListener("AE_Feature_Launch",this,this.onLaunchFinish)},onInstallStart:function(e,t){for(var i=0;i<this.arrDownFeature.length;i++)if(this.arrDownFeature[i]==t.feature)return;this.arrDownFeature.push(t.feature),IDynamic.isFeatureDownloading()||this.curDownFeature||(this.curDownFeature=this.arrDownFeature[0],IDynamic.installFeature(this.curDownFeature))},onLaunchFinish:function(e,t){if(this.curDownFeature==t.feature){for(var i=0;i<this.arrDownFeature.length;i++)this.arrDownFeature[i]==t.feature&&this.arrDownFeature.splice(i,1);this.curDownFeature=null,this.arrDownFeature.length>0&&(this.curDownFeature=this.arrDownFeature[0],IDynamic.installFeature(this.curDownFeature))}}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BoldLabel:"BoldLabel"}],LobbyNewFeatureLoadBar:[function(e,t,i){"use strict";cc._RF.push(t,"a5e69e1gaFDfp99bNr4ou1h","LobbyNewFeatureLoadBar");var n=e("BaseComponent"),a=e("BoldLabel");cc.Class({extends:n,properties:{featureID:"",stateUninstall:cc.Node,stateDownloading:cc.Node,lblDownProgress:a,imgDownBg:cc.Node},initComplete:function(){this._super(),this.stateUninstall.active=!IDynamic.isFeatureInstall(this.featureID),this.stateDownloading.active=!1,this.imgDownBg.runAction(cc.repeatForever(cc.rotateBy(1,360))),ITeenPatti.addListener("AE_Feature_Install",this,this.onInstallFinish),ITeenPatti.addListener("AE_Feature_Install_Start",this,this.onInstallStart),ITeenPatti.addListener("AE_Feature_Launch",this,this.onLaunchFinish),ITeenPatti.addListener("AE_Feature_Install_Update",this,this.onInstallUpdate)},onInstallUpdate:function(e,t){if(this.featureID==t.feature){this.stateUninstall.active=!1,this.stateDownloading.active=!0;var i=t.download/t.totalSize*100,n=""+i;n=i<10?n.substr(0,3):i<100?n.substr(0,2):n.substr(0,3),this.lblDownProgress.string=n+"%"}},onInstallStart:function(e,t){this.featureID==t.feature&&(this.stateUninstall.active=!1,this.stateDownloading.active=!0,this.lblDownProgress.string="0%")},onInstallFinish:function(e,t){this.featureID==t.feature&&(this.lblDownProgress.string="100%")},onLaunchFinish:function(e,t){this.featureID==t.feature&&(this.stateUninstall.active=!1,this.stateDownloading.active=!1)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BoldLabel:"BoldLabel"}],LobbyNewLeftBottomBar:[function(e,t,i){"use strict";cc._RF.push(t,"bda51FY5sNJ0qlOOlu+11YP","LobbyNewLeftBottomBar");var n=e("LocalStorage"),a=e("BaseComponent"),o=e("Command"),s=e("UIInfo");cc.Class({extends:a,properties:{btnSupport:cc.Node,btnRate:cc.Node,btnShare:cc.Node,btnFilmFestival:cc.Node,filmStarContainer:cc.Node,filmStarContainerBg:cc.Node,filmStar:cc.Node,filmStarCountLabel:cc.Label},onLoad:function(){this._super(),(isInstantGame||cc.sys.isBrowser)&&(this.btnRate.active=!1,this.scheduleOnce(handler(this,function(){}))),this.updateNodePos(),this.node.on("size-changed",handler(this,this.onSizeChange)),this.node.width>900&&this.onSizeChange(),this.btnFilmFestival.active=!1,this.filmStarContainer.active=!1},initComplete:function(){this._super(),ITeenPatti.sendMsg(o.SERVER_CMD_VIP_STAR),this.schedule(this.updateFilmStatus,1,cc.macro.REPEAT_FOREVER,0),this.gameCore.uiMng.isBackFromGame&&(0==this.gameCore.gameMng.lastGameEarn?this.onTotalReceiveFilmStar():ITeenPatti.addListener("PopUpClose",this,this.onPopUpClose))},onPopUpClose:function(e,t){this.gameCore.uiMng.hasPopupOpen()||this.onTotalReceiveFilmStar()},onTotalReceiveFilmStar:function(){if(ITeenPatti.removeListener("PopUpClose",this,this.onPopUpClose),this.gameCore.activityMng.gameReceivedStarCount>0){this.filmStarCountLabel.string="x"+this.gameCore.activityMng.gameReceivedStarCount,this.filmStarContainer.active=!0,this.filmStarContainerBg.active=!0,this.filmStar.opacity=255,this.filmStar.setPosition(cc.v2(0,0));var e=cc.visibleRect;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(handler(this,function(){this.filmStarContainerBg.active=!1,this.filmStar.runAction(cc.sequence(cc.moveTo(.8,this.node.convertToWorldSpaceAR(this.btnFilmFestival.getPosition().add(cc.v2(-e.width/2,-e.height/2)))),cc.fadeOut(.3),cc.callFunc(function(){this.filmStarContainer.active=!1,this.gameCore.activityMng.showFilmProgress()},this)))})))),this.gameCore.activityMng.gameReceivedStarCount=0}else this.gameCore.activityMng.showFilmProgress()},updateFilmStatus:function(){this.gameCore.activityMng.vipStarData&&(this.btnFilmFestival.active=!this.gameCore.activityMng.isFilmExpire())},onFilmFestivalClk:function(e){this.gameCore.uiMng.openUI(s.FILM_FESTIVAL_PROGRESS)},onSizeChange:function(e,t){if(0==this.btnSupport.active)return this.btnRate.active=!1,this.btnShare.active=!1,this.updateNodePos(),void this.updateBtnSpacingX();n.getLocalData("lobby_rate_btn_active")||isInstantGame;this.btnRate.active=!1,this.btnShare.active=!1,this.updateNodePos(),this.updateBtnSpacingX()},updateNodePos:function(){},updateBtnSpacingX:function(){}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",LocalStorage:"LocalStorage",UIInfo:"UIInfo"}],LobbyNewModeButton:[function(e,t,i){"use strict";cc._RF.push(t,"464c1EXtFdHyZ8eN+UaaKPX","LobbyNewModeButton");var n=e("LobbyModeButton"),a=(e("LocalizedSprite"),e("GameData"),e("UIInfo"));cc.Class({extends:n,properties:{light:cc.Node,loadingBar:cc.Node},initComplete:function(){this._super(),this.scheduleOnce(handler(this,this.onLight),10+6*Math.random())},onLight:function(){if(this.light&&this.light.active){var e=this.light.getComponent(sp.Skeleton);e&&e.setAnimation(0,"animation",!1)}this.scheduleOnce(handler(this,this.onLight),10+6*Math.random())},unlockLevelStr:function(){return"Lv."+this.unlockLevel},openNoLimitBootSelect:function(){this.gameCore.uiMng.openUI(a.NOLIMIT_BOOT_SELECT1)},openWingoBootSelect:function(){this.gameCore.uiMng.openUI(a.WINGO_BOOT_SELECT1)},onBtnModeClk:function(e,t){this.featureID=t,IDynamic.isFeatureInstall(t)?IDynamic.isFeatureLaunch(t)?this.loadingBar&&this.loadingBar.active||this.onButtonClk(e,t):IDynamic.launchFeature(t):ITeenPatti.onMsgReceived("AE_Feature_Install_Start",{feature:t})}}),cc._RF.pop()},{GameData:"GameData",LobbyModeButton:"LobbyModeButton",LocalizedSprite:"LocalizedSprite",UIInfo:"UIInfo"}],LobbyNewModeSelect2:[function(e,t,i){"use strict";cc._RF.push(t,"3359eIG+ntH/qs+WL/ncFAp","LobbyNewModeSelect2");var n=e("LobbyNewModeSelect");cc.Class({extends:n,properties:{},getLightSpineName:function(){return"spine/newLobby2/sg"}}),cc._RF.pop()},{LobbyNewModeSelect:"LobbyNewModeSelect"}],LobbyNewModeSelect:[function(e,t,i){"use strict";cc._RF.push(t,"06066+D7RNH8LhGa7FFMC2O","LobbyNewModeSelect");var n=e("BaseComponent"),a=(e("GameData"),e("Command")),o=e("LobbyLayout");cc.Class({extends:n,properties:{scrollView:cc.ScrollView,preBtn:cc.Node,nextBtn:cc.Node,page:0,totalPage:1,pageWidth:920,tourBtn:cc.Button,pageBtnList:[cc.Node],modeButtonPrefab:cc.Prefab,layout:o,goldBar:cc.Node,chipsBar:cc.Node,vipBtn:cc.Node,separateLine:cc.Node},onLoad:function(){this._super(),this.goldBar.active=!1,this.layout.delegate=this,this.layout.level=1,this.layout.row=2,this.layout.startX=210,this.layout.startY=106,this.layout.gapX=300,this.layout.gapY=212,this.layout.defaultLayout=[],this.layout.layout=[{mode:"viptable",order:50,visible:0,height:2,fixed:1},{mode:"classic",order:100,visible:1},{mode:"casinowar",order:200,visible:1},{mode:"texas",order:300,visible:1},{mode:"deluxe",order:400,visible:1},{mode:"ab",order:500,visible:1},{mode:"abpvp",order:600,visible:1},{mode:"variation",order:700,visible:1},{mode:"nolimit",order:750,visible:1},{mode:"rummy",order:800,visible:1},{mode:"wingo",order:850,visible:1},{mode:"private",order:900,visible:1},{mode:"PotBlind",order:1e3,visible:1},{mode:"tournament",order:1200,visible:1},{mode:"onlivebet",order:1300,visible:1},{mode:"comingsoon",order:1400,visible:0}],this.scrollView.node.on("scroll-began",this.onScrollBegan,this),this.scrollView.node.on("scroll-ended",this.onScrollEnded,this)},onScrollBegan:function(){this.separateLine.opacity=255},onScrollEnded:function(){this.separateLine.opacity=200},updateLightSkeletonData:function(){if(this.lightSkeletonData)for(var e=this.scrollView.content.getComponentsInChildren(sp.Skeleton),t=0;t<e.length;t++)e[t].skeletonData||(e[t].skeletonData=this.lightSkeletonData)},getLightSpineName:function(){return"spine/newLobby/rukou"},initLightSpine:function(){this.lightSkeletonData?this.updateLightSkeletonData():cc.loader.loadRes(this.getLightSpineName(),sp.SkeletonData,function(e,t){this.isValid&&(e||(this.lightSkeletonData=t,this.updateLightSkeletonData()))}.bind(this))},initComplete:function(){this._super(),this.initLightSpine(),this.scrollView.node.on("scroll-ended",function(){this.gameCore.gameMng.oriModeSelectContentX=this.scrollView.content.x},this),this.node.on("size-changed",this.onSizeChange,this),ITeenPatti.addListener(a.SERVER_CMD_MY_GOLD_VIP,this,this.updateVIPTableStatus),this.updateVIPTableStatus(),this.updateBtnActive()},onSizeChange:function(){this.scrollView.content.x=-this.node.width/2,this.node.off("size-changed",this.onSizeChange,this)},hasVIPFeature:function(){return this.gameCore&&-1!=this.gameCore.userMng.myself.goldVIPType&&!isInstantGame},updateVIPTableStatus:function(e,t){if(this.isValid){var i=t&&-1!=t.type||this.hasVIPFeature();this.gameCore.FacebookVersion&&(i=!1),i&&!this.gameCore.FacebookVersion&&(this.goldBar.active=!0,this.layout.layout[0].visible=1),this.layout.onLayout(),this.separateLine.active=i&&this.vipBtn.active;var n=this.scrollView.node.getComponent(cc.Widget);n&&(n.left=i&&this.vipBtn.active?345:0,this.layout.startX=i&&this.vipBtn.active?155:210,this.layout.onLayout());var a=this.chipsBar.getComponent(cc.Widget);a&&(a.left=i?260:300)}},playPageBtnAnimation:function(){for(var e=0;e<this.pageBtnList.length;e++){var t=this.pageBtnList[e].getComponent(sp.Skeleton);t&&t.setAnimation(0,"animation",!0)}},updateBtnActive:function(){this.preBtn.active=!1,this.nextBtn.active=!1},updateScrollView:function(e){this.scrollView.content.width=(this.hasVIPFeature()&&this.vipBtn.active?40:148)+Math.ceil(e/2)*this.layout.gapX-25,this.initLightSpine()},onPreBtnClk:function(e){this.page=Math.max(0,--this.page),this.updatePage()},onNextBtnClk:function(e){this.page=Math.min(this.totalPage,++this.page),this.updatePage()},onScrollViewTouchStart:function(e){},onUITouchUp:function(e){this.scrollView.node.off(cc.Node.EventType.TOUCH_END,this.onUITouchUp,this),this.scrollView.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this);var t=this.scrollView.content.x<this.oriModeSelectContentX,i=Math.max(0,Math.abs((this.scrollView.content.x+this.pageWidth/2)/this.pageWidth)+(t?-.1:.1));this.page=t?Math.ceil(i):Math.floor(i),this.updatePage()},updatePage:function(){this.scrollView.stopAutoScroll(),this.oriModeSelectContentX=-this.pageWidth*(this.page+.5),this.scrollView.content.runAction(cc.moveTo(.15,cc.v2(this.oriModeSelectContentX,0))),this.updateBtnActive()},scrollToPos:function(){this.node.active=!0,this.scrollView.stopAutoScroll(),this.gameCore.gameMng.oriModeSelectContentX&&(this.scrollView.content.x=this.gameCore.gameMng.oriModeSelectContentX)},noStatesRecover:function(){this.node.active=!0}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",GameData:"GameData",LobbyLayout:"LobbyLayout"}],LobbyNewProfileBar:[function(e,t,i){"use strict";cc._RF.push(t,"98e65Spw/pEc76dS1RkCL9l","LobbyNewProfileBar");var n=e("ITeenPatti"),a=(e("BaseUI"),e("FacebookIcon"),e("UIInfo"),e("Command"),e("LanguageData"),e("DataAnalysisKey"),e("BaseComponent"),e("ProgressBar"),e("LanguageData"),e("GameUtils"),e("GameData"),e("ClampLabel"),e("LobbyProfileBar")),o=e("LocalStorage");cc.Class({extends:a,properties:{newIconRemind:cc.Node},onLoad:function(){this._super(),this.newIconRemind.active=!o.getLocalData("NewIconRemind"),n.addListener("choose_icon_opened",this,handler(this,function(){this.newIconRemind.active=!1}))},i18nRendersUpdate:function(){this.lblLevel.string="Lv."+this.objPlayer.nLevel}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BaseUI:"BaseUI",ClampLabel:"ClampLabel",Command:"Command",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon",GameData:"GameData",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",LobbyProfileBar:"LobbyProfileBar",LocalStorage:"LocalStorage",ProgressBar:"ProgressBar",UIInfo:"UIInfo"}],LobbyNewRank:[function(e,t,i){"use strict";cc._RF.push(t,"2bb1aRZZwBPeqey2fjbn6zO","LobbyNewRank");var n=e("BaseComponent"),a=e("FacebookIcon"),o=e("Command"),s=e("TeenPattiUser"),r=e("UIInfo");cc.Class({extends:n,properties:{rankHeads:[cc.Node],rankHeadIcons:[a],rankSpine:cc.Node},initComplete:function(){this._super(),cc.loader.loadRes("spine/newLobby/rank",sp.SkeletonData,function(e,t){if(!e){var i=this.rankSpine.addComponent(sp.Skeleton);i.skeletonData=t,i.setAnimation(0,"animation",!0)}}.bind(this));for(var e=0;e<this.rankHeads.length;e++)this.rankHeads[e].active=!1;this.gameCore.uiMng.lastSceneKey!=r.LOGIN_SCENE.name&&ITeenPatti.sendMsg(o.SERVER_CMD_HIGH_SCORE_AWARD),ITeenPatti.sendMsg(o.SERVER_CMD_CHIPS_WIN_HIGH_SCORE_LIST,{page:1,num:3}),this.gameCore.uiMng.addListener(o.SERVER_CMD_CHIPS_WIN_HIGH_SCORE_LIST,this,this.onFirstThreeHighScore)},onFirstThreeHighScore:function(e){if(this.isValid&&e&&!e.errorcode){var t=this.gameCore.uiMng.getUIByUIKey(r.HIGH_SCORE.name);if(t&&1!=t.globalRankCurPage)return;for(var i=0;i<this.rankHeads.length;i++)this.rankHeads[i].active=!1;var n=table.createToArray(e.other);for(i=0;i<n.length&&!(i>=this.rankHeadIcons.length);i++){this.rankHeads[i].active=!0;var a=new s;a.initWithRankInfo(n[i]),this.rankHeadIcons[i].initWithTeenPattiUser(a)}}},openRank:function(e){this.gameCore.uiMng.openUI(r.HIGH_SCORE)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",FacebookIcon:"FacebookIcon",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],LobbyNewRightTopBar:[function(e,t,i){"use strict";cc._RF.push(t,"6dc69KFdy1JZaVo1dTNVaSs","LobbyNewRightTopBar");var n=e("BaseComponent"),a=(e("GameData"),e("DataAnalysisKey")),o=e("UIInfo"),s=e("Command");cc.Class({extends:n,properties:{btnStore:cc.Node,btnPromotion:cc.Node},initComplete:function(){this._super(),this.btnStore.active=!1,ITeenPatti.addListener("promotelist",this,this.onPromotionListGet),this.gameCore.uiMng.addListener(s.UI_CMD_PROMOTION_ICON_SHOW,this,this.onPromtionShow),this.gameCore.uiMng.addListener(s.UI_CMD_USER_INFO_GOTTEN,this,this.userInfoGotten)},userInfoGotten:function(){this.updateInstantGameBtnStoreActive()},updateInstantGameBtnStoreActive:function(){isInstantGame&&!this.isInstantGameBtnStoreUpdated&&(this.isInstantGameBtnStoreUpdated=!0,this.btnStore.active=!1)},nodeStopPropagation:function(e){e.stopPropagation()},onPromotionListGet:function(e,t){this.isPromotionGet=!0},onPromtionShow:function(e,t){this.isPromotionGet&&this.isValid&&(isInstantGame||cc.sys.os==cc.sys.OS_IOS||(this.btnStore.active=!1))},onStoreBtnClk:function(e){isInstantGame?this.gameCore.gameMng.openPrivateStore():this.gameCore.gameMng.hasPurchase()&&(this.gameCore.uiMng.openUI(o.STORE),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.OPEN_STORE_LOBBY,"",this.gameCore.uiMng.curSceneKey,"",0),this.gameCore.dataAnalysisMng.sendData(a.CLICK_STORE_OPEN))}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",UIInfo:"UIInfo"}],LobbyNewSignInBonus:[function(e,t,i){"use strict";cc._RF.push(t,"27a49jeeBtBS4r+ryn7OXQZ","LobbyNewSignInBonus");var n=e("LobbySignInBonus");cc.Class({extends:n,properties:{redDot:cc.Node},onLoad:function(){this._super(),this.node.active=this.redDot.active=!1},countDown:function(){-1!=this.gameCore.userMng.nextSignInTime&&(this.leftTime=Math.max(0,this.gameCore.userMng.nextSignInTime-(new Date).getTime()/1e3),this.node.active=this.redDot.active=0==this.leftTime)}}),cc._RF.pop()},{LobbySignInBonus:"LobbySignInBonus"}],LobbyNewSupportButton:[function(e,t,i){"use strict";cc._RF.push(t,"3b92etDdvtDbZu1QBuiKoVW","LobbyNewSupportButton");var n=e("LobbySupportButton");e("LocalStorage");cc.Class({extends:n,properties:{rateButton:cc.Node,shareButton:cc.Node},onLoad:function(){this._super(),isInstantGame&&(this.rateButton.active=!1)},updateNodeActive:function(){this._super()}}),cc._RF.pop()},{LobbySupportButton:"LobbySupportButton",LocalStorage:"LocalStorage"}],LobbyNewVIPModeButton:[function(e,t,i){"use strict";cc._RF.push(t,"d0565CHoMpGc4oTNcacrLQ/","LobbyNewVIPModeButton");var n=e("LobbyNewModeButton"),a=e("LocalizedSprite"),o=e("Command"),s=e("GameData"),r=e("UIInfo"),l="LobbyNewVIPModeButton";cc.Class({extends:n,properties:{layout:{default:[],visible:!1},toggleGroup:cc.ToggleGroup,toggleItems:[cc.Node],childButtons:[cc.Node],childIconSprites:[cc.Sprite],childTitleSprite:[a],buttonContainer:cc.Node},onLoad:function(){this._super(),this.toggleGroup.node.active=!1,this.switchIndex=0,this.schedule(this.onSwitchMode,5,cc.macro.REPEAT_FOREVER),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},onTouchStart:function(e){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onButtonClk,this)},onTouchMove:function(e){Math.abs(e.getDeltaX())>10&&(this.node.off(cc.Node.EventType.TOUCH_END,this.onButtonClk,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.switchIndex+=e.getDeltaX()<0?1:-1,this.updateButtonShow(),this.unschedule(this.onSwitchMode),this.schedule(this.onSwitchMode,5,cc.macro.REPEAT_FOREVER))},onSwitchMode:function(){this.layout.length>0&&(this.switchIndex++,this.updateButtonShow())},updateButtonShow:function(){this.switchIndex<0&&(this.switchIndex=this.layout.length),this.switchIndex=this.switchIndex%(this.layout.length+1),this.buttonContainer.runAction(cc.moveTo(.3,260*-this.switchIndex,this.buttonContainer.y)),this.toggleGroup.toggleItems.length>this.switchIndex&&this.toggleGroup.toggleItems[this.switchIndex].check()},initComplete:function(){this._super()},setChildren:function(e){this.layout=e;for(var t=0;t<e.length;t++)if(!e[t].loading&&(e[t].icon&&!e[t].iconSpriteFrame||e[t].title&&!e[t].titleSpriteFrameSet)){e[t].loading=!0;var i=[];if(e[t].icon&&!e[t].iconSpriteFrame&&i.push(e[t].icon+".jpg"),e[t].title&&!e[t].titleSpriteFrameSet)for(var n=0;n<s.languages.length;n++)i.push(e[t].title+"_"+s.languages[n]+".png");this.loadIconImage(e[t]),this.loadTitleImage(e[t])}if(this.layout.length>0){this.toggleGroup.node.active=!0;for(t=0;t<this.layout.length+1;t++)this.toggleItems[t]&&(this.toggleItems[t].active=!0);this.onLayout()}},onNewIconTitleLoadComplete:function(e){if(this.isValid){LogUtil.debug(l,"Download NewIconTitle Complete "+e);for(var t=0;t<this.layout.length;t++)if(this.layout[t].mode==e){this.layout[t].loadedCount=void 0==this.layout[t].loadedCount?0:this.layout[t].loadedCount,this.layout[t].loadedCount+=1;var i=(this.layout[t].icon?1:0)+(this.layout[t].title?3:0);LogUtil.debug(l,this.layout[t].loadedCount+"=="+i),this.layout[t].loadedCount>=i&&(this.loadIconImage(this.layout[t]),this.loadTitleImage(this.layout[t]));break}}else LogUtil.debug(l,"onNewIconTitleLoadComplete not valid.")},onNewIconTitleLoadSuccess:function(e){this.isValid&&(LogUtil.debug(l,"Download NewIconTitle Success "+e.requestURL),this.onNewIconTitleLoadComplete(e.identifier))},onNewIconTitleLoadFail:function(e){this.isValid&&LogUtil.debug(l,"Download NewIconTitle Fail "+e.requestURL)},loadIconImage:function(e){if(this.isValid)if(e.icon)if(e.iconSpriteFrame)this.onLayout();else{var t=e.icon+".jpg";LogUtil.debug(l,"loadIconImage url:"+t),cc.loader.load(t,handler(this,function(e,t,i){e?LogUtil.debug(l,"loadIconImage err:"+e):(i.iconSpriteFrame=new cc.SpriteFrame(t),this.onLayout())},e))}else LogUtil.debug(l,"loadIconImage icon is null");else LogUtil.debug(l,"loadIconImage not valid")},loadTitleImage:function(t){if(this.isValid)if(t.title)if(t.titleSpriteFrameSet)this.onLayout();else{for(var i=[],n=0;n<s.languages.length;n++){var a=t.title+"_"+s.languages[n]+".png";i.push(a)}cc.loader.load(i,handler(this,function(t,n,a){if(t)for(var o=0;o<t.length;o++)LogUtil.debug(l,"Error url ["+t[o]+"]: "+n.getError(t[o]));else{var r=e("SpriteFrameSet"),c=[];for(o=0;o<i.length;o++){var h=n.getContent(i[o]);if(h){var u=new r;u.language=s.languages[o],u.spriteFrame=new cc.SpriteFrame(h),c.push(u)}}a.titleSpriteFrameSet=c,this.onLayout()}},t))}else LogUtil.debug(l,"loadIconImage title is null");else LogUtil.debug(l,"loadTitleImage not valid")},onLayout:function(){if(this.layout)for(var e=0;e<this.layout.length;e++)this.layout[e].iconSpriteFrame&&this.layout[e].titleSpriteFrameSet&&(this.childIconSprites[e]&&(this.childIconSprites[e].spriteFrame=this.layout[e].iconSpriteFrame),this.childTitleSprite[e]&&(this.childTitleSprite[e].spriteFrameSet=this.layout[e].titleSpriteFrameSet,this.childTitleSprite[e].fetchRender()))},onPlayResponse:function(e,t){ITeenPatti.removeListener(o.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),ITeenPatti.removeListener(o.SERVER_CMD_PLAY_CASINO_WAR_GOLD,this,this.onPlayResponse),ITeenPatti.removeListener(o.SERVER_CMD_PLAY_AB_GOLD,this,this.onPlayResponse),this._super(e,t)},onButtonClk:function(e){this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onButtonClk,this);LogUtil.debug("LobbyNewVIPModeButton","onButtonClk:"+e.target),ITeenPatti.addListener(o.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),ITeenPatti.addListener(o.SERVER_CMD_PLAY_CASINO_WAR_GOLD,this,this.onPlayResponse),ITeenPatti.addListener(o.SERVER_CMD_PLAY_AB_GOLD,this,this.onPlayResponse);var t=this.mode;if(this.released=void 0,this.switchIndex>0&&this.layout[this.switchIndex-1]&&(t=this.layout[this.switchIndex-1].mode,this.released=this.layout[this.switchIndex-1].released),"gwar"==t){if(!this.gameCore.userMng.playCasinoWar(!1,null,null,!0))return;this.mask.active=!0,this.node.interactable=!1}else if("gab"==t){if(!this.gameCore.userMng.playAB(!1,null,null,!0))return;this.mask.active=!0,this.node.interactable=!1}else if("gpoker"==t){if(!this.gameCore.userMng.playTexasHoldem(!1,null,null,!0))return;this.mask.active=!0,this.node.interactable=!1}else if("gclassic"==t){if(!this.gameCore.userMng.play(o.SERVER_CMD_PLAY_CLASSIC_GOLD,"",!1,null,null,!0))return;this.gameCore.uiMng.addListener(o.SERVER_CMD_PLAY_CLASSIC_GOLD,this,this.onPlayResponse),this.mask.active=!0,this.node.interactable=!1}else"abpvpgold"==t?this.gameCore.uiMng.openUI(r.AB_PVP_GOLD_ROOM_SELECT):"casinowarpvp"==t?this.gameCore.uiMng.openUI(r.CASINO_WAR_PVP_GOLD_ROOM_SELECT):"Cricket"==t?(this.mask.active=!0,this.gameCore.gameMng.openGameUI(r.CRICKET_SCENE,"OnlineBet")):0==this.switchIndex?this._super(e):void 0!=this.released&&this.gameCore.gameMng.newModeRemind(this.released)}}),cc._RF.pop()},{Command:"Command",GameData:"GameData",LobbyNewModeButton:"LobbyNewModeButton",LocalizedSprite:"LocalizedSprite",SpriteFrameSet:"SpriteFrameSet",UIInfo:"UIInfo"}],LobbyPopUpManager:[function(e,t,i){"use strict";cc._RF.push(t,"9ff92kepExDubMCxnqCkpcy","LobbyPopUpManager"),cc.Class({extends:cc.Component,properties:{curPopUp:null,arrCacheMsg:{default:[]}},onLoad:function(){this.curPopUp=null,this.arrCacheMsg=[],ITeenPatti.addListener("PopUpUI",this,this.onMsgPopUp),ITeenPatti.addListener("PopUpClose",this,this.onPopUpClose)},onDestroy:function(){ITeenPatti.removeListenerWithTarget(this)},start:function(){this.startPopUp()},onMsgPopUp:function(e,t){for(var i=0;i<this.arrCacheMsg.length;i++)if(!t.uiRepeat&&this.arrCacheMsg[i].uiInfo.name==t.uiInfo.name)return;this.curPopUp&&!t.uiRepeat&&this.curPopUp.uiKey==t.uiInfo.name||(this.arrCacheMsg.push({uiName:e,uiInfo:t.uiInfo,data:t.data}),this.curPopUp||this.startPopUp())},startPopUp:function(){if(!(this.curPopUp||this.arrCacheMsg.length<1)){var e=this.arrCacheMsg[0];ITeenPatti.gameCore.uiMng.openUI(e.uiInfo,handler(this,function(t){this.curPopUp=t,this.curPopUp.setInitData(e.data)})),this.arrCacheMsg.splice(0,1)}},onPopUpClose:function(){this.curPopUp=null,this.startPopUp()}}),cc._RF.pop()},{}],LobbyProfileBar:[function(e,t,i){"use strict";cc._RF.push(t,"6670bDwHt5Ki7GZFhwMZ4Ey","LobbyProfileBar");var n=e("ITeenPatti"),a=(e("BaseUI"),e("FacebookIcon")),o=e("UIInfo"),s=e("Command"),r=e("LanguageData"),l=(e("DataAnalysisKey"),e("BaseComponent")),c=e("ProgressBar"),h=(r=e("LanguageData"),e("GameUtils")),u=e("GameData"),d=e("ClampLabel");cc.Class({extends:l,properties:{lblName:d,lblLevel:cc.Label,lblChips:cc.Label,lblGold:cc.Label,freezeChipsLabel:cc.Label,lblAddChips:cc.Label,facebookIcon:a,levelProgress:c,VIPIcon:cc.Sprite,VIPStatusFrames:[cc.SpriteFrame]},onLoad:function(){this.objPlayer=n.getCurPlayer(),this.node.on(cc.Node.EventType.TOUCH_END,this.onPlayerHeadTouchEnd.bind(this)),this.updateUI(),this._super()},onDestroy:function(){this.removeListenerWithTarget()},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(s.UI_CMD_HEAD_ICON_CHANGE,this,this.updateIcon),this.gameCore.uiMng.addListener(s.UI_CMD_CHIPS_CHANGE,this,this.updateChips),this.gameCore.uiMng.addListener(s.UI_CMD_GOLD_CHANGE,this,this.updateGold),this.gameCore.uiMng.addListener(s.UI_CMD_USER_INFO_GOTTEN,this,this.userInfoGotten),this.gameCore.uiMng.addListener(s.UI_CMD_UPDATE_VIP_STATUS,this,this.updateVIPStatus),this.registerChipsPauseResumeListeners(),this.updateVIPStatus(),this.schedule(this.updateVIPStatus,1,cc.macro.REPEAT_FOREVER)},i18nRendersUpdate:function(){this.lblLevel.string=r.t("label_text.lobby_profile_bar_level",{lv:this.objPlayer.nLevel})},userInfoGotten:function(e){e.id==this.objPlayer.strTPID&&this.updateUI()},updateUI:function(){this.objPlayer&&(this.lblName.string=this.objPlayer.strTPName,this.lblChips.string=h.formatNumberWithRules(this.objPlayer.nChips,1e6),this.lblGold.string=h.formatNumberWithRules(this.objPlayer.nGold,1e6),this.freezeChipsLabel.string=this.objPlayer.freezeChipsStr,this.levelProgress.progress=this.objPlayer.expProgress,this.facebookIcon.initWithTeenPattiUser(this.objPlayer),this.i18nRendersUpdate())},onPlayerHeadTouchEnd:function(e){this.gameCore.uiMng.openUI(o.MYSELF_PLAYER_INFO)},updateIcon:function(){if(!this.objPlayer.isFacebookLogin()&&-1==this.objPlayer.strIconID){var e=Math.floor(u.systemIconCount*Math.random())+1;n.sendMsg(s.SERVER_CMD_EDIT_USER_ICON,{i:e}),this.objPlayer.strIconID=e}this.facebookIcon.initWithTeenPattiUser(this.objPlayer)},updateChips:function(e){this.isChipsRefreshPaused||(this.lblChips.string=h.formatNumberWithRules(e.final,1e6))},updateGold:function(e){this.lblGold.string=h.formatNumberWithRules(e.final,1e6)},updateVIPStatus:function(e){this.gameCore&&this.gameCore.userMng&&this.gameCore.userMng.myself&&this.gameCore.userMng.myself.goldVIP>0&&this.gameCore.userMng.myself.goldVIPExp-(new Date).getTime()>0?(this.VIPIcon.node.active=!0,this.gameCore.userMng.myself.goldVIPExp-(new Date).getTime()>6048e5?this.VIPIcon.spriteFrame=this.VIPStatusFrames[0]:this.VIPIcon.spriteFrame=this.VIPStatusFrames[1],this.gameCore.userMng.myself.goldVIPExp-(new Date).getTime()<=0&&n.sendMsg(s.SERVER_CMD_MY_GOLD_VIP)):this.VIPIcon.node.active=!1}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BaseUI:"BaseUI",ClampLabel:"ClampLabel",Command:"Command",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon",GameData:"GameData",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",ProgressBar:"ProgressBar",UIInfo:"UIInfo"}],LobbyPromotionButton:[function(e,t,i){"use strict";cc._RF.push(t,"f91c5UEm8pAtLYFLD9rtvSQ","LobbyPromotionButton");e("UIInfo");var n=e("AEMobile"),a=e("Command"),o=e("GameData"),s=e("BaseComponent");cc.Class({extends:s,properties:{spfIcon:{type:cc.Sprite,default:null},nDeltaSecond:{visible:!1,default:0},label:cc.Label,isTopPromotion:!1},onLoad:function(){this._super()},initComplete:function(){this._super(),ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().ptProfile&&ITeenPatti.getCurPlayer().ptProfile.setOnTaskSuccCb({target:this,cb:this.promotionLoadSucc}),this.refreshUI(),ITeenPatti.sendMsg("promotelist",null),ITeenPatti.addListener("promotelist",this,this.onPromotionListGet),ITeenPatti.addListener(a.SERVER_CMD_ANDROID_BUY,this,this.onProductBuyFinish),ITeenPatti.addListener(a.SERVER_CMD_IOS_BUY,this,this.onProductBuyFinish),ITeenPatti.addListener(a.SERVER_CMD_FACEBOOK_BUY,this,this.onProductBuyFinish)},onDestroy:function(){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().ptProfile&&ITeenPatti.getCurPlayer().ptProfile.setOffTaskSuccCb(this)},start:function(){},onProductBuyFinish:function(e,t){this.refreshUI()},onPromotionListGet:function(e,t){this.refreshUI()},promotionLoadSucc:function(){this.refreshUI()},update:function(e){this.nDeltaSecond+=e,this.nDeltaSecond<1||(this.nDeltaSecond-=1,this.updateLeftTime())},updateLeftTime:function(){if(!this.isTopPromotion&&this.label&&this.endTime){var e=Math.max(0,this.endTime-(new Date).getTime()/1e3);this.label.string=CommonUtil.getTimeString(e),e<=0&&(this.node.active=!1,ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().ptProfile&&this.item&&ITeenPatti.getCurPlayer().ptProfile.onItemTimeEnd(this.item))}},refreshUI:function(){if(this.node&&this.node.isValid&&ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().ptProfile){this.node.active=!1;var e=ITeenPatti.getCurPlayer().ptProfile;this.item=this.isTopPromotion?e.getTopIconImageItem():e.getIconImageItem(),this.item&&n.loader.getResWithUrl(this.item.icon)?(this.node.active=!0,this.endTime=this.item.ruleConfig&&this.item.ruleConfig.no_countdown_label?null:this.item.time,this.updateLeftTime(),this.label&&(this.label.node.y=-26),this.spfIcon.spriteFrame=new cc.SpriteFrame(n.loader.getResWithUrl(this.item.icon)),this.gameCore.uiMng.dispatch(a.UI_CMD_PROMOTION_ICON_SHOW,{show:!0}),this.gameCore&&this.isTopPromotion&&this.gameCore.uiMng.dispatch(a.UI_CMD_TOP_POSITION_PROMOTION_LOADED,348)):(this.gameCore.uiMng.dispatch(a.UI_CMD_PROMOTION_ICON_SHOW,{show:!1}),this.gameCore&&this.isTopPromotion&&this.gameCore.uiMng.dispatch(a.UI_CMD_TOP_POSITION_PROMOTION_REMOVED,-348))}},onPurchaseFail:function(){this.gameCore.uiMng.removeListener(a.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.uiMng.removeListener(a.UI_CMD_PURCHASE_FAIL,this,this.onPurchaseFail)},onChipsGet:function(e){this.gameCore.gameMng.playChipsFly(e,cc.v2(0,0),0),this.gameCore.uiMng.removeListener(a.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet)},onBtnPromotionClk:function(){if(this.isTopPromotion){if(this.item&&this.item.goods&&this.item.goods[1]){var e=this.item.goods[1],t={id:e.product_id,productId:e.product_id};this.gameCore.uiMng.addListener(a.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.uiMng.addListener(a.UI_CMD_PURCHASE_FAIL,this,this.onPurchaseFail),this.gameCore.gameMng.buyStoreItem(t,o.PRE_BUY_P_PROMOTION)}}else this.gameCore.gameMng.showOnePromotion()}}),cc._RF.pop()},{AEMobile:"AEMobile",BaseComponent:"BaseComponent",Command:"Command",GameData:"GameData",UIInfo:"UIInfo"}],LobbySceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"02190FSP4RHpoIwfa/tps1l","LobbySceneAudio");var n=e("BaseSceneAudio");cc.Class({extends:n,properties:{background:{type:cc.AudioClip,default:null},bonus:{type:cc.AudioClip,default:null}},onLoad:function(){}}),cc._RF.pop()},{BaseSceneAudio:"BaseSceneAudio"}],LobbySceneNew2:[function(e,t,i){"use strict";cc._RF.push(t,"59be064ZLNL8IPTzZHSJnhW","LobbySceneNew2");var n=e("LobbySceneNew");cc.Class({extends:n,properties:{}}),cc._RF.pop()},{LobbySceneNew:"LobbySceneNew"}],LobbySceneNewPopup:[function(e,t,i){"use strict";cc._RF.push(t,"a6863OwNxZKEJ6qT1KwmZ9c","LobbySceneNewPopup"),cc.Class({extends:cc.Component,properties:{prefabs:[cc.Prefab]}}),cc._RF.pop()},{}],LobbySceneNew:[function(e,t,i){"use strict";cc._RF.push(t,"667bbwyCuJNyKwh2PzE2i7O","LobbySceneNew");var n=e("BaseScene"),a=e("IFacebook"),o=e("ITeenPatti"),s=e("IFirebase"),r=e("DataAnalysisKey"),l=e("UIInfo"),c=e("Command"),h=e("GameData"),u=(r=e("DataAnalysisKey"),e("LobbyNewProfileBar")),d=e("LocalStorage"),m=e("LobbyNewModeSelect"),g="LobbySceneNew";cc.Class({extends:n,properties:{blackBg:{default:null,visible:!1,override:!0},popupBg:{default:null,visible:!1,override:!0},connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,chipsFlyEffectPrefab:cc.Prefab,loadingIndicatorPrefab1:cc.Prefab,profileBar:u,modeSelect:m,modeSelectScrollView:cc.ScrollView,modeSelectContent:cc.Node,highScoreNode:cc.Node,topContainer:cc.Node,centerContainer:cc.Node,bottomContainer:cc.Node,moreGameBtn:cc.Node,tournamentBtn:cc.Node,nolimitBtn:cc.Node,wingoBtn:cc.Node},onEnterForeground:function(){if(this._super(),!cc.sys.localStorage.getItem("HotFix_Remote_Version")){var e=cc.sys.localStorage.getItem("HotFix_Version_Url");if(e&&!(e.length<1)){var t=cc.loader.getXMLHttpRequest();t.onreadystatechange=function(){if(4==t.readyState&&!(t.status<200&&t.status>=300)){LogUtil.debug(g,"Hot Fix Version Download Succ \uff1a"+t.responseText);var e=null;try{e=JSON.parse(t.responseText)}catch(e){return void LogUtil.err(g,"There is error parse on Hot Fix Remote Versoion")}cc.sys.localStorage.setItem("HotFix_Remote_Version",e.version)}},t.open("GET",e,!0),t.timeout=15e3;t.send()}}},onDestroy:function(){this._super(),this.gameCore.gameMng.stopAudioBg()},gameCoreSetComplete:function(){this.gameCore.uiMng.addListener("force_upgrade",this,this.onLayout),this.onForceUpgrade()||this.gameCore.gameMng.openGameScene()||(this.gameCore.uiMng.lastSceneKey!=l.EVENTS_SCENE.name&&this.gameCore.gameMng.getNativeSkuDetails(),o.addListener(c.SERVER_CMD_ROOM_JOIN,this,handler(this,this.onRoomJoin)),cc.sys.isBrowser||o.sendMsg("advnum",null));var e=s.getToken();e&&e.length>0&&o.sendMsg("fcm",{i:s.getToken()}),this.gameCore.userMng&&this.gameCore.userMng.getUserInfo(this.gameCore.userMng.myself.strTPID),this.gameCore.uiMng.isBackFromGame&&(this.gameCore.gameMng.hasBroken=!0,this.gameCore.gameMng.hasRoomSummary=!0,this.gameCore.gameMng.hasDailyMission=!0),this.gameCore.gameMng.openRoomSummary(),this.gameCore.versionMng.loadVersionCfgFromCache(),this._super()},initPreloadData:function(){cc.director.preloadScene("GameScene",function(){cc.log("Game scene preloaded")}),this.preloadPrefabs=this.preloadPrefabs.concat(h.LOBBY_SCENE_PRELOAD_POPUP()),this._super()},onLoad:function(){this._super(),this.moreGameBtn.active=!isInstantGame},initComplete:function(){this._super();var e="Guest";o.getCurPlayer()&&o.getCurPlayer().isFacebookLogin()&&(e="Facebook"),CommonUtil.putCrashReportUserData("LoginType",e),this.gameCore.uiMng.loadingIndicator1=this.loadingIndicatorPrefab1,this.gameCore.initPopupMng.pause=!1,cc.sys.isBrowser||(o.sendMsg(c.SERVER_CMD_WEB_STORE,{i:1}),this.gameCore.uiMng.addListener(c.UI_CMD_WEB_STORE_STATE_CHANGED,this,this.onWebStoreState)),this.gameCore.uiMng.addListener(c.SERVER_CMD_AD_BONUS,this,this.onAdBonusGet),this.gameCore.uiMng.addListener(c.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded),this.gameCore.uiMng.addListener(c.SERVER_CMD_PLAY,this,this.onPlayResponse),this.gameCore.uiMng.addListener(c.SERVER_CMD_PLAY_TEXAS_HOLDEM,this,this.onPlayResponse),this.gameCore.uiMng.addListener(c.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded),this.gameCore.uiMng.addListener("getchipstobank",this,this.onEventRefresh),this.gameCore.uiMng.isBackFromTableGameScene()&&(this.gameCore.gameMng.judgeBroken(),isInstantGame&&FBInstant.canCreateShortcutAsync().then(function(e){e&&FBInstant.createShortcutAsync().then(function(){}).catch(function(){})})),0==this.gameCore.userMng.privateBootList[0].length&&o.sendMsg(c.SERVER_CMD_PRIVATE_BOOT_LIST,null),0==this.gameCore.userMng.privateBootList[1].length&&o.sendMsg(c.SERVER_CMD_PRIVATE_NOLIMIT_BOOT_LIST,null),0==this.gameCore.userMng.privateBootList[2].length&&o.sendMsg(c.SERVER_CMD_PRIVATE_POKER_BOOT_LIST,null),this.gameCore.gameMng.curLobbyType?this.gameCore.gameMng.handleLaunchQuery()?LogUtil.debug(g,"join whatsapp invite room."):this.gameCore.gameMng.joinLastPlayedRoom()||this.gameCore.gameMng.joinInstantGameRoom()||(this.gameCore.uiMng.lastSceneKey!=l.FB_LOGIN_SCENE.name&&this.gameCore.uiMng.lastSceneKey!=l.LOBBY_SCENE.name&&this.gameCore.uiMng.lastSceneKey!=l.LOBBY_SCENE2.name&&this.gameCore.instantGameANMMng&&this.gameCore.instantGameANMMng.showInterstitialAd(),this.gameCore.instantGameANMMng||IAds.showInterstitialAd("Lobby")):this.gameCore.uiMng.openUI(l.SWITCH_LOBBY),window.reconnectToAnotherServer&&(this.gameCore.uiMng.isBackFromPVP||this.gameCore.uiMng.isBackFromPVPGold)&&(window.reconnectToAnotherServer=void 0,this.gameCore.serverMng.disconnectServer()),this.gameCore.gameMng.judgeHasCurServer()},onForceUpgrade:function(){return!(!o.onlineCfg.forceUpgrade||!o.onlineCfg.forceUpgrade.targetRelease)&&(Client.Release<=o.onlineCfg.forceUpgrade.targetRelease&&(this.gameCore.gameMng.sceneOpening=!0,this.gameCore.uiMng.openUI(l.FORCE_UPGRADE,function(e){e.updateUI(o.onlineCfg.forceUpgrade)}),!0))},onTopPromotionLoaded:function(e){this.gameCore.uiMng.removeListener(c.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded),this.gameCore.uiMng.addListener(c.UI_CMD_TOP_POSITION_PROMOTION_REMOVED,this,this.onTopPromotionRemoved)},onTopPromotionRemoved:function(e){this.gameCore.uiMng.removeListener(c.UI_CMD_TOP_POSITION_PROMOTION_REMOVED,this,this.onTopPromotionRemoved),this.gameCore.uiMng.addListener(c.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded)},onBackButtonClk:function(){cc.sys.isBrowser||this.gameCore.uiMng.openUI(l.QUIT_GAME_POPUP)},onStoreBtnClk:function(e){this.gameCore.gameMng.hasPurchase()&&(this.gameCore.uiMng.changeUIStates(l.STORE.name,l.UI_STATE_TOGGLE_INDEX,0),o.onMsgReceived("PopUpUI",{uiInfo:l.STORE,data:{}}),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.OPEN_STORE_LOBBY,"",this.gameCore.uiMng.curSceneKey,"",0),this.gameCore.dataAnalysisMng.sendData(r.CLICK_STORE_OPEN))},onGoldStoreBtnClk:function(e){this.gameCore.gameMng.hasPurchase()&&(this.gameCore.uiMng.changeUIStates(l.STORE.name,l.UI_STATE_TOGGLE_INDEX,2),o.onMsgReceived("PopUpUI",{uiInfo:l.STORE,data:{}}),this.gameCore.dataAnalysisMng.sendData(r.CLICK_GOLD_STORE_OPEN))},onPlayResponse:function(e,t){if("error"==t.cmd)try{var i=JSON.parse(t.mess);i&&i.reason&&this.gameCore.uiMng.openUI(l.MODE_NOT_OPEN_POPUP)}catch(e){}},onRoomJoin:function(e,t){this.gameCore&&(this.gameCore.uiMng.hideLoading(),o.roomType==ROOM_TYPE.TEXAS_HOLDEM?this.gameCore.gameMng.openGameUI(l.TEXAS_HOLDEM_SCENE,"Deluxe_Poker"):o.roomType==ROOM_TYPE.RUMMY?this.gameCore.gameMng.openGameUI(l.RUMMY_SCENE,"Rummy"):this.gameCore.gameMng.openGameScene(),IAds.loadAd(IAds.AD_NATIVE),this.gameCore.dataAnalysisMng.sendData(r.JOIN_TABLE_SUCCESS,this.gameCore.dataAnalysisMng.gameBaseData))},onEmailBoxClk:function(){o.sendMsg("notificationlist",null),o.onMsgReceived("PopUpUI",{uiInfo:l.EMAIL_BOX_POPUP,data:{}})},onWebStoreState:function(e){},onShareBtnClk:function(e){isInstantGame?this.gameCore.friendsMng.inviteInstantGameFriends():a.invite("nofilter","http://www.teenpattiflush.com/patti/playgame.html")},onFreeChipsBtnClk:function(e){this.gameCore.gameMng.openFreeChipsWebPage()},onAdBonusGet:function(e,t){cc.sys.isBrowser||o.sendMsg("advnum",null),o.sendMsg("getUserInfo",{i:o.getCurPlayer().strTPID}),this.gameCore.uiMng.openUI(l.AD_BONUS_POPUP,function(e){e.setAdBonusAmount(t.add_chips,t.final_chips)})},onEventRefresh:function(e,t){t&&t.config&&this.gameCore.uiMng.lastSceneKey==l.LOGIN_SCENE.name&&cc.sys.os!=cc.sys.OS_IOS&&(this.gameCore.userMng.needAutoPopupEventActive=!0)},onBtnRateClicked:function(e){d.saveLocalData("lobby_rate_btn_active",!0),this.gameCore.gameMng.openMarket()},onBtnFriendClicked:function(){isInstantGame?this.gameCore.friendsMng.inviteInstantGameFriends():this.gameCore.gameMng.openInviteFriends()},onBtnRummyAdClicked:function(){cc.sys.os==cc.sys.OS_IOS?cc.sys.openURL("https://itunes.apple.com/developer/caelum-inc-slots-bingo-casino-card-game-collections/id1264416696"):cc.sys.openURL("https://play.google.com/store/apps/dev?id=9041373128986035838")},noStatesRecover:function(){this._super(),this.modeSelect.noStatesRecover()},statesRecoverUpdate:function(){void 0!=this.recoverStates[l.UI_STATE_SCROLLVIEW_X]&&(this.modeSelect.page=this.recoverStates[l.UI_STATE_SCROLLVIEW_X],this.modeSelect.scrollToPos(),this.gameCore.uiMng.lastSceneKey==l.GAME_SCENE_TOUR.name?this.openTournamentSelect(!1):this.gameCore.uiMng.isFromGoldScene&&this.gameCore.uiMng.openUI(l.VIP_TABLE_SELECT)),this._super()},statesPersistence:function(){var e={};return e[l.UI_STATE_SCROLLVIEW_X]=this.modeSelect.page,e},openTournamentSelect:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];cc.visibleRect;this.modeSelect.node.stopAllActions(),this.oriModeNodeX=this.modeSelect.node.x;var t=Math.max(-this.modeSelectScrollView.content.width+this.modeSelectScrollView.node.width/2,-20-this.tournamentBtn.x-this.tournamentBtn.width/2+this.modeSelectScrollView.node.width/2);this.modeSelectScrollView.content.runAction(cc.sequence(cc.moveTo(e?.15:0,cc.v2(t,this.modeSelectScrollView.content.y)),cc.callFunc(function(){o.addListener("PopUpClose",this,this.onPopUpClose),this.gameCore.uiMng.openUI(l.TOURNAMENT_SELECT)},this)))},openNoLimitBootSelect:function(){var e=Math.max(-this.modeSelectScrollView.content.width+this.modeSelectScrollView.node.width/2,-20-this.nolimitBtn.x-this.nolimitBtn.width/2+this.modeSelectScrollView.node.width/2);this.modeSelectScrollView.content.runAction(cc.moveTo(.15,cc.v2(e,this.modeSelectScrollView.content.y)))},openWingoBootSelect:function(){var e=Math.max(-this.modeSelectScrollView.content.width+this.modeSelectScrollView.node.width/2,-20-this.wingoBtn.x-this.wingoBtn.width/2+this.modeSelectScrollView.node.width/2);this.modeSelectScrollView.content.runAction(cc.moveTo(.15,cc.v2(e,this.modeSelectScrollView.content.y)))},onPopUpClose:function(e,t){t.uiKey==l.TOURNAMENT_SELECT.name&&(o.removeListener("PopUpClose",this,this.onPopUpClose),t.removeFromParent&&this.highScoreNode&&this.highScoreNode.runAction(cc.sequence(cc.moveTo(.15,cc.v2(this.oriHighScoreNodeX,this.highScoreNode.y)),cc.callFunc(function(){},this))))}}),cc._RF.pop()},{BaseScene:"BaseScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",IFacebook:"IFacebook",IFirebase:"IFirebase",ITeenPatti:"ITeenPatti",LobbyNewModeSelect:"LobbyNewModeSelect",LobbyNewProfileBar:"LobbyNewProfileBar",LocalStorage:"LocalStorage",UIInfo:"UIInfo"}],LobbyScene:[function(e,t,i){"use strict";cc._RF.push(t,"946b4PfdIhHoaQTBwAPmy8o","LobbyScene");var n=e("BaseScene"),a=(e("IFacebook"),e("ITeenPatti")),o=e("IFirebase"),s=e("DataAnalysisKey"),r=e("UIInfo"),l=e("Command"),c=(e("GameData"),s=e("DataAnalysisKey"),e("LobbyProfileBar")),h="LobbyScene";cc.Class({extends:n,properties:{blackBg:{default:null,visible:!1,override:!0},popupBg:{default:null,visible:!1,override:!0},friendsPrefab:cc.Prefab,settingPrefab:cc.Prefab,settingiOSPrefab:cc.Prefab,settingFBPrefab:cc.Prefab,helpPrefab:cc.Prefab,invitationMessagePrefab:cc.Prefab,invitationAlertPrefab:cc.Prefab,storePrefab:cc.Prefab,bankStorePrefab:cc.Prefab,withdrawChipsPrefab:cc.Prefab,giftChipsPrefab:cc.Prefab,bankToBankPrefab:cc.Prefab,bankHistoryPrefab:cc.Prefab,bankAlertPrefab:cc.Prefab,variationModeSelectPrefab:cc.Prefab,deluxeModeSelectPrefab:cc.Prefab,casinoWarModeSelectPrefab:cc.Prefab,privateRoomSettingPrefab:cc.Prefab,headIconChoosePrefab:cc.Prefab,ratePrefab:cc.Prefab,fbLogoutConnectRemindPrefab:cc.Prefab,dailySignInPrefab:cc.Prefab,connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,friendOnlinePrefab:cc.Prefab,roomSummaryPrefab:cc.Prefab,quitGamePopUpPrefab:cc.Prefab,chipsFlyEffectPrefab:cc.Prefab,alertPrefab:cc.Prefab,versionCompatibleAlertPrefab:cc.Prefab,emailBoxPopUpPrefab:cc.Prefab,emailDetailPopUpPrefab:cc.Prefab,emailRewardPopUpPrefab:cc.Prefab,chipsNotEnough3Prefab:cc.Prefab,chipsNotEnoughTwoItemPrefab:cc.Prefab,settingHSMTipsPrefab:cc.Prefab,freeChipsPopUpPrefab:cc.Prefab,adBonusPopUpPrefab:cc.Prefab,adFreeChipsPopUpPrefab:cc.Prefab,versionUpdatePopUpPrefab:cc.Prefab,adNativePopUpPrefab:cc.Prefab,luckyCoinPopUpPrefab:cc.Prefab,promotionPopUpPrefab:cc.Prefab,brokePrefab:cc.Prefab,noLimitBootSelectPrefab:cc.Prefab,myselfPlayerInfoPrefab:cc.Prefab,cricketRoomPopUpPrefab:cc.Prefab,redeemCodePrefab:cc.Prefab,inviteCodePrefab:cc.Prefab,onliveBetPrefab:cc.Prefab,modeNotOpenPopUpPrefab:cc.Prefab,eventActivePopUpPrefab:cc.Prefab,dailyMissionPrefab:cc.Prefab,dailyMissionCompletedPrefab:cc.Prefab,customerSupportPopUpPrefab:cc.Prefab,monthlyEliteBuyPopUpPrefab:cc.Prefab,monthlyEliteBonusGetPopUpPrefab:cc.Prefab,monthlyErrorPopUpPrefab:cc.Prefab,tournamentSelectPrefab:cc.Prefab,tournamentSingleRoundPrefab:cc.Prefab,tournamentTwoRoundPrefab:cc.Prefab,tournamentRankingRoundPrefab:cc.Prefab,loadingIndicatorPrefab1:cc.Prefab,friendBar:cc.Node,profileBar:c,scrollViewContent:cc.Node,freeChipsBtn:cc.Button,cricketBtn:cc.Button,rummyChipsNotEnough2Prefab:cc.Prefab},onLoad:function(){this._super(),LogUtil.info(h,"------------------------------------- Lobby Scene ------------------------------------"),o.logLoginEvent("Lobby_Scene_Load")},onEnterForeground:function(){if(this._super(),!cc.sys.localStorage.getItem("HotFix_Remote_Version")){var e=cc.sys.localStorage.getItem("HotFix_Version_Url");if(e&&!(e.length<1)){var t=cc.loader.getXMLHttpRequest();t.onreadystatechange=function(){if(4==t.readyState&&!(t.status<200&&t.status>=300)){LogUtil.debug(h,"Hot Fix Version Download Succ \uff1a"+t.responseText);var e=null;try{e=JSON.parse(t.responseText)}catch(e){return void LogUtil.err(h,"There is error parse on Hot Fix Remote Versoion")}cc.sys.localStorage.setItem("HotFix_Remote_Version",e.version)}},t.open("GET",e,!0),t.timeout=15e3;t.send()}}},onDestroy:function(){this._super(),this.gameCore.gameMng.pauseAudioBg()},gameCoreSetComplete:function(){this.gameCore.gameMng.openGameScene()||(this.gameCore.uiMng.lastSceneKey!=r.EVENTS_SCENE.name&&this.gameCore.gameMng.getNativeSkuDetails(),a.addListener(l.SERVER_CMD_ROOM_JOIN,this,handler(this,this.onRoomJoin)),cc.sys.isBrowser||a.sendMsg("advnum",null));var e=o.getToken();e&&e.length>0&&a.sendMsg("fcm",{i:o.getToken()}),this.gameCore.userMng.getUserInfo(this.gameCore.userMng.myself.strTPID),this.gameCore.uiMng.isBackFromGame&&(this.gameCore.gameMng.hasBroken=!0,this.gameCore.gameMng.hasRoomSummary=!0,this.gameCore.gameMng.hasDailyMission=!0),this.gameCore.gameMng.openRoomSummary(),this.gameCore.versionMng.loadVersionCfgFromCache(),this._super()},initComplete:function(){this._super(),this.gameCore.uiMng.loadingIndicator1=this.loadingIndicatorPrefab1,this.gameCore.initPopupMng.pause=!1,this.freeChipsBtn.node.active=!1,cc.sys.isBrowser||(a.sendMsg(l.SERVER_CMD_WEB_STORE,{i:1}),this.gameCore.uiMng.addListener(l.UI_CMD_WEB_STORE_STATE_CHANGED,this,this.onWebStoreState)),this.gameCore.uiMng.addListener(l.SERVER_CMD_AD_BONUS,this,this.onAdBonusGet),this.gameCore.uiMng.addListener(l.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded),this.gameCore.uiMng.addListener(l.SERVER_CMD_PLAY,this,this.onPlayResponse),this.gameCore.uiMng.addListener(l.SERVER_CMD_PLAY_TEXAS_HOLDEM,this,this.onPlayResponse),this.gameCore.uiMng.addListener(l.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded),this.gameCore.uiMng.addListener("getchipstobank",this,this.onEventRefresh),this.gameCore.uiMng.isBackFromTableGameScene()&&(this.gameCore.gameMng.judgeBroken(),isInstantGame&&FBInstant.canCreateShortcutAsync().then(function(e){e&&FBInstant.createShortcutAsync().then(function(){}).catch(function(){})})),this.gameCore.gameMng.handleLaunchQuery()?LogUtil.debug(h,"join whatsapp invite room."):this.gameCore.gameMng.joinLastPlayedRoom()||this.gameCore.gameMng.joinInstantGameRoom()||(this.gameCore.uiMng.lastSceneKey!=r.FB_LOGIN_SCENE.name&&this.gameCore.uiMng.lastSceneKey!=r.LOBBY_SCENE.name&&this.gameCore.uiMng.lastSceneKey!=r.LOBBY_SCENE2.name&&this.gameCore.instantGameANMMng&&this.gameCore.instantGameANMMng.showInterstitialAd(),this.gameCore.instantGameANMMng||IAds.showInterstitialAd("Lobby"))},onTopPromotionLoaded:function(e){this.gameCore.uiMng.removeListener(l.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded),this.scrollViewContent.width+=e,this.gameCore.uiMng.addListener(l.UI_CMD_TOP_POSITION_PROMOTION_REMOVED,this,this.onTopPromotionRemoved)},onTopPromotionRemoved:function(e){this.gameCore.uiMng.removeListener(l.UI_CMD_TOP_POSITION_PROMOTION_REMOVED,this,this.onTopPromotionRemoved),this.scrollViewContent.width+=e,this.gameCore.uiMng.addListener(l.UI_CMD_TOP_POSITION_PROMOTION_LOADED,this,this.onTopPromotionLoaded)},statesRecoverUpdate:function(){void 0!=this.recoverStates[r.UI_STATE_SCROLLVIEW_X]&&(this.scrollViewContent.x=this.recoverStates[r.UI_STATE_SCROLLVIEW_X]),this._super()},statesPersistence:function(){var e={};return e[r.UI_STATE_SCROLLVIEW_X]=this.scrollViewContent.x,e},onBackButtonClk:function(){cc.sys.isBrowser||this.gameCore.uiMng.openUI(r.QUIT_GAME_POPUP)},onStoreBtnClk:function(e){this.gameCore.gameMng.hasPurchase()&&(a.onMsgReceived("PopUpUI",{uiInfo:r.STORE,data:{}}),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.OPEN_STORE_LOBBY,"",this.gameCore.uiMng.curSceneKey,"",0),this.gameCore.dataAnalysisMng.sendData(s.CLICK_STORE_OPEN))},onPlayResponse:function(e,t){if("error"==t.cmd)try{var i=JSON.parse(t.mess);i&&i.reason&&this.gameCore.uiMng.openUI(r.MODE_NOT_OPEN_POPUP)}catch(e){}},onRoomJoin:function(e,t){a.roomType==ROOM_TYPE.TEXAS_HOLDEM?this.gameCore.uiMng.openUI(r.TEXAS_HOLDEM_SCENE):a.roomType==ROOM_TYPE.RUMMY?this.gameCore.uiMng.openUI(r.RUMMY_SCENE):this.gameCore.gameMng.openGameScene(),IAds.loadAd(IAds.AD_NATIVE),this.gameCore.dataAnalysisMng.sendData(s.JOIN_TABLE_SUCCESS,this.gameCore.dataAnalysisMng.gameBaseData)},onWebStoreState:function(e){this.freeChipsBtn.node.active=!0},onFreeChipsBtnClk:function(e){this.gameCore.gameMng.openFreeChipsWebPage()},onAdBonusGet:function(e,t){cc.sys.isBrowser||a.sendMsg("advnum",null),a.sendMsg("getUserInfo",{i:a.getCurPlayer().strTPID}),this.gameCore.uiMng.openUI(r.AD_BONUS_POPUP,function(e){e.setAdBonusAmount(t.add_chips,t.final_chips)})},onEventRefresh:function(e,t){t&&t.config&&this.gameCore.uiMng.lastSceneKey==r.LOGIN_SCENE.name&&cc.sys.os!=cc.sys.OS_IOS&&(this.gameCore.userMng.needAutoPopupEventActive=!0)}}),cc._RF.pop()},{BaseScene:"BaseScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",IFacebook:"IFacebook",IFirebase:"IFirebase",ITeenPatti:"ITeenPatti",LobbyProfileBar:"LobbyProfileBar",UIInfo:"UIInfo"}],LobbySignInBonus:[function(e,t,i){"use strict";cc._RF.push(t,"9d398znNpxLH7HRdFbHL8xs","LobbySignInBonus");var n=e("BaseComponent"),a=e("LanguageData"),o=e("UIInfo"),s=e("DataAnalysisKey");cc.Class({extends:n,properties:{icon:sp.Skeleton,bonusLabel:cc.Label,leftTime:-1},onLoad:function(){this._super()},gameCoreSetComplete:function(){this._super()},initComplete:function(){this._super(),this.schedule(this.countDown,1),this.gameCore.userMng.signin()},i18nRendersUpdate:function(){this.countDown()},countDown:function(){this.bonusLabel.string="",-1!=this.gameCore.userMng.nextSignInTime&&(this.leftTime=Math.max(0,this.gameCore.userMng.nextSignInTime-(new Date).getTime()/1e3),0==this.leftTime?(this.bonusLabel.node.color=new cc.Color(255,230,0),this.bonusLabel.fontSize=20,this.bonusLabel.string=a.t("label_text.bonus"),"chouma2"!=this.icon.animation&&this.icon.setAnimation(0,"chouma2",!0)):(this.bonusLabel.node.color=new cc.Color(255,255,255),this.bonusLabel.fontSize=18,this.bonusLabel.string=CommonUtil.getTimeString(this.leftTime),"chouma1"!=this.icon.animation&&this.icon.setAnimation(0,"chouma1",!0)))},onBonusClk:function(e){-1!=this.gameCore.userMng.nextSignInTime&&(this.gameCore.uiMng.openUI(o.DAILY_SIGN_IN),this.gameCore.dataAnalysisMng.sendData(s.CLICK_DAILYBONUS))}}),cc._RF.pop()},{BaseComponent:"BaseComponent",DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData",UIInfo:"UIInfo"}],LobbySportButton:[function(e,t,i){"use strict";cc._RF.push(t,"0e3b9NenvxAhaT4DxmA1anx","LobbySportButton");var n=e("Command"),a=e("UIInfo"),o=e("BaseComponent");cc.Class({extends:o,properties:{cricketBtn:cc.Button,footballBtn:cc.Button,loadingBar:cc.Node},initComplete:function(){this._super(),this.node.active=!1,this.onSportAccess(),this.gameCore.uiMng.addListener(n.SERVER_CMD_SPORT_ACCESS,this,this.onSportAccess)},onSportAccess:function(e){if(this.isValid){this.cricketBtn.node.active="Cricket"==ITeenPatti.onlineCfg.sportMode,this.footballBtn.node.active="Football"==ITeenPatti.onlineCfg.sportMode;IDynamic.isFeatureInstall("casinowar")||(this.node.active=!1),IDynamic.isFeatureLaunch("casinowar")||(this.node.active=!1)}},onBtnClk:function(e,t){if(this.gameCore&&this.gameCore.userMng&&!this.gameCore.userMng.isJoining)if(this.gameCore.userMng.isJoining=!0,isInstantGame){this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.5);cc.director.preloadScene({Cricket:"CricketScene/CricketScene",Football:"FootballScene/FootballScene"}[t],function(){this.openScene(t)}.bind(this))}else if(!IDynamic.isFeatureDownloading()){if(!IDynamic.isFeatureInstall("casinowar"))return ITeenPatti.onMsgReceived("AE_Feature_Install_Start",{feature:"casinowar"}),void IDynamic.installFeature("casinowar");IDynamic.isFeatureLaunch("casinowar")?this.loadingBar&&this.loadingBar.active||this.openScene(t):IDynamic.launchFeature("casinowar")}},openScene:function(e){"Cricket"==e?this.gameCore.gameMng.openGameUI(a.CRICKET_SCENE,"OnlineBet"):"Football"==e&&this.gameCore.gameMng.openGameUI(a.FOOTBALL_SCENE,"OnlineBet")}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",UIInfo:"UIInfo"}],LobbySupportButton:[function(e,t,i){"use strict";cc._RF.push(t,"2b1a2GyqU5MhYkIsnlibzM3","LobbySupportButton");var n=e("BaseComponent");e("UIInfo");cc.Class({extends:n,properties:{newMsgCount:cc.Node,newMsgCountLabel:cc.Label},onLoad:function(){var e=this;this.interval=0,this.newMsgCount.active=!1,this.updateNodeActive(),performWithDelay(this.node.parent,.15,function(){e.getCustomerSerList()}),ITeenPatti.addListener("customerSerList",this,this.onCustomerSerList)},update:function(e){this.interval+=e,this.interval<60||(this.interval-=60,this.getCustomerSerList())},getCustomerSerList:function(){ITeenPatti.cstmMsgHistory&&ITeenPatti.sendMsg("customerSerList",{i:ITeenPatti.cstmMsgHistory.getLastID()})},updateNodeActive:function(){this.isValid&&ITeenPatti.cstmMsgHistory&&(this.node.active=ITeenPatti.cstmMsgHistory.getAllMsg().length>0)},onCustomerSerList:function(e,t){this.isValid&&(this.updateNodeActive(),this.newMsgCount&&(this.newMsgCount.active=ITeenPatti.cstmMsgHistory.newMsgCount>0),this.newMsgCountLabel&&ITeenPatti.cstmMsgHistory&&(this.newMsgCountLabel.string=Math.min(99,ITeenPatti.cstmMsgHistory.newMsgCount)))},onSupportClk:function(){this.newMsgCount.active=!1,this.gameCore.gameMng.openCustomerSupport()},initComplete:function(){this._super()}}),cc._RF.pop()},{BaseComponent:"BaseComponent",UIInfo:"UIInfo"}],LobbyTester:[function(e,t,i){"use strict";cc._RF.push(t,"e721cEAVMhIQLA1OxCBduTe","LobbyTester");var n=e("ISmartFox");cc.Class({extends:cc.Component,properties:{pnlCtrl:cc.Node},onLoad:function(){this.pnlCtrl.active=!1},onDestroy:function(){ITeenPatti.removeListenerWithTarget(this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.f1:case cc.macro.KEY.menu:this.pnlCtrl.active=!0;break;case cc.macro.KEY.escape:this.pnlCtrl.active=!1}},onBtnTPLoginFailClicked:function(){},onBtnKillConnectionClicked:function(){cc.sys.isNative&&n.sfsServer.killConnection()},onMsgRoomJoinSend:function(e,t){if(!ITeenPatti.getCurPlayer().isFacebookLogin())return n.onMsgReceived("RoomJoin",{room:{groupId:"WT1",id:15,isGame:!0,isHidden:!1,isJoined:!0,isPasswordProtected:!1,maxSpectators:0,maxUsers:1e3,name:"New York #0",variables:{b:{isPersistent:!1,isPrivate:!1,name:"b",type:"Int",value:16},bi:{isPersistent:!1,isPrivate:!1,name:"bi",type:"Int",value:20},c:{isPersistent:!1,isPrivate:!1,name:"c",type:"Int",value:56},i:{isPersistent:!1,isPrivate:!1,name:"i",type:"Int",value:1},s:{isPersistent:!1,isPrivate:!1,name:"s",type:"Bool",value:!0},u:{isPersistent:!1,isPrivate:!1,name:"u",type:"Int",value:17}}}}),void n.onMsgReceived("RoomUpdate",{changedVars:["b","c","u"],room:{groupId:"WT1",id:10,isGame:!0,isHidden:!1,isJoined:!0,isPasswordProtected:!1,maxSpectators:0,maxUsers:1e3,name:"New York #0",variables:{b:{isPersistent:!1,isPrivate:!1,name:"b",type:"Int",value:0},bi:{isPersistent:!1,isPrivate:!1,name:"bi",type:"Int",value:0},c:{isPersistent:!1,isPrivate:!1,name:"c",type:"Int",value:2},i:{isPersistent:!1,isPrivate:!1,name:"i",type:"Int",value:1},s:{isPersistent:!1,isPrivate:!1,name:"s",type:"Bool",value:!1},u:{isPersistent:!1,isPrivate:!1,name:"u",type:"Int",value:1}}}});n.onMsgReceived("RoomJoin",{room:{groupId:"WT1",id:12,isGame:!0,isHidden:!1,isJoined:!0,isPasswordProtected:!1,maxSpectators:0,maxUsers:1e3,name:"New York #0",variables:{b:{isPersistent:!1,isPrivate:!1,name:"b",type:"Int",value:1},bi:{isPersistent:!1,isPrivate:!1,name:"bi",type:"Int",value:0},c:{isPersistent:!1,isPrivate:!1,name:"c",type:"Int",value:4},i:{isPersistent:!1,isPrivate:!1,name:"i",type:"Int",value:1},s:{isPersistent:!1,isPrivate:!1,name:"s",type:"Bool",value:!1},u:{isPersistent:!1,isPrivate:!1,name:"u",type:"Int",value:1}}}}),n.onMsgReceived("RoomUpdate",{changedVars:["b","c","u"],room:{groupId:"WT1",id:12,isGame:!0,isHidden:!1,isJoined:!0,isPasswordProtected:!1,maxSpectators:0,maxUsers:1e3,name:"New York #0",variables:{b:{isPersistent:!1,isPrivate:!1,name:"b",type:"Int",value:1},bi:{isPersistent:!1,isPrivate:!1,name:"bi",type:"Int",value:0},c:{isPersistent:!1,isPrivate:!1,name:"c",type:"Int",value:4},i:{isPersistent:!1,isPrivate:!1,name:"i",type:"Int",value:1},s:{isPersistent:!1,isPrivate:!1,name:"s",type:"Bool",value:!1},u:{isPersistent:!1,isPrivate:!1,name:"u",type:"Int",value:1}}}})},onMsgFriendListSend:function(e,t){t||(ITeenPatti.getCurPlayer().isFacebookLogin()?ITeenPatti.onMsgReceived("friendlist",{onlinefriend:{},offlinefriend:{1:{userbase:{id:10009673,name:"Sanwen Kong",icon:"https://graph.facebook.com/410631389275246/picture?width=100&height=100&1499415475",country:"UN",friendType:1,frame:0},level:1},2:{userbase:{id:2880753,name:"Mona Xu",icon:"https://graph.facebook.com/179798675856881/picture?width=100&height=100&1489143210",country:"UN",friendType:1,frame:0},level:1},3:{userbase:{id:2860082,name:"Hao Ding",icon:"https://graph.facebook.com/378928809143426/picture?width=100&height=100&1488333434",country:"UN",friendType:1,frame:1001},level:4},4:{userbase:{id:2375431,name:"Liying Xiu",icon:"https://graph.facebook.com/383042578732938/picture?width=100&height=100&1488511862",country:"UN",friendType:1,frame:1002},level:13},5:{userbase:{id:2166352,name:"TesttesttesttesttestXiaocong Zhang",icon:"https://graph.facebook.com/416999235300384/picture?width=100&height=100&1489473248",country:"UN",friendType:1,frame:0},level:1},6:{userbase:{id:1381622,name:"Gengchao Xu",icon:"https://graph.facebook.com/1837259446516310/picture?width=100&height=100&1489143223",country:"UN",friendType:1,frame:0},level:1},7:{userbase:{id:1177715,name:"\u6c6a\u98de",icon:"https://graph.facebook.com/749482111893991/picture?width=100&height=100&1489143194",country:"UN",friendType:1,frame:0},level:1}}}):n.onMsgReceived("friendlist",{}))},onMsgFriendListCommitSend:function(e,t){ITeenPatti.onMsgReceived("success",{mess:"",stage:"facebookfriend",errorcode:null})}}),cc._RF.pop()},{ISmartFox:"ISmartFox"}],LocalStorage:[function(e,t,i){"use strict";cc._RF.push(t,"e2898vgFsNMbrjC3z7i4KSk","LocalStorage");var n={},a=-1;function o(){var e=(new Date).getTime();for(var t in n)ITeenPatti.getCurPlayer()&&t==ITeenPatti.getCurPlayer().strFBID||e-n[t].time>6e5&&delete n[t]}t.exports={cacheHeadIcon:function(e,t){cc.sys.isNative||(-1==a&&(a=setInterval(o,6e4)),n[e]={content:t,time:(new Date).getTime()})},getHeadIcon:function(e){return n[e]?n[e].content:null},saveLocalData:function(e,t){1==t?t=1:0==t&&(t=0),cc.sys.localStorage.setItem(e,t)},getLocalData:function(e){return cc.sys.localStorage.getItem(e)},removeLocalData:function(e){cc.sys.localStorage.removeItem(e)},keys:{ENTER_GAME_TIMES:"enter_game_times",LANGUAGE:"language",LOBBY_TYPE:"lobby_type",SOUND:"sound",VIBRATION:"vibration",RUMMY_SORT:"rummy_sort",BANK_NEW:"bank_new",TRANSFER_NEW:"transfer_new",CASINO_WAR_NEW:"casino_war_new",AK47_NEW:"ak47_new",AB_NEW:"ab_new",TEXAS_HOLDEM_NEW:"texas_holdem_new",HEAD_ICON_EXPIRE_DATA:"head_icon_expire_data",IS_FACEBOOK_CONNECTED:"is_facebook_connected",IS_PROMOTION_POPUPED:"is_promotion_popuped",PROMOTION_SHOW_TIME:"promotion_show_time",OPEN_NOTIFICATION_REMIND_ANDROID:"open_notification_remind_android",IS_PRE_CONTROL_BAR_BAN:"is_pre_control_bar_ban",ROUND_FINISH_COUNT:"round_finish_count",IS_FIRST_LAUNCH:"is_first_launch",IS_REGIST_FACEBOOK:"is_regist_facebook",OLD_DEVICE_ID:"old_device_id"}},cc._RF.pop()},{}],LocalizedLabel:[function(e,t,i){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var n=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?n.t(this.dataID)&&(this.label.string=n.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,i){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var n=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],LogUtil:[function(e,t,i){"use strict";cc._RF.push(t,"d9da9klZYpGMpiFlJUl7YTG","LogUtil"),function(){var e=!1,t=!0,i=!0,n={properties:{},onLoad:function(){},debug:function(e,t){cc.sys.isBrowser?console.info("[Debug]["+e+"] ",t):cc.log("[Debug][%s] %s ",e,JSON.stringify(t,null,4))},info:function(e,t,i){cc.sys.isBrowser?console.info("[Info]["+e+"] ",t,i):cc.log("[Info][%s] %s ",e,JSON.stringify(t,null,4))},warn:function(e,t){cc.sys.isBrowser?console.info("[Warn]["+e+"] ",t):cc.log("[Warn][%s] %s ",e,JSON.stringify(t,null,4))},err:function(e,t,i){cc.sys.isBrowser?console.info("[Error]["+e+"] ",t):cc.log("[Error][%s] %s ",e,JSON.stringify(t,null,4)),cc.sys.isBrowser?i&&console.debug(i):i&&cc.log(JSON.stringify(i))},printFBRequest:function(t,i){e&&(cc.sys.isBrowser?console.info("[Facebook]["+t+"] Request ",i):cc.log("[Facebook][%s]  Request %s",t,i))},printFBResponse:function(t,i){e&&(cc.sys.isBrowser?console.info("[Facebook]["+t+"] Response ",i):cc.log("[Facebook][%s] Response %s ",t,JSON.stringify(i,null,4)))},printSFSRequest:function(e,i,n,a){if(t){var o="string"==typeof a&&a.length>0?a:n;cc.sys.isBrowser?console.info("["+(new Date).toISOString()+"][SmartFox Request]",e,i,o):cc.log("[%s][SmartFox Request] %s %s %s",(new Date).toISOString(),e,i,JSON.stringify(o,null,4))}},printSFSResponse:function(e,i){t&&(cc.sys.isBrowser?console.info("["+(new Date).toISOString()+"][SmartFox Response]",e,i):cc.log("[%s][SmartFox Response] %s %s ",(new Date).toISOString(),e,JSON.stringify(i,null,4)))},printTeenPattiRequest:function(e,t){i&&(cc.sys.isBrowser?console.info("["+(new Date).toISOString()+"][TeenPattin Request]",e,t):cc.log("[%s][TeenPattin Request] %s %s",(new Date).toISOString(),""+e,JSON.stringify(t,null,4)))},printTeenPattiResponse:function(e,t){i&&(cc.sys.isBrowser?console.info("["+(new Date).toISOString()+"][TeenPattin Response]",e,t):cc.log("[%s][TeenPattin Response] %s %s",(new Date).toISOString(),e,JSON.stringify(t)))}};window.LogUtil=n}(),cc._RF.pop()},{}],LoginSceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"3544bN58exJqazoWuOuvkEE","LoginSceneAudio");var n=e("BaseSceneAudio");cc.Class({extends:n,properties:{},onLoad:function(){}}),cc._RF.pop()},{BaseSceneAudio:"BaseSceneAudio"}],LoginScene:[function(e,t,i){"use strict";cc._RF.push(t,"a57c8ku4PxK37mzJu+ZGkUh","LoginScene");var n=e("BaseScene"),a=(e("BaseComponent"),e("IFacebook")),o=e("ITeenPatti"),s=(e("IAFAnalytics"),e("ITeenPattiConfig"),"LoginScene"),r=e("DataAnalysisKey"),l=e("UIInfo"),c=(e("Command"),e("LanguageData")),h=e("GameData"),u=e("LocalStorage");cc.Class({extends:n,properties:{imgLoading:cc.Node,blackBg:{default:null,type:cc.Node,visible:!1,override:!0},popupBg:{default:null,type:cc.Node,visible:!1,override:!0},guestLoginRemind:{default:!1,visible:!1},robotoRegular:cc.Font,robotoBold:cc.Font,droidHindi:cc.Font,rewardLabel:cc.Label,loadingIndicatorPrefab:cc.Prefab,loadingIndicatorPrefab1:cc.Prefab,loadingBgPrefab:cc.Prefab,fbLoginBtnNode:cc.Node,appleLoginBtnNode:cc.Node,guestLoginBtnNode:cc.Node,fbRewardNode:cc.Node,background:cc.Node,guestLoginLabel:cc.Label,guestLoginLine:cc.Node,hotFixFninishAnim:cc.Animation,bgNode:cc.Node,switchLobbyPrefab:cc.Prefab,loginButtons:cc.Node,loadingContainer:cc.Node},initPreloadData:function(){this.preloadPrefabs=this.preloadPrefabs.concat([l.GUEST_LOGIN_REMIND,l.ALERT])},onLoad:function(){var e;IFirebase.logLoginEvent("Login_Scene_Load"),this.uiKey=l.LOGIN_SCENE.name,(e=cc.visibleRect).width/e.height>1.775&&(this.bgNode.scale=e.width/1136),this.fbLoginBtnNode.active=this.guestLoginBtnNode.active=this.appleLoginBtnNode.active=!1,cc.sys.isNative||(this.fbRewardNode.active=!1),this.firstSceneInit(),this.gameCore.dataAnalysisMng.sendData(r.OPEN_TO_LOGIN_PAGE),this.rewardLabel.string=c.t("label_text.fb_login_reward",{reward:h.fbLoginReward()}),this._super(),(e=cc.visibleRect).width/e.height<=1.35&&(this.background.y=0),this.scheduleOnce(function(){HAS_SUBPACKAGE&&cc.loader.downloader.loadSubpackage("Popup",function(e){if(e)return console.error(e);console.log("load Popup successfully.")})},.1)},initComplete:function(){this._super(),this.gameCore.uiMng.loadingIndicator1=this.loadingIndicatorPrefab,IFirebase.logLoginEvent("Login_Version_Load"),this.node.on("AE_Version_Check",this.onVersionChecked,this),o.addListener("Connect",this,this.onPattiConnected),o.addListener("Login",this,this.onPattiLogined),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","firstSceneLoaded","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("DeviceUtil","firstSceneLoaded"),ae.SplashHelper&&ae.SplashHelper.hideSplash(),this.guestLoginLabel.node.on("size-changed",handler(this,function(){this.guestLoginLine.width=this.guestLoginLabel.node.width+5,this.guestLoginBtnNode.width=this.guestLoginLabel.node.width+40})),u.getLocalData(u.keys.IS_FIRST_LAUNCH)||IFBAnalytics&&IFBAnalytics.logUserEvent(IFBAnalytics.keys.IS_FIRST_LAUNCH),u.saveLocalData(u.keys.IS_FIRST_LAUNCH,!0),this.gameCore.uiMng.addListener("ui_sign_in_apple_fail",this,this.onSignInAppleFail)},start:function(){this.preloadOtherScene()},onDestroy:function(){this._super(),this.node.off("AE_Version_Check",this.onVersionChecked,this),this.removeListenerWithTarget(),this.gameCore.gameMng.loginedFromLoginScene()},onBackButtonClk:function(){cc.game.end()},gameCoreSetComplete:function(){this._super()},onPolicyBtnClk:function(e){cc.sys.openURL(h.PrivacyPolicyURL)},onBtnGuestLoginClicked:function(e){this.gameCore.gameMng.signInWithApple=!1,this.fbLoginBtnNode.getComponent(cc.Button).interactable=!1,this.guestLoginBtnNode.getComponent(cc.Button).interactable=!1,this.guestLoginRemind?this.gameCore.gameMng.guestLogin()?(this.preloadOtherScene(),this.gameCore.uiMng.showLoading(cc.v2(0,0),this.loadingContainer,1,!0,this.loadingContainer)):(this.guestLoginBtnNode.getComponent(cc.Button).interactable=!0,this.fbLoginBtnNode.getComponent(cc.Button).interactable=!0):(this.guestLoginRemind=!0,this.gameCore.uiMng.openUI(l.GUEST_LOGIN_REMIND,handler(this,function(e){e&&(e.guestLoginDelegate=handler(this,function(){this.gameCore.gameMng.guestLogin()&&(this.preloadOtherScene(),this.gameCore.uiMng.showLoading(cc.v2(0,0),this.loadingContainer,1,!0,this.loadingContainer))}),e.fbLoginDelegate=handler(this,function(){this.gameCore.gameMng.fbLogin(handler(this,this.onFBLogin))&&(this.preloadOtherScene(),this.gameCore.uiMng.showLoading(cc.v2(0,0),this.loadingContainer,1,!0,this.loadingContainer))}),e.closeDelegate=handler(this,function(){this.guestLoginBtnNode.getComponent(cc.Button).interactable=!0,this.fbLoginBtnNode.getComponent(cc.Button).interactable=!0}))})))},onBtnFBLoginClicked:function(e){this.gameCore.gameMng.signInWithApple=!1,this.fbLoginBtnNode.getComponent(cc.Button).interactable=!1,this.guestLoginBtnNode.getComponent(cc.Button).interactable=!1,this.FBLogin()?(this.preloadOtherScene(),this.gameCore.uiMng.showLoading(cc.v2(0,0),this.loadingContainer,1,!0,this.loadingContainer)):(this.fbLoginBtnNode.getComponent(cc.Button).interactable=!0,this.guestLoginBtnNode.getComponent(cc.Button).interactable=!0)},onBtnSignInWithAppleClicked:function(e){this.gameCore.gameMng.signInWithApple=!0,this.loginButtons.active=!1,this.gameCore.uiMng.showLoading(this.loginButtons.position,this.loadingContainer,1,!0,this.loadingContainer),this.preloadOtherScene(),jsb.reflection.callStaticMethod("DeviceUtil","signInWithApple")},onSignInAppleFail:function(){this.loginButtons.active=!0,this.resetLoginStatus()},onHostCfgLoadSuccess:function(e,t,i){LogUtil.debug(s,"onHostCfgLoadSuccess"),!this.bHostCfgLoaded&&IGoogleAnalytics.logLoginEvent("Login_HostCfg_Load_Finish",{btnShow:this.fbLoginBtnNode.active}),this._super(e,t,i)},onProtoFileLoaded:function(){LogUtil.debug(s,"onProtoFileLoaded"),this._protoLoaded=!0,this._versionCheck&&(this.onLoadFinish(),this.gameCore.gameMng.getNativeSkuDetails())},onVersionChecked:function(){LogUtil.debug(s,"onVersionChecked");var e=this;if(performWithDelay(this.node,.54,function(){e.gameCore.uiMng.showLoading(cc.v2(142,-171),e.loadingContainer,1,!0,e.loadingContainer),IFirebase.logLoginEvent("Login_Version_Load_Finish",{proto:e._protoLoaded,btnShow:e.fbLoginBtnNode.active}),e._versionCheck=!0,e._protoLoaded&&e.onLoadFinish()}),this.hotFixFninishAnim.play("lds_anim_hot_fix_finish"),HAS_SUBPACKAGE){e=this;this.scheduleOnce(function(){cc.loader.downloader.loadSubpackage("Lobby",function(e){if(e)return console.error(e);console.log("load Lobby successfully.")})},0)}},onLoadFinish:function(){CommonUtil.putCrashReportUserData("HotFixVersion",o.gameCore.hotfixVersion),this.preloadPopup(),this.fbLoginBtnNode.active=a.showLoginBtn,this.guestLoginBtnNode&&(this.guestLoginBtnNode.active=a.showLoginBtn),this.appleLoginBtnNode.active=a.showLoginBtn&&this.gameCore.gameMng.isSupportSignInWithApple(),this.fbLoginBtnNode.active?this.gameCore.uiMng.hideLoading():CommonUtil.isSimulator()?(LogUtil.info(s,"This is Android Simulator"),this.onLoginStatusGet()):this.gameCore.gameMng.getFacebookLoginStatus(handler(this,this.onLoginStatusGet)),this.scheduleOnce(function(){HAS_SUBPACKAGE&&cc.loader.downloader.loadSubpackage("Game",function(e){if(e)return console.error(e);console.log("load Game successfully.")})},0)},onPattiConnected:function(){if(HAS_SUBPACKAGE){var e=this;this.scheduleOnce(function(){cc.loader.downloader.loadSubpackage("Popup",function(t){if(t)return console.error(t);console.log("load Popup successfully."),cc.loader.downloader.loadSubpackage("Game",function(t){if(t)return console.error(t);console.log("load Game successfully."),cc.loader.downloader.loadSubpackage("Lobby",function(t){if(t)return console.error(t);console.log("load Lobby successfully."),e.preloadLobbyScene()})})})},0)}else this.preloadLobbyScene()},onPattiLogined:function(e,t){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","setCrashReportUserId","(Ljava/lang/String;)V",o.getCurPlayer()?o.getCurPlayer().strTPID:""):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("DeviceUtil","setCrashReportUserId:",o.getCurPlayer()?o.getCurPlayer().strTPID:"")},preloadLobbyScene:function(){cc.director.preloadScene(this.gameCore.uiMng.lobbySceneUIInfo.name+"/"+this.gameCore.uiMng.lobbySceneUIInfo.name,function(){cc.log("Lobby scene preloaded")})},preloadOtherScene:function(){LogUtil.debug(s,"preloadOtherScene"),this.preloadCount=(cc.sys.isBrowser,1),this.updatePreloadStatus()},updatePreloadStatus:function(){this.preloadCount--,0==this.preloadCount&&(LogUtil.debug(s,"AllScenePreloaded"),this.gameCore&&(this.gameCore.gameMng.scenePreloaded=!0))}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BaseScene:"BaseScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",IAFAnalytics:"IAFAnalytics",IFacebook:"IFacebook",ITeenPatti:"ITeenPatti",ITeenPattiConfig:"ITeenPattiConfig",LanguageData:"LanguageData",LocalStorage:"LocalStorage",UIInfo:"UIInfo"}],LoginTester:[function(e,t,i){"use strict";cc._RF.push(t,"64892jqjapJqKoddsBoBvGK","LoginTester");var n=e("ISmartFox");cc.Class({extends:cc.Component,properties:{pnlCtrl:cc.Node},onLoad:function(){this.pnlCtrl.active=!1,window.MODE_DEVELOP_LOCAL&&(cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),ITeenPatti.addListener("login",this,this.onMsgLoginSend),ITeenPatti.addListener("friendlist",this,this.onMsgFriendListSend),n.onMsgReceived("Connection",{success:!0}))},onDestroy:function(){window.MODE_DEVELOP_LOCAL&&(ITeenPatti.removeListenerWithTarget(this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this))},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.f1:case cc.macro.KEY.menu:this.pnlCtrl.active=!0;break;case cc.macro.KEY.escape:this.pnlCtrl.active=!1}},onBtnTPLoginSuccClicked:function(e,t){n.onMsgReceived("logined",{params:{}})},onBtnTPLoginFailClicked:function(){},onMsgLoginSend:function(e,t){if(window.MODE_DEVELOP_LOCAL){if(!ITeenPatti.getCurPlayer().isFacebookLogin())return n.onMsgReceived("Login",{data:{$FS_NEW_LOGIN_NAME:"10021264",m:"0800200028003000"},user:{id:39,isItMe:!0,name:"10021264",privilegeId:0,variables:{}}}),n.onMsgReceived("UserUpdate",{changedVars:["name","icon","country","private","frame"],user:{id:27,isItMe:!0,name:"10021264",privilegeId:0,variables:{country:{isPrivate:!1,name:"country",type:"String",value:"UN"},frame:{isPrivate:!1,name:"frame",type:"Int",value:0},icon:{isPrivate:!1,name:"icon",type:"String",value:"7"},name:{isPrivate:!1,name:"name",type:"String",value:"Guest10021264"},private:{isPrivate:!1,name:"private",type:"Bool",value:!1}}}}),void n.onMsgReceived("logined",{params:{}});n.onMsgReceived("Login",{data:{$FS_NEW_LOGIN_NAME:"10021259",m:"0800200028003000"},user:{id:41,isItMe:!0,name:"10021259",privilegeId:0,variables:{}}}),n.onMsgReceived("UserUpdate",{changedVars:["name","icon","country","private","frame"],user:{id:41,isItMe:!0,name:"10021259",privilegeId:0,variables:{country:{isPrivate:!1,name:"country",type:"String",value:"UN"},frame:{isPrivate:!1,name:"frame",type:"Int",value:0},icon:{isPrivate:!1,name:"icon",type:"String",value:"https://graph.facebook.com//picture?width=100&height=100&1504511446"},name:{isPrivate:!1,name:"name",type:"String",value:"Sanwen Kong"},private:{isPrivate:!1,name:"private",type:"Bool",value:!1}}}}),n.onMsgReceived("logined",{params:{}})}},onMsgFriendListSend:function(e,t){ITeenPatti.getCurPlayer().isFacebookLogin()?ITeenPatti.onMsgReceived("friendlist",{onlinefriend:{},offlinefriend:{1:{userbase:{id:10009673,name:"Sanwen Kong",icon:"https://graph.facebook.com/410631389275246/picture?width=100&height=100&1499415475",country:"UN",friendType:1,frame:0},level:1},2:{userbase:{id:2880753,name:"Mona Xu",icon:"https://graph.facebook.com/179798675856881/picture?width=100&height=100&1489143210",country:"UN",friendType:1,frame:0},level:1},3:{userbase:{id:2860082,name:"Hao Ding",icon:"https://graph.facebook.com/378928809143426/picture?width=100&height=100&1488333434",country:"UN",friendType:1,frame:1001},level:4},4:{userbase:{id:2375431,name:"Liying Xiu",icon:"https://graph.facebook.com/383042578732938/picture?width=100&height=100&1488511862",country:"UN",friendType:1,frame:1002},level:13},5:{userbase:{id:2166352,name:"TesttesttesttesttestXiaocong Zhang",icon:"https://graph.facebook.com/416999235300384/picture?width=100&height=100&1489473248",country:"UN",friendType:1,frame:0},level:1},6:{userbase:{id:1381622,name:"Gengchao Xu",icon:"https://graph.facebook.com/1837259446516310/picture?width=100&height=100&1489143223",country:"UN",friendType:1,frame:0},level:1},7:{userbase:{id:1177715,name:"\u6c6a\u98de",icon:"https://graph.facebook.com/749482111893991/picture?width=100&height=100&1489143194",country:"UN",friendType:1,frame:0},level:1}}}):n.onMsgReceived("friendlist",{})}}),cc._RF.pop()},{ISmartFox:"ISmartFox"}],LuckyCoinPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"764cc3MG4VAEKrwXfxhNvkS","LuckyCoinPopUp");e("LanguageData");var n=e("BaseUI");cc.Class({extends:n,properties:{strCoinload:{default:null,visible:!1},lblTitle:cc.Label,lblContent:cc.Label,lblCoin:cc.Label},onLoad:function(){this._super()},setInitData:function(e){this.strCoinload=e.chipload,this.lblCoin.string=""+e.amount},onBtnCloseClicked:function(e){this.closeUI()},onBtnGetClicked:function(e){ITeenPatti.sendMsg("claimnativeAd",{i:this.strCoinload}),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],MatchCricketRoom:[function(e,t,i){"use strict";cc._RF.push(t,"1bf210PWBFCWrvswihnkljf","MatchCricketRoom");var n=e("BaseRoom"),a=e("AEMatchCricket"),o=e("AEMatchCricketOther"),s=e("AEMatchCricketInBeting"),r=e("AEMatchCricketHistory");cc.Class({name:"MatchCricketRoom",extends:n,properties:{matchInBeting:s,arrMatch:[a],matchHistory:r,betResult:null},ctor:function(){this.roomType=ROOM_TYPE.MATCH_CRICKET,this.profile=null,this.table=null,this.msgHistory=null,this.arrCmdHandler=[],this.arrCmdHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrCmdHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrCmdHandler.newcricketlist=handler(this,this.onMatchList)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t),this.matchInBeting&&this.matchInBeting.onMsgReceived(e,t),this.matchHistory&&this.matchHistory.onMsgReceived(e,t),this.arrMatch.forEach(function(i){i.onMsgReceived(e,t)},this)},onRoomJoin:function(e,t){this.roomId=t.room.id,this.roomName=t.room.name,this.matchHistory=new r(t.user.name),t.room.variables.gameid&&(this.matchInBeting=new s(t.room.variables.gameid.value))},onRoomUpdate:function(e,t){!this.matchInBeting&&t.room.variables.gameid&&(this.matchInBeting=new s(t.room.variables.gameid.value)),t.room.variables.gameid||(this.matchInBeting=null)},onMatchList:function(e,t){for(var i in this.arrMatch=[],t.cricket){var n=t.cricket[i];this.arrMatch.push(new o(n.roomname))}},getMatchList:function(){return this.arrMatch},getMatchInBet:function(){return this.matchInBeting},getMatchHistroy:function(){return this.matchHistory}});cc._RF.pop()},{AEMatchCricket:"AEMatchCricket",AEMatchCricketHistory:"AEMatchCricketHistory",AEMatchCricketInBeting:"AEMatchCricketInBeting",AEMatchCricketOther:"AEMatchCricketOther",BaseRoom:"BaseRoom"}],MatchFootballRoom:[function(e,t,i){"use strict";cc._RF.push(t,"43a14AIKOxH9ZENtxbFDdSH","MatchFootballRoom");var n=e("BaseRoom"),a=e("AEMatchFootball"),o=e("AEMatchFootballOther"),s=e("AEMatchFootballInBeting"),r=e("AEMatchFootballHistory");cc.Class({name:"MatchFootballRoom",extends:n,properties:{matchInBeting:s,arrMatch:[a],matchHistory:r,betResult:null},ctor:function(){this.roomType=ROOM_TYPE.MATCH_FOOTBALL,this.profile=null,this.table=null,this.msgHistory=null,this.arrCmdHandler=[],this.arrCmdHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrCmdHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrCmdHandler.footballlist=handler(this,this.onMatchList)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t),this.matchInBeting&&this.matchInBeting.onMsgReceived(e,t),this.matchHistory&&this.matchHistory.onMsgReceived(e,t),this.arrMatch.forEach(function(i){i.onMsgReceived(e,t)},this)},onRoomJoin:function(e,t){this.roomId=t.room.id,this.roomName=t.room.name,this.matchHistory=new r(t.user.name),t.room.variables.gameid&&(this.matchInBeting=new s(t.room.variables.gameid.value))},onRoomUpdate:function(e,t){!this.matchInBeting&&t.room.variables.gameid&&(this.matchInBeting=new s(t.room.variables.gameid.value)),t.room.variables.gameid||(this.matchInBeting=null)},onMatchList:function(e,t){for(var i in this.arrMatch=[],t.football){var n=t.football[i];this.arrMatch.push(new o(n.roomname))}},getMatchList:function(){return this.arrMatch},getMatchInBet:function(){return this.matchInBeting},getMatchHistroy:function(){return this.matchHistory}});cc._RF.pop()},{AEMatchFootball:"AEMatchFootball",AEMatchFootballHistory:"AEMatchFootballHistory",AEMatchFootballInBeting:"AEMatchFootballInBeting",AEMatchFootballOther:"AEMatchFootballOther",BaseRoom:"BaseRoom"}],MatchRoom:[function(e,t,i){"use strict";cc._RF.push(t,"eabeeuxq85LzqIuSYcYkO7/","MatchRoom");var n=e("BaseRoom"),a=e("AEMatch"),o=e("AEMatchInPlay"),s=e("AEMatchUpcoming"),r=e("AEMatchHistory");cc.Class({name:"MatchRoom",extends:n,properties:{matchInPlay:a,arrMatchUpComing:[a],matchHistory:r,betResult:null},ctor:function(){this.roomType=ROOM_TYPE.MATCH_CRICKET,this.profile=null,this.table=null,this.msgHistory=null,this.arrCmdHandler=[],this.arrCmdHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrCmdHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrCmdHandler.cricketlist=handler(this,this.onMatchList),this.arrCmdHandler.betresult=handler(this,this.onMarketResult)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t),this.matchInPlay&&this.matchInPlay.onMsgReceived(e,t),this.arrMatchUpComing.forEach(function(i){i.onMsgReceived(e,t)},this),this.matchHistory&&this.matchHistory.onMsgReceived(e,t)},onRoomJoin:function(e,t){this.roomId=t.room.id,this.roomName=t.room.name,this.matchHistory=new r(t.user.name),t.room.variables.status&&t.room.variables.gameid&&"readCurrentGame"==t.room.variables.status.value&&(this.matchInPlay=new o(t.room.variables.gameid.value))},onRoomUpdate:function(e,t){!this.matchInPlay&&t.room.variables.status&&t.room.variables.gameid&&"readCurrentGame"==t.room.variables.status.value&&(this.matchInPlay=new o(t.room.variables.gameid.value)),t.room.variables.gameid&&t.room.variables.status&&"readNextGame"!=t.room.variables.status.value&&"readNone"!=t.room.variables.status.value||(this.matchInPlay=null)},onMatchList:function(e,t){for(var i in this.arrMatchUpComing=[],t.games){var n=t.games[i];this.matchInPlay&&this.matchInPlay.matchID==n.id||this.arrMatchUpComing.push(new s(n.id))}},onMarketResult:function(e,t){this.betResult=t},getMatchInPlay:function(){return this.matchInPlay},getMatchUpcoming:function(){return this.arrMatchUpComing},getMatchHistroy:function(){return this.matchHistory}});cc._RF.pop()},{AEMatch:"AEMatch",AEMatchHistory:"AEMatchHistory",AEMatchInPlay:"AEMatchInPlay",AEMatchUpcoming:"AEMatchUpcoming",BaseRoom:"BaseRoom"}],MessageAction:[function(e,t,i){"use strict";cc._RF.push(t,"56fd6VCBsRHh7tcB9QgBmL7","MessageAction"),cc.Class({extends:cc.Component,properties:{pfbMsg:cc.Prefab,strCmd:"",objData:null,objMessage:cc.Node},play:function(e){var t=this,i=""+this.objData.id;if(!ITeenPatti.getCurRoom().msgHistory.isBlocked(i)){var n=ITeenPatti.getCurTable().contrller.getSeatWithUserId(i);if(n){var a=cc.instantiate(this.pfbMsg);0==n.seatId?a.setPosition(-115,100):a.setPosition(-2,116),n.node.addChild(a),a.getComponent("MsgPop").setPopText(this.objData.msg,"sendmessage"==this.strCmd),a.on("node-removed",function(i){t.onFinish(e)}),this.objMessage=a}else t.onFinish(e)}},cancel:function(){this.objMessage.destroy()},stop:function(){},onFinish:function(e){e.onActionFinish(this)}}),cc._RF.pop()},{}],MessageTemplate:[function(e,t,i){"use strict";cc._RF.push(t,"150cf0L6IpLbZkABo+2gvOS","MessageTemplate");var n=e("EmojiCache");cc.Class({extends:cc.Component,properties:{lblName:cc.Label,lblSelf:cc.Label,imgEmoji:cc.Sprite,imgSelfBg:cc.Node,objSelfNode:cc.Node,lblOther:cc.Label,imgOtherEmoji:cc.Sprite,imgOtherBg:cc.Node,objOtherNode:cc.Node,objEmojiCache:n,maxWidth:{default:650,visible:!1}},onLoad:function(){var e=this;e.imgEmoji.node.active=!1,this.maxWidth=700,isInstantGame&&(this.maxWidth=630),this.lblSelf.node.on("size-changed",function(t,i){var n=50;e.imgEmoji.node.active&&(n+=55,e.lblSelf.node.x=-80,e.imgEmoji.node.x=e.lblSelf.node.x+5),e.imgSelfBg.width=Math.min(e.lblSelf.node.width+n,this.maxWidth+40),e.imgSelfBg.height=e.lblSelf.node.height+30,e.node.height=e.imgSelfBg.height,e.node.setContentSize(e.node.width,e.node.height),e.lblSelf.node.width>this.maxWidth&&e.lblSelf.overFlow!=cc.Label.Overflow.RESIZE_HEIGHT&&(e.lblSelf.overflow=cc.Label.Overflow.RESIZE_HEIGHT,e.lblSelf.node.width=this.maxWidth)}.bind(this)),this.lblOther.node.on("size-changed",function(t,i){var n=50;e.imgOtherEmoji.node.active&&(n+=55,e.imgOtherEmoji.node.x=e.lblOther.node.x+e.lblOther.node.width+5),e.imgOtherBg.width=Math.min(e.lblOther.node.width+n,this.maxWidth+40),e.imgOtherBg.height=e.lblOther.node.height+30,e.node.height=e.imgOtherBg.height,e.node.setContentSize(e.node.width,e.node.height),e.lblOther.node.width>this.maxWidth&&e.lblOther.overFlow!=cc.Label.Overflow.RESIZE_HEIGHT&&(e.lblOther.overflow=cc.Label.Overflow.RESIZE_HEIGHT,e.lblOther.node.width=this.maxWidth)}.bind(this)),this.lblOther.node.on("position-changed",function(t){e.imgOtherEmoji.node.active&&(e.imgOtherEmoji.node.x=e.lblOther.node.x+e.lblOther.node.width+5)}.bind(this))},setContent:function(e,t,i,n){this.objEmojiCache=n,this.lblSelf.node.active=!1,this.lblOther.node.active=!1,this.imgEmoji.node.active=!1,this.imgOtherEmoji.node.active=!1;var a=ITeenPatti.getCurPlayer();ITeenPatti.getCurTable().getUserWithUserID(e);if(this.lblName.string=t,this.lblSelf.string=t+":"+i,this.lblOther.string=t+":"+i,this.isEmojiContent(i)){var o=n.getEmojiFrameWithText(i);this.setEmojiContent(o)}a.userId==e?this.showSelfContent():this.showOtherContent(),this.lblName.node.active=!1},showSelfContent:function(){this.objSelfNode.active=!0,this.objOtherNode.active=!1,this.lblSelf.node.active=!0},showOtherContent:function(e){this.objSelfNode.active=!1,this.objOtherNode.active=!0,this.lblOther.node.active=!0},setEmojiContent:function(e){this.imgEmoji.node.active=!0,this.imgOtherEmoji.node.active=!0,e&&(this.imgEmoji.spriteFrame=e,this.imgOtherEmoji.spriteFrame=e),this.lblSelf.string=this.lblName.string+":",this.lblOther.string=this.lblName.string+":"},isEmojiContent:function(e){if(!e)return!1;return null!=e.match(/:[A-Za-z]/)}}),cc._RF.pop()},{EmojiCache:"EmojiCache"}],ModeNotOpenPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"707c4co+S1OSYwL5cOEEXJj","ModeNotOpenPopUp");var n=e("BaseUI");e("GameUtils"),e("LanguageData"),e("DataAnalysisKey");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ModeUnlockPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"691977fkYBHjJmg8sHfAZpc","ModeUnlockPopUp");var n=e("BaseUI"),a=(e("UIInfo"),e("ITeenPatti")),o=(e("LanguageData"),e("GameData"),e("DataAnalysisKey")),s=e("Command");e("IPayConfig");cc.Class({extends:n,properties:{imgMode:cc.Sprite,btnMask:cc.Button,pnlMask:cc.Node,pnlPopUp:cc.Node,lastRoomName:{default:null,visible:!1},unlockRoomName:{default:null,visible:!1}},onLoad:function(){this._super(),this.btnMask.node.active=!1,this.btnMask.interactable=!1,a.addListener(s.SERVER_CMD_ROOM_JOIN,this,handler(this,this.onRoomJoin))},setInitData:function(e){this.unlockRoomName=e.unlock,this.lastRoomName=a.getCurRoom().roomName;var t=this,i={en:"en",bn:"bn",hi:"hindi"},n={texas:"LobbySceneNew/btn_poker_",rummy:"LobbySceneNew/btn_rummy_",nolimit:"LobbySceneNew/btn_nolimit_",casinowar:"Popup/CasinoWarModeSelect/btn_casinowar_casinowar_",ab:"Popup/CasinoWarModeSelect/btn_casinowar_ab_",pattiwar:"Popup/CasinoWarModeSelect/btn_casinowar_pattiwar_"},o=n[this.unlockRoomName]||n.texas;o+=i[this.gameCore.gameMng.curLanguage]||i.en,cc.loader.loadRes(o,cc.Texture2D,function(e,i){e||(t.imgMode.spriteFrame=new cc.SpriteFrame(i))})},initComplete:function(){this._super(),a.addListener(s.SERVER_CMD_BANNED_USER,this,this.onUserBanned),a.addListener(s.SERVER_CMD_PLAY_IN_ROOM,this,this.onPlayResponse),a.addListener(s.SERVER_CMD_PLAY,this,this.onPlayResponse),a.addListener(s.SERVER_CMD_PLAY_RUMMY,this,this.onPlayResponse),a.addListener(s.SERVER_CMD_PLAY_CASINO_WAR,this,this.onPlayResponse),a.addListener(s.SERVER_CMD_PLAY_AB,this,this.onPlayResponse),a.addListener(s.SERVER_CMD_PLAY_TEXAS_HOLDEM,this,this.onPlayResponse)},onUserBanned:function(e,t){this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},onPlayResponse:function(e,t){if("error"==t.cmd){try{if(JSON.parse(t.mess))return}catch(e){}this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)}},onDestroy:function(){this._super(),a.removeListenerWithTarget(this)},onBtnCloseClk:function(e){this.closeUI()},onBtnAcceptClicked:function(e){if(a.getCurRoom()){this.canClose=!1,this.lastRoomName=a.getCurRoom().roomName,this.btnMask.interactable=!0,this.btnMask.node.active=!0,this.pnlMask.active=!0,this.pnlPopUp.active=!1;var t=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);a.removeListener(s.SERVER_CMD_USER_EXIT_ROOM,t),a.addListener("UserExitRoom",this,this.onRoomExit),a.sendMsg("leaveroom",null),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)}},onRoomExit:function(e,t){if(t.user.isItMe)switch(this.unlockRoomName){case"texas":this.gameCore.userMng.playTexasHoldem(!1,this.lastRoomName);break;case"rummy":this.gameCore.userMng.playRummy(!1,this.lastRoomName);break;case"nolimit":this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo);break;case"casinowar":this.gameCore.userMng.playCasinoWar(!1,this.lastRoomName);break;case"ab":this.gameCore.userMng.playAB(!1,this.lastRoomName);break;default:this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)}},onRoomJoin:function(e,t){this.gameCore.gameMng.openGameScene(),this.gameCore.dataAnalysisMng.sendData(o.JOIN_TABLE_SUCCESS,this.gameCore.dataAnalysisMng.gameBaseData)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",IPayConfig:"IPayConfig",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",UIInfo:"UIInfo"}],MonthlyEliteBonusGetPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"6a15f2ilRxEya9E2lzb6+Vq","MonthlyEliteBonusGetPopUp");var n=e("BaseUI"),a=e("UIInfo"),o=e("ITeenPatti"),s=e("LanguageData"),r=e("GameData"),l=e("Command"),c=e("GameUtils"),h=e("IPayConfig");cc.Class({extends:n,properties:{objLevel1Get:cc.Node,objLevel2Get:cc.Node,arrBonusGetLoading:[cc.Node],arrBonusGetButton:[cc.Button],objLevel1StateGet:cc.Node,objLevel2StateGet:cc.Node,objLevel1StateNext:cc.Node,objLevel2StateNext:cc.Node,lblLevel1Expire:cc.Label,lblLevel2Expire:cc.Label,lblLevel2Start:cc.Label,lblLevel1Next:cc.Label,lblLevel2Next:cc.Label,lblLevel1Total:cc.Label,lblLevel2Total:cc.Label,btnBuy:cc.Node,lblPrice2:cc.Label,arrChipSender:{default:[],type:cc.Node},objMask:cc.Node,strPayload:{default:null,visible:!1}},onLoad:function(){this._super(),o.addListener("subscriptionFinish",this,this.onPayFinish),o.addListener("androidSubsBuy",this,this.onVerifyFinish),o.addListener("subsProfile",this,this.onMonthlyRefresh),o.addListener("subsAccept",this,this.onBonusGet),o.addListener(l.SERVER_CMD_PRE_BUY,this,this.onPreBuy),o.sendMsg(l.SERVER_CMD_PRE_BUY,{i:r.PRE_BUY_S_BUY_POPUP})},start:function(){this.interval=0;var e=.001*(new Date).getTime(),t=o.getCurPlayer().subsProfile;if(this.objLevel1Get.active=1==t.monthlyEliteLevel,this.objLevel2Get.active=2==t.monthlyEliteLevel,this.arrBonusGetLoading[0].active=!1,this.arrBonusGetLoading[1].active=!1,this.objLevel1StateGet.active=!t.isBonusGet,this.objLevel2StateGet.active=!t.isBonusGet,this.objLevel1StateNext.active=t.isBonusGet,this.objLevel2StateNext.active=t.isBonusGet,this.lblLevel1Expire.string=s.t("label_text.expire_on",{expireDate:this.convertShowTime(t.renewTime)}),this.lblLevel2Expire.string=s.t("label_text.expire_on",{expireDate:this.convertShowTime(t.renewTime)}),this.lblLevel1Next.string=CommonUtil.getTimeString(Math.max(t.nextGetTime-e,0)),this.lblLevel2Next.string=CommonUtil.getTimeString(Math.max(t.nextGetTime-e,0)),this.lblLevel1Total.string=s.t("label_text.total_claim",{chips:c.formatNumberWithRules(t.totalBonus)}),this.lblLevel2Total.string=s.t("label_text.total_claim",{chips:c.formatNumberWithRules(t.totalBonus)}),this.lblLevel2Start.node.active=!1,t.nextMonthlyLevel&&2==t.nextMonthlyLevel&&(this.lblLevel2Start.node.active=!0,this.lblLevel2Start.string=s.t("label_text.start_on",{nextDate:this.convertShowTime(t.nextStartTime)})),this.btnBuy.active=!this.lblLevel2Start.node.active,this.isBillingSupport=!!IPay.getSkuPrice(h.MONTHLY_ELITE_1),this.lblPrice2.string=IPay.getSkuPrice(h.MONTHLY_ELITE_2),this.lblPrice2.string=this.lblPrice2.string?this.lblPrice2.string:"$4.99",this.lblPrice2.string=s.t("label_text.monthly",{price:this.lblPrice2.string}),t.monthlyEliteLevel<1){var i=this;IPay.getAllSubscription(),performWithDelay(this.node,.1,function(){i.closeUI()})}},update:function(e){if(this.interval+=e,!(this.interval<1)){this.interval-=1;var t=.001*(new Date).getTime(),i=o.getCurPlayer().subsProfile;!i||i.isRefreshing||i.monthlyEliteLevel<1||(i.isBonusGet==this.objLevel1StateGet.active&&(this.objLevel1StateGet.active=!i.isBonusGet,this.objLevel2StateGet.active=!i.isBonusGet,this.objLevel1StateNext.active=i.isBonusGet,this.objLevel2StateNext.active=i.isBonusGet),i.isBonusGet&&(this.isUploading=!1,this.lblLevel1Next.string=CommonUtil.getTimeString(Math.max(i.nextGetTime-t,0)),this.lblLevel2Next.string=CommonUtil.getTimeString(Math.max(i.nextGetTime-t,0))))}},convertShowTime:function(e){var t=new Date(0);t.setUTCSeconds(e);var i=function(e){return e<10?"0"+e:e};return string.format("{0}/{1}/{2}",i(t.getUTCFullYear()),i(t.getUTCMonth()+1),i(t.getUTCDate()))},onBtnCloseClk:function(){this.closeUI()},onBtnBonusGetClk:function(){var e=o.getCurPlayer().subsProfile;this.arrBonusGetLoading[e.monthlyEliteLevel-1].active=!0,this.arrBonusGetButton[e.monthlyEliteLevel-1].interactable=!1,o.sendMsg("subsAccept",null)},onBtnBuyLevel2Clk:function(){var e=o.getCurPlayer().subsProfile;if(e&&1==e.monthlyEliteLevel)if(IPay.isBillingSupported()&&this.isBillingSupport)if(1!=e.monthlyEliteLevel||e.isAutoMonthly){if(1==e.monthlyEliteLevel&&e.isAutoMonthly){if(e.deviceOrderId!=e.monthlyOrderId)return o.onMsgReceived("subsBuy",{mess:"Device Not Same With Last Subs, Please Check!",cmd:"subsBuy",stage:"subsBuy",errorcode:1}),void this.gameCore.uiMng.openUI(a.MONTHLY_ELITE_ERROR_POPUP,function(e){e.setInitData({msg:s.t("label_text.upgrade_fail")})});this.objMask.active=!0;t={payload:this.strPayload,oldOrderId:e.monthlyOrderId};IPay.updateSubscription(h.MONTHLY_ELITE_1,h.MONTHLY_ELITE_2,JSON.stringify(t))}}else{if(0!=e.nextMonthlyLevel)return o.onMsgReceived("subsBuy",{mess:"User Has Next Monthly Elite Card, Please Check!",cmd:"subsBuy",stage:"subsBuy",errorcode:1}),void this.gameCore.uiMng.openUI(a.MONTHLY_ELITE_ERROR_POPUP,function(e){e.setInitData({msg:s.t("label_text.cannot_buy_elite")})});if(e.isExistAutoSubs)return o.onMsgReceived("subsBuy",{mess:"Device Exist Auto Monthly Elite Card, Please Check!",cmd:"subsBuy",stage:"subsBuy",errorcode:1}),void this.gameCore.uiMng.openUI(a.MONTHLY_ELITE_ERROR_POPUP,function(e){e.setInitData({msg:s.t("label_text.subscribe_already")})});this.objMask.active=!0;var t={payload:this.strPayload};IPay.buySubscription(h.MONTHLY_ELITE_2,JSON.stringify(t))}else{var i=s.t("label_text.google_play_store");this.gameCore.uiMng.openUI(a.BANK_ALERT,function(e){e.updateUI(i,s.t("label_text.purchase_failed"),s.t("label_text.okay"),null)})}},onPreBuy:function(e,t){this.strPayload=t.i},onPayFinish:function(e,t){if(t&&(o.sendMsg(l.SERVER_CMD_PRE_BUY,{i:r.PRE_BUY_S_BUY_POPUP}),1!=t.success)){this.objMask.active=!1,this.gameCore.uiMng.openUI(a.BANK_ALERT,handler(this,function(e){e.updateUI(s.t("label_text.purchase_failed_msg"),s.t("label_text.purchase_failed"),s.t("label_text.purchase_failed_button"),handler(this,function(){this.onBtnBuyLevel2Clk()}))}))}},onVerifyFinish:function(e,t){this.objMask.active&&(this.objMask.active=!1,"error"!=t.cmd&&(IPay.getAllSubscription(),this.gameCore.uiMng.openUI(a.MONTHLY_ELITE_BONUS_GET_POPUP),this.closeUI()))},onBonusGet:function(e,t){var i=o.getCurPlayer().subsProfile;if(this.arrBonusGetLoading[i.monthlyEliteLevel-1].active=!1,this.arrBonusGetButton[i.monthlyEliteLevel-1].interactable=!0,"error"!=t.cmd){var n=this.arrChipSender[i.monthlyEliteLevel-1].convertToWorldSpaceAR(cc.v2(0,0));o.onMsgReceived("UI_COIN_GET",{start:n,final:o.getCurPlayer().nChips});var a=.001*(new Date).getTime();i=o.getCurPlayer().subsProfile;this.objLevel1StateGet.active=!i.isBonusGet,this.objLevel2StateGet.active=!i.isBonusGet,this.objLevel1StateNext.active=i.isBonusGet,this.objLevel2StateNext.active=i.isBonusGet,this.lblLevel1Next.string=CommonUtil.getTimeString(Math.max(i.nextGetTime-a,0)),this.lblLevel2Next.string=CommonUtil.getTimeString(Math.max(i.nextGetTime-a,0)),this.lblLevel1Total.string=s.t("label_text.total_claim",{chips:c.formatNumberWithRules(i.totalBonus)}),this.lblLevel2Total.string=s.t("label_text.total_claim",{chips:c.formatNumberWithRules(i.totalBonus)})}},onMonthlyRefresh:function(e,t){this.start(),o.removeListener(e,this,this.onMonthlyRefresh)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameData:"GameData",GameUtils:"GameUtils",IPayConfig:"IPayConfig",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",UIInfo:"UIInfo"}],MonthlyEliteBuyPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"bba96NdpKlK35/mNze6/ZLq","MonthlyEliteBuyPopUp");var n=e("BaseUI"),a=e("UIInfo"),o=e("ITeenPatti"),s=e("LanguageData"),r=e("GameData"),l=e("Command"),c=e("IPayConfig");cc.Class({extends:n,properties:{lblPrice1:cc.Label,btnLevel1:cc.Button,lblPrice2:cc.Label,btnLevel2:cc.Button,objMask:cc.Node,strPayload:{default:null,visible:!1}},onLoad:function(){this._super(),o.addListener("subscriptionFinish",this,this.onPayFinish),o.addListener("androidSubsBuy",this,this.onVerifyFinish),o.addListener(l.SERVER_CMD_PRE_BUY,this,this.onPreBuy),o.sendMsg(l.SERVER_CMD_PRE_BUY,{i:r.PRE_BUY_S_BUY_POPUP}),this.isBillingSupport=!!IPay.getSkuPrice(c.MONTHLY_ELITE_1),this.lblPrice1.string=IPay.getSkuPrice(c.MONTHLY_ELITE_1),this.lblPrice2.string=IPay.getSkuPrice(c.MONTHLY_ELITE_2),this.lblPrice1.string=this.lblPrice1.string?this.lblPrice1.string:"$1.99",this.lblPrice2.string=this.lblPrice2.string?this.lblPrice2.string:"$4.99",this.lblPrice1.string=s.t("label_text.monthly",{price:this.lblPrice1.string}),this.lblPrice2.string=s.t("label_text.monthly",{price:this.lblPrice2.string})},onBtnCloseClk:function(){this.closeUI()},onBtnMonthCard1Clk:function(){if(IPay.isBillingSupported()&&this.isBillingSupport){var e=o.getCurPlayer().subsProfile;if(!e||e.isExistAutoSubs)return o.onMsgReceived("subsBuy",{mess:"Exist Auto Subsciption Order, Please Cancle!",cmd:"subsBuy",stage:"subsBuy",errorcode:1}),void this.gameCore.uiMng.openUI(a.MONTHLY_ELITE_ERROR_POPUP,function(e){e.setInitData({msg:s.t("label_text.subscribe_already")})});this.objMask.active=!0;var t={payload:this.strPayload};IPay.buySubscription(c.MONTHLY_ELITE_1,JSON.stringify(t))}else{var i=s.t("label_text.google_play_store");this.gameCore.uiMng.openUI(a.BANK_ALERT,function(e){e.updateUI(i,s.t("label_text.purchase_failed"),s.t("label_text.okay"),null)})}},onBtnMonthCard2Clk:function(){if(IPay.isBillingSupported()&&this.isBillingSupport){var e=o.getCurPlayer().subsProfile;if(!e||e.isExistAutoSubs)return o.onMsgReceived("subsBuy",{mess:"Exist Auto Subsciption Order, Please Cancle!",cmd:"subsBuy",stage:"subsBuy",errorcode:1}),void this.gameCore.uiMng.openUI(a.MONTHLY_ELITE_ERROR_POPUP,function(e){e.setInitData({msg:s.t("label_text.subscribe_already")})});this.objMask.active=!0;var t={payload:this.strPayload};IPay.buySubscription(c.MONTHLY_ELITE_2,JSON.stringify(t))}else{var i=s.t("label_text.google_play_store");this.gameCore.uiMng.openUI(a.BANK_ALERT,function(e){e.updateUI(i,s.t("label_text.purchase_failed"),s.t("label_text.okay"),null)})}},onPreBuy:function(e,t){this.strPayload=t.i},onPayFinish:function(e,t){if(t&&(o.sendMsg(l.SERVER_CMD_PRE_BUY,{i:r.PRE_BUY_S_BUY_POPUP}),1!=t.success)){var i=this;this.objMask.active=!1;var n=t.productID==c.MONTHLY_ELITE_1;this.gameCore.uiMng.openUI(a.BANK_ALERT,handler(this,function(e){e.updateUI(s.t("label_text.purchase_failed_msg"),s.t("label_text.purchase_failed"),s.t("label_text.purchase_failed_button"),handler(this,function(){n?i.onBtnMonthCard1Clk():i.onBtnMonthCard2Clk()}))}))}},onVerifyFinish:function(e,t){this.objMask.active&&(this.objMask.active=!1,"error"!=t.cmd&&(IPay.getAllSubscription(),this.gameCore.uiMng.openUI(a.MONTHLY_ELITE_BONUS_GET_POPUP),this.closeUI()))},closeUI:function(){this._super(),this.gameCore.initPopupMng.monthlyEliteComplete=!0}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameData:"GameData",IPayConfig:"IPayConfig",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",UIInfo:"UIInfo"}],MonthlyEliteiOS:[function(e,t,i){"use strict";cc._RF.push(t,"01092OSR9lGJ7shj/+obb/C","MonthlyEliteiOS");var n=e("BaseUI"),a=e("Command"),o=e("GameData"),s=e("LanguageData");cc.Class({extends:n,properties:{buy1:cc.Node,buy2:cc.Node,bonus1:cc.Node,bonus2:cc.Node,closeBtn:cc.Node,loadingBgContainer:cc.Node,descContainer:cc.Node,termsOfUseLabel:cc.Node,termsOfUseLabelLine:cc.Node,privacyPolicyLabel:cc.Node,privacyPolicyLabelLine:cc.Node,priceLabel1:cc.Label,getBonusBtn1:cc.Button,getBonusLoading1:cc.Node,expireTimeLabel1:cc.Label,stateNext1:cc.Node,nextBonusTime1:cc.Label,priceLabel2:cc.Label,getBonusBtn2:cc.Button,getBonusLoading2:cc.Node,expireTimeLabel2:cc.Label,stateNext2:cc.Node,nextBonusTime2:cc.Label},onLoad:function(){this._super(),this.buy1.active=!1,this.buy2.active=!1,this.bonus1.active=!1,this.bonus2.active=!1,this.descContainer.active=!1},gotoTermsOfUse:function(){cc.sys.openURL("http://www.teenpattiflush.com/patti/termofuse.html")},gotoPrivacyPolicy:function(){cc.sys.openURL("http://www.teenpattiflush.com/privacy")},initComplete:function(){this._super(),this.termsOfUseLabel.on("size-changed",handler(this,function(){this.termsOfUseLabelLine.width=this.termsOfUseLabel.width+5})),this.privacyPolicyLabel.on("size-changed",handler(this,function(){this.privacyPolicyLabelLine.width=this.privacyPolicyLabel.width+5})),ITeenPatti.addListener(a.SERVER_CMD_IOS_SUBS_BUY,this,this.onSubsProfile),ITeenPatti.addListener(a.SERVER_CMD_IOS_SUBS_PROFILE,this,this.onSubsProfile),ITeenPatti.addListener(a.SERVER_CMD_IOS_SUBS_ACCEPT,this,this.onSubsProfile),this.gameCore.uiMng.addListener("onIOSBuy",this,this.onIOSBuy),this.gameCore.uiMng.addListener("RestoreFail",this,this.onRestoreFail),ITeenPatti.sendMsg(a.SERVER_CMD_IOS_SUBS_PROFILE),this.gameCore.uiMng.addListener(a.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails),this.gameCore.gameMng.getNativeSkuDetails(),this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,1,!1)},onIOSBuy:function(){this.unschedule(this.onRestoreTimeout),this.restoreBtnClicked&&(this.restoreBtnClicked=!1,this.gameCore.gameMng.showAlert("You have successfully restored your teen patti monthly elite data. Please enjoy!","Congrats"))},onRestoreFail:function(){this.restoreBtnClicked=!1,this.unschedule(this.onRestoreTimeout)},onRestoreBtnClk:function(e){this.schedule(this.onRestoreTimeout,15,1),this.restoreBtnClicked=!0,this.gameCore.uiMng.showLoading(cc.v2(0,0),null,1,!0,this.loadingBgContainer),jsb.reflection.callStaticMethod("InAppPurchaseUtil","restoreCompletedTransactions")},onRestoreTimeout:function(){this.unschedule(this.onRestoreTimeout),this.gameCore.uiMng.hideLoading(),this.gameCore.gameMng.showAlert("Sorry, you currently have no teen patti monthly elite data to restore.","Whoops")},onGetSkuDetails:function(e){this.skuDetailsList=this.gameCore.gameMng.subsSkuDetailsFilter(e)},getProduct:function(e){if(this.skuDetailsList)for(var t=0;t<this.skuDetailsList.length;t++)if(LogUtil.debug("MonthlyEliteiOS",this.skuDetailsList[t].productId),this.skuDetailsList[t].productId==e)return this.skuDetailsList[t];return null},onBuyBtnClk:function(e,t){var i=this.getProduct(o.iOSSubsSkuIDList[t]);i&&(this.gameCore.uiMng.showLoading(cc.v2(0,0),null,1,!0,this.loadingBgContainer),this.gameCore.gameMng.buyStoreItem(i,o.PRE_BUY_S_BUY_POPUP))},onSubsProfile:function(e,t){this.gameCore.uiMng.hideLoading(),this.descContainer.active=!0,this.getBonusLoading1.active=!1,this.getBonusLoading2.active=!1,this.getBonusBtn1.interactable=!0,this.getBonusBtn2.interactable=!0,this.buy1.active=0==t.type,this.buy2.active=2!=t.type,this.bonus1.active=1==t.type,this.bonus2.active=2==t.type,this.closeBtn.active=!this.bonus2.active,this.getBonusBtn1.node.active=this.getBonusBtn2.node.active=t.isAccept,this.stateNext1.active=this.stateNext2.active=!t.isAccept,this.nextBonusTimeLeft=t.nextTime,this.updateNextBonusTimeLabel(),this.expireTimeLabel1.string=this.expireTimeLabel2.string=s.t("label_text.expire_on",{expireDate:CommonUtil.convertToTime((new Date).getTime()+1e3*t.renewTime)}),(this.bonus1.active||this.bonus2.active)&&this.nextBonusTimeLeft>0&&(this.interval=0,this.previousTime=(new Date).getTime(),this.schedule(this.updateCountDown,.05,cc.macro.REPEAT_FOREVER))},updateNextBonusTimeLabel:function(){this.nextBonusTime1.string=this.nextBonusTime2.string=CommonUtil.getTimeString(this.nextBonusTimeLeft)},updateCountDown:function(){this.interval+=(new Date).getTime()-this.previousTime,this.previousTime=(new Date).getTime(),this.interval<1e3||(this.interval-=1e3,this.nextBonusTimeLeft=Math.max(0,this.nextBonusTimeLeft-1),this.updateNextBonusTimeLabel(),0==this.nextBonusTimeLeft&&(this.unschedule(this.updateCountDown),ITeenPatti.sendMsg(a.SERVER_CMD_IOS_SUBS_PROFILE)))},acceptBonus:function(e,t){this.getBonusLoading1.active=!0,this.getBonusLoading2.active=!0,this.getBonusBtn1.interactable=!1,this.getBonusBtn2.interactable=!1,this.gameCore.uiMng.addListener(a.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),ITeenPatti.sendMsg(a.SERVER_CMD_IOS_SUBS_ACCEPT)},onChipsGet:function(e){this.gameCore.gameMng.playChipsFly(e,this.bonus1.active?this.getBonusBtn1.node.position.add(this.getBonusBtn1.node.parent.position):this.getBonusBtn2.node.position.add(this.getBonusBtn2.node.parent.position),0),this.gameCore.uiMng.removeListener(a.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet)},closeUI:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.gameCore.uiMng.hideLoading(),this._super(e,t)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameData:"GameData",LanguageData:"LanguageData"}],MonthlyErrorPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"4ca32iiNeBIPKbiiTKl0IBj","MonthlyErrorPopUp");var n=e("BaseUI"),a=(e("UIInfo"),e("ITeenPatti"));e("LanguageData"),e("GameData"),e("Command"),e("IPayConfig");cc.Class({extends:n,properties:{lblTitle:cc.Label,lblDesc:cc.Label},onLoad:function(){this._super()},setInitData:function(e){this.lblDesc.string=e.msg},onBtnCloseClk:function(){this.closeUI()},onBtnSupportClk:function(){for(var e=a.getCurPlayer().subsProfile,t=parseInt(.001*(new Date).getTime()),i=[],n=0;e.deviceOrderList&&n<e.deviceOrderList.length;n++)i.push(e.deviceOrderList[n].orderId);var o={google_order:i};a.sendMsg("customerSerSendChat",{message:JSON.stringify(o),messageId:t}),a.sendMsg("customerSerList",{i:a.cstmMsgHistory.getLastID()}),this.gameCore.gameMng.openCustomerSupport(),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameData:"GameData",IPayConfig:"IPayConfig",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",UIInfo:"UIInfo"}],MsgPop:[function(e,t,i){"use strict";cc._RF.push(t,"e4cfd8L7VFACawjnnA3KgUw","MsgPop"),cc.Class({extends:cc.Component,properties:{objPublicMsg:cc.Node,objPublicBg:cc.Node,lblPublicMsg:cc.Label,imgPublicEmoji:cc.Sprite,objPrivateMsg:cc.Node,objPrivateBg:cc.Node,lblPrivateMsg:cc.Label,imgPrivateEmoji:cc.Sprite,imgEmail:cc.Sprite},onLoad:function(){var e=this;this.lblPublicMsg.node.on("size-changed",function(t,i){if(1==e.imgPublicEmoji.node.active)return e.objPublicMsg.width=80,void(e.objPublicMsg.height=60);e.objPublicBg.width=Math.min(e.lblPublicMsg.node.width+10,300),e.objPublicBg.height=e.lblPublicMsg.node.height+10,e.lblPublicMsg.node.width>300&&e.lblPublicMsg.overFlow!=cc.Label.Overflow.RESIZE_HEIGHT&&(e.lblPublicMsg.overflow=cc.Label.Overflow.RESIZE_HEIGHT,e.lblPublicMsg.node.width=300)}),this.lblPrivateMsg.node.on("size-changed",function(t,i){if(1==e.imgPrivateEmoji.node.active)return e.objPrivateBg.width=100,e.objPrivateBg.height=60,void e.imgEmail.node.setPosition(-13,35);e.objPrivateBg.width=Math.min(e.lblPrivateMsg.node.width+40,300),e.objPrivateBg.height=e.lblPrivateMsg.node.height+10,e.imgEmail.node.setPosition(e.lblPrivateMsg.node.x-.5*e.lblPrivateMsg.node.width-4,e.lblPrivateMsg.node.y+e.lblPrivateMsg.node.height-4),e.lblPrivateMsg.node.width>260&&e.lblPrivateMsg.overFlow!=cc.Label.Overflow.RESIZE_HEIGHT&&(e.lblPrivateMsg.overflow=cc.Label.Overflow.RESIZE_HEIGHT,e.lblPrivateMsg.node.width=260)})},onDestroy:function(){this.node.emit("node-removed",{})},setPopText:function(e,t){var i=cc.director.getScene().getChildByName("Canvas").getComponent("EmojiCache");if(this.objPublicMsg.active=!t,this.objPrivateMsg.active=t,this.lblPublicMsg.node.active=!0,this.lblPrivateMsg.node.active=!0,this.imgPublicEmoji.node.active=!1,this.imgPrivateEmoji.node.active=!1,i.isEmojiContent(e)){var n=i.getEmojiFrameWithText(e);n&&(this.imgPublicEmoji.spriteFrame=n,this.imgPrivateEmoji.spriteFrame=n,this.imgPublicEmoji.node.active=!0,this.imgPrivateEmoji.node.active=!0,this.lblPublicMsg.node.active=!1,this.lblPrivateMsg.node.active=!1)}this.lblPublicMsg.string=e,this.lblPrivateMsg.string=e;var a=this;performWithDelay(this.node,3,function(){a.node.destroy()})}}),cc._RF.pop()},{}],MuflisHelp:[function(e,t,i){"use strict";cc._RF.push(t,"38692/sGgxHjY5z5p1MvU36","MuflisHelp");var n=e("BaseEdgePopup");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup"}],MuflisRoom:[function(e,t,i){"use strict";cc._RF.push(t,"62936N5K/hCfZWsSKOloS5n","MuflisRoom");var n=e("BaseRoom"),a=e("UIInfo");cc.Class({name:"MuflisRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.MUFLIS,this.tableRulesUIInfo=a.MUFLIS_HELP}});cc._RF.pop()},{BaseRoom:"BaseRoom",UIInfo:"UIInfo"}],MyselfPlayerInfo:[function(e,t,i){"use strict";cc._RF.push(t,"1e8a8i30oZK9oR6BLgxBaQL","MyselfPlayerInfo");var n=e("ClampLabel"),a=e("UIInfo"),o=e("GameData"),s=e("Command"),r=e("GameUtils"),l=e("DataAnalysisKey"),c=e("ProgressBar"),h=e("FacebookIcon"),u=e("LanguageData"),d=e("LocalStorage"),m=e("BaseUI");cc.Class({extends:m,properties:{lblName:n,lblUserID:cc.Label,lblChips:cc.Label,lblLevel:cc.Label,lblNextLevel:cc.Label,lblNextLevelReward:cc.Label,lblNextLevelRewardNode:cc.Node,levelProgress:c,facebookIcon:h,lblGameWon:cc.Label,lblBiggestWin:cc.Label,lblWinningStreak:cc.Label,lblHighestChips:cc.Label,lblFriendCount:cc.Label,fbConnectRewardLabel:cc.Label,noCard:cc.Node,bestHand:[cc.Sprite],logoutNode:cc.Node,logoutLabel:cc.Label,logoutLine:cc.Node,connectNode:cc.Node,signOutAppleNode:cc.Node,newIconRemind:cc.Node,fbLoginLoading:cc.Node},onLoad:function(){this._super(),this.newIconRemind.active=!d.getLocalData("NewIconRemind"),this.fbLoginLoading.active=!1},initComplete:function(){this._super(),this.gameCore.dataAnalysisMng.sendData(l.CLICK_MYSELF_INFOPAGE,this.gameCore.dataAnalysisMng.gameBaseData),this.gameCore.uiMng.addListener(s.UI_CMD_HEAD_ICON_CHANGE,this,this.updateIcon),this.gameCore.uiMng.addListener(s.UI_CMD_USER_INFO_GOTTEN,this,this.userInfoGotten),this.gameCore.uiMng.addListener(s.SERVER_CMD_MY_PROFILE,this,this.onMyProfile),ITeenPatti.sendMsg(s.SERVER_CMD_MY_PROFILE,null),this.lblGameWon.string="",this.lblBiggestWin.string="",this.lblWinningStreak.string="",this.lblHighestChips.string="",this.lblNextLevel.string="",this.lblNextLevelReward.string="",this.fbConnectRewardLabel.string=u.t("label_text.fb_login_reward1",{reward:o.fbLoginReward()}),this.logoutNode.active=this.gameCore.userMng.myself.isFacebookLogin()&&!isInstantGame,this.connectNode.active=!this.gameCore.userMng.myself.isFacebookLogin()&&!this.gameCore.gameMng.signInWithApple,this.signOutAppleNode.active=this.gameCore.gameMng.signInWithApple&&!this.gameCore.userMng.myself.isFacebookLogin(),this.gameCore.userMng.myself.isFacebookLogin()||(this.gameCore.uiMng.addListener(s.UI_CMD_GET_FB_PROFILE_FAIL,this,this.onGetFBProfileFail),this.gameCore.uiMng.addListener(s.UI_CMD_FB_LOGIN_FAIL,this,this.onFBLoginFail)),cc.sys.isBrowser&&(this.logoutNode.active=this.connectNode.active=!1),this.logoutLabel.node.on("size-changed",handler(this,function(){this.logoutLine.width=this.logoutLabel.node.width+5})),this.updateUI()},i18nRendersUpdate:function(){this.lblLevel.string=u.t("label_text.lobby_profile_bar_level",{lv:this.gameCore.userMng.myself.nLevel}),this.gameCore.userMng.myself.nLevel>=o.maxLevel&&(this.lblNextLevelRewardNode.active=!1,this.lblNextLevel.horizontalAlign=cc.Label.HorizontalAlign.LEFT,this.lblNextLevel.node.x=125,this.lblNextLevel.string=u.t("label_text.max_level"))},onMyProfile:function(e){if(this.lblNextLevel){e.levelbonus&&(this.lblNextLevel.string=u.t("label_text.lobby_profile_bar_level1",{lv:e.levelbonus.level}),this.lblNextLevelReward.string=u.t("label_text.lobby_profile_bar_get",{reward:r.formatNumberWithRules(e.levelbonus.bonus)})),this.lblGameWon.string=r.formatNumber(e.won)+"/"+r.formatNumber(e.games),this.lblBiggestWin.string=r.formatNumberWithRules(e.bwin),this.lblWinningStreak.string=r.formatNumber(e.winstreak),this.lblHighestChips.string=r.formatNumberWithRules(e.hwin),this.noCard.active=void 0==e.besthand[1];for(var t=0;t<this.bestHand.length;t++)if(void 0!=e.besthand[t+1]){var i=e.besthand[t+1];cc.loader.loadRes("Common/pokers/"+["2","3","4","5","6","7","8","9","10","J","Q","K","A"][parseInt(i/4)]+"_"+["red","black"][i%2]+"_"+["diamond","club","heart","spade"][i%4],cc.SpriteFrame,handler(this,function(e,t,i){e?LogUtil.err("MyselfPlayerInfo","Down Card Fail",e):this.bestHand&&(this.bestHand[i].spriteFrame=t)},t))}}},userInfoGotten:function(e){this.gameCore&&this.gameCore.userMng&&this.gameCore.userMng.myself&&e.id==this.gameCore.userMng.myself.strTPID&&this.updateUI()},updateIcon:function(){if(!this.gameCore.userMng.myself.isFacebookLogin()&&-1==this.gameCore.userMng.myself.strIconID){var e=Math.floor(o.systemIconCount*Math.random())+1;ITeenPatti.sendMsg(s.SERVER_CMD_EDIT_USER_ICON,{i:e}),this.gameCore.userMng.myself.strIconID=e}this.facebookIcon.initWithTeenPattiUser(this.gameCore.userMng.myself)},updateUI:function(){this.isValid&&this.gameCore&&this.gameCore.userMng&&this.gameCore.userMng.myself&&(this.lblName.string=this.gameCore.userMng.myself.strTPName,this.lblUserID.string=this.gameCore.userMng.myself.strTPID,this.lblChips.string=r.formatNumberWithRules(this.gameCore.userMng.myself.nChips),this.levelProgress.progress=this.gameCore.userMng.myself.expProgress,this.facebookIcon.initWithTeenPattiUser(this.gameCore.userMng.myself),this.lblFriendCount.string=this.gameCore.userMng.myself.friendsCount,this.i18nRendersUpdate())},onSignOutAppleClk:function(e){ITeenPatti.logout(),this.closeUI(),this.gameCore.uiMng.openUI(a.LOGIN_SCENE),this.gameCore.logout()},onLogoutBtnClk:function(e){this.gameCore.uiMng.openUI(a.FB_LOGOUT_CONNECT_REMIND,function(e){e&&(e.type="logout")}),this.gameCore.dataAnalysisMng.sendData(l.CLICK_FB_LOGOUT)},onConnectBtnClk:function(e){this.fbLoginLoading.active=!0,this.gameCore.userMng.onFBConnectBtnClk()},onChangeIconBtnClk:function(e){this.newIconRemind.active=!1,ITeenPatti.onMsgReceived("choose_icon_opened"),d.saveLocalData("NewIconRemind",!0),this.gameCore.uiMng.openUI(a.HEAD_ICON_CHOOSE),this.gameCore.dataAnalysisMng.sendData(l.CLICK_AVATAR_BUTTON)},onUserIDClk:function(e){this.gameCore.gameMng.copyToClipboard(this.lblUserID.string)},onGetFBProfileFail:function(){this.fbLoginLoading.active=!1},onFBLoginFail:function(){this.fbLoginLoading.active=!1}}),cc._RF.pop()},{BaseUI:"BaseUI",ClampLabel:"ClampLabel",Command:"Command",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon",GameData:"GameData",GameUtils:"GameUtils",LanguageData:"LanguageData",LocalStorage:"LocalStorage",ProgressBar:"ProgressBar",UIInfo:"UIInfo"}],NativeJsBridge:[function(e,t,i){"use strict";cc._RF.push(t,"8f5b6YrOOxAJ6ori/Cc6rBy","NativeJsBridge"),function(){var t="njb",i=e("Command"),n=e("UIInfo"),a=e("Base64").Base64,o=e("StoreConfig"),s={gameCore:null,loginStatus:!1,iOSBuyCache:[],launchQueryJson:null,setGameCore:function(e){this.gameCore=e},logined:function(){for(this.loginStatus=!0;this.iOSBuyCache.length>0;)this.oniOSBuyResponse.apply(this,this.iOSBuyCache.shift())},logout:function(){this.loginStatus=!1},onReceiveLaunchQuery:function(e){var i=a.decode(e);LogUtil.debug(t,"LaunchQuery:"+i),this.launchQueryJson=JSON.parse(i),this.gameCore&&this.gameCore.gameMng.handleLaunchQuery()},onBuyResponse:function(e,n){LogUtil.debug(t,"onBuyResponse Success!");var o=a.decode(e),s=a.decode(n);if(LogUtil.debug(t,"purchaseData:"+o+" dataSignature:"+s),this.gameCore.gameMng.androidBuy(o,s),e){var r=JSON.parse(o);ITeenPatti.sendMsg(i.SERVER_CMD_BUY_STATUS,{payload:r.developerPayload,status:"0:OK",productid:r.productId,orderid:r.orderId})}},oniOSBuyResponse:function(e,n){if(this.gameCore&&this.loginStatus){LogUtil.debug(t,"oniOSBuyResponse---purchaseData:"+e+" transactionId:"+n),this.gameCore.gameMng.iosBuy(e,n);var a=this.gameCore.gameMng&&this.gameCore.gameMng.payloadID?this.gameCore.gameMng.payloadID:null,o=this.gameCore.gameMng&&this.gameCore.gameMng.product?this.gameCore.gameMng.product.productId:null;o&&ITeenPatti.sendMsg(i.SERVER_CMD_BUY_STATUS,{payload:a,status:"0:OK",productid:o,orderid:n})}else this.iOSBuyCache.push([e,n])},onGetSkuDetails:function(e){if(this.gameCore){cc.sys.isBrowser||cc.sys.os!=cc.sys.OS_ANDROID||IPayGoogle.onSkuDetailsGetSucc(e);var n=a.decode(e);cc.sys.isBrowser||cc.sys.os!=cc.sys.OS_ANDROID||(n=o.changeForNewBilling(n)),LogUtil.debug(t,"onGetSkuDetails:"+n),this.gameCore.uiMng.dispatch(i.UI_CMD_GET_SKU_DETAILS,n),o.onGetSkuDetails(n);var s=this.gameCore.gameMng.skuDetailsFilter(n);if(!(s.length<1)){var r=null;try{r=JSON.parse(s[0])}catch(e){LogUtil.err(t,"onGetSkuDetails",e)}r&&(this.gameCore.gameMng.priceCurrencyCode=r.price_currency_code)}}},onGetPurchases:function(e,i){LogUtil.debug(t,"onGetPurchases Success!");var n=a.decode(e),o=a.decode(i);LogUtil.debug(t,"purchaseData:"+n+" dataSignature:"+o);for(var s=n.split("|"),r=o.split("|"),l=0;l<s.length;l++){var c=s[l],h=r[l];this.gameCore.gameMng.androidBuy(c,h)}},onNativePurchaseFail:function(e,n){if(LogUtil.debug(t,"onNativePurchaseFail!"),LogUtil.debug(t,e),this.gameCore&&(this.gameCore.uiMng&&this.gameCore.uiMng.hideLoading(),this.gameCore.userMng&&(this.gameCore.userMng.endPosType=0),this.gameCore.gameMng)){this.gameCore.gameMng.purchaseFail(e);var a=this.gameCore.gameMng&&this.gameCore.gameMng.product?this.gameCore.gameMng.product.productId:null,o=this.gameCore.gameMng&&this.gameCore.gameMng.payloadID?this.gameCore.gameMng.payloadID:null;a&&ITeenPatti.sendMsg(i.SERVER_CMD_BUY_STATUS,{payload:o,status:e,productid:a})}},onAndroidIABServiceIsNotConnected:function(){this.gameCore&&this.gameCore.uiMng.dispatch(i.UI_CMD_IAB_SERVICE_IS_NOT_CONNECTED)},onAndroidIABServiceConnected:function(){this.gameCore&&this.gameCore.uiMng.dispatch(i.UI_CMD_IAB_SERVICE_CONNECTED)},onWIFIDisconnected:function(){this.gameCore&&(this.gameCore.serverMng?this.gameCore.serverMng.connectionProblem(2,!0):this.gameCore.uiMng.curSceneKey==n.LOGIN_SCENE.name&&this.gameCore.uiMng.dispatch(i.UI_CMD_CONNECT_FAIL))},onSignWithApple:function(e){var i=a.decode(e);LogUtil.debug(t,"sign in with apple:"+i),this.gameCore.gameMng.appleLogin(JSON.parse(i))},onSignWithAppleFail:function(){this.gameCore&&this.gameCore.uiMng&&(LogUtil.debug(t,"sign in with apple fail"),this.gameCore.uiMng.dispatch("ui_sign_in_apple_fail"))}};window.njb=s}(),cc._RF.pop()},{Base64:"Base64",Command:"Command",StoreConfig:"StoreConfig",UIInfo:"UIInfo"}],NetworkState:[function(e,t,i){"use strict";cc._RF.push(t,"be2e31q5eRF64KdjvWkSnkQ","NetworkState");var n=e("Command"),a=e("UIInfo"),o=e("DataAnalysisKey"),s=e("BaseComponent");cc.Class({extends:s,properties:{states:[cc.Node],delayLabel:cc.Label,delayMilliseconds:{set:function(e){this._delayMilliseconds=e,this.delayLabel.string=e+"ms";for(var t=[[1500,99999],[800,1500],[300,800],[-1,300]],i=1;i<this.states.length;i++)this.states[i].active=!this.isNetworkLost()&&this._delayMilliseconds>t[i-1][0]&&this._delayMilliseconds<=t[i-1][1];this.states[0].active=this.isNetworkLost()},visible:!1},delayMillisecondsList:[]},onLoad:function(){this._super(),this.node.active=!1,this.delayLabel.node.active=!1},initComplete:function(){this._super(),this.node.active=!0,this.delayMilliseconds=ITeenPatti.delayMilliseconds,this.gameCore.uiMng.addListener(n.UI_CMD_NETWORK_DELAY_TIME,this,this.onNetworkDelayTime),this.schedule(handler(this,this.onSecondUpdate),1,cc.macro.REPEAT_FOREVER)},onNetworkDelayTime:function(e){if(this.delayMilliseconds=e,this.delayMillisecondsList.push(e),this.delayMillisecondsList.length>=12){var t=CommonUtil.averageOfArray(this.delayMillisecondsList);if(this.delayMillisecondsList=[],this.gameCore){var i="unknown";cc.sys.platform==cc.sys.ANDROID&&(i=jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","getNetworkType","()Ljava/lang/String;")),this.gameCore.dataAnalysisMng.sendData(o.NETWORK_DELAY_MILLISECONDS,this.gameCore.dataAnalysisMng.gameBaseData.concat(["delay:"+t,"network:"+i]))}}},onSecondUpdate:function(){this.isNetworkLost()?this.delayMilliseconds=this._delayMilliseconds:this.states[0].active=!1},isNetworkLost:function(){return this.gameCore.uiMng.isPopUpByUIKey(a.RECONNECTING.name)||this.gameCore.uiMng.isPopUpByUIKey(a.CONNECTION_LOST.name)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey",UIInfo:"UIInfo"}],NoLimitBootSelect1:[function(e,t,i){"use strict";cc._RF.push(t,"4adb6yJ5HNEx77uruJWgRYy","NoLimitBootSelect1");var n=e("NoLimitBootSelect"),a=e("UIInfo");cc.Class({extends:n,properties:{maskList:[cc.Node]},onLoad:function(){this._super(),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1},initComplete:function(){this._super();var e={};e[a.LOBBY_SCENE.name]=0,e[a.LOBBY_SCENE2.name]=1;for(var t=0;t<this.maskList.length;t++)this.maskList[t].active=t==e[this.gameCore.uiMng.curSceneKey]}}),cc._RF.pop()},{NoLimitBootSelect:"NoLimitBootSelect",UIInfo:"UIInfo"}],NoLimitBootSelect:[function(e,t,i){"use strict";cc._RF.push(t,"20899FWNX1C3LQ1u2GIfmiF","NoLimitBootSelect");var n=e("Command"),a=e("LanguageData"),o=e("GameUtils"),s=(e("UIInfo"),e("BaseUI"));cc.Class({extends:s,properties:{bootSelectList:[cc.Node],labelList:[cc.Label],layout:cc.Node,arrow:cc.Node,popupWidget:cc.Widget},onLoad:function(){this._super()},initComplete:function(){this._super();for(var e=0;e<this.bootSelectList.length;e++)this.bootSelectList[e].active=!1;this.gameCore.uiMng.showLoading(cc.v2(0,-30),this.popupBg,.7),this.layout.active=!1,this.gameCore.uiMng.addListener(n.SERVER_CMD_NOLIMIT_BOOT_LIST,this,this.onBootList),ITeenPatti.sendMsg(n.SERVER_CMD_NOLIMIT_BOOT_LIST,null)},updateSize:function(e,t){var i=cc.visibleRect;this.arrow.x=e-i.width/2,this.popupBg.height=(i.height-t)/2-6},onBootList:function(e){if(!e.errorcode){this.gameCore.uiMng.hideLoading(),this.layout.active=!0,this.bootAmount=table.createToArray(e.is);for(var t=0;t<this.labelList.length;t++)this.bootSelectList[t].active=!0,this.labelList[t].string=a.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.bootAmount[t])})}},reset:function(){this.gameCore.uiMng.hideLoading(),this.gameCore.uiMng.removeListener(n.SERVER_CMD_PLAY_NOLIMIT,this,this.onPlayResponse),ITeenPatti.removeListener(n.SERVER_CMD_BANNED_USER,this,this.onPlayResponse)},onPlayResponse:function(e,t){this.reset(),"error"!=t.cmd&&this.gameCore.gameMng.openChipsNotEnoughTwoItem(t.i-this.gameCore.userMng.myself.nChips,t.i)},onPlayBtnClk:function(e,t){this.gameCore.userMng.play(n.SERVER_CMD_PLAY_NOLIMIT,"NoLimit",!1,null,this.bootAmount[t])&&(this.gameCore.uiMng.addListener(n.SERVER_CMD_PLAY_NOLIMIT,this,this.onPlayResponse),ITeenPatti.addListener(n.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),this.gameCore.uiMng.showLoading())}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],NoLimitRoom:[function(e,t,i){"use strict";cc._RF.push(t,"5d2e9pLscdI2IqRGctnytVf","NoLimitRoom");var n=e("BaseRoom"),a=e("UIInfo");cc.Class({name:"NoLimitRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.NOLIMIT,this.tableRulesUIInfo=a.CLASSIC_HELP}});cc._RF.pop()},{BaseRoom:"BaseRoom",UIInfo:"UIInfo"}],NormalCardBar:[function(e,t,i){"use strict";cc._RF.push(t,"7cf2a+dxxNDOLgxlhZEU0oI","NormalCardBar"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],NormalSeatTour:[function(e,t,i){"use strict";cc._RF.push(t,"c4150D5goJDH6b9wp61/QH3","NormalSeatTour");var n=e("NormalSeat"),a=e("GameUtils"),o=e("LanguageData"),s=e("Command");cc.Class({extends:n,properties:{lblBalance:cc.Label,lastStakeBar:{default:null,override:!0,visible:!1},lblLastStake:{default:null,override:!0,visible:!1},balanceNode:cc.Node},onLoad:function(){this._super(),this.lastStakeBar=null},clearSeat:function(){this.balanceNode.active=!1,this._super()},onUserSitDown:function(e){this._super(e),this.balanceNode.active=!0,this.updateBgState(),this.updateBalance()},updateBgState:function(){if(this.partner.shortBackground&&(this.partner.shortBackground.active=!1),this.partner.longBackground&&(this.partner.longBackground.active=!1),this.partner.frame){var e=this.btnSitDown.node.active||this.btnInvite.node.active;this.partner.frame.active=!e}},getBetStateStr:function(){return 0==this.tpUser.getTeenPattiProfile().tournamentChips?o.t("label_text.all_in"):o.t("label_text.chaal")},onUserRefresh:function(){if(this._super(),this.tpUser){var e=ITeenPatti.getCurTable().state==TABLE_STATE.RUNNING;switch(this.stateBar.node.active=e,this.tpUser.role.refreshstate){case 0:case 1:this.stateBar.node.active=!1;break;case 2:this.stateBar.setNextState(o.t("label_text.blind"));break;case 3:this.stateBar.setNextState(o.t("label_text.seen"));break;case 4:this.stateBar.setNextState(this.getBetStateStr());break;case 5:this.stateBar.setNextState(o.t("label_text.s_show"));break;case 6:this.stateBar.setNextState(o.t("label_text.seen"));break;case 7:this.stateBar.node.active=!1}this.updateLastStakeBarActive(e),this.updateBalance(),LogUtil.info("NormalSeatTour"," SEAT ID "+this.seatId+" "+this.stateBar.node.active+" "+this.tpUser.role.refreshstate)}},onUserBet:function(e,t){this.tpUser&&(this.updateLastStakeBarActive(!0),e==s.SERVER_CMD_TOUR_START&&0!=this.tpUser.getTeenPattiProfile().tournamentChips||(this.stateBar.node.active=!0,this.stateBar.setNextState(this.tpUser.role.isCardSeen()||0==this.tpUser.getTeenPattiProfile().tournamentChips?this.getBetStateStr():o.t("label_text.blind"))))},onUserUpdate:function(e,t){if(this.tpUser){var i=!0;if(t&&t.changedVars)for(var n in i=!1,t.changedVars)"vc"==t.changedVars[n]&&(i=!0);if(i){var a=ITeenPatti.getCurTable();(!a.isRoundPartner(this.tpUser.userId)||a.state!=TABLE_STATE.OVER&&a.state!=TABLE_STATE.FINISH)&&this.updateBalance()}}},updateBalance:function(){this.tpUser&&(this.lblBalance.string=o.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.tpUser.getTeenPattiProfile().tournamentChips)}))}}),cc._RF.pop()},{Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",NormalSeat:"NormalSeat"}],NormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"246f8u9nGdMcp1YRZKo/WQE","NormalSeat");var n=e("PattiPlayerView"),a=e("SeatStateBar"),o=e("SeatExtend"),s=e("GameUtils"),r=e("Command"),l=e("LanguageData");cc.Class({extends:o,properties:{partner:n,stateBar:a,lastStakeBar:cc.Node,btnSitDown:cc.Button,btnInvite:cc.Button,lblLastStake:cc.Label},initComplete:function(){this._super(),this.tpUser||this.clearSeat()},updateBgState:function(){if(this.partner.shortBackground&&(this.partner.shortBackground.active=!1),this.partner.longBackground&&(this.partner.longBackground.active=!1),this.partner.frame){var e=this.btnSitDown.node.active||this.btnInvite.node.active;this.partner.frame.active=!e}},updateSeatActive:function(){this.gameCore.userMng.isInDeluxeRoom&&(this.node.active=ITeenPatti.getMySelfRole()&&ITeenPatti.getMySelfRole().isWatcher()||null!=this.partner.tpUser)},updateInviteBtnActive:function(e){this.btnInvite.node.active=e,this.updateBgState(),this.updateSeatActive()},updateLastStakeBarActive:function(e){this.lastStakeBar&&(this.lastStakeBar.active=e,this.updateBgState())},updateBtnStatus:function(e){this.btnSitDown.node.active=!e&&this.gameCore&&!this.gameCore.userMng.isSpectator,this.btnSitDown.interactable=!e,this.btnInvite.interactable=e,this.updateBgState(),this.updateSeatActive()},clearSeat:function(){var e=ITeenPatti.getMySelfRole()&&!ITeenPatti.getMySelfRole().isWatcher();this.stateBar.node.active=!1,this.updateInviteBtnActive(e),this.updateLastStakeBarActive(!1),this.updateBtnStatus(e),this.updateSeatActive()},onOtherSitDown:function(){var e=ITeenPatti.getMySelfRole()&&!ITeenPatti.getMySelfRole().isWatcher();this.updateInviteBtnActive(e),this.updateBtnStatus(e),this.updateSeatActive()},onOtherStandUp:function(){var e=ITeenPatti.getMySelfRole()&&!ITeenPatti.getMySelfRole().isWatcher();this.updateInviteBtnActive(e),this.updateBtnStatus(e),this.updateSeatActive()},onUserSitDown:function(e){this._super(e),this.updateInviteBtnActive(!1),this.updateSeatActive()},onUserStandUp:function(){this._super(),this.clearSeat()},onUserRefresh:function(){if(this._super(),this.tpUser){var e=ITeenPatti.getCurTable().state==TABLE_STATE.RUNNING;switch(this.stateBar.node.active=e,this.tpUser.role.refreshstate){case 0:case 1:this.stateBar.node.active=!1;break;case 2:this.stateBar.setNextState(l.t("label_text.blind"));break;case 3:this.stateBar.setNextState(l.t("label_text.seen"));break;case 4:this.stateBar.setNextState(l.t("label_text.chaal"));break;case 5:this.stateBar.setNextState(l.t("label_text.s_show"));break;case 6:this.stateBar.setNextState(l.t("label_text.seen"));break;case 7:this.stateBar.node.active=!1}this.updateLastStakeBarActive(e),this.lblLastStake&&(this.lblLastStake.string=l.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(this.tpUser.role.lastBetStake)})),LogUtil.info("NormalSeat"," SEAT ID "+this.seatId+" "+this.stateBar.node.active+" "+this.tpUser.role.refreshstate)}},onUserSee:function(){var t=e("PotBlindRoom");ITeenPatti.getCurRoom()instanceof t||(this.stateBar.node.active=!0,this.stateBar.setNextState(l.t("label_text.seen")))},onUserBet:function(e,t){this.tpUser&&(this.updateLastStakeBarActive(!0),this.lblLastStake&&(this.lblLastStake.string=l.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(this.tpUser.role.lastBetStake)})),e!=r.SERVER_CMD_START&&(this.stateBar.node.active=!0,this.stateBar.setNextState(this.tpUser.role.isCardSeen()?l.t("label_text.chaal"):l.t("label_text.blind"))))},onUserPack:function(){this.stateBar.node.active=!1,this.updateLastStakeBarActive(!1)},onUserShow:function(){this.stateBar.node.active=!1},onUserSide:function(){this.stateBar.node.active=!0,this.stateBar.setNextState(l.t("label_text.s_show"))},onUserSideLose:function(){this.stateBar.node.active=!1},onUserSideWin:function(){this.stateBar.node.active=!1},onRoundReady:function(){this._super(),this.node.scaleX=1,this.node.scaleY=1,this.stateBar.node.active=!1,this.updateLastStakeBarActive(!1),this.stateBar.onRoundReady()},onUserAwards:function(){this._super(),this.updateLastStakeBarActive(!1)},onUserLose:function(){this._super(),this.stateBar.node.active=!1},onUserWin:function(){this._super(),this.stateBar.node.active=!1},onBtnInviteClicked:function(){}}),cc._RF.pop()},{Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",PattiPlayerView:"PattiPlayerView",PotBlindRoom:"PotBlindRoom",SeatExtend:"SeatExtend",SeatStateBar:"SeatStateBar"}],NotificationCfg:[function(e,t,i){"use strict";cc._RF.push(t,"98792PPuhhL27L1er7flcbm","NotificationCfg"),window.NTFCT_CFG_KEY="Aemobile_Notification_Cache_Key",window.NTFCT_CFG_URL="https://stusmiddle.blob.core.windows.net/patti/notification/notification.json",window.NotificationCfgDefault=[{task:"DailyBonus",enable:!0,repeat:!0,time:"22:00:00",title:["Teen Patti Flush"],message:["Your \ud83d\udca5 Daily Bonus \ud83d\udca5 is ready! Claim to try your luck!","Daily \ud83c\udf88 FREE CHIPS \ud83c\udf88 are waiting for you! Tap to collect now!","Tap for \ud83d\udcb0 FREE CHIPS \ud83d\udcb0 & Play now!","\ud83d\udc8e Daily Bonus \ud83d\udc8e is ready! Come to Collect & Play \u27a1","\ud83c\udf89 Welcome back! Daily Bonus is only a click away \ud83d\udc49","Time to get \ud83d\udcb0 Free Bonus \ud83d\udcb0 Let's get it started!","You've got \ud83d\udc8e Daily Bonus \ud83d\udc8e Click to grab it!","It's been a while without YOU \ud83d\udc97 Come back for \ud83d\udcb0 Free Bonus \ud83d\udcb0!","Grab \ud83d\udcb0 Daily Bonus \ud83d\udcb0 to chase down BIG WIN \ud83d\udcaa","\u2728 Daily Bonus \u2728 for your gaming day! Come to collect \ud83d\udc49","Click \ud83c\udf88 Free Bonus \ud83c\udf88 get ahead of the game \u2728","\ud83d\ude09 Not enough credits? We've got some!","Claim \ud83c\udf88 Free Bonus \ud83c\udf88 and be a \ud83d\udc51 lucky winner!","\ud83d\udc51 Try out your luck today with \ud83c\udfc5 Daily Bonus \ud83c\udfc5!","\ud83c\udf89 Welcome back! Get the special LUCK for joy!","Roll out your day in \ud83d\udca5 Teen Patti Flush \ud83d\udca5 for WINS!","\ud83d\ude18 Don't miss out a day in Teen Patti Flush \ud83d\udc49","Treat yourself to Fun & Win today! \ud83c\udf89 Good Luck!"]}],cc._RF.pop()},{}],NtfctProfile:[function(e,t,i){"use strict";cc._RF.push(t,"b8a951S+hFKDbiBH5zwGe8r","NtfctProfile");cc.Class({name:"NtfctProfile",properties:{ntfctID:"",task:"",enable:!1,triggerDate:0,triggerTime:0,interval:0,randTime:0,triggerUser:null,arrTitle:[],arrMessage:[]},ctor:function(){var e=new Date,t=arguments[1].date||e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),i=arguments[1].time;this.ntfctID=arguments[0],this.task=arguments[1].task,this.enable=arguments[1].enable,this.arrTitle=arguments[1].title,this.arrMessage=arguments[1].message,e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);var n=t.split("-");e.setFullYear(parseInt(n[0])),e.setMonth(parseInt(n[1]-1)),e.setDate(parseInt(n[2])),this.triggerDate=.001*e.getTime();var a=i.split(":");e.setHours(parseInt(a[0])),e.setMinutes(parseInt(a[1])),e.setSeconds(parseInt(a[2])),this.triggerTime=.001*e.getTime()-this.triggerDate,this.interval=arguments[1].repeat?86400:0,this.randTime=arguments[1].randTime?arguments[1].randTime:0,this.triggerUser=arguments[1].userId},start:function(){if(this.enable&&(!this.triggerUser||ITeenPatti.getCurPlayer())&&(!this.triggerUser||!ITeenPatti.getCurPlayer()||ITeenPatti.getCurPlayer().strTPID==this.triggerUser)){var e=parseInt(Math.random()*this.arrTitle.length),t=this.arrTitle[e];e=parseInt(Math.random()*this.arrMessage.length);var i=this.arrMessage[e],n=this.triggerDate+this.triggerTime-.001*(new Date).getTime();parseInt(Math.random()*this.randTime);var a=ITeenPatti.getCurPlayer()?ITeenPatti.getCurPlayer().strTPID:"",o={task:this.task,userId:a,device:CommonUtil.getDeviceId(),title:t,msg:i};LogUtil.info("NtfctProfile","Start Notification Countdown: "+this.ntfctID+" "+n,o),n<0&&this.interval<1||(n<0&&(n+=this.interval),INotification.startNotifyCountdown(this.ntfctID,n,this.interval,JSON.stringify(o)))}}});cc._RF.pop()},{}],OnlineFileLoader:[function(e,t,i){"use strict";cc._RF.push(t,"89f51z0pBBDHJs0Pv98c2kz","OnlineFileLoader");var n=e("LocalStorage");cc.Class({name:"OnlineFileLoader",properties:{strCacheKey:"",strOnlineUrl:"",strContent:""},ctor:function(){this.strOnlineUrl=arguments[0],this.strCacheKey=arguments[1],this.strContent=this.strCacheKey?n.getLocalData(this.strCacheKey):null},getFileContent:function(){return this.strContent},loadFromNet:function(e){var t=this;this.callback=e;var i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){4==i.readyState&&(i.status>=200&&i.status<300?t.onDownloadSucc(i.responseText):t.onDownloadFail())},i.ontimeout=function(){t.onDownloadFail()},i.onerror=function(){t.onDownloadFail()},i.open("GET",this.strOnlineUrl,!0),i.timeout=5e3;i.send()},onDownloadSucc:function(e){this.strCacheKey&&n.saveLocalData(this.strCacheKey,e),this.strContent=e,this.callback&&this.callback(e)},onDownloadFail:function(){}});cc._RF.pop()},{LocalStorage:"LocalStorage"}],OnliveBetSelectButton:[function(e,t,i){"use strict";cc._RF.push(t,"274c3jdttBNSJJRv4WpbGg7","OnliveBetSelectButton");var n=e("UIInfo"),a=e("BaseComponent");cc.Class({extends:a,properties:{blackMask:cc.Node},onLoad:function(){this._super(),this.blackMask&&(this.blackMask.active=!1)},onButtonClk:function(e,t){if(this.gameCore.userMng.canJoinGame())if(this.gameCore.userMng.isJoining=!0,isInstantGame){this.blackMask&&(this.blackMask.active=!0),this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.7);cc.director.preloadScene({Cricket:"CricketScene/CricketScene",Football:"FootballScene/FootballScene"}[t],function(){this.openScene(t)}.bind(this))}else this.openScene(t)},openScene:function(e){this.blackMask&&(this.blackMask.active=!1),"Cricket"==e?this.gameCore.gameMng.openGameUI(n.CRICKET_SCENE,"OnlineBet"):"Football"==e&&this.gameCore.gameMng.openGameUI(n.FOOTBALL_SCENE,"OnlineBet")}}),cc._RF.pop()},{BaseComponent:"BaseComponent",UIInfo:"UIInfo"}],OnliveBet:[function(e,t,i){"use strict";cc._RF.push(t,"0e6d4MzaVhEgqg/t2ZCctT2","OnliveBet");var n=e("BaseUI");cc.Class({extends:n,properties:{},onLoad:function(){this._super(),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1}}),cc._RF.pop()},{BaseUI:"BaseUI"}],PartcleWinCasinoWar:[function(e,t,i){"use strict";cc._RF.push(t,"22a7fEHBrFH4KjLam3abwLH","PartcleWinCasinoWar");var n=e("BaseComponent");cc.Class({extends:n,properties:{},playComplete:function(){this.node.active=!1}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],PattiMsgCache:[function(e,t,i){"use strict";cc._RF.push(t,"186f1zGeExI7JapcDmWm/b6","PattiMsgCache");e("ITeenPattiConfig"),e("LocalStorage"),cc.Class({name:"PattiMsgCache",properties:{loginTime:null,bankaccount:null,bannedbuy:null,getchipstobank:null,rummymin:null,sportMode:null,taskList:null,invitecode:null,arrCmdHandler:{default:{}}},ctor:function(){this.arrCmdHandler.logined=handler(this,this.onUserLogined),this.arrCmdHandler.bankaccount=handler(this,this.onBankAccountGet),this.arrCmdHandler.bannedbuy=handler(this,this.onBannedBuyGet),this.arrCmdHandler.getchipstobank=handler(this,this.onGetChipsToBankGet),this.arrCmdHandler.modelimit=handler(this,this.onModeUnlockLevelGet),this.arrCmdHandler.notificationlist=handler(this,this.onNotificationListGet),this.arrCmdHandler.invitecode=handler(this,this.onInviteCodeGet),this.arrCmdHandler.rummymin=handler(this,this.onRummyMinGet),this.arrCmdHandler.sportaccess=handler(this,this.onSportAccessGet),this.arrCmdHandler.tasklist=handler(this,this.onTaskListGet)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onUserLogined:function(e,t){this.loginTime=(new Date).getTime(),this.bankaccount=null,this.bannedbuy=null,this.getchipstobank=null,this.rummymin=null,this.sportMode=null,this.taskList=null,this.invitecode=null},onUerLogout:function(){},onBankAccountGet:function(e,t){this.bankaccount=t},onBannedBuyGet:function(e,t){this.bannedbuy=t},onGetChipsToBankGet:function(e,t){this.getchipstobank=t},onModeUnlockLevelGet:function(e,t){},onNotificationListGet:function(e,t){},onInviteCodeGet:function(e,t){this.invitecode=t},onRummyMinGet:function(e,t){},onSportAccessGet:function(e,t){},onTaskListGet:function(e,t){this.taskList=t}});cc._RF.pop()},{ITeenPattiConfig:"ITeenPattiConfig",LocalStorage:"LocalStorage"}],PattiOnlineConfig:[function(e,t,i){"use strict";cc._RF.push(t,"7438878fjBJw7p+oUS9JC0P","PattiOnlineConfig");var n=e("ITeenPattiConfig"),a=e("LocalStorage"),o=e("Command"),s="PattiOnlineConfig";cc.Class({name:"PattiOnlineConfig",properties:{pattiHost:null,arrModeUnlockLevel:{default:{}},sportMode:null,arrCmdHandler:{default:{}},lobbyLayoutRetryTime:0,lobbyLayout:{default:[]},forceUpgrade:{default:{}}},ctor:function(){this.pattiHost=n.PATTI_HOST_DEFAULT,this.arrModeUnlockLevel={texas:3,rummy:5,casinowar:9,ab:12,pattiwar:15},this.arrCmdHandler.logined=handler(this,this.onUserLogined),this.arrCmdHandler.modelimit=handler(this,this.onModeUnlockLevelGet),this.arrCmdHandler.sportaccess=handler(this,this.onSportAccessGet),this.arrCmdHandler.versioncontrol=handler(this,this.onVersionControl),this.arrCmdHandler[o.SERVER_CMD_GOLD_VIPS]=handler(this,this.onGoldVIPs),this.loadHostCfgFromCache(),this.lobbyLayoutRetryTime=0,this.loadLobbyLayoutCfg()},loadLobbyLayoutCfg:function(){if(!(isInstantGame||this.lobbyLayoutRetryTime>=3)){var e=this;this.lobbyLayoutRetryTime++;var t="http://192.168.150.7/patti/lobby_layout/lobby_layout.json";n.PATTI_HOST_TEST||(t=cc.sys.os==cc.sys.OS_IOS?"https://www.teenpattiflush.com/patti/lobby_layout/ios/lobby_layout.json":(cc.sys.os,cc.sys.OS_ANDROID,"https://www.teenpattiflush.com/patti/lobby_layout/android/lobby_layout.json")),this.loadJSON(t,function(t){e.lobbyLayout=t,ITeenPatti.gameCore.isInLobby&&ITeenPatti.onMsgReceived("layout")}.bind(this),this.loadLobbyLayoutCfg.bind(this))}},loadForceUpgradeCfg:function(){if(!(cc.sys.os!=cc.sys.OS_ANDROID&&cc.sys.os!=cc.sys.OS_IOS||this.forceUpgradeRetryTime>=3)){var e=this;this.forceUpgradeRetryTime++;var t=cc.sys.os==cc.sys.OS_ANDROID?"Android":"iOS",i="http://192.168.150.7/patti/force_upgrade/"+t+"/force_upgrade.json";n.PATTI_HOST_TEST||(i="http://192.168.150.7/patti/force_upgrade/"+t+"/force_upgrade.json"),this.loadJSON(i,function(t){e.forceUpgrade=t,ITeenPatti.gameCore.isInLobby&&ITeenPatti.onMsgReceived("force_upgrade")}.bind(this),this.loadForceUpgradeCfg.bind(this),5e3)}},loadJSON:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;LogUtil.info(s,"Load JSON Config: "+e);var a=cc.loader.getXMLHttpRequest();a.responseType="json",a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status)try{var e=a.response;t(e)}catch(e){}else i()},a.ontimeout=function(){i()},a.onerror=function(){i()},a.open("GET",e+"?random="+1e8*Math.random(),!0),a.timeout=n,a.send()},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onUserLogined:function(e,t){this.sportMode=null,this.arrModeUnlockLevel={texas:3,rummy:5,casinowar:9,ab:12,pattiwar:15},ITeenPatti.sendMsg("getZoneMessage",{is:["modelimit","sportaccess","rummymin","tasklist","bannedbuy","getchipstobank","bankaccount","notificationlist","invitecode","versioncontrol"]}),ITeenPatti.sendMsg(o.SERVER_CMD_GOLD_VIPS)},onUerLogout:function(){},onModeUnlockLevelGet:function(e,t){for(var i in this.arrModeUnlockLevel={},t.limit)"nolimit"!=t.limit[i].mode&&(this.arrModeUnlockLevel[t.limit[i].mode]=t.limit[i].level)},onSportAccessGet:function(e,t){this.sportMode=t.i},onVersionControl:function(e,t){if((cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.OS_IOS)&&t.i){var i=JSON.parse(t.i);if(i&&i.platform&&(-1==i.platform.indexOf("iOS")&&cc.sys.os==cc.sys.OS_IOS||-1==i.platform.indexOf("Android")&&cc.sys.os==cc.sys.OS_ANDROID))return;this.forceUpgrade=i,ITeenPatti.gameCore.isInLobby&&ITeenPatti.onMsgReceived("force_upgrade")}},onGoldVIPs:function(e,t){this.goldVIPs=t.levels},getUnlockLevel:function(e){return this.arrModeUnlockLevel[e]?this.arrModeUnlockLevel[e]:0},getLastUnlockMode:function(e){var t=null;for(var i in this.arrModeUnlockLevel)this.arrModeUnlockLevel[i]>e||(t||(t=i),this.arrModeUnlockLevel[i]>this.arrModeUnlockLevel[t]&&(t=i));return t},loadHostCfg:function(e){var t=n.PATTI_HOST_URL;LogUtil.info(s,"Load Patti Host Config: "+t);var i=this,a=cc.loader.getXMLHttpRequest();a.onreadystatechange=function(){4==a.readyState&&(a.status>=200&&a.status<300?i.onHostCfgDownSucc(a.responseText,e):i.onHostCfgDownFail(e))},a.ontimeout=function(){i.onHostCfgDownFail(e)},a.onerror=function(){i.onHostCfgDownFail(e)},a.open("GET",t,!0),a.timeout=5e3;a.send()},loadHostCfgFromCache:function(e){LogUtil.debug(s,"Load Host Config From Cache!");var t=a.getLocalData(n.PATTI_HOST_CACHE);if("string"==typeof t&&t.length>0)try{var i=JSON.parse(t);this.pattiHost=this.randomHost(i.GS,i.default),this.pattiHost=this.pattiHost||n.PATTI_HOST_DEFAULT}catch(e){LogUtil.err("ITeenPatti","There is error parse Host config on Cache",e),this.pattiHost=n.PATTI_HOST_DEFAULT}e&&e(this.pattiHost[0],this.pattiHost[1],this.pattiHost[2])},onHostCfgDownFail:function(e){LogUtil.debug(s,"Host Config Download Fail"),this.loadHostCfgFromCache(e)},onHostCfgDownSucc:function(e,t){var i=null;if("string"==typeof e&&e.length>0){LogUtil.debug(s,"Host Config Download Succ");try{i=JSON.parse(e)}catch(t){LogUtil.err(s,"There is error parse Host config on Down",e)}}i&&i.GS&&i.default&&!(i.GS.length<1)?(this.pattiHost=this.randomHost(i.GS,i.default),this.pattiHost=this.pattiHost||n.PATTI_HOST_DEFAULT,a.saveLocalData(n.PATTI_HOST_CACHE,e),t&&t(this.pattiHost[0],this.pattiHost[1],this.pattiHost[2])):this.onHostCfgDownFail(t)},getSSLHostList:function(e){for(var t=[],i=0;i<e.length;i++)1==e[i][4]&&(t[t.length]=e[i]);return t},randomHost:function(e,t){for(var i=0,n=0;n<e.length;n++)i+=e[n][3];var a=parseInt(Math.random()*i,10);for(n=0;n<e.length;n++)if(a<=e[n][3])return e[n];return t}});cc._RF.pop()},{Command:"Command",ITeenPattiConfig:"ITeenPattiConfig",LocalStorage:"LocalStorage"}],PattiPartcleSide:[function(e,t,i){"use strict";cc._RF.push(t,"82b74jLk8lG96x4mT+p9DSf","PattiPartcleSide"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onEnable:function(){this.node.runAction(cc.repeatForever(cc.rotateBy(2,360)))},onDisable:function(){this.node.stopAllActions()}}),cc._RF.pop()},{}],PattiPlayerView:[function(e,t,i){"use strict";cc._RF.push(t,"9ece3NxME1INYo704ZJ/NRF","PattiPlayerView");e("CDTimeBar");var n=e("TeenPattiUser"),a=e("ButtonCursor"),o=(e("Command"),e("UIInfo")),s=e("DataAnalysisKey"),r=e("BaseComponent"),l="SeatPlayer";cc.Class({extends:r,properties:{longBackground:cc.Node,shortBackground:cc.Node,frame:cc.Node,lblName:cc.Label,imgIcon:cc.Sprite,objWinEffectContainer:[cc.Node],objWinEffects:[cc.Prefab],objSideEffect:cc.Node,playerId:0,tpUser:n,particles:[cc.ParticleSystem],particleTexturesCanvas:{type:cc.Texture2D,default:[]}},onLoad:function(){if(this._super(),null==this.tpUser&&(this.lblName.string=""),needDisableEffect)for(var e=0;e<this.particles.length;e++)this.particles[e]&&this.particleTexturesCanvas[e]&&(this.particles[e].texture=this.particleTexturesCanvas[e])},getDisplayName:function(){return this.lblName.string},hideWinEffect:function(){for(var e=0;e<this.objWinEffectContainer.length;e++)this.objWinEffectContainer[e].removeAllChildren()},hideSideEffect:function(){this.objSideEffect.active=!1;for(var e=this.getAllChildComponentByType(cc.MotionStreak,this.objSideEffect),t=0;t<e.length;t++)e[t]._motionStreak&&e[t].reset()},getScene:function(){return ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().isTournament?cc.director.getScene().getChildByName("Canvas").getComponent("GameSceneTour"):cc.director.getScene().getChildByName("Canvas").getComponent("GameScene")},onBtnPlayerClicked:function(){if(this.tpUser){var t=this.getScene();return ITeenPatti.removeListener("profile",t),ITeenPatti.addListener("profile",t,t.onUserProfileGet),void ITeenPatti.sendMsg("profile",{i:parseInt(this.tpUser.userId)})}if(!ITeenPatti.getCurRoom()||!ITeenPatti.getCurRoom().isTournament){var i=ITeenPatti.getCurPlayer();if(i&&i.role){t=cc.director.getScene().getChildByName("Canvas").getComponent("GameScene");if(i.role.isWatcher()){var n=ITeenPatti.getCurRoom();if(n instanceof e("NoLimitRoom")&&!this.gameCore.gameMng.hasEnoughChips2(32*n.profile.nBootAmount))return;if(!this.gameCore.gameMng.hasEnoughChips2(.25*n.profile.nCompareChaalLimit))return;ITeenPatti.sendMsg("sit",{i:this.playerId}),this.gameCore.dataAnalysisMng.sendData(s.CLICK_SIT,this.gameCore.dataAnalysisMng.gameBaseData)}else this.gameCore.dataAnalysisMng.sendData(s.OPEN_TOTABLE_TABLE),t.gameCore.gameMng.openFriendsUI(0)}}},onBtnGiftClicked:function(){ITeenPatti.getCurPlayer().role&&!ITeenPatti.getCurPlayer().role.isWatcher()&&cc.director.getScene().getChildByName("Canvas").getComponent("GameScene").gameCore.uiMng.openUI(o.GIFTS,handler(this,function(e){e&&e.setReceiverID(this.tpUser.userId)}))},onUserSitDown:function(e){this.tpUser=e,this.imgIcon.node.active=!0,this.frame?this.lblName.node.active=!0:this.lblName.node.active=!1,this.lblName.string=this.tpUser.strTPName,this.imgIcon.node.getComponent("FacebookIcon").initWithTeenPattiUser(this.tpUser)},onUserStandUp:function(){this.tpUser=null,this.imgIcon.node.active=!1,this.lblName.node.active=!1;var e=this.node.getComponent(a);e&&(e.ignoreColorChange=!1);var t=this.node.getComponent(cc.Animation);t.stop(),t.play("gs_anim_seat_player_ready"),this.hideWinEffect()},onUserActive:function(){this.node.getComponent(cc.Animation).stop("gs_anim_seat_player_ready"),this.hideSideEffect()},onUserSilent:function(){this.hideSideEffect()},onUserRefresh:function(){var e=this.node.getComponent(cc.Animation);e.stop("gs_anim_seat_player_ready"),e.stop("gs_anim_seat_player_pack"),e.stop("gs_anim_seat_player_side"),this.imgIcon.node.color=new cc.Color(255,255,255);var t=this.node.getChildByName("Label_Packed");t&&(t.active=!1)},onUserPack:function(){var e=this.node.getComponent(a);e&&(e.ignoreColorChange=!0);var t=this.node.getComponent(cc.Animation);t&&t.playAdditive("gs_anim_seat_player_pack")},onUserLose:function(){},onUserWin:function(){for(var e=["hou","qian"],t=0;t<this.objWinEffectContainer.length;t++){var i=cc.instantiate(this.objWinEffects[t]);this.objWinEffectContainer[t].addChild(i);var n=i.getComponent(sp.Skeleton);n&&(n.setAnimation(0,e[t],!0),0==t&&n.setCompleteListener(handler(this,this.hideWinEffect)))}},onUserSide:function(){this.objSideEffect.active=!0;var e=this.objSideEffect.getComponent(cc.Animation);e&&e.playAdditive("gs_anim_seat_player_side")},onUserSideFinish:function(){this.hideSideEffect()},onUserSideLose:function(){var e=this.node.getComponent(a);e&&(e.ignoreColorChange=!0);var t=this.node.getComponent(cc.Animation);t&&t.playAdditive("gs_anim_seat_player_pack")},onRoundReady:function(){var e=this.node.getComponent(a);e&&(e.ignoreColorChange=!1);var t=this.node.getComponent(cc.Animation);t&&t.playAdditive("gs_anim_seat_player_ready"),this.hideWinEffect()},onRoundOver:function(){},onAnimReadyFinish:function(){LogUtil.debug(l,"Anim Pack Finish !")},onAnimPackFinish:function(){LogUtil.debug(l,"Anim Pack Finish !")},onAnimLoseFinish:function(){},onAnimWinFinish:function(){},onAnimSideShowFinish:function(){},onAnimSideLoseFinish:function(){},onAnimSideWinFinish:function(){}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ButtonCursor:"ButtonCursor",CDTimeBar:"CDTimeBar",Command:"Command",DataAnalysisKey:"DataAnalysisKey",NoLimitRoom:"NoLimitRoom",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],PattiWarBanker:[function(e,t,i){"use strict";cc._RF.push(t,"6db48f09AZE3KWKShzKDNHZ","PattiWarBanker");var n=e("FacebookIcon"),a=e("Command"),o=e("LanguageData"),s=e("GameUtils"),r=e("ClampLabel"),l=e("UIInfo"),c=e("BaseComponent");cc.Class({extends:c,properties:{nameLabel:r,curPotLabel:cc.Label,icon:n,dealerSystem:cc.Node,dealerPlayer:cc.Node,beBankerBtn:cc.Node,beBankerLabel:cc.Label,cancelBankerBtn:cc.Node,nextBanker:cc.Node,nextBankerIcon:n,nextBankerLabel:cc.Label,potChipNode:cc.Node},onLoad:function(){this._super(),this.node.active=!1,cc.sys.isBrowser||(this.curPotLabel.node.y-=6)},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(a.SERVER_CMD_ROOM_UPDATE,this,this.onRoomUpdate),this.updateBanker(),this.updateCurrentPot()},onPattiWarJIS:function(e){this.updateBanker(),this.updateCurrentPot()},onHeadClk:function(e){var t=ITeenPatti.getCurTable();if(t)for(var i=t.getUserList(),n=0;n<i.length;n++)if(t.bankerId==i[n].strTPID){var a=cc.director.getScene().getChildByName("Canvas").getComponent("PattiWarScene");ITeenPatti.removeListener("profile",a),ITeenPatti.addListener("profile",a,a.onUserProfileGet),ITeenPatti.sendMsg("profile",{i:parseInt(i[n].userId)});break}},updateBeBankerBtn:function(){this.beBankerBtn.active=!1,this.beBankerLabel.node.active=!1,this.cancelBankerBtn.active=!1,this.nextBanker.active=!1,this.nextBankerLabel.node.active=!1;var e=ITeenPatti.getCurTable();if(e)if(0==e.prepBankerId)this.beBankerBtn.active=!0;else if(e.prepBankerId==this.gameCore.userMng.myself.strTPID)this.beBankerLabel.node.active=!0,this.cancelBankerBtn.active=!0,this.beBankerLabel.string=0==e.bankerId?o.t("label_text.wait_to_be_banker"):o.t("label_text.wait_for_leave");else{var t=e.getUserWithUserID(e.prepBankerId);t&&(this.nextBanker.active=!0,this.nextBankerIcon.initWithTeenPattiUser(t),this.nextBankerLabel.node.active=!0)}},onRoomUpdate:function(e){for(var t=0;t<e.changedVars.length;t++)"bi"==e.changedVars[t]||"bbi"==e.changedVars[t]?this.updateBanker():"po"==e.changedVars[t]&&this.updateCurrentPot()},updateCurrentPot:function(){var e=ITeenPatti.getCurRoom();e&&(this.curPotLabel.string=s.formatNumberWithRules(e.profile.currentPot))},updateBanker:function(){var e=ITeenPatti.getCurRoom();if(e){if(this.dealerPlayer.active=0!=e.profile.bankerUserId,this.dealerSystem.active=0==e.profile.bankerUserId,this.nameLabel.string="",this.updateBeBankerBtn(),0==e.profile.bankerUserId)this.nameLabel.string="Dealer";else{LogUtil.debug("PattiWarBanker","updateBanker:"+e.profile.bankerUserId);var t=ITeenPatti.getCurTable();if(t)for(var i=t.getUserList(),n=0;n<i.length;n++)if(e.profile.bankerUserId==i[n].strTPID){this.nameLabel.string=i[n].strTPName,this.icon.initWithTeenPattiUser(i[n]);break}}this.node.active=e.profile.bankerUserId!=this.gameCore.userMng.myself.strTPID}},updatePotLimit:function(e){e?this.curPotLabel.string=s.formatNumberWithRules(e):this.updateCurrentPot()},toBeBanker:function(e){this.gameCore.uiMng.openUI(l.PATTI_WAR_SET_POT)},cancelToBeBanker:function(e){ITeenPatti.sendMsg(a.SERVER_CMD_PATTI_WAR_CANCELBANKER,{i:2})}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClampLabel:"ClampLabel",Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],PattiWarBaseSeat:[function(e,t,i){"use strict";cc._RF.push(t,"20ab39Ei69B0KBaccpmjF6n","PattiWarBaseSeat");var n=e("GameUtils"),a=e("Command"),o=e("UIInfo"),s=e("LanguageData"),r=e("ClampLabel"),l=e("FacebookIcon"),c=e("GameBaseSeat");cc.Class({extends:c,properties:{index:0,playerState:cc.Node,sitState:cc.Node,sitStateIcon:cc.Node,btnSit:cc.Node,nameLabel:r,icon:l,balanceLabel:cc.Label,btnGift:cc.Button,objGiftSender:cc.Node,objGiftReceiver:cc.Node,tableController:{default:null,visible:!1}},initComplete:function(){this._super(),this.updateSeatState(),this.gameCore.uiMng.addListener(a.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),ITeenPatti.addListener(a.SERVER_CMD_USER_UPDATE,this,this.onUserUpdate),this.registerChipsPauseResumeListeners()},onResumeChipsRefresh:function(){this._super(),this.updateBalance()},onUserUpdate:function(e,t){if(this.tpUser&&t&&t.user.name==this.tpUser.strTPID&&t.changedVars)for(var i in t.changedVars)"cp"==t.changedVars[i]&&(this.isChipsRefreshPaused||this.updateBalance())},updateBalance:function(){this.tpUser&&(this.balanceLabel.string=n.formatNumberWithRules(this.tpUser.nChips))},updateSeatState:function(){var e=ITeenPatti.getCurTable(),t=null;e&&(t=e.getUserWithPlayerID(this.index)),this.tpUser=t;var i=this.gameCore.userMng.myself&&this.gameCore.userMng.myself.role&&-1!=this.gameCore.userMng.myself.role.playerId,n=e&&e.bankerId==this.gameCore.userMng.myself.strTPID;this.btnSit.active=!i&&!n,this.sitStateIcon.y=i||n?0:28,this.sitState.active=null==e||null==t,this.playerState.active=!this.sitState.active,this.playerState.active&&(this.icon.initWithTeenPattiUser(t),this.nameLabel.string=t.strTPName,this.updateBalance())},onUserSitDown:function(e){this.updateSeatState()},onUserStandUp:function(e){this._super(),this.updateSeatState()},onUserExitRoom:function(e){this.updateSeatState()},onHeadClk:function(e){if(this.tpUser){var t=cc.director.getScene().getChildByName("Canvas").getComponent("PattiWarScene");ITeenPatti.removeListener("profile",t),ITeenPatti.addListener("profile",t,t.onUserProfileGet),ITeenPatti.sendMsg("profile",{i:parseInt(this.tpUser.userId)})}},onGiftBtnClk:function(e){ITeenPatti.getCurPlayer().role&&!ITeenPatti.getCurPlayer().role.isWatcher()&&this.gameCore.uiMng.openUI(o.GIFTS,handler(this,function(e){e&&e.setReceiverID(this.tpUser.userId)}))},onBtnGiftClicked:function(){this.onGiftBtnClk()},getGiftSendPostion:function(e,t){return this.node.convertToWorldSpaceAR(this.objGiftSender.getPosition())},getGiftReceivePostion:function(e,t){return 12==t||15==t||23==t?this.node.convertToWorldSpaceAR(cc.v2(0,0)):19==t?this.node.convertToWorldSpaceAR(cc.v2(-45,-20)):20==t?this.node.convertToWorldSpaceAR(cc.v2(-1,7)):25==t||27==t?this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(15,20))):this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition())},updateGiftBtnActive:function(e){(!e||null!=this.tpUser&&null==this.objGift)&&(this.btnGift.node.active=e)},giftFinishCb:function(){this.objGift=null,this.updateGiftBtnActive(!(ITeenPatti.getCurPlayer().role.isWatcher()||this.tableController.isBanker))},onSitBtnClk:function(e){var t=ITeenPatti.getCurTable();t&&(this.gameCore.userMng.myself.nChips<t.sitdownMinChips?this.gameCore.gameMng.openChipsNotEnoughTwoItem(t.sitdownMinChips,null,s.t("label_text.sit_or_stand",{chips:n.formatNumberWithRules(t.sitdownMinChips)})):ITeenPatti.sendMsg("sit",{i:this.index}))}}),cc._RF.pop()},{ClampLabel:"ClampLabel",Command:"Command",FacebookIcon:"FacebookIcon",GameBaseSeat:"GameBaseSeat",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],PattiWarBetArea:[function(e,t,i){"use strict";cc._RF.push(t,"15352UlTYVBd4ziNl4gzSfM","PattiWarBetArea");var n=e("GameUtils"),a=e("Command"),o=e("LanguageData"),s=e("PattiWarCountdown"),r=e("PattiWarBaseSeat"),l=e("PattiWarMySeat"),c=e("PattiWarBanker"),h=e("BaseComponent");cc.Class({extends:h,properties:{betAmount:{default:0,visible:!1},canBet:{get:function(){return this._canBet},set:function(e){this._canBet=e,this.updateBetRemindStatus()},visible:!1},betChipsPrefab:cc.Prefab,chipsFlyContainer:cc.Node,betAreaList:[cc.Node],betAreaRemindList:[cc.Node],playerList:[cc.Node],seatList:[r],mySeat:l,betAmountLabel0:cc.Label,betAmountLabel1:cc.Label,betAmountLabel2:cc.Label,betAmountLabel3:cc.Label,banker:c,countdown:s},ctor:function(){this.betChipsCount=[0,0,0,0],this.myBetChipsCount=[0,0,0,0],this.myBetChipsAmount=[0,0,0,0]},initComplete:function(){this._super(),this.reset(),this.onRoomUpdate(),this.updateBetRemindStatus(),this.gameCore.uiMng.addListener(a.SERVER_CMD_ROOM_UPDATE,this,this.onRoomUpdate)},reset:function(){this.bankerWinFlied=!1,this.gameCore.gameMng.resumeChipsRefresh(),this.node.stopAllActions();var e=ITeenPatti.getCurTable();e&&(e.betAmount0=0,e.betAmount1=0,e.betAmount2=0,e.betAmount3=0,this.updatePotLimit(e.poolCurAmount)),this.betAmountLabel0.string=n.formatNumberWithRules(0),this.betAmountLabel1.string=n.formatNumberWithRules(0),this.betAmountLabel2.string=n.formatNumberWithRules(0),this.betAmountLabel3.string=n.formatNumberWithRules(0);for(var t=0;t<this.betAreaList.length;t++){this.betAreaList[t].stopAllActions();for(var i=0;i<this.betAreaList[t].children.length;i++)this.betAreaList[t].children[i].stopAllActions();this.betAreaList[t].removeAllChildren()}for(i=0;i<this.chipsFlyContainer.children.length;i++)this.chipsFlyContainer.children[i].stopAllActions();this.chipsFlyContainer.removeAllChildren(),this.isSettling=!1},onStartTime:function(){this.isSettling=!1,this.reset()},onStartPattiWar:function(e){for(var t in this.reset(),this.betChipsCount=[0,0,0,0],this.myBetChipsCount=[0,0,0,0],this.myBetChipsAmount=[0,0,0,0],e.chipsNum)for(var i=0;i<e.chipsNum[t];i++)this.onBet({site:t})},onRoomUpdate:function(){var e=ITeenPatti.getCurTable();e&&(this.betAmountLabel0.string=n.formatNumberWithRules(e.betAmount0),this.betAmountLabel1.string=n.formatNumberWithRules(e.betAmount1),this.betAmountLabel2.string=n.formatNumberWithRules(e.betAmount2),this.betAmountLabel3.string=n.formatNumberWithRules(e.betAmount3))},onBetClk:function(e,t){if(this.canBet){if(this.gameCore.userMng.myself.nChips<this.mySeat.curBet)return void this.gameCore.gameMng.openChipsNotEnoughTwoItem(this.mySeat.curBet,null,o.t("label_text.buy_to_bet"));var i=ITeenPatti.getCurTable();if(!i)return;if(i.poolCurAmount==this.tableController.totalBet)return;ITeenPatti.sendMsg(a.SERVER_CMD_PATTI_WAR_SITEBET,{site:parseInt(t),chips:this.mySeat.curBet})}},onBet:function(e){if(!this.isSettling){var t=ITeenPatti.getCurTable();if(t){var i=cc.instantiate(this.betChipsPrefab),n=e.site-1,a=this.betAreaList[n].parent.convertToWorldSpaceAR(cc.v2(this.betAreaList[n].x+140*Math.random()-70,this.betAreaList[n].y+110*Math.random()-55));if(this.chipsFlyContainer.addChild(i),void 0==e.userId||this.isBackground){if(!this.isSettling&&this.betChipsCount[n]<50){var o=this.betAreaList[n].convertToNodeSpaceAR(a);i.removeFromParent(!1),i.setPosition(o),this.betChipsCount[n]+=1,this.betAreaList[n].addChild(i)}}else{e.userId==this.gameCore.userMng.myself.strTPID&&(this.myBetChipsCount[n]+=1,this.myBetChipsAmount[n]+=e.chips);var s=t.getPlayerIdByUserId(e.userId),r=(-1==s?6:s)-1,l=e.userId==this.gameCore.userMng.myself.strTPID?this.mySeat.icon.node.parent.convertToWorldSpaceAR(cc.v2(this.mySeat.icon.node.x,this.mySeat.icon.node.y)):this.playerList[r].parent.convertToWorldSpaceAR(cc.v2(this.playerList[r].x,this.playerList[r].y));i.setPosition(l),i.runAction(cc.sequence(cc.moveTo(.3,a),cc.callFunc(function(e,t){var i=this.betAreaList[t].convertToNodeSpaceAR(e.getPosition());e.removeFromParent(!1),e.setPosition(i),!this.isSettling&&this.betChipsCount[t]<50&&(this.betChipsCount[t]+=1,this.betAreaList[t].addChild(e))},this,n)))}}}},updatePotLimit:function(e){this.mySeat.isBanker?this.mySeat.updatePotLimit(e):this.banker.updatePotLimit(e)},flyBankerWin:function(e,t,i){this.bankerWinFlied=!0,this.gameCore.gameMng.playAudioEffect("bonus");for(var n=0;n<10;n++){var a=cc.instantiate(this.betChipsPrefab);a.setPosition(e),this.chipsFlyContainer.addChild(a),this.gameCore.gameMng.resumeChipsRefresh();var o=ITeenPatti.getCurTable();o&&this.updatePotLimit(o.poolCurAmount),a.runAction(cc.sequence(cc.delayTime(.07*n),cc.moveTo(.3,t),cc.fadeOut(.2),cc.callFunc(function(e,t){e.removeFromParent(),t&&this.mySeat.isBanker&&this.mySeat.addBankerWin(i)},this,9==n)))}},curRoundBankerWin:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=ITeenPatti.getCurTable();if(i){for(var n=t?i.poolCurAmount:0,a=0;a<4;a++)e[a+1].win?n-=i["betAmount"+a]:n+=i["betAmount"+a];return n}return 0},updateBetRemindStatus:function(){for(var e=0;e<this.betAreaRemindList.length;e++)this.betAreaRemindList[e].active=this.canBet},onUserCard:function(e){this.canBet=!1;for(var t=0,i=this.mySeat.isBanker?this.mySeat.icon.node.parent.convertToWorldSpaceAR(cc.v2(this.mySeat.icon.node.x,this.mySeat.icon.node.y)):this.banker.icon.node.parent.convertToWorldSpaceAR(cc.v2(this.banker.icon.node.x,this.banker.icon.node.y)),n=this.mySeat.isBanker?this.mySeat.potChipNode.parent.convertToWorldSpaceAR(cc.v2(this.mySeat.potChipNode.x,this.mySeat.potChipNode.y)):this.banker.potChipNode.parent.convertToWorldSpaceAR(cc.v2(this.banker.potChipNode.x,this.banker.potChipNode.y)),a=!1,o=!1,s=0;s<4;s++)e.cards[s+1].win?this.betAreaList[s].children.length>0&&(a=!0):this.betAreaList[s].children.length>0&&(o=!0);this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){this.isSettling=!0,this.countdown.gameSettling();for(var s=0;s<4;s++)if(!e.cards[s+1].win){var r=this.betAreaList[s].children.concat();r.length>t&&(t=r.length),r.length>0&&this.gameCore.gameMng.playAudioEffect("bonus");for(var l=r.length-1;l>=0;l--){var c=r[l].parent.convertToWorldSpaceAR(cc.v2(r[l].x,r[l].y));r[l].removeFromParent(),r[l].setPosition(c),this.chipsFlyContainer.addChild(r[l]),r[l].runAction(cc.sequence(cc.delayTime(1/(r.length-1)*l),cc.moveTo(1,n),cc.fadeOut(.2),cc.callFunc(function(e){e.removeFromParent()})))}}this.node.runAction(cc.sequence(cc.delayTime(2.2),cc.callFunc(function(){if(o){var t=ITeenPatti.getCurTable();if(t){for(var s=t.poolCurAmount,r=0;r<4;r++)e.cards[r+1].win||(s+=t["betAmount"+r]);this.updatePotLimit(s)}}!a&&o&&this.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){this.flyBankerWin(n,i,this.curRoundBankerWin(e.cards,!1))},this)))},this)))},this))),a&&(this.node.runAction(cc.sequence(cc.delayTime(2.5+(o?5.5:3.3)),cc.callFunc(function(){this.updatePotLimit(this.curRoundBankerWin(e.cards));for(var t=0;t<4;t++)if(e.cards[t+1].win){var i=this.betAreaList[t].children.length;i>0&&this.gameCore.gameMng.playAudioEffect("bonus");for(var a=0;a<i;a++){var o=this.betAreaList[t].parent.convertToWorldSpaceAR(cc.v2(this.betAreaList[t].x+140*Math.random()-70,this.betAreaList[t].y+110*Math.random()-55)),s=cc.instantiate(this.betChipsPrefab);this.chipsFlyContainer.addChild(s),s.setPosition(n),s.runAction(cc.sequence(cc.moveTo(1,o),cc.callFunc(function(e,t){var i=this.betAreaList[t].convertToNodeSpaceAR(e.getPosition());e.removeFromParent(!1),e.setPosition(i),this.betAreaList[t].addChild(e)},this,t)))}}}.bind(this)))),this.node.runAction(cc.sequence(cc.delayTime(2.5+(o?7:4.8)),cc.callFunc(function(){for(var t=0;t<4;t++)if(e.cards[t+1].win){for(var a=[],o=table.createToArray(e.cards[t+1].count),s=ITeenPatti.getCurTable(),r=s?s.getPlayerIdByUserId(this.mySeat.tpUser.strTPID):-1,l=0;l<o.length;l++)if(o[l].chips>0)if(-1==o[l].userId&&this.myBetChipsAmount[t]<o[l].chips)a.push(this.playerList[this.playerList.length-1]);else for(var c=0;c<this.seatList.length;c++)if(this.seatList[c].tpUser&&this.seatList[c].tpUser.strTPID==o[l].userId){a.unshift(this.seatList[c].node);break}if(this.myBetChipsCount[t]>0&&-1==r&&a.unshift(this.mySeat.node),a.length>0){var h=this.betAreaList[t].children.concat();h.length>0&&this.gameCore.gameMng.playAudioEffect("bonus");for(var u=h.length-1;u>=0;u--){var d=u%a.length,m=a[d].parent.convertToWorldSpaceAR(cc.v2(a[d].x,a[d].y));a[d]==this.mySeat.node&&(m=m.add(cc.v2(-503,47)));var g=this.betAreaList[t].convertToWorldSpaceAR(cc.v2(h[u].x,h[u].y));h[u].removeFromParent(!1),h[u].setPosition(g),this.chipsFlyContainer.addChild(h[u]),h[u].runAction(cc.sequence(cc.delayTime(1/(h.length/a.length)*Math.floor((a.length-1-u)/a.length)),cc.moveTo(1,m),cc.fadeOut(.2),cc.callFunc(function(t,a){t.removeFromParent(),a&&(this.curRoundBankerWin(e.cards,!1)>0&&!this.bankerWinFlied?this.flyBankerWin(n,i,this.curRoundBankerWin(e.cards,!1)):this.gameCore.gameMng.resumeChipsRefresh())},this,0==u)))}}}}.bind(this)))))}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",PattiWarBanker:"PattiWarBanker",PattiWarBaseSeat:"PattiWarBaseSeat",PattiWarCountdown:"PattiWarCountdown",PattiWarMySeat:"PattiWarMySeat"}],PattiWarCardBar:[function(e,t,i){"use strict";cc._RF.push(t,"d2cd1tTFfJOd7gNESfCLCPb","PattiWarCardBar");var n=e("CardFrameCache"),a=e("BaseComponent");cc.Class({extends:a,properties:{index:0,cards:[cc.Sprite],cardFrameCache:n,winTag:cc.Node,loseTag:cc.Node,tableController:{default:null,visible:!1},orignalPos:{default:[],visible:!1},winTagActive:{get:function(){return this._winTagActive},set:function(e){this._winTagActive=e,this.winTag&&(this.winTag.active=this._winTagActive)},visible:!1},loseTagActive:{get:function(){return this._loseTagActive},set:function(e){this._loseTagActive=e,this.loseTag&&(this.loseTag.active=this._loseTagActive)},visible:!1}},onLoad:function(){this._super(),this.winTagActive=!1,this.loseTagActive=!1},initComplete:function(){this._super(),this.reset()},reset:function(){this.node.stopAllActions(),this.winTagActive=!1,this.loseTagActive=!1,this.orignalPos=[cc.v2(0,0),cc.v2(57.5,0),cc.v2(115,0)],5==this.index&&(this.orignalPos=[cc.v2(-65,0),cc.v2(57.5,0),cc.v2(180,0)]);for(var e=0;e<this.cards.length;e++)this.cards[e].node.stopAllActions(),this.cards[e].node.active=!1,this.cards[e].node.scaleX=1,this.cards[e].node.scaleY=1,this.cards[e].node.rotation=0,this.cards[e].node.skewX=0,this.cards[e].node.skewY=0,this.cards[e].node.setPosition(this.orignalPos[e]),this.cards[e].spriteFrame=this.cardFrameCache.getCardBackFrame();this.resultCards=null},stopAllActions:function(){},dealCardComplete:function(e){this.cards[e].node.stopAllActions(),this.cards[e].node.active=!0,this.cards[e].node.scale=1,this.cards[e].node.setPosition(this.orignalPos[e]),this.cards[e].node.rotation=0,this.cards[e].node.skewX=0,this.cards[e].node.skewY=0},dealCard:function(e){this.cards[e].node.stopAllActions(),this.dealCardBegin(e)},dealCardBegin:function(e){var t=ITeenPatti.getCurTable(),i=[cc.v2(280,581),cc.v2(-119,581),cc.v2(-518,581),cc.v2(-917,581),cc.v2(-363,-201),cc.v2(-324,836)];t&&t.bankerId==this.gameCore.userMng.myself.strTPID&&(i=[cc.v2(280,-580),cc.v2(-119,-580),cc.v2(-518,-580),cc.v2(-917,-580),cc.v2(-363,-580),cc.v2(-230,250)]),this.cards[e].node.active=!0,this.cards[e].node.scaleX=.5,this.cards[e].node.scaleY=.45,this.cards[e].node.rotation=17,this.cards[e].node.skewX=20,this.cards[e].node.skewY=3,this.cards[e].node.setPosition(i[this.index]),this.gameCore.gameMng.playAudioEffect("deal"),this.cards[e].node.runAction(cc.spawn(cc.scaleTo(.3,1),cc.moveTo(.3,this.orignalPos[e]),cc.rotateBy(.3,4==this.index?-377:343),cc.skewTo(.3,0,0)))},onUserCard:function(e,t){if(this.tableController.isDealing&&e)this.resultCards=e;else{var i=e||this.resultCards;if(i)for(var n=0;n<this.cards.length;n++)null!=i.cards[n+1]&&(this.cards[n].node.setPosition(this.orignalPos[n]),this.cards[n].node.scaleX=1,this.cards[n].node.scaleX=1,this.cards[n].node.scaleY=1,this.cards[n].node.rotation=0,this.cards[n].node.skewX=0,this.cards[n].node.skewY=0,this.cards[n].node.runAction(cc.sequence(cc.delayTime(t),cc.scaleTo(.25,0,1),cc.callFunc(function(e,t){0==t&&this.gameCore.gameMng.playAudioEffect("see"),this.cards[t].spriteFrame=this.cardFrameCache.getCardFrameWithID(i.cards[t+1]),3==this.index&&2==t&&this.tableController.allCardsShowed()},this,n),cc.scaleTo(.25,1,1),cc.callFunc(function(){this.winTagActive=this.tableController.isBanker?!i.win:i.win,this.loseTagActive=!this.winTagActive},this))))}}}),cc._RF.pop()},{BaseComponent:"BaseComponent",CardFrameCache:"CardFrameCache"}],PattiWarCountdown:[function(e,t,i){"use strict";cc._RF.push(t,"5abe1XOdthG7pu+y90BNrT3","PattiWarCountdown");e("LanguageData");var n=e("BaseComponent");cc.Class({extends:n,properties:{countdownLabel:cc.Label,progress:cc.ProgressBar,progressBar:cc.Node,totalTime:-1,leftTime:0,betNowWords:cc.Node,gameStartsWords:cc.Node,gameSettlingWords:cc.Node,showdownWords:cc.Node},initComplete:function(){this._super(),this.hideAll(),this.progress.progress=0,this.countdownLabel.string="",this.progressBar.color=new cc.Color(0,255,0)},update:function(e){if(-1!=this.totalTime){var t=Math.max(0,Math.ceil((this.leftTime-(new Date).getTime())/1e3));this.countdownLabel.string=t,this.progress.progress=(this.totalTime-this.leftTime+(new Date).getTime())/this.totalTime}},startCountdown:function(e,t){this.leftTime=(t||(new Date).getTime())+1e3*e},onStartTime:function(e){this.totalTime=3e3,this.startCountdown(e.i),this.hideAll(),this.node.active=!0,this.gameStartsWords.active=!0},onStartPattiWar:function(e){this.totalTime=15e3,this.hideAll(),this.node.active=!0,this.betNowWords.active=!0,this.startCountdown(e.downTime,e.startTime)},showdown:function(){this.hideAll(),this.showdownWords.active=!0},gameSettling:function(){this.hideAll(),this.gameSettlingWords.active=!0},hideAll:function(){this.node.active=!1,this.betNowWords.active=!1,this.gameStartsWords.active=!1,this.gameSettlingWords.active=!1,this.showdownWords.active=!1}}),cc._RF.pop()},{BaseComponent:"BaseComponent",LanguageData:"LanguageData"}],PattiWarGuide:[function(e,t,i){"use strict";cc._RF.push(t,"6a840Q3ZSNH95pUZYq13WEG","PattiWarGuide");var n=e("BaseComponent"),a=e("LocalStorage");cc.Class({extends:n,properties:{guides:[cc.Node]},onLoad:function(){this._super(),this.guideTimes=a.getLocalData("patti_war_guide"),this.guideTimes=parseInt(void 0==this.guideTimes?0:this.guideTimes)},initComplete:function(){this._super(),this.node.active=this.guideTimes<1,this.reset(),this.gameCore.uiMng.addListener("show_novice_guide",this,this.onShowGuide)},reset:function(){for(var e=0;e<this.guides.length;e++)this.guides[e].active=!1;this.guides[0].active=!0},onShowGuide:function(){var e=ITeenPatti.getCurTable();e&&e.bankerId!=this.gameCore.userMng.myself.strTPID&&(this.node.active=!0,this.reset())},onGuideClk:function(e,t){t<this.guides.length-1?(e.currentTarget.active=!1,this.guides[parseInt(t)+1].active=!0):(a.saveLocalData("patti_war_guide",++this.guideTimes),this.node.active=!1)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",LocalStorage:"LocalStorage"}],PattiWarHelp:[function(e,t,i){"use strict";cc._RF.push(t,"86be3NRUklFnbhl5H5eTVnT","PattiWarHelp");var n=e("BaseEdgePopup");e("LanguageData");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},initComplete:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",LanguageData:"LanguageData"}],PattiWarJackpotReward:[function(e,t,i){"use strict";cc._RF.push(t,"d424dq8lztAzZNEt/xGAudj","PattiWarJackpotReward");var n=e("BaseComponent"),a=e("GameUtils"),o=e("ScrollUpBoldLabel"),s=e("LanguageData");e("Command");cc.Class({extends:n,properties:{jackpotSpine:sp.Skeleton,jackpotLabel:o,descLabel:cc.Label},onLoad:function(){this._super(),cc.sys.isBrowser},initComplete:function(){this._super(),this.node.active=!1,this.jackpotLabel.node.active=!1,this.jackpotLabel.boundary=1e10,this.jackpotLabel.withSymbol=!1,this.descLabel.node.active=!1,this.descLabel.string=""},onBlackBgTouchEnd:function(e){e.stopPropagation()},onDivideJackpot:function(e){this.node.active=!0,this.gameCore.gameMng.playAudioEffect("jackpot"),this.jackpotSpine.setAnimation(0,"animation",!1),this.jackpotSpine.addAnimation(0,"animation2",!0),this.jackpotSpine.setCompleteListener(function(){this.jackpotLabel.node.active=!0,this.descLabel.node.active=!0,this.jackpotSpine.setCompleteListener(null),this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){this.node.active=!1,this.jackpotLabel.node.active=!1,this.descLabel.node.active=!1,this.jackpotLabel.string="",this.descLabel.string=""},this)));var t=e.chips,i=table.createToArray(e.count),n=0;if(0==i.length)n=t;else for(var o=0;o<i.length;o++)n+=i[o].chips;this.jackpotLabel.endNumber=n,t>0&&i.length>0?this.descLabel.string=s.t("label_text.player_carve",{count:i.length,name:this.getPlayerName(i)+"...",chips:a.formatNumberWithRules(n)})+"\n"+s.t("label_text.win_from_jackpot",{chips:a.formatNumberWithRules(t)}):0==t&&i.length>0?this.descLabel.string=s.t("label_text.player_carve",{count:i.length,name:this.getPlayerName(i)+"...",chips:a.formatNumberWithRules(n)}):t>0&&0==i.length?this.descLabel.string=s.t("label_text.banker_win",{name:this.getBankerName(),chips:a.formatNumberWithRules(t)}):t>0&&1==i.length&&(this.descLabel.string=s.t("label_text.win_from_jackpot",{chips:a.formatNumberWithRules(t)}))}.bind(this))},getPlayerName:function(e){var t=ITeenPatti.getCurTable();if(t)for(var i=0;i<e.length;i++){var n=t.getUserWithUserID(e[i].userId);if(n)return n.strTPName}return""},getBankerName:function(){var e="",t=ITeenPatti.getCurTable();if(t)if(0==t.bankerId)e=s.t("label_text.dealer");else{var i=t.getUserWithUserID(t.bankerId);i&&(e=i.strTPName)}return e}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",ScrollUpBoldLabel:"ScrollUpBoldLabel"}],PattiWarJackpot:[function(e,t,i){"use strict";cc._RF.push(t,"f4380EIFTBHLrRmF6U1JUH5","PattiWarJackpot");var n=e("BaseComponent"),a=(e("GameUtils"),e("ScrollUpBoldLabel"));e("Command");cc.Class({extends:n,properties:{jackpotLabel:a},onLoad:function(){this._super()},initComplete:function(){this._super(),this.jackpotLabel.boundary=1e8,this.updateJackpotLabel()},updateJackpotLabel:function(){var e=ITeenPatti.getCurTable();e&&(this.jackpotLabel.endNumber=e.jackpotAmount)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",GameUtils:"GameUtils",ScrollUpBoldLabel:"ScrollUpBoldLabel"}],PattiWarMySeat:[function(e,t,i){"use strict";cc._RF.push(t,"d9dfbdj9mRDYZB/lB2aBrUO","PattiWarMySeat");var n=e("GameUtils"),a=e("Command"),o=e("UIInfo"),s=e("ClampLabel"),r=e("FacebookIcon"),l=e("PattiWarBaseSeat");cc.Class({extends:l,properties:{playerState:{default:null,override:!0,visible:!1},sitState:{default:null,override:!0,visible:!1},sitStateIcon:{default:null,override:!0,visible:!1},btnSit:{default:null,override:!0,visible:!1},btnGift:{default:null,override:!0,visible:!1},objGift:{default:null,override:!0,visible:!1},objGiftSender:{default:null,override:!0,visible:!1},objGiftReceiver:{default:null,override:!0,visible:!1},betLabels:[cc.Label],toggles:[cc.Toggle],betList:{default:[],visible:!1},bankerState:cc.Node,betState:cc.Node,curPotLabel:cc.Label,btnCancelBanker:cc.Button,potChipNode:cc.Node,nameLabel2:s,icon2:r,myWon:cc.Node,myWonLabel:cc.Label,isBanker:{get:function(){return this._isBanker},set:function(e){this._isBanker=e,this.bankerState.active=e,this.betState.active=!e,this.nameLabel.maxWidth=e?95:185,this.nameLabel.string=this.gameCore.userMng.myself.strTPName+" ",this.nameLabel.string=this.gameCore.userMng.myself.strTPName,this.btnCancelBanker.interactable=!0,this._isBanker||this.updateBalance()}}},onLoad:function(){this._super(),cc.sys.isBrowser||(this.curPotLabel.node.y-=6)},initComplete:function(){this.tpUser=this.gameCore.userMng.myself,this.updateCurPot(),this.myWon.active=!1;var e=ITeenPatti.getCurTable();this.myBootBet=e?e.myBootBet:0,this.myBetRate=e?e.myBetRate:0,this.curBet=this.myBootBet;for(var t=0,i=0;i<this.betLabels.length;i++){var o=this.myBootBet*Math.pow(this.myBetRate,i);this.tpUser.nChips/100>=o&&(this.curBet=o,t=i),this.betLabels[i].string=n.formatNumberWithRules(o)}this.toggles[t].check(),this._super(),this.isBanker=!1,this.setBetUnavailable(),this.gameCore.uiMng.addListener(a.SERVER_CMD_ROOM_UPDATE,this,this.onRoomUpdate),this.gameCore.uiMng.addListener(a.SERVER_CMD_PATTI_WAR_CANCELBANKER,this,this.onCancelBanker),ITeenPatti.addListener(a.SERVER_CMD_BANK_TO_CHIPS,this,this.onBankToChipsComplete)},reset:function(){this.node.stopAllActions(),this.myWon.stopAllActions(),this.myWon.active=!1},onStartTime:function(){this.reset()},onStartPattiWar:function(){this.reset(),this.updateBalance(),this.canBet=!0,this.roundStartBalance=this.gameCore.userMng.myself.nChips},onUserCard:function(e){this.canBet=!1,this.setBetUnavailable()},setBetUnavailable:function(){for(var e=0;e<this.toggles.length;e++)this.toggles[e].uncheck(),this.toggles[e].enabled=!1,this.toggles[e].checkMark.node.active=!1,this.toggles[e].node.scale=.95,this.toggles[e].node.color=new cc.Color(180,180,180),this.betLabels[e].node.color=new cc.Color(180,180,180)},onRoomUpdate:function(e){for(var t=0;t<e.changedVars.length;t++)"po"==e.changedVars[t]&&this.updateCurPot()},onBankToChipsComplete:function(e,t){t.errorcode||null!=this.roundStartBalance&&(this.roundStartBalance+=t.chips)},pauseChipsRefresh:function(){ITeenPatti.addListener(a.SERVER_CMD_BANK_TO_CHIPS,this,this.onBankToChipsComplete)},onResumeChipsRefresh:function(){this.isBanker||(null!=this.roundStartBalance&&this.roundStartBalance<this.gameCore.userMng.myself.nChips&&(ITeenPatti.removeListener(a.SERVER_CMD_BANK_TO_CHIPS,this,this.onBankToChipsComplete),this.showWonAlert(this.gameCore.userMng.myself.nChips-this.roundStartBalance),this.roundStartBalance=null),this.updateBalance()),this.isChipsRefreshPaused=!1},onCancelBanker:function(e){this.btnCancelBanker.interactable=!e.i},updateCurPot:function(){var e=ITeenPatti.getCurTable();e&&(this.curPotLabel.string=n.formatNumberWithRules(e.poolCurAmount))},showWonAlert:function(e){this.myWon.active=!0,this.myWonLabel.string=n.formatNumberWithRules(e,1e7),this.myWon.scale=0,this.myWon.runAction(cc.scaleTo(.3,1.3).easing(cc.easeBounceOut())),this.node.runAction(cc.sequence(cc.delayTime(2.5),cc.callFunc(function(){this.myWon.active=!1},this)))},addBankerWin:function(e){this.balanceLabel.string=n.formatNumberWithRules(this.curBalanceValue+e),this.showWonAlert(e)},updateBalance:function(){this.curBalanceValue=this.gameCore.userMng.myself.nChips,this.balanceLabel.string=n.formatNumberWithRules(this.gameCore.userMng.myself.nChips),this.updateToggleInteractable()},updateToggleInteractable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.canBet){for(var t=null!=e?Math.min(e,this.gameCore.userMng.myself.nChips):this.gameCore.userMng.myself.nChips,i=0;i<this.toggles.length;i++)this.toggles[i].node.scale=1,this.toggles[i].enabled=!0,this.toggles[i].node.color=new cc.Color(255,255,255),this.toggles[i].interactable=t>=this.myBootBet*Math.pow(this.myBetRate,i),this.betLabels[i].node.color=new cc.Color(255,255,255);if(t<this.curBet){for(i=this.toggles.length-1;i>=0;i--)if(this.toggles[i].uncheck(),this.myBootBet*Math.pow(this.myBetRate,i)<Math.min(this.curBet,t))return this.toggles[i].check(),this.toggles[i].checkMark.node.active=!0,void(this.curBet=this.myBootBet*Math.pow(this.myBetRate,i));this.toggles[0].checkMark.node.active=!0,this.toggles[0].check(),this.curBet=this.myBootBet}else{for(var n=0;Math.pow(this.myBetRate,n)!=this.curBet/this.myBootBet&&4!=n;)n++;this.toggles[n].checkMark.node.active=!0,this.toggles[n].check()}}},updateSeatState:function(){this.icon.initWithTeenPattiUser(this.gameCore.userMng.myself),this.icon2.initWithTeenPattiUser(this.gameCore.userMng.myself),this.nameLabel.string=this.gameCore.userMng.myself.strTPName,this.nameLabel2.string=this.gameCore.userMng.myself.strTPName,this.updateBalance()},updatePotLimit:function(e){e?this.curPotLabel.string=n.formatNumberWithRules(e):this.updateCurPot()},onUserSitDown:function(e){},onUserStandUp:function(e){},onCancelBankerClk:function(e){ITeenPatti.sendMsg(a.SERVER_CMD_PATTI_WAR_CANCELBANKER,{i:1})},onSetPotClk:function(e){this.gameCore.uiMng.openUI(o.PATTI_WAR_SET_POT)},onBetSelect:function(e,t){this.toggles[t].isChecked&&this.toggles[t].interactable&&(this.gameCore.gameMng.playAudioEffect("addbet"),this.curBet=this.myBootBet*Math.pow(this.myBetRate,t))}}),cc._RF.pop()},{ClampLabel:"ClampLabel",Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",PattiWarBaseSeat:"PattiWarBaseSeat",UIInfo:"UIInfo"}],PattiWarNewBankerRemind:[function(e,t,i){"use strict";cc._RF.push(t,"0aa6fMpAAZF76l7xOqb/RYi","PattiWarNewBankerRemind");var n=e("BaseComponent"),a=e("GameUtils"),o=e("ClampLabel"),s=e("LanguageData"),r=e("FacebookIcon");cc.Class({extends:n,properties:{nameLabel:o,curPotLabel:cc.Label,icon:r,dealerSystem:cc.Node,dealerPlayer:cc.Node,descLabel:cc.Label},onLoad:function(){this._super(),this.node.active=!1,cc.sys.isBrowser||(this.curPotLabel.node.y-=6)},initComplete:function(){this._super()},show:function(){var e=ITeenPatti.getCurTable();if(e)if(this.node.active=!0,this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(this.hide,this))),this.curPotLabel.string=a.formatNumberWithRules(e.poolCurAmount),this.descLabel.string=s.t("label_text.new_banker_ready",{chips:a.formatNumberWithRules(e.poolCurAmount)}),this.dealerPlayer.active=0!=e.bankerId,this.dealerSystem.active=0==e.bankerId,this.nameLabel.string="",0==e.bankerId)this.nameLabel.string="Dealer";else for(var t=e.getUserList(),i=0;i<t.length;i++)if(e.bankerId==t[i].strTPID){this.nameLabel.string=t[i].strTPName,this.icon.initWithTeenPattiUser(t[i]);break}},hide:function(){this.node.stopAllActions(),this.node.active=!1}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClampLabel:"ClampLabel",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData"}],PattiWarRoomProfile:[function(e,t,i){"use strict";cc._RF.push(t,"e9630HV3rFAfbiSPOqOZA67","PattiWarRoomProfile");var n=e("RoomProfile");cc.Class({name:"PattiWarRoomProfile",extends:n,properties:{bankerUserId:0,beBankerUserId:0,currentPot:0},updateVariables:function(e){e.room.variables.bi&&(this.bankerUserId=e.room.variables.bi.value),e.room.variables.bbi&&(this.beBankerUserId=e.room.variables.bbi.value),e.room.variables.po&&(this.currentPot=e.room.variables.po.value)},onRoomJoin:function(e,t){this._super(e,t),this.updateVariables(t)},onRoomUpdate:function(e,t){this._super(e,t),this.updateVariables(t)}}),cc._RF.pop()},{RoomProfile:"RoomProfile"}],PattiWarRoom:[function(e,t,i){"use strict";cc._RF.push(t,"bfe29tgI7dJlbsH97IHMjFw","PattiWarRoom");e("Command");var n=e("PattiWarTable"),a=e("PattiWarRoomProfile"),o=e("BaseRoom"),s=e("UIInfo");cc.Class({name:"PattiWarRoom",extends:o,properties:{},ctor:function(){this.profile=new a,this.table=new n,this.roomType=ROOM_TYPE.PATTI_WAR,this.tableRulesUIInfo=s.PATTI_WAR_HELP}}),cc._RF.pop()},{BaseRoom:"BaseRoom",Command:"Command",PattiWarRoomProfile:"PattiWarRoomProfile",PattiWarTable:"PattiWarTable",UIInfo:"UIInfo"}],PattiWarSceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"bd827w99WVGTLjeWsClyYXH","PattiWarSceneAudio");var n=e("BaseSceneAudio");cc.Class({extends:n,properties:{bet:{type:cc.AudioClip,default:null},addbet:{type:cc.AudioClip,default:null},countdown:{type:cc.AudioClip,default:null},deal:{type:cc.AudioClip,default:null},win:{type:cc.AudioClip,default:null},levelup:{type:cc.AudioClip,default:null},bonus:{type:cc.AudioClip,default:null},jackpot:{type:cc.AudioClip,default:null},see:{type:cc.AudioClip,default:null}},onLoad:function(){}}),cc._RF.pop()},{BaseSceneAudio:"BaseSceneAudio"}],PattiWarScenePopup:[function(e,t,i){"use strict";cc._RF.push(t,"05c1d++DxJPn6ZYIyDWmf9X","PattiWarScenePopup"),cc.Class({extends:cc.Component,properties:{prefabs:[cc.Prefab]}}),cc._RF.pop()},{}],PattiWarScene:[function(e,t,i){"use strict";cc._RF.push(t,"84dd5Ci2CRO4ZJA7qD9M9U6","PattiWarScene");var n=e("PattiWarTableController"),a=e("PattiWarCountdown"),o=(e("PattiWarGuide"),e("DataAnalysisKey")),s=e("UIInfo"),r=e("Command"),l=e("GameData"),c=e("BaseGameScene");cc.Class({extends:c,properties:{connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,countdown:a,tableController:n},initPreloadData:function(){this.preloadPrefabs=this.preloadPrefabs.concat(l.PATTIWAR_SCENE_PRELOAD_POPUP()),this._super()},onBackBtnClk:function(e){ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(this.gameCore.uiMng.isPopUpByUIKey(s.BACK_MENU_PATTI_WAR.name)||this.gameCore.uiMng.openUI(s.BACK_MENU_PATTI_WAR))},onBackButtonClk:function(){this.gameCore.uiMng.isPopUpByUIKey(s.BACK_MENU_PATTI_WAR.name)||this.gameCore.uiMng.openUI(s.BACK_MENU_PATTI_WAR)},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(r.SERVER_CMD_START_TIME,this,this.onStartTime),this.gameCore.uiMng.addListener(r.SERVER_CMD_START_PATTI_WAR,this,this.onStartPattiWar),this.gameCore.uiMng.addListener(r.SERVER_CMD_PATTI_WAR_USERCARDS,this,this.onUserCard),this.gameCore.uiMng.addListener(r.SERVER_CMD_PATTI_WAR_JIS,this,this.onPattiWarJIS),ITeenPatti.addListener("ConnectionResume",this,this.onConnectResume)},onConnectResume:function(e,t){ITeenPatti.sendMsg(r.SERVER_CMD_PATTI_WAR_JIS)},onStartTime:function(e){this.countdown.onStartTime(e),this.tableController.onStartTime(e),this.updateGameIdValue()},onStartPattiWar:function(e){this.countdown.onStartPattiWar(e),this.tableController.onStartPattiWar(e),this.updateGameIdValue()},onPattiWarJIS:function(e){e.startTime=(new Date).getTime(),this.countdown.onStartPattiWar(e),this.tableController.onPattiWarJIS(e),this.updateGameIdValue()},onUserCard:function(e){this.tableController.onUserCard(e)},onRoomInfoBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(o.CLICK_PATTI_WAR_TABLEINFO,this.gameCore.dataAnalysisMng.gameBaseData),this.gameCore.uiMng.openUI(s.GAME_ROOM_INFO_PATTI_WAR)},onUserProfileGet:function(e,t){ITeenPatti.removeListener("profile",this),!t.errorcode&&this.gameCore&&this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.openUI(s.INGAME_PLAYER_INFO,function(e){e&&e.initWithMsgGetUserInfo(t)})}}),cc._RF.pop()},{BaseGameScene:"BaseGameScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",PattiWarCountdown:"PattiWarCountdown",PattiWarGuide:"PattiWarGuide",PattiWarTableController:"PattiWarTableController",UIInfo:"UIInfo"}],PattiWarSetPot:[function(e,t,i){"use strict";cc._RF.push(t,"4c4ceb6qV5GupvQxVOtHhJu","PattiWarSetPot");var n=e("Command"),a=e("GameUtils"),o=e("LanguageData"),s=e("BaseUI");cc.Class({extends:s,properties:{selectPotValue:{default:0,visible:!1},lblChips:cc.Label,minPotLabel:cc.Label,maxPotLabel:cc.Label,selectPotLabel:cc.Label,requireDescLabel:cc.Label,progressBar:cc.Node,silder:cc.Slider,setBtn:cc.Button},initComplete:function(){this._super(),this.silder.progress=0,this.progressBar.width=0;var e=ITeenPatti.getCurTable();e&&(this.selectPotValue=e.poolMinAmount,this.minPotLabel.string=a.formatNumberWithRules(e.poolMinAmount),this.selectPotLabel.string=a.formatNumberWithRules(e.poolMinAmount),this.setBtn.interactable=this.silder.enabled=this.gameCore.userMng.myself.nChips>=e.beBankerMinChips,this.requireDescLabel.string=this.setBtn.interactable?"":o.t("label_text.banker_chips_needed",{chips:a.formatNumberWithRules(e.beBankerMinChips)})),this.updateUI(),this.gameCore.uiMng.addListener(n.UI_CMD_CHIPS_CHANGE,this,this.updateChips)},updateUI:function(){this.maxPotLabel.string=this.setBtn.interactable?a.formatNumberWithRules(this.gameCore.userMng.myself.nChips,1e5,0):"",this.lblChips.string=a.formatNumberWithRules(this.gameCore.userMng.myself.nChips)},onSilderChange:function(e){this.progressBar.width=540*e.progress;var t=ITeenPatti.getCurTable();t&&(this.selectPotValue=t.poolMinAmount+(this.gameCore.userMng.myself.nChips-t.poolMinAmount)*e.progress,this.selectPotValue=this.selectPotValue>1e7?1e7*Math.floor(this.selectPotValue/1e7):t.poolMinAmount,this.selectPotLabel.string=a.formatNumberWithRules(this.selectPotValue,1e5,0))},updateChips:function(e){this.lblChips.string=a.formatNumberWithRules(e.final)},onSetBtnClk:function(e){var t=ITeenPatti.getCurTable();t&&t.bankerId==this.gameCore.userMng.myself.strTPID?ITeenPatti.sendMsg(n.SERVER_CMD_PATTI_WAR_CHANGEPOT,{i:this.selectPotValue}):ITeenPatti.sendMsg(n.SERVER_CMD_PATTI_WAR_BEBANKER,{i:this.selectPotValue}),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],PattiWarTableController:[function(e,t,i){"use strict";cc._RF.push(t,"17b86drGBZONpvXFnYwbrOz","PattiWarTableController");var n=e("Command"),a=e("GameUtils"),o=e("PattiWarBanker"),s=e("PattiWarMySeat"),r=e("PattiWarBetArea"),l=e("PattiWarCardBar"),c=e("PattiWarBaseSeat"),h=e("BaseTableController"),u=e("PattiWarCountdown"),d=e("PattiWarNewBankerRemind"),m=e("PattiWarJackpotReward"),g=e("PattiWarJackpot"),p=e("LanguageData");cc.Class({extends:h,properties:{pfbMsgLeft:cc.Prefab,pfbMsgRight:cc.Prefab,chatBtn:cc.Node,bankerArea:cc.Node,playerBetCardArea:cc.Node,myselfBankerState:cc.Node,myselfPlayerState:cc.Node,betArea:r,banker:o,myBetsValue:null,myBets:[cc.Node],myBetLabels:[cc.Label],gameStateArea:cc.Node,arrSeat:[c],arrCardBar:[l],mySeat:s,remind:cc.Node,remindLabel:cc.Label,newBankerRemind:d,jackpot:g,jackpotReward:m,countdown:u,isBanker:{get:function(){return this._isBanker},set:function(e){this._isBanker=e,this.bankerArea.active=!e,this.playerBetCardArea.y=e?135:-144,this.gameStateArea.y=e?-300:0,this.myselfBankerState.active=e,this.myselfPlayerState.active=!e;for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].updateSeatState();this.updateBtnState()}}},onEnterForeground:function(){this._super(),this.remind.stopAllActions(),this.remind.active=!1,this.isDealing&&this.dealCard()},onLoad:function(){this._super(),this.remind.active=!1},initComplete:function(){this._super(),this.betArea.tableController=this,this.updateBtnState(),this.updateBanker(),this.reset();for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].tableController=this;this.gameCore.uiMng.addListener(n.SERVER_CMD_USER_SIT_DOWN,this,this.onUserSitDown),this.gameCore.uiMng.addListener(n.SERVER_CMD_USER_STAND_UP,this,this.onUserStandUp),this.gameCore.uiMng.addListener(n.SERVER_CMD_PATTI_WAR_SITEBET,this,this.onBet),this.gameCore.uiMng.addListener(n.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoin),this.gameCore.uiMng.addListener(n.SERVER_CMD_ROOM_UPDATE,this,this.onRoomUpdate),this.gameCore.uiMng.addListener(n.SERVER_CMD_PATTI_WAR_COUNT,this,this.onCount),this.gameCore.uiMng.addListener(n.SERVER_CMD_PATTI_WAR_BANKER_UNAVAILABLE,this,this.onBankerUnavailabel),this.gameCore.uiMng.addListener(n.SERVER_CMD_PATTI_WAR_DIVIDE_JACKPOT,this,this.onDivideJackpot),this.gameCore.uiMng.addListener("PublicMessage",this,this.onMessageReceive),this.gameCore.uiMng.addListener("sendmessage",this,this.onMessageReceive)},onRoomJoin:function(e){},onRoomUpdate:function(e){for(var t=0;t<e.changedVars.length;t++)if("bi"==e.changedVars[t]){var i=ITeenPatti.getCurTable();if(i&&this.lastBankerId!=i.bankerId){i.getUserWithUserID(i.bankerId);this.newBankerRemind.show()}this.updateBanker()}},showRemind:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;this.remind.stopAllActions(),this.remind.active=!0,this.remindLabel.string=e,this.remind.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){this.remind.active=!1},this)))},updateBanker:function(){var e=ITeenPatti.getCurTable();e&&(LogUtil.debug("PattiWarTableController",e.bankerId),this.lastBankerId=e.bankerId,this.isBanker=this.mySeat.isBanker=e.bankerId==this.gameCore.userMng.myself.strTPID)},onBankerUnavailabel:function(e){var t=ITeenPatti.getCurTable();t&&this.gameCore.gameMng.openChipsNotEnoughTwoItem(t.poolMinAmount-this.gameCore.userMng.myself.nChips,null,1==e.i?p.t("label_text.not_banker2"):p.t("label_text.not_banker1"))},reset:function(){this.totalBet=0,this.jackpotRewardResp=null,this.newBankerRemind.hide(),this.node.stopAllActions(),this.myBetsValue={1:0,2:0,3:0,4:0},this.updateMyBets();for(var e=0;e<this.arrCardBar.length;e++)this.arrCardBar[e].tableController=this,this.arrCardBar[e].reset()},updateMyBets:function(){for(var e=0;e<this.myBets.length;e++)this.myBets[e].active=this.myBetsValue[e+1]>0,this.myBetLabels[e].string=a.formatNumberWithRules(this.myBetsValue[e+1])},addMyBets:function(e,t){this.myBetsValue[e]+=t,this.updateMyBets()},onBet:function(e){this.totalBet+=e.chips;var t=ITeenPatti.getCurTable();if(!e.errorcode&&t){this.totalBet==t.poolCurAmount&&this.showRemind(p.t("label_text.pot_reach_limit"),15-((new Date).getTime()-this.pattiWarStartTime)/1e3);for(var i=e.chips;i%10==0;)i/=10;if(this.gameCore.gameMng.playAudioEffect("bet"),1!=i){for(var n=0,a=4;a>=0;a--){var o=t.myBootBet*Math.pow(t.myBetRate,a);e.chips>o&&(n+=Math.floor(e.chips/o),e.chips=e.chips%o)}for(a=0;a<n;a++)this.betArea.onBet(e)}else this.betArea.onBet(e);e.userId==this.gameCore.userMng.myself.strTPID&&this.addMyBets(e.site,e.chips),this.mySeat.updateToggleInteractable(t.poolCurAmount-this.totalBet)}},onUserSitDown:function(e){for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].onUserSitDown(e);this.updateBtnState()},onUserStandUp:function(e){for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].onUserStandUp(e);this.updateBtnState()},updateBtnState:function(){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role)for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].updateGiftBtnActive(!(ITeenPatti.getCurPlayer().role.isWatcher()||this.isBanker))},onStartTime:function(e){this.reset(),this.mySeat.onStartTime(),this.betArea.onStartTime()},onStartPattiWar:function(e){this.reset(),this.mySeat.onStartPattiWar();var t=ITeenPatti.getCurTable();this.pattiWarStartTime=e.startTime-1e3*(15-e.downTime),this.dealCard(),this.betArea.onStartPattiWar(e),this.betArea.canBet=e.downTime>0&&t&&t.bankerId!=this.gameCore.userMng.myself.strTPID},onPattiWarJIS:function(e){this.onStartPattiWar(e),this.updateBanker(),this.banker.onPattiWarJIS(e)},onCount:function(e){this.gameCore.uiMng.dispatch(n.UI_CMD_PAUSE_CHIPS_REFRESH),this.mySeat.pauseChipsRefresh()},onDivideJackpot:function(e){this.jackpotRewardResp=e},allCardsShowed:function(){this.jackpot.updateJackpotLabel(),this.jackpotRewardResp&&(this.jackpotReward.onDivideJackpot(this.jackpotRewardResp),this.jackpotRewardResp=null)},onUserCard:function(e){this.countdown.showdown();var t=table.createToArray(e.cards);this.betArea.onUserCard(e),this.mySeat.onUserCard(e),this.dealCardBarList[this.dealCardBarList.length-1].onUserCard(t[t.length-1],1);for(var i=0;i<t.length-1;i++)this.dealCardBarList[i]&&this.dealCardBarList[i].onUserCard(t[i],1.6+.6*i)},dealCard:function(){var e=ITeenPatti.getCurTable();if(e){this.dealCardBarList=this.arrCardBar.concat(),e.bankerId==this.gameCore.userMng.myself.strTPID?this.dealCardBarList.splice(4,1):this.dealCardBarList.splice(5,1),this.isDealing=!0,this.node.stopAllActions();for(var t=0,i=0;i<3;i++){for(var n=Math.max(0,1.5*(i+1)-((new Date).getTime()-this.pattiWarStartTime)/1e3),a=0;a<this.dealCardBarList.length;a++)0==n?this.dealCardBarList[a].dealCardComplete(i):this.node.runAction(cc.sequence(cc.delayTime(1.5*t+.3*a),cc.callFunc(this.cardBarDeal,this,[a,i])));n>0?t++:2==i&&(this.isDealing=!1)}}},cardBarDeal:function(e,t){this.dealCardBarList[t[0]].dealCard(t[1]),t[0]*t[1]==2*(this.dealCardBarList.length-1)&&this.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){this.isDealing=!1;for(var e=0;e<this.dealCardBarList.length;e++)this.dealCardBarList[e].onUserCard()},this)))},getSeatWithUserId:function(e){for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.tpUser.userId==e)return i}return null},onMessageReceive:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&ITeenPatti.getCurTable()){var i=""+t.id;if(!ITeenPatti.getCurRoom().msgHistory.isBlocked(i)){var n=this.getSeatWithUserId(i);if(n||i==ITeenPatti.getCurPlayer().strTPID){var a=cc.instantiate(null==n||1==n.index||3==n.index?this.pfbMsgLeft:this.pfbMsgRight);n?(1==n.index||3==n.index?a.setPosition(57,6):a.setPosition(-57,6),n.node.addChild(a)):i==ITeenPatti.getCurPlayer().strTPID?(a.setPosition(-455,70),this.mySeat.node.addChild(a)):i==ITeenPatti.getCurTable().bankerId&&(a.setPosition(-170,0),this.bankerArea.addChild(a)),a.getComponent("MsgPop").setPopText(t.msg,"sendmessage"==e)}}}},giftScale:function(e,t){return.58}}),cc._RF.pop()},{BaseTableController:"BaseTableController",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",PattiWarBanker:"PattiWarBanker",PattiWarBaseSeat:"PattiWarBaseSeat",PattiWarBetArea:"PattiWarBetArea",PattiWarCardBar:"PattiWarCardBar",PattiWarCountdown:"PattiWarCountdown",PattiWarJackpot:"PattiWarJackpot",PattiWarJackpotReward:"PattiWarJackpotReward",PattiWarMySeat:"PattiWarMySeat",PattiWarNewBankerRemind:"PattiWarNewBankerRemind"}],PattiWarTable:[function(e,t,i){"use strict";cc._RF.push(t,"ae8d4j/9LpF57yokqBBA6VJ","PattiWarTable");var n=e("TeenPattiUser"),a=e("TeenPattiWarRoler"),o=e("Command"),s=e("BaseTable");cc.Class({extends:s,name:"PattiWarTable",properties:{bankerId:-1,poolCurAmount:0,prepBankerId:0,jackpotAmount:0,beBankerMinChips:0,sitdownMinChips:0,poolMinAmount:0,betAmount0:0,betAmount1:0,betAmount2:0,betAmount3:0,myBootBet:0,myBetRate:0},initCallback:function(){this.arrHandler={},this.arrHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrHandler.UserEnterRoom=handler(this,this.onUserEnterRoom),this.arrHandler.UserExitRoom=handler(this,this.onUserExitRoom),this.arrHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrHandler.UserSitDown=handler(this,this.onUserSitDown),this.arrHandler.UserUpdate=handler(this,this.onUserUpdate),this.arrHandler[o.SERVER_CMD_UPDATE_BONUS]=handler(this,this.onUserLevelUp),this.arrHandler.starttime=handler(this,this.onRoundReady),this.arrHandler.finish=handler(this,this.onRoundFinish)},onRoomJoin:function(e,t){this.updateRoomVariables(t),this.arrRoundPartner=[],this.tableId=t.room.id,this.arrUser=[],this._super(e,t)},getPlayerIdByUserId:function(e){for(var t=0;t<this.arrUser.length;t++)if(this.arrUser[t].strTPID==e)return this.arrUser[t].role.playerId;return-1},onRoomUpdate:function(e,t){this._super(e,t),this.updateRoomVariables(t)},updateRoomVariables:function(e){e.room.variables.bi&&(this.bankerId=e.room.variables.bi.value),e.changedVars&&-1==e.changedVars.indexOf("po")||!e.room.variables.po||(this.poolCurAmount=e.room.variables.po.value),e.room.variables.bbi&&(this.prepBankerId=e.room.variables.bbi.value),e.room.variables.j&&(this.jackpotAmount=e.room.variables.j.value),e.room.variables.bc&&(this.beBankerMinChips=e.room.variables.bc.value),e.room.variables.sc&&(this.sitdownMinChips=e.room.variables.sc.value),e.room.variables.mp&&(this.poolMinAmount=e.room.variables.mp.value),e.changedVars&&-1==e.changedVars.indexOf("la")||!e.room.variables.la||(this.betAmount0=e.room.variables.la.value),e.changedVars&&-1==e.changedVars.indexOf("wa")||!e.room.variables.wa||(this.betAmount1=e.room.variables.wa.value),e.changedVars&&-1==e.changedVars.indexOf("fi")||!e.room.variables.fi||(this.betAmount2=e.room.variables.fi.value),e.changedVars&&-1==e.changedVars.indexOf("wi")||!e.room.variables.wi||(this.betAmount3=e.room.variables.wi.value),e.room.variables.ba&&(this.myBootBet=e.room.variables.ba.value),e.room.variables.ra&&(this.myBetRate=e.room.variables.ra.value)},onUserEnterRoom:function(e,t){this._super(e,t)},onUserStandUp:function(e,t){},onUserSitDown:function(e,t){var i=new n;i.initWithSFSPlayer(t.user),i.setRole(this.getRoler(t.user));for(var a=!1,o=0;o<this.arrUser.length;o++)if(this.arrUser[o].strTPID==t.user.name){this.arrUser[o]=i,a=!0;break}a||this.arrUser.push(i)},getRoler:function(e){return new a(e)}}),cc._RF.pop()},{BaseTable:"BaseTable",Command:"Command",TeenPattiUser:"TeenPattiUser",TeenPattiWarRoler:"TeenPattiWarRoler"}],PotBlindHelp:[function(e,t,i){"use strict";cc._RF.push(t,"0ada8DIqh5AWagChXLY4ySc","PotBlindHelp");var n=e("BaseEdgePopup");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup"}],PotBlindRoom:[function(e,t,i){"use strict";cc._RF.push(t,"e2ad7ZyGthKL7sF6rXIH2rc","PotBlindRoom");var n=e("BaseRoom"),a=e("UIInfo");cc.Class({name:"PotBlindRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.POTBLIND,this.tableRulesUIInfo=a.POTBLIND_HELP}}),cc._RF.pop()},{BaseRoom:"BaseRoom",UIInfo:"UIInfo"}],PotLimitBar:[function(e,t,i){"use strict";cc._RF.push(t,"3a49aGBhjZPXL1EhWA5fnOL","PotLimitBar"),cc.Class({extends:cc.Component,properties:{bAnimFinish:!1,hFinishCb:null},onLoad:function(){},onUserShow:function(e,t,i){this.strCmd=e,this.objData=t,this.hFinishCb=i,this.curRoundID=ITeenPatti.getCurTable().roundID,this.node.getComponent(cc.Animation).play()},onAnimPotLimitFinish:function(){this.hFinishCb&&this.curRoundID==ITeenPatti.getCurTable().roundID&&this.hFinishCb(this.strCmd,this.objData)}}),cc._RF.pop()},{}],PrivateRoomModeItem:[function(e,t,i){"use strict";cc._RF.push(t,"1b07aLWCClPlLhoLoTSbPNB","PrivateRoomModeItem");var n=e("DropDownMenuItem");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{DropDownMenuItem:"DropDownMenuItem"}],PrivateRoomSetting:[function(e,t,i){"use strict";cc._RF.push(t,"1b24bH1cJZNWZIU/6VVd2wI","PrivateRoomSetting");var n=e("BaseUI"),a=e("DropDownMenu"),o=(e("UIInfo"),e("GameUtils")),s=(e("DataAnalysisKey"),e("Command")),r=e("LanguageData"),l=0,c=1,h=2;cc.Class({extends:n,properties:{layout:cc.Node,loadingPanel:cc.Node,modeDropDownMenu:{default:null,type:a},labelBootAmoundTitle:cc.Label,labelBootAmound:cc.Label,labelBalance:cc.Label,labelChaalLimitTitle:cc.Label,labelChaalLimit:cc.Label,labelPotLimitTitle:cc.Label,labelPotLimit:cc.Label,labelMaxBlind:cc.Label,labelMaxBlindTitle:cc.Label,unavailable:cc.Node,notenable:cc.Node,notenableContent:cc.Node,slider:cc.Slider,sliderBar:cc.Node,sliderLabels:[cc.Label],maxGrade:{default:0,visible:!1},bootAmount:{get:function(){return this.bootAmountConfig[this.grade]},visible:!1}},ctor:function(){this.bootAmountConfig=[5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6]},onLoad:function(){this.modeDropDownMenu.init(["","Joker","Muflis","HuKam","NoLimit","Poker"],[r.t("label_text.classic1"),r.t("label_text.joker1"),r.t("label_text.muflis1"),r.t("label_text.hukam1"),r.t("label_text.no_limit"),r.t("label_text.poker")]),this.modeDropDownMenu.selectCallback=handler(this,this.onDropDownMenuSelect),this._super(),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1},initComplete:function(){this._super(),this.notenableOriX=this.notenable.x,this.loadingPanel.active=!0,this.layout.active=!1,this.labelBalance.string=o.formatNumberWithRules(this.gameCore.userMng.myself.nChips),this.gameCore.uiMng.addListener(s.SERVER_CMD_CREATE_PRIVATE_ROOM,this,this.onPlayResponse),this.gameCore.uiMng.addListener(s.SERVER_CMD_CREATE_PRIVATE_POKER_ROOM,this,this.onPlayResponse),this.onAllBootList()},statesRecoverUpdate:function(){this._super(),void 0!=this.recoverStates.selectedDataValue&&this.modeDropDownMenu.onSelectByDataValue(this.recoverStates.selectedDataValue)},statesPersistence:function(){var e={};return e.selectedDataValue=this.modeDropDownMenu.selectedDataValue,e},onPopupBgTouchEnd:function(e){this._super(e),this.modeDropDownMenu.close()},onSliderBarMouseDown:function(){this.sliderBar.opacity=150,this.sliderBar.on(cc.Node.EventType.TOUCH_END,this.onNodeMouseUp,this),this.sliderBar.on(cc.Node.EventType.TOUCH_CANCEL,this.onNodeMouseUp,this)},onNodeMouseUp:function(){this.sliderBar.off(cc.Node.EventType.TOUCH_END,this.onNodeMouseUp,this),this.sliderBar.off(cc.Node.EventType.TOUCH_CANCEL,this.onNodeMouseUp,this),this.sliderBar.opacity=255,this.slider.progress=this.grade/16,this.updateNotenableWidth()},onStartBtnClk:function(e){this.node&&this.node.getParent()&&this.gameCore.gameMng.priRoomHasEnoughChips()&&this.gameCore.userMng.playPrivate(this.modeDropDownMenu.selectedDataValue,this.bootAmountConfig[Math.ceil(this.grade)])&&(this.canClose=!1,this.gameCore.uiMng.showLoading())},updateNotenableWidth:function(){this.notenable.width=510-this.unavailable.width-510*this.slider.progress},updateLabel:function(){if("Poker"==this.modeDropDownMenu.selectedDataValue){this.labelBootAmoundTitle.string=r.t("label_text.big_blind"),this.labelBootAmound.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.bootAmount)}),this.labelMaxBlindTitle.string=r.t("label_text.blind"),this.labelMaxBlind.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.bootAmount/2)})+"/"+r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.bootAmount)});var e=this.gameCore.userMng.privateChaalLimitList[h][this.grade];this.labelChaalLimitTitle.string=r.t("label_text.buy_in"),this.labelChaalLimit.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(e)})+"/"+r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(10*e)}),this.labelPotLimitTitle.string=r.t("label_text.pot_limit"),this.labelPotLimit.string=r.t("label_text.no_limit")}else{this.labelBootAmoundTitle.string=r.t("label_text.boot_amount"),this.labelBootAmound.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.bootAmount)}),this.labelMaxBlindTitle.string=r.t("label_text.max_blind"),this.labelMaxBlind.string=4;var t=this.gameCore.userMng.privateChaalLimitList[l][this.grade];this.labelChaalLimitTitle.string=r.t("label_text.chaal_limit"),this.labelChaalLimit.string="NoLimit"==this.modeDropDownMenu.selectedDataValue?r.t("label_text.no_limit"):r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(t)});var i=this.gameCore.userMng.privatePotLimitList[l][this.grade];this.labelPotLimitTitle.string=r.t("label_text.pot_limit"),this.labelPotLimit.string="NoLimit"==this.modeDropDownMenu.selectedDataValue?r.t("label_text.no_limit"):r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(i)})}},onSlideChange:function(e){this.grade=Math.min(this.maxGrade,Math.round(16*this.slider.progress)),this.slider.progress>this.maxGrade/16&&(this.slider.progress=this.maxGrade/16),this.updateNotenableWidth(),this.updateLabel()},onDropDownMenuSelect:function(){this.updateLabel(),this.updateUI()},onAllBootList:function(){for(var e=!0,t=0;t<this.gameCore.userMng.privateBootList.length;t++)this.gameCore.userMng.privateBootList[t].length<17&&(e=!1);e&&(this.loadingPanel.active=!1,this.layout.active=!0,this.updateUI())},updateUI:function(){var e=l;"NoLimit"==this.modeDropDownMenu.selectedDataValue?e=c:"Poker"==this.modeDropDownMenu.selectedDataValue&&(e=h),this.bootAmountConfig=this.gameCore.userMng.privateBootList[e];var t=[0,4,8,12,16];this.bootAmountConfig1=[this.bootAmountConfig[0],this.bootAmountConfig[4],this.bootAmountConfig[8],this.bootAmountConfig[12],this.bootAmountConfig[16]];for(var i=this.bootAmountConfig.length-1;i>=0;i--)if(this.gameCore.userMng.myself.nChips>=this.gameCore.userMng.privateMinChipsList[e][i]){this.unavailable.width=31.875*(this.bootAmountConfig.length-i-1),this.notenable.x=this.unavailable.x-this.unavailable.width,this.notenableContent.x=this.notenableOriX-this.notenable.x,this.maxGrade=i;break}var n=0;for(i=0;i<this.bootAmountConfig1.length;i++)this.sliderLabels[i].string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.bootAmountConfig1[i])}),n=t[i],this.gameCore.userMng.myself.nChips>=this.gameCore.userMng.privateMinChipsList[e][n]?this.sliderLabels[i].node.color=new cc.Color(255,255,255):this.sliderLabels[i].node.color=new cc.Color(150,150,150);this.gameCore.userMng.myself.nChips>=this.gameCore.userMng.privateMinChipsList[e][16]&&(this.slider.progress=.25),this.sliderBar.on(cc.Node.EventType.TOUCH_START,this.onSliderBarMouseDown,this),this.onSlideChange()},onPlayResponse:function(e,t){"error"==t.cmd&&(this.canClose=!0)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",DropDownMenu:"DropDownMenu",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],ProgressBar:[function(e,t,i){"use strict";cc._RF.push(t,"5b2ddKE4DRPP6p8yig9Tg7g","ProgressBar"),cc.Class({extends:cc.Component,properties:{bar:cc.Node,barMask:cc.Node,progress:{set:function(e){this._progress=e,this.barMask.width=e*this.bar.width},get:function(){return this._progress},visible:!1}},onLoad:function(){}}),cc._RF.pop()},{}],PromotionObj:[function(e,t,i){"use strict";cc._RF.push(t,"8a16b7xzUBD6Lzeb64lwI6A","PromotionObj"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],PromotionProfile:[function(e,t,i){"use strict";cc._RF.push(t,"d9c4eUz1jJOIb1YPTybSmaU","PromotionProfile");var n=e("AEMobile"),a=e("Command"),o=e("GameData"),s=e("LocalStorage");cc.Class({name:"PromotionProfile",properties:{arrPromotion:[],resDownloadSuccCB:[],arrCmdHandler:{default:{}}},ctor:function(){n.loader.setOnTaskSuccCb(handler(this,this.onPromotionResSucc)),this.arrCmdHandler[a.SERVER_CMD_ANDROID_BUY]=handler(this,this.onProductBuyFinish),this.arrCmdHandler[a.SERVER_CMD_IOS_BUY]=handler(this,this.onProductBuyFinish),this.arrCmdHandler[a.SERVER_CMD_FACEBOOK_BUY]=handler(this,this.onProductBuyFinish),this.arrCmdHandler.promotelist=handler(this,this.onPromoteLitListGet)},onPromotionResSucc:function(){for(var e=0;e<this.resDownloadSuccCB.length;e++)this.resDownloadSuccCB[e].cb.apply(this.resDownloadSuccCB[e].target);ITeenPatti.gameCore.initPopupMng.openPromotion()},setOnTaskSuccCb:function(e){this.resDownloadSuccCB.push(e)},setOffTaskSuccCb:function(e){for(var t=this.resDownloadSuccCB.length-1;t>=0;t--)this.resDownloadSuccCB[t].target==e&&this.resDownloadSuccCB.splice(t,1)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},savePromotionShowTimeData:function(e,t,i,n){e.time=((new Date).getTime()+36e5*e.ruleConfig.duration)/1e3;var a=(new Date).getTime()+36e5*i+36e5*(n[0]+(n[1]-n[0])*Math.random()),o='{"starttime":'+(new Date).getTime()+', "nexttime":'+Math.ceil(a)+"}";s.saveLocalData(s.keys.PROMOTION_SHOW_TIME+t,o)},onPromoteLitListGet:function(e,t){for(var i in this.arrPromotion=[],o.promotionSkuIDList=[],t.promotes){var n=t.promotes[i];try{if(n.uiConfig=n.uiConfig.replace(/\r\n/g,""),n.uiConfig=n.uiConfig.replace(/\n/g,""),n.uiConfig=n.uiConfig.replace(/\t/g,""),n.uiConfig=n.uiConfig.replace(/\\/g,""),n.uiCfg=JSON.parse(n.uiConfig),n.uiCfg=n.uiCfg.children,n.ruleConfig&&(n.ruleConfig=n.ruleConfig.replace(/\r\n/g,""),n.ruleConfig=n.ruleConfig.replace(/\n/g,""),n.ruleConfig=n.ruleConfig.replace(/\t/g,""),n.ruleConfig=n.ruleConfig.replace(/\\/g,""),n.ruleConfig=JSON.parse(n.ruleConfig)),n.ruleConfig&&n.ruleConfig.duration&&n.ruleConfig.interval&&n.ruleConfig.interval.length>=2){var a=s.getLocalData(s.keys.PROMOTION_SHOW_TIME+n.id);if(a){var r=JSON.parse(a),l=parseInt(r.starttime),c=parseInt(r.nexttime);if(l+36e5*n.ruleConfig.duration<(new Date).getTime()&&c>(new Date).getTime())continue;l+36e5*n.ruleConfig.duration>(new Date).getTime()?n.time=(l+36e5*n.ruleConfig.duration)/1e3:c<=(new Date).getTime()&&this.savePromotionShowTimeData(n,n.id,n.ruleConfig.duration,n.ruleConfig.interval)}else this.savePromotionShowTimeData(n,n.id,n.ruleConfig.duration,n.ruleConfig.interval)}if(this.arrPromotion.push(n),this.loadPromotionRes(n),n.goods)for(var i in n.goods)o.promotionSkuIDList.push(n.goods[i].product_id)}catch(e){LogUtil.err("PromotionProfile","There is error parse promotion UI json on js",e)}}cc.sys.os==cc.sys.OS_IOS&&ITeenPatti.gameCore.gameMng.getNativeSkuDetails();for(var h=!1,u=0;u<this.arrPromotion.length;u++)if(this.canAutoPopUp(this.arrPromotion[u])){h=!0;break}h?ITeenPatti.gameCore.initPopupMng.openPromotion():ITeenPatti.gameCore.initPopupMng.promotionComplete=!0},onProductBuyFinish:function(e,t){if(!t.cmd){ITeenPatti.gameCore.gameMng.isSupportPromotion()&&ITeenPatti.sendMsg("promotelist",null);for(var i=null,n=0;n<this.arrPromotion.length;n++){if(this.arrPromotion[n].id==t.id){i=n;break}}if(null!=i)for(var a in this.arrPromotion[i].goods)this.arrPromotion[i].goods[a]&&this.arrPromotion[i].goods[a].id==t.goodid&&(this.arrPromotion[i].goods[a].buyCount+=1)}},onItemTimeEnd:function(e){for(var t=0;t<this.arrPromotion.length;t++)if(this.arrPromotion[t].id==e.id){this.arrPromotion.splice(t,1);break}},loadPromotionRes:function(e){e.icon&&n.loader.createImageTask(e.icon,null);for(var t=0;t<e.uiCfg.length;t++){var i=e.uiCfg[t];i.image_url&&n.loader.createImageTask(i.image_url,null)}},isPromotionValid:function(e){for(var t in e.goods)if(e.goods[t]&&e.goods[t].buyCount<e.goods[t].totalCount)return!0;return!1},isPromotionReady:function(e){if(e.icon&&!n.loader.getResWithUrl(e.icon))return LogUtil.debug("isPromotionNotReady",e.icon),!1;for(var t=1;t<e.uiCfg.length;t++){var i=e.uiCfg[t];if(i.image_url&&!n.loader.getResWithUrl(i.image_url))return LogUtil.debug("isPromotionNotReady",i.image_url),!1}return!0},isAutoPopUp:function(e){return!(!e.ruleConfig||!e.ruleConfig.is_click_popup)},canAutoPopUp:function(e){return!!this.isAutoPopUp(e)},getPopUpWeight:function(e){return e.weight},getTopIconImageItem:function(){for(var e=null,t=null,i=0;i<this.arrPromotion.length;i++){var n=this.arrPromotion[i];this.isPromotionValid(n)&&(this.isPromotionReady(n)&&n.icon&&n.ruleConfig&&n.ruleConfig.is_top_position&&(t=n,e=n))}return LogUtil.debug("getTopIconImageItem",e||t),e||t},getIconImageItem:function(){for(var e=null,t=null,i=0;i<this.arrPromotion.length;i++){var n=this.arrPromotion[i];this.isPromotionValid(n)?n.ruleConfig&&n.ruleConfig.is_top_position||this.isPromotionReady(n)&&this.isAutoPopUp(n)&&n.icon&&(t=n,e=n):LogUtil.debug("getIconImageItem:isPromotionValid",this.isPromotionValid(n))}return LogUtil.debug("getIconImageItem",e||t),e||t},getCanAutoPopupItem:function(){for(var e=null,t=null,i=0;i<this.arrPromotion.length;i++){var n=this.arrPromotion[i];this.isPromotionValid(n)?this.isPromotionReady(n)&&this.canAutoPopUp(n)&&n.icon&&(t=n,e=n):LogUtil.debug("getCanAutoPopupItem:isPromotionValid",this.isPromotionValid(n))}return LogUtil.debug("getCanAutoPopupItem",e||t),e||t},getPromotionList:function(){return this.arrPromotion}});cc._RF.pop()},{AEMobile:"AEMobile",Command:"Command",GameData:"GameData",LocalStorage:"LocalStorage"}],PromotionPupUp:[function(e,t,i){"use strict";cc._RF.push(t,"beffbfmtd1EfZav+SdfoFpz","PromotionPupUp");var n=e("BaseUI"),a=e("GameData"),o=e("AEMobile"),s=e("Command"),r="PromotionPupUp";cc.Class({extends:n,properties:{nDeltaSecond:{visible:!1,default:0},uiCfg:{visible:!1,default:{}},arrProducts:{visible:!1,default:{}},arrClickHandler:{visible:!1,default:{}},arrLabelList:{visible:!1,default:[]}},onLoad:function(){this._super(),this.uiCfg=null,this.arrClickHandler[0]="onBtnCloseClk",this.arrClickHandler[1]="onBtnBuyClk"},update:function(e){if(this.nDeltaSecond+=e,!(this.nDeltaSecond<1)){this.nDeltaSecond-=1;for(var t=0;t<this.arrLabelList.length;t++){var i=this.arrLabelList[t];"{leftTime}"==i.regular&&(i.label.string=this.convertToTime(i.regular,this.endTime))}}},setInitData:function(e){this.endTime=e.time,this.uiCfg=e.uiCfg,this.arrProducts=e.goods,this.initUI()},initUI:function(){if(this.uiCfg){for(var e=0;e<this.uiCfg.length;e++){var t=this.uiCfg[e],i=new cc.Node;i.anchorX=0,i.anchorY=1,this.popupBg.addChild(i),this.initUINode(i,t)}for(var n=this.popupBg.children,o=0,r=0,l=0;l<n.length;l++)n[l].x<o&&(o=n[l].x),n[l].x+n[l].width>r&&(r=n[l].x+n[l].width);this.popupBg.x-=(o+r)/2,cc.sys.isBrowser?this.onGetSkuDetails(a.facebookSkuDetails.concat(),!1):cc.sys.os!=cc.sys.OS_ANDROID||jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","checkGooglePlayExist","()Z")?(this.gameCore.uiMng.addListener(s.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails),this.scheduleOnce(function(){for(var e=[],t=table.createToArray(this.arrProducts),i=0;i<t.length;i++)e.push(t[i].product_id);this.gameCore.gameMng.getNativeSkuDetails(e)}.bind(this),0)):this.onGetSkuDetails(null,!1)}},onGetSkuDetails:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.gameCore.uiMng.removeListener(s.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails),t&&(e=e.split("|")),LogUtil.debug(r,this.arrProducts);for(var i=table.createToArray(this.arrProducts),n=0;n<i.length;n++)for(var a=0;a<this.arrLabelList.length;a++)if(this.arrLabelList[a].regular=="{buy"+(n+1)+"}"){if(e)for(var o=0;o<e.length;o++){var l=t?JSON.parse(e[o]):e[o];if(LogUtil.debug(r,i[n].product_id+"-"+l.productId),l.id==i[n].product_id||l.productId==i[n].product_id){this.arrLabelList[a].label.string=l.price;break}}else this.arrLabelList[a].label.string=this.arrLabelList[a].price;break}},initUINode:function(e,t){if(e.setPosition(this.convertToUI(t.x||0,t.y||0,e)),t.scale&&(e.scaleX=e.scaleY=t.scale),t.background_color&&(e.color=new cc.Color(t.background_color[0],t.background_color[1],t.background_color[2]),e.opacity=t.background_color[3]),t.image_url&&(e.addComponent(cc.Sprite),e.addComponent(cc.Button),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(o.loader.getResWithUrl(t.image_url))),t.text){e.addComponent(cc.Label);var i={};-1!=t.text.indexOf("{buy")?(i.price=t.price,e.anchorX=.5,e.anchorY=.5,e.getComponent(cc.Label).horizontalAlign=cc.Label.HorizontalAlign.CENTER,e.getComponent(cc.Label).verticalAlign=cc.Label.VerticalAlign.CENTER,e.getComponent(cc.Label).string=""):e.getComponent(cc.Label).string=this.convertToTime(t.text,this.endTime),e.getComponent(cc.Label).fontSize=t.text_size,e.color=new cc.Color(t.text_color[0],t.text_color[1],t.text_color[2]),e.opacity=t.text_color[3],i.label=e.getComponent(cc.Label),i.regular=t.text,this.arrLabelList.push(i)}if(t.onclick){e.getComponent(cc.Button).transition=cc.Button.Transition.SCALE,e.getComponent(cc.Button).enableAutoGrayEffect=!0,e.getComponent(cc.Button).zoomScale=1.05;var n=new cc.Component.EventHandler;n.target=this.node,n.component="PromotionPupUp",n.handler=this.arrClickHandler[t.onclick[0]]||"onBtnCloseClk",t.onclick.length>1&&(n.customEventData=t.onclick[1]),e.getComponent(cc.Button).clickEvents.push(n),1==t.onclick[0]&&this.initProductButton(e,t.onclick[1])}},initProductButton:function(e,t){var i=this.arrProducts[t];e.getComponent(cc.Button).interactable=i.totalCount>i.buyCount},onBtnCloseClk:function(){this.closeUI()},onPurchaseFail:function(){this.gameCore.uiMng.removeListener(s.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.uiMng.removeListener(s.UI_CMD_PURCHASE_FAIL,this,this.onPurchaseFail)},onChipsGet:function(e){this.gameCore.gameMng.playChipsFly(e,cc.v2(0,0),0),this.gameCore.uiMng.removeListener(s.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet)},onBtnBuyClk:function(e,t){var i=this.arrProducts[t],n={id:i.product_id,productId:i.product_id};this.gameCore.uiMng.addListener(s.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.uiMng.addListener(s.UI_CMD_PURCHASE_FAIL,this,this.onPurchaseFail),this.gameCore.gameMng.buyStoreItem(n,a.PRE_BUY_P_PROMOTION),ITeenPatti.addListener(s.SERVER_CMD_ANDROID_BUY,this,this.onProductBuyFinish),ITeenPatti.addListener(s.SERVER_CMD_IOS_BUY,this,this.onProductBuyFinish),ITeenPatti.addListener(s.SERVER_CMD_FACEBOOK_BUY,this,this.onProductBuyFinish)},onProductBuyFinish:function(e,t){this.closeUI()},convertToUI:function(e,t,i){var n=cc.visibleRect.bottomLeft;return this.popupBg.convertToNodeSpaceAR(cc.v2(n.x+e,n.y+t))},convertToTime:function(e,t){var i=t-(new Date).getTime()/1e3,n="",a=Math.floor(i%60),o=Math.floor(Math.floor(i/60)%60),s=Math.floor(i/3600);return n=s>=1e3?stringformat([s,o,a],[4,2,2],":"):s>=100?stringformat([s,o,a],[3,2,2],":"):stringformat([s,o,a],[2,2,2],":"),e.replace("{leftTime}",n)},closeUI:function(){this.gameCore.initPopupMng.promotionComplete=!0,this._super()}}),cc._RF.pop()},{AEMobile:"AEMobile",BaseUI:"BaseUI",Command:"Command",GameData:"GameData"}],ProtoBufDecoder:[function(e,t,i){"use strict";cc._RF.push(t,"72036K0ErFP7rM+5OdQ5UyC","ProtoBufDecoder"),cc.Class({extends:cc.Component,properties:{objBuilder:[]},addProtoBuilder:function(e){this.objBuilder=e},decode:function(e,t){if("smartfox"==e.substring(0,8))return t;var i=e.split("."),n=this.objBuilder[i[0]];if(!n)return null;if(!(n=n[i[1]])||!n.decode||!n.decodeDelimited)return null;var a="";if("proto.S2C_Login"==e&&(a=t.data.m),t.params&&t.params.m&&(a=t.params.m),""==a)return{};var o={};return o=!cc.sys.isBrowser||window.MODE_DEVELOP_LOCAL?n.decodeHex(a):n.decode(a),o=CommonUtil.convertNetDataLong(o),"proto.S2C_Login"==e&&(o.user=t.user),o},createMsgProto:function(e){var t=this.objBuilder.build(e);return t}}),cc._RF.pop()},{}],ProtoBufEncoder:[function(e,t,i){"use strict";cc._RF.push(t,"25a411s7elNN7uH3cL+Q23w","ProtoBufEncoder"),cc.Class({extends:cc.Component,properties:{objBuilder:[]},addProtoBuilder:function(e){this.objBuilder=e},encode:function(e,t){if(!t)return null;if("smartfox"==e.substring(0,8))return t;var i=e.split("."),n=this.objBuilder[i[0]];if(!n)return null;if(!(n=n[i[1]]))return null;var a=new n(t).encode();return cc.sys.isBrowser?a.toString("base64"):a.toString("hex")},createMsgProto:function(e){var t=this.objBuilder.build(e);return t}}),cc._RF.pop()},{}],QuickMessageBtn:[function(e,t,i){"use strict";cc._RF.push(t,"73811wLiitHK7MQj1ksCe6H","QuickMessageBtn"),cc.Class({extends:cc.Component,properties:{lblMessage:cc.Label,hClickCb:null,index:0},onLoad:function(){},onBtnClicked:function(e){this.hClickCb&&this.hClickCb(e,this.lblMessage.string,this.index)},setBtnClickCb:function(e){this.hClickCb=e}}),cc._RF.pop()},{}],QuitGamePopUp:[function(e,t,i){"use strict";cc._RF.push(t,"bcedfzEGJ1ET4apBtUuIsDo","QuitGamePopUp");var n=e("BaseUI"),a=(e("ITeenPatti"),e("UIInfo"),e("Command"),e("DataAnalysisKey"));cc.Class({extends:n,properties:{lblTitle:cc.Label,lblDesc:cc.Label,lblSure:cc.Label},onLoad:function(){this._super()},initComplete:function(){this._super(),this.gameCore.dataAnalysisMng.sendData(a.POPUP_QUITGAME)},onBtnSureClicked:function(){this.gameCore.dataAnalysisMng.sendData(a.CLICK_QUITGAME_QUIT),cc.game.end()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",ITeenPatti:"ITeenPatti",UIInfo:"UIInfo"}],RCardFrameCache:[function(e,t,i){"use strict";cc._RF.push(t,"708b8rAvu1EwYtPzUC0hsuW","RCardFrameCache");cc.Class({extends:cc.Component,properties:{arrCardFrame:[cc.SpriteFrame],cardBGFrame:cc.SpriteFrame,leftCardBGFrame:cc.SpriteFrame,cardJokerFrame:cc.SpriteFrame},onLoad:function(){for(var e=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],t=0;t<e.length;t++){var i=e[t];this.loadCardFrame("R_"+i+"_red_diamond",4*t+0),this.loadCardFrame("R_"+i+"_black_club",4*t+1),this.loadCardFrame("R_"+i+"_red_heart",4*t+2),this.loadCardFrame("R_"+i+"_black_spade",4*t+3)}},loadCardFrame:function(e,t){var i=this;cc.loader.loadRes("RummyScene/RPoker/"+e+".png",function(n,a){n?LogUtil.err("RCardFrameCache","Load TeenPatti Card Fail "+e,n):i.arrCardFrame[t]=new cc.SpriteFrame(a)})},getCardFrameWithID:function(e){return null!=e&&this.arrCardFrame[e]?this.arrCardFrame[e]:52==e?this.cardJokerFrame:this.cardBGFrame},getCardBackFrame:function(){return this.cardBGFrame},getLeftCardBackFrame:function(){return this.leftCardBGFrame},getJokerFrame:function(){return this.cardJokerFrame}});cc._RF.pop()},{}],RankingTour:[function(e,t,i){"use strict";cc._RF.push(t,"8b204I8igNGmbZfoCb8FZtU","RankingTour");var n=e("BaseComponent"),a=e("Command"),o=e("FacebookIcon"),s=(e("TeenPattiUser"),e("ClampLabel"));cc.Class({extends:n,properties:{tieBreak:cc.Node,roundShow:cc.Node,tieBreakLabel:cc.Node,roundNode:cc.Node,roundLabel:cc.Label,rankShow:cc.Node,rankList:[cc.Node],rankHeadList:[o],rankNameList:[s],rankBtn:cc.Node,rankPanel:cc.Node,rankPanelTouch:[cc.Node]},onLoad:function(){this._super(),this.roundShow.active=!1,this.tieBreakLabel.active=!1,this.rankShow.active=!1,this.rankBtn.active=!1,this.rankPanel.active=!1;for(var e=0;e<this.rankPanelTouch.length;e++)this.rankPanelTouch[e].on(cc.Node.EventType.TOUCH_END,this.nodeStopPropagation,this),cc.sys.isBrowser&&(this.rankPanelTouch[e].on(cc.Node.EventType.MOUSE_ENTER,this.nodeStopPropagation,this),this.rankPanelTouch[e].on(cc.Node.EventType.MOUSE_MOVE,this.nodeStopPropagation,this))},nodeStopPropagation:function(e){e.stopPropagation()},initComplete:function(){this._super(),-1!=ITeenPatti.getCurRoom().roomName.indexOf("#ranking")&&(this.rankUsers=[],ITeenPatti.addListener(a.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoin),ITeenPatti.addListener(a.SERVER_CMD_USER_ENTER_ROOM,this,this.onUserEnterRoom),this.gameCore.uiMng.addListener(a.SERVER_CMD_TOUR_START,this,this.onTourStart),ITeenPatti.addListener(a.SERVER_CMD_TOUR_START_TIME,this,this.onStartTime),ITeenPatti.addListener(a.SERVER_CMD_TOUR_RANK,this,this.updateRank),ITeenPatti.addListener("jis",this,this.onTableRefresh))},updateRankUsers:function(){for(var e=ITeenPatti.getCurTable().getUserList(),t=0;t<e.length;t++){for(var i=!1,n=0;n<this.rankUsers.length;n++)if(e[t].role.playerId==this.rankUsers[n].role.playerId){i=!0;break}i||this.rankUsers.push(e[t])}},onRoomJoin:function(e,t){this.updateRankUsers()},onUserEnterRoom:function(e,t){this.updateRankUsers()},onTableRefresh:function(e,t){t.part&&t.totalParts&&this.updateRoundShow(t.part,t.totalParts,!1)},onStartTime:function(e,t){},onTieBreak:function(e){this.roundNode.active=!1,this.tieBreakLabel.active=!0,e&&(this.tieBreak.stopAllActions(),this.tieBreak.active=!0,this.tieBreak.runAction(cc.sequence(cc.scaleTo(.3,1.3).easing(cc.easeBounceOut()),cc.delayTime(1.5),cc.callFunc(function(){this.tieBreak.active=!1},this))))},onTourStart:function(e){this.roundShow.active=!0,this.updateRoundShow(e.part,e.totalParts)},updateRoundShow:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.roundLabel.string=e+"/"+t,e>t&&this.onTieBreak(i)},updateRank:function(e,t){this.rankBtn.active=!0;for(var i=table.createToArray(t.is),n=[],a=0;a<i.length;a++)for(var o=0;o<this.rankUsers.length;o++)if(this.rankUsers[o].role.playerId==i[a]){n.push(this.rankUsers[o]);break}var s=0;for(a=0;a<n.length;a++)this.rankHeadList[s]&&(this.rankList[s].active=!0,this.rankHeadList[s].initWithTeenPattiUser(n[a]),this.rankNameList[s].string=n[a].strTPName,s++);for(a=s;a<this.rankList.length;a++)this.rankList[a].active=!1},onOpenRank:function(e){this.rankPanel.active=!0},onCloseRank:function(e){this.rankPanel.active=!1}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClampLabel:"ClampLabel",Command:"Command",FacebookIcon:"FacebookIcon",TeenPattiUser:"TeenPattiUser"}],Rate:[function(e,t,i){"use strict";cc._RF.push(t,"9d23clyTNFAC6vwT9qAqDWd","Rate");var n=e("BaseUI");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},onRateBtnClk:function(e){this.closeUI(),this.gameCore.gameMng.openMarket()},closeUI:function(){this._super(),this.gameCore.initPopupMng.rateUsComplete=!0}}),cc._RF.pop()},{BaseUI:"BaseUI"}],ReadyToDeclarePopup:[function(e,t,i){"use strict";cc._RF.push(t,"bd2e1Wcv21ONrhNiUMy1yDr","ReadyToDeclarePopup");var n=e("BaseUI");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},setClickYesCallback:function(e){this.hClickYesCb=e},setClickNoCallback:function(e){this.hClickNoCb=e},onYesBtnClk:function(e){this.hClickYesCb&&this.hClickYesCb(),this.closeUI()},onNoBtnClk:function(e){this.hClickNoCb&&this.hClickNoCb(),this.closeUI()},onBackButtonClk:function(){this.canClose&&(this.hClickNoCb&&this.hClickNoCb(),this.closeUI())},closeUI:function(){this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI"}],ReceiveGift:[function(e,t,i){"use strict";cc._RF.push(t,"cb5833kq5ZG4ZLuTvfb2EXk","ReceiveGift");var n=e("AudioUtils");cc.Class({extends:cc.Component,properties:{nGiftID:-1,spnGift:sp.Skeleton,spnGiftCanvas:sp.Skeleton,targetSpnGift:{default:null,visible:!1},arrSound:{type:cc.AudioClip,default:[]},hClickCb:null,bSoundEffect:{visible:!1,default:!1}},onLoad:function(){this.node1=new cc.Node},setGiftID:function(e){this.nGiftID=e},setSenderSeat:function(e){this.objSender=e},setReceiverSeat:function(e){this.objReceiver=e},setClickCb:function(e){this.hClickCb=e},setFinishCb:function(e){this.hFinishCb=e},setSoundEnable:function(e){this.bSoundEffect=e},startSent:function(){var e=this;if(this.objSender){var t=this.objSender.getGiftSendPostion(this.objReceiver.seatId);t=this.node.parent.convertToNodeSpaceAR(t);var i=this.objReceiver.getGiftReceivePostion(this.objSender.seatId,this.nGiftID);i=this.node.parent.convertToNodeSpaceAR(i),this.targetSpnGift=this.spnGift,this.spnGiftCanvas&&(needDisableEffect?(this.spnGift.node.removeFromParent(),this.targetSpnGift=this.spnGiftCanvas):this.spnGiftCanvas.node.removeFromParent()),this.targetSpnGift.paused=!1,this.node.setPosition(t),this.repeatCount=0,5==e.nGiftID&&this.bSoundEffect&&n.playEffect(e.arrSound[0]),this.node.runAction(cc.sequence(cc.delayTime(.1),cc.moveTo(.8,i),cc.callFunc(function(){e.targetSpnGift.paused=!1,e.node.removeFromParent(),(e.objReceiver.objGiftContainer?e.objReceiver.objGiftContainer:e.objReceiver.node).addChild(e.node);var t=e.objReceiver.node.convertToNodeSpaceAR(e.objReceiver.getGiftReceivePostion(e.objSender.seatId,e.nGiftID));e.node.setPosition(t),e.targetSpnGift.loop=!1;var i={13:2,14:3,17:3,20:2,21:2};e.nGiftID,e.targetSpnGift.setStartListener(function(t){if("animation2"==t.animation.name){var i={13:.3,14:.1,21:.3},a=i.hasOwnProperty(e.nGiftID)?i[e.nGiftID]:.2;e.node1.runAction(cc.sequence(cc.delayTime(a),cc.callFunc(function(){e.bSoundEffect&&e.arrSound&&n.playEffect(e.arrSound[5==e.nGiftID?1:0])})))}});for(var a=0;a<(i[e.nGiftID]?i[e.nGiftID]:1);a++)e.targetSpnGift.addAnimation(2,"animation2",!1);e.targetSpnGift.setCompleteListener(function(){for(var t in e.repeatCount++,i)if(t==e.nGiftID&&e.repeatCount<i[t])return;e.node.stopAllActions(),e.onAnimFinish()})})))}},onAnimFinish:function(){this.targetSpnGift.addAnimation(2,"animation3",!1),this.targetSpnGift.setCompleteListener(function(){}),this.targetSpnGift.loop=!1,this.targetSpnGift.paused=!1;for(var e=!1,t=[12,15],i=0;i<t.length;i++)if(t[i]==this.nGiftID){e=!0;break}if(e)this.hFinishCb&&this.hFinishCb(),this.node.removeFromParent();else{var n=this;this.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(function(){n.hFinishCb&&n.hFinishCb(),n.node.removeFromParent()})))}},onBtnClicked:function(){this.hClickCb&&this.hClickCb()}}),cc._RF.pop()},{AudioUtils:"AudioUtils"}],Reconnecting:[function(e,t,i){"use strict";cc._RF.push(t,"2bc4bz/ZuRCY5HwUDA3FaDE","Reconnecting");var n=e("BaseUI");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},playUIOpenAudioEffect:function(){},playUICloseAudioEffect:function(){},onBlackBgTouchEnd:function(e){e.stopPropagation()},onBackButtonClk:function(){}}),cc._RF.pop()},{BaseUI:"BaseUI"}],RedeemCode:[function(e,t,i){"use strict";cc._RF.push(t,"51fc7Wc2+NOXrhrEQVNvAqt","RedeemCode");e("LanguageData");var n=e("GameUtils"),a=e("Command"),o=e("BaseUI");cc.Class({extends:o,properties:{data:{default:null,visible:!1},contentLabel:cc.Label,getRewardBtn:cc.Button},setInitData:function(e){this.data=e,this.updateContentLabel()},initComplete:function(){this._super(),this.updateContentLabel(),this.gameCore.uiMng.addListener(a.SERVER_CMD_REDEEM_CODE,this.onRedeemCode)},updateContentLabel:function(){this.data&&(this.contentLabel.string="You've Got "+n.formatNumberWithRules(this.data.chips)+" Chips")},onRedeemCode:function(e){},onRewardBtnClk:function(e){this.data&&(this.gameCore.uiMng.addListener(a.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),ITeenPatti.sendMsg(a.SERVER_CMD_REDEEM_CODE,{i:this.data.gid}))},onChipsGet:function(e){this.gameCore.gameMng.playChipsFly(e,this.getRewardBtn.node.position,0),this.gameCore.uiMng.removeListener(a.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.closeUI()},closeUI:function(){this._super(),this.gameCore.initPopupMng.redeemCodeComplete=!0}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],ResLoader:[function(e,t,i){"use strict";cc._RF.push(t,"656ccR5KiBP8Jb18KMuiKvs","ResLoader");cc.Class({name:"ResLoader",properties:{cacheDir:{visible:!1,default:null}},ctor:function(){},load:function(e,t){"string"!=typeof e||this.loadImage(e,t)},loadImage:function(e,t){"http"!=e.substr(0,4)?this.loadLocal(e,t):this.loadRemote(e,t)},loadLocal:function(e,t){cc.loader.loadRes(e,cc.Texture2D,function(i,n){if(i)return LogUtil.err("ResLoader","Load Image Fail "+e,i),void t(e);t(e,n)})},loadRemote:function(e,t){cc.loader.load(e,function(i,n){if(i)return LogUtil.err("ResLoader","Load Image Fail "+e,i),void t(e);t(e)})}});cc._RF.pop()},{}],RoomLoader:[function(e,t,i){"use strict";cc._RF.push(t,"ea35bzQ/GVDuoJmnh/7uB1y","RoomLoader");var n=e("AELoader"),a=e("EmojiCache"),o=e("DealerCache"),s=e("PattiWarTable");cc.Class({extends:cc.Component,properties:{arrEmojiID:{visible:!1,default:[]},arrDealerID:{visible:!1,default:[]},arrEmojiTask:{visible:!1,default:[]},arrDealerTask:{visible:!1,default:[]},arrTask:{visible:!1,default:[]},loader:{visible:!1,default:null},emojiCache:{visible:!1,type:a,default:null},dealerCache:{visible:!1,type:o,default:null},arrHandler:{visible:!1,default:[]}},onLoad:function(){this.emojiCache=cc.director.getScene().getChildByName("Canvas").getComponent("EmojiCache"),this.dealerCache=cc.director.getScene().getChildByName("Canvas").getComponent("DealerCache"),this.loader=new n(10,10,".tmp"),this.loader.setOnTaskSuccCb(handler(this,this.onDownSucc)),this.loader.setOnTaskFailCb(handler(this,this.onDownFail))},start:function(){ITeenPatti.getCurTable()instanceof s||(this.loadTableRes(),this.loadDealerRes()),this.loadEmojiRes();for(var e=0;e<this.arrTask.length;e++)this.loader.createImageTask(this.arrTask[e].url,this.arrTask[e].cacheDir)},loadTableRes:function(){},loadDealerRes:function(){if(this.dealerCache){this.arrDealerID=[2,3,4,5,6,7,8,9,14];for(var e=0;e<this.arrDealerID.length;e++){var t=this.arrDealerID[e],i=this.dealerCache.getTableUrl(t),n=this.dealerCache.getStoreUrl(t);this.arrDealerTask.push({id:t,tableUrl:i,storeUrl:n,isLoad:!1}),this.arrTask.push({url:i,cacheDir:null}),this.arrTask.push({url:n,cacheDir:null}),this.arrHandler[i]=handler(this,this.onDealerDownSucc),this.arrHandler[n]=handler(this,this.onDealerDownSucc)}}},loadEmojiRes:function(){for(var e=this.emojiCache.getEmojiCount(),t=0;t<e;t++){var i=t,n=this.emojiCache.getEmojiUrl(i);this.arrEmojiTask.push({id:i,url:n,isLoad:!1}),this.arrTask.push({url:n,cacheDir:null}),this.arrHandler[n]=handler(this,this.onEmojiDownSucc)}},onDownFail:function(e){this.node&&this.node.isValid},onDownSucc:function(e){if(this.node&&this.node.isValid){var t=this.arrHandler[e];t&&t(e)}},onEmojiDownSucc:function(e){for(var t=0,i=0;i<this.arrEmojiTask.length;i++){var n=this.arrEmojiTask[i];if(n.url==e){var a=this.loader.cache.getImageByKey(e);this.emojiCache.setEmojiFrame(n.id,new cc.SpriteFrame(a))}this.emojiCache.isEmojiLoad(n.id)&&t++}this.arrEmojiTask.length<=t&&ITeenPatti.onMsgReceived("EmojiLoad",{})},onDealerDownSucc:function(e){for(var t=0;t<this.arrDealerTask.length;t++){var i=this.arrDealerTask[t];if(i.storeUrl==e||i.tableUrl==e){if(this.arrDealerTask[t].isLoad=!0,i.tableUrl==e){var n=this.loader.cache.getImageByKey(e);this.dealerCache.setTableFrame(i.id,new cc.SpriteFrame(n))}else if(i.storeUrl==e){var a=this.loader.cache.getImageByKey(e);this.dealerCache.setStoreFrame(i.id,new cc.SpriteFrame(a))}this.dealerCache.isDealerLoad(i.id)&&ITeenPatti.onMsgReceived("DealerLoad",{id:i.id});break}}}}),cc._RF.pop()},{AELoader:"AELoader",DealerCache:"DealerCache",EmojiCache:"EmojiCache",PattiWarTable:"PattiWarTable"}],RoomMsgHistory:[function(e,t,i){"use strict";cc._RF.push(t,"a967eHbx8BAlafH5yKx+lqP","RoomMsgHistory");cc.Class({name:"RoomMsgHistory",properties:{arrMsgList:[],arrBlockID:[],arrCmdHandler:{default:{}}},ctor:function(){this.arrCmdHandler.PublicMessage=handler(this,this.onPublicMessage),this.arrCmdHandler.sendmessage=handler(this,this.onSendMessage)},getAllMsg:function(){return this.arrMsgList},addBlockID:function(e){this.isBlocked(e)||this.arrBlockID.push(e)},removeBlockID:function(e){for(var t=0;t<this.arrBlockID.length;t++)if(e==this.arrBlockID[t])return void this.arrBlockID.splice(t,1)},isBlocked:function(e){for(var t=0;t<this.arrBlockID.length;t++)if(e==this.arrBlockID[t])return!0;return!1},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onPublicMessage:function(e,t){for(var i=0;i<this.arrBlockID.length;i++)if(""+t.id==this.arrBlockID[i])return;this.arrMsgList.push({id:t.id,name:t.name,msg:t.msg})},onSendMessage:function(e,t){for(var i=0;i<this.arrBlockID.length;i++)if(""+t.id==this.arrBlockID[i])return;this.arrMsgList.push({id:t.id,name:t.name,msg:t.msg})}});cc._RF.pop()},{}],RoomProfile:[function(e,t,i){"use strict";cc._RF.push(t,"d0b724TPidA9KycnjGjFQDd","RoomProfile");cc.Class({name:"RoomProfile",properties:{roomType:-1,nRoomID:0,gameId:"",strRoomName:"",isNoLimit:!1,isDeluxe:!1,isCasinoWar:!1,isAB:!1,isTournament:!1,nRoomLevel:1,nInitBootAmount:0,nBootAmount:0,nMaxBlinds:0,nChaalLimit:0,nPotLimit:0,nStakeAmout:0,nPool:0,tipAmount:0,nBaseGift:0,nCompareChaalLimit:{get:function(){return this.roomType==ROOM_TYPE.NOLIMIT?64*this.nBootAmount:this.nChaalLimit}},nBetChips:0,nAddNum:0,city:1,waitTime:0,commissionPercent:1},setRoomInfo:function(e,t){this.nRoomID=e,this.strRoomName=t},onRoomJoin:function(e,t){this.nRoomID=t.room.id,this.strRoomName=t.room.name,t.room.variables.ba&&(this.nInitBootAmount=t.room.variables.ba.value,this.nBootAmount=t.room.variables.ba.value),t.room.variables.gi&&(this.gameId=t.room.variables.gi.value),t.room.variables.mb&&(this.nMaxBlinds=t.room.variables.mb.value),t.room.variables.cl&&(this.nChaalLimit=t.room.variables.cl.value),t.room.variables.pl&&(this.nPotLimit=t.room.variables.pl.value),t.room.variables.sa&&(this.nStakeAmout=t.room.variables.sa.value),t.room.variables.po&&(this.nPool=t.room.variables.po.value),t.room.variables.bc&&(this.nBetChips=t.room.variables.bc.value),t.room.variables.an&&(this.nAddNum=t.room.variables.an.value),t.room.variables.tip&&(this.tipAmount=t.room.variables.tip.value),t.room.variables.gift&&(this.nBaseGift=t.room.variables.gift.value),t.room.variables.l&&(this.nRoomLevel=t.room.variables.l.value+1),t.room.variables.c&&(this.city=t.room.variables.c.value),t.room.variables.pwait&&(this.waitTime=t.room.variables.pwait.value),t.room.variables.brpt&&(this.commissionPercent=t.room.variables.brpt.value)},onRoomUpdate:function(e,t){this.nRoomID=t.room.id,this.strRoomName=t.room.name,this.nBootAmount=t.room.variables.ba.value,this.nMaxBlinds=t.room.variables.mb?t.room.variables.mb.value:0,this.nChaalLimit=t.room.variables.cl?t.room.variables.cl.value:0,this.nPotLimit=t.room.variables.pl?t.room.variables.pl.value:0,this.nStakeAmout=t.room.variables.sa?t.room.variables.sa.value:0,this.nPool=t.room.variables.po?t.room.variables.po.value:0,t.room.variables.pwait&&(this.waitTime=t.room.variables.pwait.value),t.room.variables.gi&&(this.gameId=t.room.variables.gi.value),t.room.variables.brpt&&(this.commissionPercent=t.room.variables.brpt.value)},getRoomLevel:function(){var e=[20,100,500,1e3,5e3,2e4,1e5,5e5,1e6];this.isDeluxe&&(e=[100,400,1e3,4e3,1e4,4e4,2e5,1e6,2e6]);for(var t=0;t<e.length;t++)if(this.nBootAmount<=e[t])return t+1;return e.length}});cc._RF.pop()},{}],RoomResetAction:[function(e,t,i){"use strict";cc._RF.push(t,"d3400O5bUxKp4reE0QrgZ0/","RoomResetAction"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],RoomSummaryABPVP:[function(e,t,i){"use strict";cc._RF.push(t,"ca41a+DFT9DWKA336fuhHnn","RoomSummaryABPVP");var n=e("BaseUI");cc.Class({extends:n,properties:{contentLabel:cc.Label},onLoad:function(){this._super()},updateUI:function(e,t){this.contentLabel.string=e,this.confirmFun=t},onConfirmBtnClk:function(e){this.closeUI(),this.confirmFun&&this.confirmFun()},onBlackBgTouchEnd:function(e){e.stopPropagation()},onBackButtonClk:function(){}}),cc._RF.pop()},{BaseUI:"BaseUI"}],RoomSummaryGold:[function(e,t,i){"use strict";cc._RF.push(t,"e2c3aQZfGZE7I1GhQctoc6r","RoomSummaryGold");var n=e("BaseUI"),a=(e("Command"),e("LanguageData")),o=(e("DataAnalysisKey"),e("GameUtils"));cc.Class({extends:n,properties:{contentLabel:cc.Label},onLoad:function(){this._super()},initComplete:function(){this.contentLabel.string=a.t(this.gameCore.gameMng.lastGameEarnGold>0?"label_text.room_summary_gold_win":"label_text.room_summary_gold_lose",{gold:o.formatNumberWithRules(Math.abs(this.gameCore.gameMng.lastGameEarnGold))}),this.gameCore.gameMng.lastGameEarnGold=0,this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData"}],RoomSummary:[function(e,t,i){"use strict";cc._RF.push(t,"93553x0/AhGA50kTfwnVWVa","RoomSummary");var n=e("BaseUI"),a=(e("Command"),e("LanguageData")),o=e("DataAnalysisKey"),s=e("GameUtils");cc.Class({extends:n,properties:{contentLabel:cc.Label,okayBtn:cc.Node,maybeLaterBtn:cc.Node,rateUsBtn:cc.Node},onLoad:function(){this._super()},initComplete:function(){this.okayBtn.active=cc.sys.isBrowser||this.gameCore.gameMng.lastGameEarn<=this.gameCore.userMng.myself.nChips/10,this.maybeLaterBtn.active=this.rateUsBtn.active=!this.okayBtn.active,this.contentLabel.string=a.t(this.gameCore.gameMng.lastGameEarn>0?"label_text.room_summary_desc":"label_text.room_summary_desc1",{chips:s.formatNumberWithRules(Math.abs(this.gameCore.gameMng.lastGameEarn))}),this.gameCore.gameMng.lastGameEarn=0,this._super(),this.gameCore.dataAnalysisMng.sendData(o.POPUP_CHIPSCHANGE_LOBBY),this.gameCore.dataAnalysisMng.sendData(this.rateUsBtn.active?o.POPUP_SUMMARY_RATE:o.POPUP_SUMMARY_NORMAL)},onRateUsBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(o.CLICK_RATE_SUMMARY,this.gameCore.dataAnalysisMng.gameBaseData),this.closeUI(),this.gameCore.gameMng.openMarket()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",LanguageData:"LanguageData"}],RootComponent:[function(e,t,i){"use strict";cc._RF.push(t,"295441bgflFYqKs0K/KdY+t","RootComponent");var n=e("Command");cc.Class({extends:cc.Component,properties:{isBackground:{default:!1,visible:!1}},onLoad:function(){},onEnterForeground:function(){this.isBackground=!1},onEnterBackground:function(){this.isBackground=!0},removeListenerWithTarget:function(){this.gameCore&&this.gameCore.uiMng.removeListenerWithTarget(this)},removeAllListener:function(){if(this.removeListenerWithTarget(),this.node){var e=this.node.children;if(e.length)for(var t=0;t<e.length;t++)if(e[t])for(var i=e[t].getComponentsInChildren("BaseComponent"),n=0;n<i.length;n++)i[n].removeListenerWithTarget()}},closeUI:function(){this.removeAllListener(),this.hideNetworkDelayLoading()},gameCoreSetComplete:function(){this.injectGameCore()},injectGameCore:function(){if(this.node)for(var e=this.node.children,t=0;t<e.length;t++)if(e[t])for(var i=e[t].getComponentsInChildren("BaseComponent"),n=0;n<i.length;n++)i[n].gameCore=this.gameCore},showDelayLoading:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.indicator=this.gameCore.uiMng.showLoading1(e,t,i)},showNetworkDelayLoading:function(){this.scheduleOnce(this.showDelayLoading,.1)},hideNetworkDelayLoading:function(){this.unschedule(this.showDelayLoading),this.gameCore&&this.gameCore.uiMng.hideLoading1(this)},refreshLocalizedLabel:function(){if(this.node){for(var e=this.node.children,t=[],i=0;i<e.length;++i)if(e[i]){var n=e[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,n)}for(var a=0;a<t.length;++a){t[a].updateLabel()}}},refreshLocalizedSprite:function(){if(this.node){for(var e=this.node.children,t=[],i=0;i<e.length;++i)if(e[i]){var n=e[i].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(t,n)}for(var a=0;a<t.length;++a){t[a].fetchRender()}}},i18nRendersUpdate:function(){if(this.node)for(var e=this.node.children,t=0;t<e.length;t++)if(e[t])for(var i=e[t].getComponentsInChildren("BaseComponent"),n=0;n<i.length;n++)i[n].i18nRendersUpdate()},i18nFontUpdate:function(){if(this.node)for(var e=this.node.children,t=0;t<e.length;t++)if(e[t]){for(var i=e[t].getComponentsInChildren(cc.Label),n=0;n<i.length;n++)i[n].isSystemFontUsed||-1!=i[n].name.indexOf("noFont")||("bn"==this.gameCore.gameMng.curLanguage?(i[n].useSystemFont=!0,i[n].fontFamily="Noto Sans Bengali",i[n].fontSize=i[n].fontSize):-1!=i[n].name.indexOf("Bold")?i[n].font=this.gameCore.gameMng.getBoldFont():i[n].font=this.gameCore.gameMng.getRegularFont());for(i=e[t].getComponentsInChildren(cc.RichText),n=0;n<i.length;n++)-1==i[n].name.indexOf("noFont")&&("bn"==this.gameCore.gameMng.curLanguage?i[n].font=null:-1!=i[n].name.indexOf("Bold")?i[n].font=this.gameCore.gameMng.getBoldFont():i[n].font=this.gameCore.gameMng.getRegularFont())}},registerChipsPauseResumeListeners:function(){this.gameCore.uiMng.addListener(n.UI_CMD_PAUSE_CHIPS_REFRESH,this,this.onPauseChipsRefresh),this.gameCore.uiMng.addListener(n.UI_CMD_RESUME_CHIPS_REFRESH,this,this.onResumeChipsRefresh)},onPauseChipsRefresh:function(){this.isChipsRefreshPaused=!0},onResumeChipsRefresh:function(){this.isChipsRefreshPaused=!1},getAllChildComponentByType:function(e){for(var t=[],i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.node).children,n=0;n<i.length;n++)if(i[n]){var a=i[n].getComponentsInChildren(e);a.length>0&&(t=t.concat(a))}return t}}),cc._RF.pop()},{Command:"Command"}],RummyCardBar:[function(e,t,i){"use strict";cc._RF.push(t,"e36d6X2+MdOQY4ql6en698G","RummyCardBar");var n=e("BaseComponent"),a=e("Command"),o=e("UIInfo"),s="1st_life",r="2nd_life",l="1st_life_needed",c="2nd_life_needed";cc.Class({extends:n,properties:{seatId:0,arrCard:[cc.Sprite],arrCardID:[],dealCount:0,bIsCardShow:!1,posX13:0,posX14:0,cardgroupPrefab:cc.Prefab},onLoad:function(){this._super(),this.dealCount=0,this.cardOriPos=[],this.cardOriPos13=[],this.deltaUp=20,this.noCardTouch=!1,this.selectCardId=null,this.tmpMoveOnIndex=-1,this.tmpMoveOnDelta=0,this.tmpgroupCardIndex=[],this.state=SEAT_RUMMYSTATE.EMPTY,this.SeqType={FirstLife:1,SecondLife:2,Sets:3,Scatter:4},this.posX13=-.8,this.posX14=-.8;var e=cc.visibleRect.width/1136*.96;e>1&&(e=1),this.node.scale=e,this.groupCardIndex=[{begin:0,end:12,style:this.SeqType.Scatter,gcolor:3,text:""}];for(var t=0;t<this.arrCard.length;t++){this.arrCard[t].node.zIndex=t;var i=this.arrCard[t].node.x,n=this.arrCard[t].node.y;this.cardOriPos.push({x:i,y:n}),this.addCardTouchEvent(this.arrCard[t],t)}var a=this.cardOriPos[0].x,o=(this.cardOriPos[this.cardOriPos.length-1].x-a)/(this.arrCard.length-2);for(t=0;t<this.arrCard.length;t++)this.cardOriPos13.push({x:a+t*o,y:this.cardOriPos[0].y});this.inDealCardEffect=!1,this.isPlayedMoveCardAudio=!1;var s=cc.v2(0,0);ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().contrller&&ITeenPatti.getCurTable().contrller.dealCardStartPos&&(s=ITeenPatti.getCurTable().contrller.dealCardStartPos.convertToWorldSpaceAR(cc.v2(0,0))),this.dealCardStartPos=this.node.convertToNodeSpaceAR(s);var r=cc.v2(0,0);ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().contrller&&ITeenPatti.getCurTable().contrller.winAreaPos&&(r=ITeenPatti.getCurTable().contrller.winAreaPos.convertToWorldSpaceAR(cc.v2(0,0))),this.worldWinAreaPos=this.node.convertToNodeSpaceAR(r),this.lastArrCardID=null,this.lastCardGroup=null,this.roundId=-1},getUserCard:function(){return this.arrCardID},addCardTouchEvent:function(e,t){var i,n,a=this,s=this.cardOriPos,r=s&&s.length>1?(s[1].x-s[0].x)/2:41,l=s[t].x,c=s[t].y,h=10,u=cc.visibleRect;function d(u){if(!a.inDealCardEffect&&0==a.noCardTouch){LogUtil.debug("onTouchEnd","..."),a.gameCore&&a.gameCore.gameMng.stopAudioEffect(a.moveCardAudioID),a.isPlayedMoveCardAudio=!1,a.arrCard[13].node.active||(s=a.cardOriPos13,r=s&&s.length>1?(s[1].x-s[0].x)/2:44.4);var d=ITeenPatti.getCurTable(),g=a.arrCardID,p=!1;if(d){var C=d.contrller.centerSeat.winArea.width,f=d.contrller.centerSeat.winArea.height;e.node.x>a.worldWinAreaPos.x-C&&e.node.x<a.worldWinAreaPos.x+C&&e.node.y>a.worldWinAreaPos.y-f&&e.node.y<a.worldWinAreaPos.y+f&&(p=!0)}if(d.contrller.centerSeat.isActive&&1==a.arrCard[13].node.active&&p)a.gameCore.uiMng.openUI(o.READY_TO_DECLARE_POPUP,function(i){i&&(i.setClickYesCallback(function(){e.node.active=!1,e.node.zIndex=t,a.selectCardId=t,d.contrller.centerSeat.onBtnWinClicked()}),i.setClickNoCallback(function(){m()}))});else{if(d.contrller.centerSeat.isActive&&1==a.arrCard[13].node.active&&e.node.y>=245)return e.node.active=!1,e.node.zIndex=t,a.selectCardId=t,void d.contrller.centerSeat.onBtnDiscardClicked();if(20==e.node.zIndex){for(var b,I=0;I<s.length;I++)if((S=s[I].x-e.node.x)>=-r&&S<r){b=I;break}if(s[s.length-1].x<e.node.x?b=s.length-1:s[0].x>e.node.x&&(b=0),null!=b){var _=g[t];b!=t&&(t<b?(g.splice(b+1,0,_),g.splice(t,1)):t>b&&(g.splice(b,0,_),g.splice(t+1,1))),a.onAfterMoveCardGroup(t,b,a.groupCardIndex,S),a.updateSelectedCard(t,b),a.mergeOneCardGroup(g,a.groupCardIndex),g=a.arrCardID,a.updateArrCardGroup(g,a.groupCardIndex),a.updateArrCardGroupFrame(a.groupCardIndex),a.updateArrCardFrame(),a.tmpMoveOnIndex=-1,a.tmpMoveOnDelta=0}}else{var S,P=cc.v2(e.node.x,e.node.y),T=cc.v2(i,n);(S=P.sub(T).mag())<h?(a.gameCore.gameMng.playAudioEffect("selectCard"),n===c+a.deltaUp?e.node.y=c:e.node.y=c+a.deltaUp):e.node.y=c}e.node.x=l,e.node.zIndex=t,a.afterTouchEnd()}}}function m(){e.node.x=l,e.node.y=c,e.node.zIndex=t;for(var i=a.groupCardIndex.length-1;i>=0;i--){var n=a.groupCardIndex[i];n.grouframe&&(n.grouframe.removeFromParent(!0),n.grouframe=null)}a.updateArrCardGroup(a.arrCardID,a.groupCardIndex),a.updateArrCardGroupFrame(a.groupCardIndex),a.updateArrCardFrame(),a.afterTouchEnd()}e.node.on("touchstart",function(t){a.inDealCardEffect||(LogUtil.debug("onTouchStart","..."),0==a.noCardTouch&&(i=e.node.x,n=e.node.y),this.isPlayedMoveCardAudio=!1)},e),e.node.on("touchmove",function(o){if(!a.inDealCardEffect&&0==a.noCardTouch){a.arrCard[13].node.active||(s=a.cardOriPos13,r=s&&s.length>1?(s[1].x-s[0].x)/2:44.4);var l=o.getDeltaX(),d=o.getDeltaY();if(e.node.x+=l/a.node.scaleX,e.node.y+=d/a.node.scaleY,e.node.y<c?e.node.y=c:e.node.y>u.y/2&&(e.node.y=u.y),e.node.x<-u.x/2?e.node.x=-u.x/2:e.node.x>u.x/2&&(e.node.x=u.x/2),20!=e.node.zIndex){var m=cc.v2(e.node.x,e.node.y),g=cc.v2(i,n);(C=m.sub(g).mag())>h&&(e.node.zIndex=20)}if(20==e.node.zIndex&&1==a.arrCard[13].node.active&&e.node.y>=245);else if(20==e.node.zIndex){var p,C;a.isPlayedMoveCardAudio||(a.moveCardAudioID=a.gameCore.gameMng.playAudioEffect("moveCard"),a.isPlayedMoveCardAudio=!0);for(var f=0;f<s.length;f++)if((C=s[f].x-e.node.x)>-r&&C<=r){p=f;break}if(s[s.length-1].x<e.node.x?p=s.length-1:s[0].x>e.node.x&&(p=0),a.tmpMoveOnIndex!=p||a.tmpMoveOnDelta<0!=C<0){for(f=a.tmpgroupCardIndex.length-1;f>=0;f--){var b=a.tmpgroupCardIndex[f];b.grouframe&&(b.grouframe.removeFromParent(!0),b.grouframe=null)}a.tmpMoveOnIndex=p,a.tmpMoveOnDelta=C,a.onMoveCardGroup(t,p);var I=a.cloneArrCardId();if(p!=t){var _=I[t];t<p?(I.splice(p+1,0,_),I.splice(t,1)):t>p&&(I.splice(p,0,_),I.splice(t+1,1))}var S=a.cloneGroupCardIndex();a.onAfterMoveCardGroup(t,p,S,C),a.onMoveUpdateArrCardGroup(I,S),a.tmpgroupCardIndex=S,a.onMoveUpdateArrCardGroupFrame(S)}}}},e),e.node.on("touchend",d,e),e.node.on("touchcancel",d,e)},afterTouchEnd:function(){var e=ITeenPatti.getCurTable();if(e&&e.contrller){for(var t=this.arrCard[13].node.active?this.cardOriPos:this.cardOriPos13,i=0;i<this.arrCard.length;i++)this.arrCard[i].node.x!=t[i].x&&(this.arrCard[i].node.x=t[i].x);var n=[];for(i=0;i<this.arrCard.length;i++){this.arrCard[i].node.y-t[i].y==this.deltaUp&&n.push(i)}this.arrCard[13].node.active&&1==n.length&&(e.contrller.centerSeat.btnGroup.node.active=!1,e.contrller.centerSeat.btnDiscard.node.active=!0,e.contrller.centerSeat.btnWin.node.active=!0),n.length>1&&(e.contrller.centerSeat.btnGroup.node.active=!0,e.contrller.centerSeat.btnDiscard.node.active=!1,e.contrller.centerSeat.btnWin.node.active=!1),n.length<=0&&(e.contrller.centerSeat.btnGroup.node.active=!1,e.contrller.centerSeat.btnDiscard.node.active=!1,e.contrller.centerSeat.btnWin.node.active=!1);for(var a=this.tmpgroupCardIndex.length-1;a>=0;a--){var o=this.tmpgroupCardIndex[a];o.grouframe&&(o.grouframe.removeFromParent(!0),o.grouframe=null)}}},cloneArrCardId:function(){for(var e=this.arrCardID,t=[],i=0;i<e.length;i++){var n=e[i];t.push(n)}return t},cloneGroupCardIndex:function(){for(var e=this.groupCardIndex,t=[],i=0;i<e.length;i++){var n=e[i];t.push({begin:n.begin,end:n.end,style:n.style,gcolor:n.gcolor,text:n.text})}return t},onMoveCardGroup:function(e,t){var i=this.cardOriPos;0==this.arrCard[13].node.active&&(t>=13&&(t=12),i=this.cardOriPos13);for(var n=0;n<this.arrCard.length;n++)e>t?n<t||n>e?this.arrCard[n].node.x=i[n].x:n>=t&&n<e&&(this.arrCard[n].node.x=i[n+1].x):t>e?n<e||n>t?this.arrCard[n].node.x=i[n].x:n>e&&n<=t&&(this.arrCard[n].node.x=i[n-1].x):e!=n&&(this.arrCard[n].node.x=i[n].x);for(n=this.groupCardIndex.length-1;n>=0;n--){var a=this.groupCardIndex[n];a.grouframe&&(a.grouframe.removeFromParent(!0),a.grouframe=null)}},onAfterMoveCardGroup:function(e,t,i,n){var a=13;0==this.arrCard[13].node.active&&(a=12,t>=13&&(t=12));for(var o=0,s=0,r=i.length-1;r>=0;r--){if(!i[r])return;e>=i[r].begin&&e<=i[r].end&&(o=r),t>=i[r].begin&&t<=i[r].end&&(s=r)}if(e===t)n>=0?0===e||i[o]&&e==i[o].begin&&(e==i[o].begin&&e==i[o].end?(i[o-1]&&i[o-1].end++,i[o].grouframe&&(i[o].grouframe.removeFromParent(!0),i[o].grouframe=null),i.splice(o,1)):(i[o-1]&&i[o-1].end++,i[o].begin++)):e===a||i[o]&&e==i[o].end&&(e==i[o].begin&&e==i[o].end?(i[o+1]&&i[o+1].begin--,i[o].grouframe&&(i[o].grouframe.removeFromParent(!0),i[o].grouframe=null),i.splice(o,1)):(i[o+1]&&i[o+1].begin--,i[o].end--));else if(e<t)if(i[s]&&t===i[s].end&&n<=0)if(i[o]&&e==i[o].begin&&e==i[o].end){for(r=0;r<i.length;r++)r<o||(r<=s?(i[r].begin--,i[r].end--):r===s+1&&i[r].begin--);i[o].grouframe&&(i[o].grouframe.removeFromParent(!0),i[o].grouframe=null),i.splice(o,1)}else for(r=0;r<i.length;r++)r<o||(r===o?i[r].end--:r<=s?(i[r].begin--,i[r].end--):r===s+1&&i[r].begin--);else if(o===s);else if(i[o]&&e==i[o].begin&&e==i[o].end){for(r=0;r<i.length;r++)r<o||(r<s?(i[r].begin--,i[r].end--):r===s&&i[r].begin--);i[o].grouframe&&(i[o].grouframe.removeFromParent(!0),i[o].grouframe=null),i.splice(o,1)}else for(r=0;r<i.length;r++)r<o||(r===o?i[r].end--:r<s?(i[r].begin--,i[r].end--):r===s&&i[r].begin--);else if(i[s]&&t===i[s].begin&&n>0&&0!=t)if(i[o]&&e==i[o].begin&&e==i[o].end){for(r=i.length-1;r>=0;r--)r>o||(r>=s?(i[r].begin++,i[r].end++):r===s-1&&i[r].end++);i[o].grouframe&&(i[o].grouframe.removeFromParent(!0),i[o].grouframe=null),i.splice(o,1)}else for(r=i.length-1;r>=0;r--)r>o||(r===o?i[r].begin++:r>=s?(i[r].begin++,i[r].end++):r===s-1&&i[r].end++);else if(o===s);else if(i[o]&&e==i[o].begin&&e==i[o].end){for(r=i.length-1;r>=0;r--)r>o||(r>s?(i[r].begin++,i[r].end++):r===s&&i[r].end++);i[o].grouframe&&(i[o].grouframe.removeFromParent(!0),i[o].grouframe=null),i.splice(o,1)}else for(r=i.length-1;r>=0;r--)r>o||(r===o?i[r].begin++:r>s?(i[r].begin++,i[r].end++):r===s&&i[r].end++);i[i.length-1]&&t>i[i.length-1].end&&(i[i.length-1].end=t);for(r=i.length-1;r>=0;r--){var l=i[r];l.grouframe&&(l.grouframe.removeFromParent(!0),l.grouframe=null)}},onMoveUpdateArrCardGroup:function(e,t){var i=ITeenPatti.getCurTable();if(i){for(var n=0;n<t.length;n++){var a=t[n];t[n].cards=[],t[n].style=this.getSequenceTypeByGroup(a,i.jokerCard,e);for(var o=a.begin;o<=a.end;o++)t[n].cards.push(e[o])}var h=0;for(n=0;n<t.length;n++)t[n].style==this.SeqType.FirstLife&&(0===h?(t[n].gcolor=1,t[n].text=s):1===h?(t[n].gcolor=1,t[n].text=r):(t[n].gcolor=1,t[n].text=""),h++);var u=0;for(n=0;n<t.length;n++)t[n].style==this.SeqType.SecondLife&&(0===h?(t[n].gcolor=2,t[n].text=l):1===h&&0==u?(t[n].gcolor=1,t[n].text=r):(t[n].gcolor=1,t[n].text=""),u++);for(n=0;n<t.length;n++)t[n].style==this.SeqType.Sets&&(0===h?(t[n].gcolor=2,t[n].text=l):1===h&&0===u?(t[n].gcolor=2,t[n].text=c):(t[n].gcolor=1,t[n].text=""));for(n=0;n<t.length;n++)t[n].style==this.SeqType.Scatter&&(t[n].gcolor=3,t[n].text="")}},onMoveUpdateArrCardGroupFrame:function(e){for(var t,i,n=this.arrCard[13].node.active?this.cardOriPos:this.cardOriPos13,a=0;a<e.length;a++)t=e[a],(i=cc.instantiate(this.cardgroupPrefab)).getComponent("RummyGroupframe").setProperty(t,n,a===e.length-1,this.arrCard[13].node.active),t.grouframe=i,this.node.addChild(i,21)},getDisCardIndex:function(e){if(null!=this.selectCardId)return this.selectCardId;for(var t=this.arrCard[13].node.active?this.cardOriPos:this.cardOriPos13,i=[],n=0;n<this.arrCard.length;n++){this.arrCard[n].node.y-t[n].y==this.deltaUp&&i.push(n)}if(null!=e){for(var a=i.length-1;a>=0;a--)if(this.arrCardID[i[a]]==e)return i[a];for(a=this.arrCardID.length-1;a>=0;a--)if(this.arrCardID[a]==e)return a}return i[0]},initCardPos:function(){for(var e=this.arrCard[13].node.active?this.cardOriPos:this.cardOriPos13,t=0;t<this.arrCard.length;t++)this.arrCard[t].node.y==e[t].y&&this.arrCard[t].node.x==e[t].x||(this.arrCard[t].node.x=e[t].x,this.arrCard[t].node.y=e[t].y),t<=this.arrCard.length-2&&(this.arrCard[t].node.active=!0)},getCardBackFrame:function(e){return cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache").getCardBackFrame()},getCardPos:function(e){return this.node.convertToWorldSpaceAR(this.arrCard[e-1].node.position)},getCardDeltaPos:function(e){var t=this.arrCard[13].node.active?this.cardOriPos:this.cardOriPos13;return this.arrCard[e].node.position.sub(t[e])},clearGroupFrame:function(){if(this.groupCardIndex&&this.groupCardIndex.length>0){for(var e=this.groupCardIndex.length-1;e>=0;e--){var t=this.groupCardIndex[e];t.grouframe&&(t.grouframe.removeFromParent(!0),t.grouframe=null)}this.groupCardIndex.length=0}},onRoundJIS:function(e,t){if(0==this.arrCardID.length&&null!=t.cards||this.roundId!=t.roundId){for(var i in this.arrCardID=[],this.clearGroupFrame(),this.roundId=t.roundId,t.cards)this.arrCardID.push(t.cards[i]);this.arrCardID.length>0&&(this.groupCardIndex=[{begin:0,end:12,style:this.SeqType.Scatter,gcolor:1,text:""}],this.initSortData(),this.updateArrCardGroup(this.arrCardID,this.groupCardIndex),this.whiteCard(),this.arrCard[13].node.active=!1,this.node.setPosition(this.posX13,this.node.y),this.inDealCardEffect=!0,this.stopDealCardEffect(t))}else if(14==this.arrCardID.length&&null!=t.cards&&this.roundId==t.roundId)if(t.nextId==ITeenPatti.getCurPlayer().rummyrole.playerId)ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().contrller&&ITeenPatti.getCurTable().contrller.centerSeat.winArea&&(ITeenPatti.getCurTable().contrller.centerSeat.winArea.active=!0);else if(null!=this.lastDrawCard){var n=this.getDisCardIndex(this.lastDrawCard);if(null!=n&&this.arrCardID[n]==this.lastDrawCard){for(var a=this.groupCardIndex.length-1;a>=0;a--){(o=this.groupCardIndex[a]).grouframe&&(o.grouframe.removeFromParent(!0),o.grouframe=null)}this.arrCardID.splice(n,1),this.selectCardId=null,this.arrCard[13].node.active=!1,this.node.setPosition(this.posX13,this.node.y),this.updateCardPos(),this.initCardPos(),this.afterDiscard(n,this.groupCardIndex),this.mergeOneCardGroup(this.arrCardID,this.groupCardIndex),this.updateArrCardGroup(this.arrCardID,this.groupCardIndex),this.updateArrCardGroupFrame(this.groupCardIndex),this.updateArrCardFrame();for(a=this.tmpgroupCardIndex.length-1;a>=0;a--){var o;(o=this.tmpgroupCardIndex[a]).grouframe&&(o.grouframe.removeFromParent(!0),o.grouframe=null)}this.lastDrawCard=null,ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().contrller&&ITeenPatti.getCurTable().contrller.centerSeat.winArea&&(ITeenPatti.getCurTable().contrller.centerSeat.winArea.active=!1)}}},onRoundReady:function(e){this.state=SEAT_RUMMYSTATE.READY,this.noCardTouch=!1,this.seatId=e,this.resetCard();var t=ITeenPatti.getCurTable();t&&(t.contrller.centerSeat.btnDeclare.node.active=!1,this.clearGroupFrame(),this.lastArrCardID=null,this.lastCardGroup=null)},onRoundNext:function(){ITeenPatti.getCurTable()&&this.stopDealCardEffect(null)},onRoundStart:function(e,t){this.clearGroupFrame(),this.lastArrCardID=null,this.lastCardGroup=null,t&&t.roundId&&(this.roundId=t.roundId);var i=ITeenPatti.getCurTable();if(i){for(var n in i.contrller.centerSeat.btnDeclare.node.active=!1,this.arrCardID=[],t.cards)this.arrCardID.push(t.cards[n]);if(!(this.arrCardID.length<1)){if(this.groupCardIndex=[{begin:0,end:12,style:this.SeqType.Scatter,gcolor:1,text:""}],this.initSortData(),this.updateArrCardGroup(this.arrCardID,this.groupCardIndex),!ITeenPatti.getCurPlayer().rummyrole||!ITeenPatti.getCurPlayer().rummyrole.isWatcher()&&ITeenPatti.getCurPlayer().rummyrole.isRoundPartner()){this.inDealCardEffect=!0;var a=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");for(n=0;n<this.arrCardID.length;n++)this.arrCard[n]&&(this.arrCard[n].node.stopAllActions(),this.arrCard[n].spriteFrame=a.getCardBackFrame(),this.arrCard[n].node.scale=.83,this.arrCard[n].node.setPosition(cc.v2(0,this.dealCardStartPos.y-1*(this.arrCardID.length-n)+(cc.visibleRect.height-640)/2)),this.arrCard[n].node.active=!0,this.arrCard[n].node.runAction(cc.rotateTo(0,0)),this.arrCard[n].node.getChildByName("jokermask").active=!1,LogUtil.debug("Cards","cards"+n+":"+this.arrCardID[n]+" is "+this.changeCardId2String(this.arrCardID[n])),this.dealCardEffect(n,t,this.arrCardID))}else this.stopDealCardEffect(t);this.whiteCard(),this.arrCard[13].node.active=!1,this.node.setPosition(this.posX13,this.node.y)}}},stopDealCardEffect:function(e){if(this.inDealCardEffect&&ITeenPatti.getCurTable()){this.gameCore&&this.gameCore.gameMng.stopAudioEffect(this.showMyCardsAudioID),this.gameCore&&this.gameCore.gameMng.stopAudioEffect(this.turnCardAudioID);var t=this.arrCard[13].node.active?this.cardOriPos:this.cardOriPos13;if(this.groupCardIndex)for(var i=this.groupCardIndex.length-1;i>=0;i--){var n=this.groupCardIndex[i];n.grouframe&&(n.grouframe.removeFromParent(!0),n.grouframe=null)}for(var a=0;a<this.arrCardID.length;a++)if(this.arrCard[a]){this.arrCard[a].node.stopAllActions(),this.arrCard[a].node.runAction(cc.moveTo(0,cc.v2(t[a]))),this.arrCard[a].node.scale=1,this.arrCard[a].node.runAction(cc.rotateTo(0,0)),this.arrCard[a].spriteFrame=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache").getCardFrameWithID(this.arrCardID[a]),this.arrCard[a].node.zIndex=a;var o=null;e?o=e.jokerCard:ITeenPatti.getCurTable()&&(o=ITeenPatti.getCurTable().jokerCard),o&&(this.arrCard[a].node.getChildByName("jokermask").active=this.isJokerCard(this.arrCardID[a],o))}this.updateArrCardGroupFrame(this.groupCardIndex),this.inDealCardEffect=!1}},dealCardEffect:function(e,t,i){var n=cc.callFunc(function(){0===e&&(this.turnCardAudioID=this.gameCore.gameMng.playAudioEffect("turnCard"))},this),a=cc.callFunc(function(){if(this.arrCard[e]){if(null==this.arrCardID[e]){this.arrCardID=i,this.groupCardIndex=[{begin:0,end:12,style:this.SeqType.Scatter,gcolor:1,text:""}],this.initSortData(),this.updateArrCardGroup(this.arrCardID,this.groupCardIndex);var n=ITeenPatti.getCurTable();n&&n.contrller&&n.contrller.stopDealCardEffect(t)}this.arrCard[e].spriteFrame=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache").getCardFrameWithID(this.arrCardID[e]),this.arrCard[e].node.zIndex=e}},this),o=cc.callFunc(function(){this.arrCard[e]&&(this.arrCard[e].node.zIndex=this.arrCard.length-e)},this),s=cc.callFunc(function(){if(0===e){var i=ITeenPatti.getCurTable();i&&i.contrller.dealCardEffect(t)}},this),r=cc.callFunc(function(){0===e&&this.updateArrCardGroupFrame(this.groupCardIndex)},this),l=cc.callFunc(function(){this.arrCard[e]&&(this.arrCard[e].node.getChildByName("jokermask").active=this.isJokerCard(this.arrCardID[e],t.jokerCard))},this),c=this.cardOriPos13,h=cc.spawn([cc.scaleTo(.5,1),cc.moveTo(.5,cc.v2(c[e])).easing(cc.easeIn(3))]);0===e&&(this.showMyCardsAudioID=this.gameCore.gameMng.playAudioEffect("showMyCards"));var u=.04*(this.arrCardID.length-e);this.arrCard[e].node.runAction(cc.sequence(cc.delayTime(u),h,s,o,cc.delayTime(.5),n,cc.rotateBy(0,0,180),cc.rotateBy(.2,0,-90),a,cc.rotateBy(.2,0,-90),cc.delayTime(1.8),l,r))},initSortData:function(){var e=this.arrCardID,t=this.codePokerId(e);t.sort(function(e,t){return e-t});for(var i=[],n={begin:0,end:0,style:this.SeqType.Scatter,gcolor:3,text:""},a=Math.floor(t[0]/100),o=0;o<=t.length;o++){var s=t[o];if(null==s&&n.end>=n.begin){i.push(n);break}Math.floor(s/100)==a?n.end=o:(n.end>=n.begin&&i.push(n),a=Math.floor(t[o]/100),n={begin:o,end:o,style:this.SeqType.Scatter,gcolor:3,text:""})}this.arrCardID=this.decodePokerId(t),this.groupCardIndex=i},updateArrCardFrame:function(){for(var e=this.arrCardID,t=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache"),i=0;i<e.length;i++)if(this.arrCard[i]){this.arrCard[i].spriteFrame=t.getCardFrameWithID(e[i]);var n=ITeenPatti.getCurTable();n&&this.isJokerCard(e[i],n.jokerCard)?this.arrCard[i].node.getChildByName("jokermask").active=!0:this.arrCard[i].node.getChildByName("jokermask").active=!1}},updateSelectedCard:function(e,t){var i=this.cardOriPos;0==this.arrCard[13].node.active&&(i=this.cardOriPos13,t>=13&&(t=12));for(var n=[],a=0;a<this.arrCard.length;a++){this.arrCard[a].node.y-i[a].y==this.deltaUp&&n.push(a)}if(e>t)for(var o=0;o<n.length;o++)n[o]===e?n[o]=t:n[o]<e&&n[o]>=t&&(n[o]+=1);else if(e<t)for(o=0;o<n.length;o++)n[o]===e?n[o]=t:n[o]<=t&&n[o]>e&&(n[o]-=1);for(a=0;a<this.arrCard.length;a++)this.arrCard[a].node.y=i[a].y;var s=null;for(o=0;o<n.length;o++)(s=n[o])&&this.arrCard[s]&&i[s]&&(this.arrCard[s].node.y=i[s].y+this.deltaUp)},changeCardId2String:function(e){var t=[2,102,202,302,3,103,203,303,4,104,204,304,5,105,205,305,6,106,206,306,7,107,207,307,8,108,208,308,9,109,209,309,10,110,210,310,11,111,211,311,12,112,212,312,13,113,213,313,14,114,214,314,520][e];return 520==t?"\u738b\u724c":["\u65b9\u5757","\u6885\u82b1","\u7ea2\u5fc3","\u9ed1\u6843"][Math.floor(t/100)]+["0","A","2","3","4","5","6","7","8","9","10","J","Q","K","A"][t%100]+" "},isJokerCard:function(e,t){var i=[2,102,202,302,3,103,203,303,4,104,204,304,5,105,205,305,6,106,206,306,7,107,207,307,8,108,208,308,9,109,209,309,10,110,210,310,11,111,211,311,12,112,212,312,13,113,213,313,14,114,214,314,520];return i[e]%100==i[t]%100},onUserAlive:function(){cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");for(var e=0;e<this.arrCard.length;e++){this.arrCard[e].node.active=!0}},onUserLose:function(e){},onUserDrop:function(e,t){this.blackCard(),this.noCardTouch=!0},onUserDraw:function(e,t){if(null!=t.card){this.arrCardID.push(t.card),this.arrCard[13].node.active=!0,this.node.setPosition(this.posX14,this.node.y),this.updateCardPos(),this.afterDraw(),this.updateArrCardGroup(this.arrCardID,this.groupCardIndex),this.updateArrCardGroupFrame(this.groupCardIndex);var i=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");this.arrCard[13].spriteFrame=i.getCardFrameWithID(t.card);var n=ITeenPatti.getCurTable();n&&this.isJokerCard(t.card,n.jokerCard)?this.arrCard[13].node.getChildByName("jokermask").active=!0:this.arrCard[13].node.getChildByName("jokermask").active=!1}},onUserDiscard:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.lastArrCardID=this.cloneArrCardId(),this.lastCardGroup=this.cloneGroupCardIndex();var n=this.getDisCardIndex(t.card);if(null!=n&&this.arrCardID[n]==t.card){for(var o=this.groupCardIndex.length-1;o>=0;o--){(c=this.groupCardIndex[o]).grouframe&&(c.grouframe.removeFromParent(!0),c.grouframe=null)}this.arrCardID.splice(n,1),this.selectCardId=null,this.arrCard[13].node.active=!1,this.node.setPosition(this.posX13,this.node.y),this.updateCardPos(),this.initCardPos(),this.afterDiscard(n),this.mergeOneCardGroup(this.arrCardID,this.groupCardIndex),this.updateArrCardGroup(this.arrCardID,this.groupCardIndex),this.updateArrCardGroupFrame(this.groupCardIndex),this.updateArrCardFrame();for(o=this.tmpgroupCardIndex.length-1;o>=0;o--){(c=this.tmpgroupCardIndex[o]).grouframe&&(c.grouframe.removeFromParent(!0),c.grouframe=null)}if(0==i){var s=ITeenPatti.getCurTable();if(s&&s.state!==UI_RUMMYTABLE_STATE.FINISH&&s.state!==UI_RUMMYTABLE_STATE.READY&&s.roundID===t.roundId){var r=this.getResult(),l=this.makeGroupToProtoObj();this.checkGroupValid(l)&&ITeenPatti.sendMsg(a.SERVER_CMD_RUMMY_DECLARETEMP,{group:l,result:r})}}}else{LogUtil.debug("onUserDiscard","this.arrCardID["+n+"] = "+this.arrCardID[n]+" not "+t.card);for(o=this.groupCardIndex.length-1;o>=0;o--){(c=this.groupCardIndex[o]).grouframe&&(c.grouframe.removeFromParent(!0),c.grouframe=null)}for(o=this.tmpgroupCardIndex.length-1;o>=0;o--){var c;(c=this.tmpgroupCardIndex[o]).grouframe&&(c.grouframe.removeFromParent(!0),c.grouframe=null)}this.selectCardId=null,this.arrCard[13].node.active=!1,this.node.setPosition(this.posX13,this.node.y),this.updateCardPos(),this.updateArrCardGroup(this.arrCardID,this.groupCardIndex),this.updateArrCardGroupFrame(this.groupCardIndex),this.updateArrCardFrame()}},checkGroupValid:function(e){if(!e)return!1;if(e.firstlife){if(!Number.isInteger(e.firstlife.style))return!1;if(e.firstlife.cards)for(var t=0;t<e.firstlife.cards.length;t++)if(!Number.isInteger(e.firstlife.cards[t]))return!1}if(e.secondlife){if(!Number.isInteger(e.secondlife.style))return!1;if(e.secondlife.cards)for(t=0;t<e.secondlife.cards.length;t++)if(!Number.isInteger(e.secondlife.cards[t]))return!1}if(e.otherlife)for(t=0;t<e.otherlife.length;t++){if(!Number.isInteger(e.otherlife[t].style))return!1;if(e.otherlife[t].cards)for(var i=0;i<e.otherlife[t].cards.length;i++)if(!Number.isInteger(e.otherlife[t].cards[i]))return!1}return!0},recoverUserDiscard:function(){if(this.lastArrCardID&&this.lastCardGroup){for(var e=this.groupCardIndex.length-1;e>=0;e--){(t=this.groupCardIndex[e]).grouframe&&(t.grouframe.removeFromParent(!0),t.grouframe=null)}this.arrCardID=[];for(e=0;e<this.lastArrCardID.length;e++){var t=this.lastArrCardID[e];this.arrCardID.push(t)}this.groupCardIndex=[];for(e=0;e<this.lastCardGroup.length;e++){t=this.lastCardGroup[e];this.groupCardIndex.push({begin:t.begin,end:t.end,style:t.style,gcolor:t.gcolor,text:t.text})}this.selectCardId=null,this.arrCard[13].node.active=this.arrCardID.length>=14,this.arrCardID.length>=14?this.node.setPosition(this.posX14,this.node.y):this.node.setPosition(this.posX13,this.node.y),this.updateCardPos(),this.initCardPos(),this.mergeOneCardGroup(this.arrCardID,this.groupCardIndex),this.updateArrCardGroup(this.arrCardID,this.groupCardIndex),this.updateArrCardGroupFrame(this.groupCardIndex),this.updateArrCardFrame();for(e=this.tmpgroupCardIndex.length-1;e>=0;e--){(t=this.tmpgroupCardIndex[e]).grouframe&&(t.grouframe.removeFromParent(!0),t.grouframe=null)}}},onUserTowin:function(e,t){this.state=SEAT_RUMMYSTATE.TOWIN;var i=ITeenPatti.getCurTable();i&&(i.contrller.centerSeat.btnDeclare.node.active=!0)},onUserDeclarewin:function(e,t){this.blackCard()},onOtherDeclarewin:function(e,t){if(1==t.result){var i=ITeenPatti.getCurTable();if(i&&i.state!==UI_RUMMYTABLE_STATE.FINISH&&i.state!==UI_RUMMYTABLE_STATE.READY&&i.roundID===t.roundId){i.contrller.centerSeat.btnDeclare.node.active=!0;var n=this.getResult(),o=this.makeGroupToProtoObj();null!=o&&ITeenPatti.sendMsg(a.SERVER_CMD_RUMMY_DECLARETEMP,{group:o,result:n})}}},onUserDeclare:function(e,t){},onUserDeclareTemp:function(e,t){if(t.is){for(var i=this.groupCardIndex.length-1;i>=0;i--){(n=this.groupCardIndex[i]).grouframe&&(n.grouframe.removeFromParent(!0),n.grouframe=null)}for(i=this.tmpgroupCardIndex.length-1;i>=0;i--){var n;(n=this.tmpgroupCardIndex[i]).grouframe&&(n.grouframe.removeFromParent(!0),n.grouframe=null)}for(var a in this.arrCardID=[],t.is)this.arrCardID.push(t.is[a]);this.groupCardIndex=[{begin:0,end:12,style:this.SeqType.Scatter,gcolor:1,text:""}],this.initSortData(),this.updateArrCardGroup(this.arrCardID,this.groupCardIndex),this.updateArrCardGroupFrame(this.groupCardIndex),this.updateArrCardFrame(),this.initCardPos()}},resetCard:function(){this.arrCardID=[],this.bIsCardShow=!1,this.bIsCardSeen=!1},blackCard:function(){for(var e=0;e<this.arrCard.length;e++)this.arrCard[e].node.color=new cc.Color(128,128,128),this.arrCard[e].node.getChildByName("jokermask").color=new cc.Color(128,128,128);this.noCardTouch=!0;for(var t=0;t<this.groupCardIndex.length;t++)this.groupCardIndex[t].grouframe&&this.groupCardIndex[t].grouframe.getComponent("RummyGroupframe").setDark()},whiteCard:function(){for(var e=0;e<this.arrCard.length;e++)this.arrCard[e].node.color=new cc.Color(255,255,255),this.arrCard[e].node.getChildByName("jokermask").color=new cc.Color(255,255,255);this.noCardTouch=!1;for(var t=0;t<this.groupCardIndex.length;t++)this.groupCardIndex[t].grouframe&&this.groupCardIndex[t].grouframe.getComponent("RummyGroupframe").setBright()},getGroupCards:function(){for(var e=this.arrCard[13].node.active?this.cardOriPos:this.cardOriPos13,t=[],i=0;i<this.arrCard.length;i++){this.arrCard[i].node.y-e[i].y==this.deltaUp&&t.push(i)}return t},swapSequence:function(e,t,i){if(t!=i){var n=e[t];e.splice(i,0,n),t<i?e.splice(t,1):t>i&&e.splice(t+1,1)}},swapSequences:function(e,t,i){for(var n=[],a=0;a<t.length;a++)n.push(e[t[a]]);t.sort(function(e,t){return t-e});for(a=0;a<t.length;a++)t[a]<i&&i--,e.splice(t[a],1);i<0&&(i=0);for(a=n.length-1;a>=0;a--)e.splice(i,0,n[a])},afterDiscard:function(e){for(var t=this.groupCardIndex,i=t.length-1;i>=0;i--){e==(n=t[i]).begin&&e==n.end?(t[i].grouframe&&(t[i].grouframe.removeFromParent(!0),t[i].grouframe=null),t.splice(i,1)):e>=n.begin&&e<=n.end?t[i].end--:e<n.begin&&(t[i].begin--,t[i].end--)}for(i=this.groupCardIndex.length-1;i>=0;i--){var n;(n=this.groupCardIndex[i]).grouframe&&(n.grouframe.removeFromParent(!0),n.grouframe=null)}},afterClickGroup:function(e,t,i){for(var n=t.length-1;n>=0;n--){for(var a=t[n],o=e.length-1;o>=0;o--){a==(r=e[o]).begin&&a==r.end?(e[o].grouframe&&(e[o].grouframe.removeFromParent(!0),e[o].grouframe=null),e.splice(o,1)):a>=r.begin&&a<=r.end?e[o].end--:a<r.begin&&(e[o].begin--,e[o].end--)}var s=t.length-1-n;this.swapSequence(i,a,i.length-s)}e.push({begin:i.length-t.length,end:i.length-1,style:this.SeqType.Scatter,gcolor:3,text:""});for(o=this.groupCardIndex.length-1;o>=0;o--){var r;(r=this.groupCardIndex[o]).grouframe&&(r.grouframe.removeFromParent(!0),r.grouframe=null)}},afterDraw:function(e){this.groupCardIndex.push({begin:this.arrCardID.length-1,end:this.arrCardID.length-1,style:this.SeqType.Scatter,gcolor:3,text:""});for(var t=this.groupCardIndex.length-1;t>=0;t--){var i=this.groupCardIndex[t];i.grouframe&&(i.grouframe.removeFromParent(!0),i.grouframe=null)}},mergeOneCardGroup:function(e,t){for(var i=[],n=0;n<t.length;n++){t[n].cards=[];for(var a=t[n].begin;a<=t[n].end;a++)t[n].cards.push(e[a]);i.push(t[n])}this.arrCardID=[],this.groupCardIndex=[];var o=null;for(n=0;n<i.length;n++){var s=i[n];if(s.cards.length>1){s.begin=this.arrCardID.length;for(a=0;a<s.cards.length;a++){var r=s.cards[a];this.arrCardID.push(r)}s.end=this.arrCardID.length-1,this.groupCardIndex.push(s)}else o?o.cards.push(s.cards[0]):o=s}if(o){o.begin=this.arrCardID.length;for(n=o.cards.length-1;n>=0;n--){r=o.cards[n];this.arrCardID.push(r)}o.end=this.arrCardID.length-1,this.groupCardIndex.push(o)}},updateArrCardGroup:function(e,t){var i=ITeenPatti.getCurTable();if(i){for(var n=0;n<t.length;n++)if(null!=t[n]){var a=t[n];t[n].cards=[],t[n].style=this.getSequenceTypeByGroup(a,i.jokerCard,e);for(var o=a.begin;o<=a.end;o++)t[n].cards.push(e[o])}var h={};h[this.SeqType.FirstLife]=[],h[this.SeqType.SecondLife]=[],h[this.SeqType.Sets]=[],h[this.SeqType.Scatter]=[];for(n=0;n<t.length;n++){if(null!=t[n])h[(a=t[n]).style].push(a)}this.arrCardID=[],this.groupCardIndex=[];for(o=1;o<=4;o++){a=h[o];for(var u=0;u<a.length;u++){var d=a[u];d.begin=this.arrCardID.length;for(n=0;n<d.cards.length;n++){var m=d.cards[n];this.arrCardID.push(m)}d.end=this.arrCardID.length-1,this.groupCardIndex.push(d)}}var g=!1;null!=this.groupCardIndex[0]&&(this.groupCardIndex[0].style==this.SeqType.FirstLife?(g=!0,this.groupCardIndex[0].gcolor=1,this.groupCardIndex[0].text=s):this.groupCardIndex[0].style==this.SeqType.Scatter?(this.groupCardIndex[0].gcolor=3,this.groupCardIndex[0].text=""):(this.groupCardIndex[0].gcolor=2,this.groupCardIndex[0].text=l));var p=!1;null!=this.groupCardIndex[1]&&(1==g?this.groupCardIndex[1].style==this.SeqType.FirstLife||this.groupCardIndex[1].style==this.SeqType.SecondLife?(p=!0,this.groupCardIndex[1].gcolor=1,this.groupCardIndex[1].text=r):this.groupCardIndex[1].style==this.SeqType.Sets?(this.groupCardIndex[1].gcolor=2,this.groupCardIndex[1].text=c):(this.groupCardIndex[1].gcolor=3,this.groupCardIndex[1].text=""):this.groupCardIndex[1].style==this.SeqType.Scatter?(this.groupCardIndex[1].gcolor=3,this.groupCardIndex[1].text=""):(this.groupCardIndex[1].gcolor=2,this.groupCardIndex[1].text=l));for(n=2;n<this.groupCardIndex.length;n++){null!=(a=this.groupCardIndex[n])&&(0==g?a.style==this.SeqType.Sets?(this.groupCardIndex[n].gcolor=2,this.groupCardIndex[n].text=l):a.style==this.SeqType.SecondLife&&(this.groupCardIndex[n].gcolor=2,this.groupCardIndex[n].text=l):1==g&&0==p?a.style==this.SeqType.Sets&&(this.groupCardIndex[n].gcolor=2,this.groupCardIndex[n].text=c):1==g&&1==p&&a.style!=this.SeqType.Scatter&&(this.groupCardIndex[n].gcolor=1,this.groupCardIndex[n].text=""),a.style==this.SeqType.Scatter&&(this.groupCardIndex[n].gcolor=3,this.groupCardIndex[n].text=""))}i.contrller.centerSeat.lblPoints.string=""+this.caculateScore()}},getSequenceTypeByGroup:function(e,t,i){for(var n=[],a=e.begin;a<=e.end;a++)n.push(i[a]);return this.getSequenceType(n,t)},updateArrCardGroupFrame:function(e){if(e)for(var t,i,n=this.arrCard[13].node.active?this.cardOriPos:this.cardOriPos13,a=0;a<e.length;a++)(t=e[a])&&((i=cc.instantiate(this.cardgroupPrefab)).getComponent("RummyGroupframe").setProperty(t,n,a===e.length-1,this.arrCard[13].node.active),t.grouframe=i,this.node.addChild(i,21))},onGroupCard:function(){var e=this.getGroupCards();if(e&&0!==e.length){this.gameCore.gameMng.playAudioEffect("group");var t=this.arrCardID;this.afterClickGroup(this.groupCardIndex,e,t),this.mergeOneCardGroup(t,this.groupCardIndex),t=this.arrCardID,this.updateArrCardGroup(t,this.groupCardIndex),this.updateArrCardGroupFrame(this.groupCardIndex),this.updateArrCardFrame(),this.initCardPos()}},getSequenceType:function(e,t,i){if(e.length<3)return this.SeqType.Scatter;var n=e,a=t;i||(n=this.codePokerId(e),a=this.codePokerId([t])[0]),n.sort(function(e,t){return e-t});this.SeqType.Scatter;if(this.isSequence(n,!1))return this.SeqType.FirstLife;if(this.isSequence(n,!0))return this.SeqType.SecondLife;if(this.isSets(n))return this.SeqType.Sets;for(var o=0;o<n.length;o++){n[o]%100==a%100&&(n[o]=520)}return n.sort(function(e,t){return e-t}),this.isSequence(n,!0)?this.SeqType.SecondLife:this.isSets(n)?this.SeqType.Sets:this.SeqType.Scatter},isSets:function(e){if(e.length>4||e.length<3)return!1;for(var t=[!1,!1,!1,!1],i=e[0]%100,n=0;n<e.length;n++){var a=e[n];if(520!=a){var o=Math.floor(a/100);if(i!=a%100)return!1;if(1==t[o])return!1;t[o]=!0}}return!0},isSequenceWithoutA:function(e,t){if(0==t){for(var i=e[0],n=0;n<e.length;n++){if(520==(o=e[n]))return!1;if(o-i!=n)return!1}return!0}if(1==t){var a=0;if(520==e[0])return!0;for(n=0;n<e.length;n++){520==(o=e[n])&&a++}for(n=1;n<e.length;n++){var o=e[n];i=e[n-1];if(520==o)break;if(o-i<1)return!1;if(o-i>1){if(a<o-i-1)return!1;a-=o-i-1}}return!0}},isSequence:function(e,t){var i=this.isSequenceWithoutA(e,t);if(1==i)return i;for(var n=0;n<e.length;n++)e[n]%100==14&&(e[n]=e[n]-13);e.sort(function(e,t){return e-t});var a=this.isSequenceWithoutA(e,t);for(n=0;n<e.length;n++)e[n]%100==1&&(e[n]=e[n]+13);return a},codePokerId:function(e){for(var t=[2,102,202,302,3,103,203,303,4,104,204,304,5,105,205,305,6,106,206,306,7,107,207,307,8,108,208,308,9,109,209,309,10,110,210,310,11,111,211,311,12,112,212,312,13,113,213,313,14,114,214,314,520],i=[],n=0;n<e.length;n++)i.push(t[e[n]]);return i},decodePokerId:function(e){for(var t="",i=0;i<e.length;i++){var n=e[i];e[i]=520==n?52:Math.floor(n/100)+4*(n%100-2),t=t+e[i]+" "}return cc.log(t),e},testFunction:function(){this.arrCardID=[2,6,10,14,24,49,32,11,19,23,35,29,16],this.groupCardIndex=[{begin:0,end:3,style:1,gcolor:1,text:""},{begin:4,end:6,style:2,gcolor:1,text:""},{begin:7,end:10,style:4,gcolor:1,text:""},{begin:11,end:12,style:4,gcolor:1,text:""}],this.SeqType=this.SeqType||{FirstLife:1,SecondLife:2,Sets:3,Scatter:4},ITeenPatti.getCurTable().jokerCard=49,this.sortCard()},testRummyDeclareTemp:function(){var e=this.getResult(),t=this.makeGroupToProtoObj();t.firstlife&&t.firstlife.length>0?t.firstlife.splice(0):t.secondlife&&t.secondlife.length>0?t.secondlife.splice(0):t.otherlife&&t.otherlife.length>0&&t.otherlife.splice(0),ITeenPatti.sendMsg(a.SERVER_CMD_RUMMY_DECLARETEMP,{group:t,result:e})},testRummyToWin:function(){var e=this.arrCardID[0];if(null!=e){this.onUserDiscard(null,{card:e},!0);var t=this.getResult(),i=this.makeGroupToProtoObj();i.firstlife&&i.firstlife.length>0?i.firstlife.splice(0):i.secondlife&&i.secondlife.length>0?i.secondlife.splice(0):i.otherlife&&i.otherlife.length>0&&i.otherlife.splice(0),ITeenPatti.sendMsg(a.SERVER_CMD_RUMMY_TOWIN,{card:e,group:i,result:t})}},testRummyDeclareWin:function(){var e=this.getResult(),t=this.makeGroupToProtoObj();t.firstlife&&t.firstlife.length>0?t.firstlife.splice(0):t.secondlife&&t.secondlife.length>0?t.secondlife.splice(0):t.otherlife&&t.otherlife.length>0&&t.otherlife.splice(0),ITeenPatti.sendMsg(a.SERVER_CMD_RUMMY_DECLAREWIN,{group:t,result:e})},testRummyDeclare:function(){var e=this.getResult(),t=this.makeGroupToProtoObj();t.firstlife&&t.firstlife.length>0?t.firstlife.splice(0):t.secondlife&&t.secondlife.length>0?t.secondlife.splice(0):t.otherlife&&t.otherlife.length>0&&t.otherlife.splice(0),ITeenPatti.sendMsg(a.SERVER_CMD_RUMMY_DECLARE,{group:t,result:e})},sortCard:function(){var e=ITeenPatti.getCurTable();if(null!=e){var t=this.arrCardID.slice(0),i=Math.floor(e.jokerCard/4)+2;t.sort(function(e,t){return e-t});var n=RummyUtil.sortCard(t,i);if(n&&n[0]){for(var a=this.groupCardIndex.length-1;a>=0;a--){(o=this.groupCardIndex[a]).grouframe&&(o.grouframe.removeFromParent(!0),o.grouframe=null)}this.arrCardID=n[0].card,this.groupCardIndex=n,console.log(this.arrCardID,this.groupCardIndex),this.initCardPos(),this.updateArrCardGroup(this.arrCardID,this.groupCardIndex),this.updateArrCardGroupFrame(this.groupCardIndex),this.updateArrCardFrame(),e.contrller.centerSeat.btnGroup.node.active=!1,e.contrller.centerSeat.btnDiscard.node.active=!1,e.contrller.centerSeat.btnWin.node.active=!1;for(a=this.tmpgroupCardIndex.length-1;a>=0;a--){var o;(o=this.tmpgroupCardIndex[a]).grouframe&&(o.grouframe.removeFromParent(!0),o.grouframe=null)}}}},reGroup:function(e,t){if(!(e.kings.length+e.jokers.length<=0))for(var i=e.preregroup.length-1;i>=0;i--){var n=e.preregroup[i];if(n)for(var a=n.length-1;a>=0;a--)if("presequences"==n[a].type?e.jokers.length>0?(n[a].cards.push(e.jokers.pop()),e.sequenceswithjoker.push(n[a].cards),n.splice(a,1)):e.kings.length>0&&(n[a].cards.push(e.kings.pop()),e.sequenceswithjoker.push(n[a].cards),n.splice(a,1)):"presets"==n[a].type?e.jokers.length>0?(n[a].cards.push(e.jokers.pop()),e.sets.push(n[a].cards),n.splice(a,1)):e.kings.length>0&&(n[a].cards.push(e.kings.pop()),e.sets.push(n[a].cards),n.splice(a,1)):"scatter"==n[a].type&&this.reGroupScatter(e,t,n,a),e.kings.length+e.jokers.length<=0)return;if(e.kings.length+e.jokers.length<=0)return}},reGroupScatter:function(e,t,i,n){i[n].cards;e.jokers.length>0||e.kings.length},orderGroupByScore:function(e,t){for(var i=[],n=0;n<e.presequences.length;n++){var a=e.presequences[n];null==i[o=this.cacuScoreWithOrderId(a,t)]&&(i[o]=[]),i[o].push({type:"presequences",cards:a})}for(n=0;n<e.presets.length;n++){a=e.presets[n];null==i[o=this.cacuScoreWithOrderId(a,t)]&&(i[o]=[]),i[o].push({type:"presets",cards:a})}for(n=0;n<e.scatter.length;n++){var o;a=e.scatter[n];null==i[o=this.cacuScoreWithOrderId([a],t)]&&(i[o]=[]),i[o].push({type:"scatter",cards:a})}return i},doPreseq2SeqNoJoker:function(e,t){if(!(e.sequences.length>=2||e.presequences.length<=0||e.kings.length+e.jokers.length<=0)){if(0==e.sequences.length){if(e.jokers.length<=0)return;for(var i=!1,n=e.presequences.length-1;n>=0;n--){for(var a=e.presequences[n],o=e.jokers.length-1;o>=0;o--){for(var s=[],r=0;r<a.length;r++)s.push(a[r]);if(s.push(e.jokers[o]),s.sort(function(e,t){return e-t}),3==s.length&&s[1]-s[0]==1&&s[2]-s[1]==1){e.presequences.splice(n,1),e.jokers.splice(o,1),e.sequences.push(s),i=!0;break}}if(i)break}}1==e.sequences.length&&(e.jokers.length>0?(e.presequences[0].push(e.jokers.pop()),e.sequenceswithjoker.push(e.presequences[0]),e.presequences.splice(0,1)):e.kings.length>0&&(e.presequences[0].push(e.kings.pop()),e.sequenceswithjoker.push(e.presequences[0]),e.presequences.splice(0,1)))}},doPreseq2SeqWithA:function(e){for(var t=e.sequences.length-1;t>=0;t--){var i=e.sequences[t];if(i.length>=4&&i[i.length-1]%100==14)for(var n=e.presequences.length-1;n>=0;n--){var a=e.presequences[n];i[i.length-1]-a[1]==12&&i[i.length-1]-a[0]==11&&(e.presequences[n].push(e.sequences[t].pop()),e.sequences.push(e.presequences[n]),e.presequences[n].splice(n,1));break}}},doPresets2SetsNoJoker:function(e,t){if(!(e.presets.length<=0))for(var i=[],n=e.presets.length-1;n>=0;n--){var a=e.presets[n],o=this.cacuScoreWithOrderId(a,t);if(2==a.length){for(var s=3;s>=0;s--)i.push(100*s+a[0]%100);i=this.removeSthInArray(i,a);for(var r=!1,l=0;l<i.length;l++){for(var c=0;c<e.sequences.length;c++){for(var h=e.sequences[c],u=h.length-1;u>=0;u--)if(h[u]==i[l]){var d=this.cacuScoreIfNoOne(h,t,h[u]);if(d<o){r=!0,(0==d||e.sequences.length>=2)&&(e.presets[n].push(h[u]),e.sets.push(e.presets[n]),e.presets.splice(n,1),e.sequences[c].splice(u,1),0!=d&&(e.presequences.push(e.sequences[c]),e.sequences.splice(c,1)));break}}if(r)break}if(r)break}}}},cacuScoreIfNoOne:function(e,t,i){for(var n=[],a=e.length-1;a>=0;a--)n.push(e[a]);for(a=n.length-1;a>=0;a--)if(n[a]==i){n.splice(a,1);break}return this.cacuScoreWithOrderId(n,t)},cacuScoreWithOrderId:function(e,t){var i=[0,0,2,3,4,5,6,7,8,9,10,10,10,10,10],n=0,a=[];this.getSequenceType(e,t,!0)==this.SeqType.Scatter&&(a=e);for(var o=0;o<a.length;o++){var s=a[o];s%100!=t%100&&(n+=i[s%100])}return n>80&&(n=80),n},selectKings:function(e){for(var t=[],i=e.length-1;i>=0&&520==e[i];i--)t.push(e[i]),e.splice(i,1);return t},selectJokers:function(e,t){for(var i=[],n=e.length-1;n>=0;n--)e[n]%100==t%100&&(i.push(e[n]),e.splice(n,1));return i},selectSequences:function(e){for(var t=[],i=e.length-1;i>=0;i--){for(var n=e[i],a=i-1;null!=e[a]&&n-e[a]==i-a;)a--;i-a-1>=2&&(t.push(e.splice(a+1,i-a)),i=a+1)}for(i=e.length-1;i>=0;i--)e[i]%100==14&&(e[i]=e[i]-13);for(i=e.length-1;i>=0;i--){for(n=e[i],a=i-1;null!=e[a]&&n-e[a]==i-a;)a--;i-a-1>=2&&(t.push(e.splice(a+1,i-a)),i=a+1)}for(i=e.length-1;i>=0;i--)e[i]%100==1&&(e[i]=e[i]+13);for(i=t.length-1;i>=0;i--)for(var o=(n=t[i]).length-1;o>=0;o--)n[o]%100==1&&(n[o]=n[o]+13);return t},selectSets:function(e){if(!(e.length<3)){for(var t=[],i=[],n=e.length-1;n>=0;n--){i=[];var a=e[n];i.push(a);for(var o=n-1;o>=0&&!i.includes(e[o]);o--)e[o]%100==a%100&&i.push(e[o]);i.length>=3&&(t.push(i),n=(e=this.removeSthInArray(e,i)).length)}return t}},selectPresequences:function(e){if(!(e.length<2)){for(var t=[],i=[],n=e.length-1;n>=0;n--){i=[];var a=e[n];i.push(a),null!=e[n-1]&&a-e[n-1]>=1&&a-e[n-1]<=2&&(i.push(e[n-1]),t.push(i),n=(e=this.removeSthInArray(e,i)).length)}for(n=e.length-1;n>=0;n--)e[n]%100==14&&(e[n]=e[n]-13);for(i=[],n=e.length-1;n>=0;n--){i=[];a=e[n];i.push(a),null!=e[n-1]&&a-e[n-1]>=1&&a-e[n-1]<=2&&(i.push(e[n-1]),t.push(i),n=(e=this.removeSthInArray(e,i)).length)}for(n=e.length-1;n>=0;n--)e[n]%100==1&&(e[n]=e[n]+13);for(n=t.length-1;n>=0;n--)for(var o=(a=t[n]).length-1;o>=0;o--)a[o]%100==1&&(a[o]=a[o]+13);return t.sort(function(e,t){for(var i=[0,0,2,3,4,5,6,7,8,9,10,10,10,10,10],n=0,a=0;a<t.length;a++)n+=i[t[a]%100];var o=0;for(a=0;a<e.length;a++)o+=i[e[a]%100];return n-o}),t}},selectPresets:function(e){if(!(e.length<2)){for(var t=[],i=[],n=e.length-1;n>=0;n--){i=[];var a=e[n];i.push(a);for(var o=n-1;o>=0&&!i.includes(e[o]);o--)e[o]%100==a%100&&i.push(e[o]);2==i.length&&(t.push(i),n=(e=this.removeSthInArray(e,i)).length)}return t}},removeSthInArray:function(e,t){if(0==e.length||0==t.length)return e;for(var i=0;i<t.length;i++)for(var n=e.length-1;n>=0;n--)if(e[n]==t[i]){e.splice(n,1);break}return e},getResult:function(){for(var e=this.groupCardIndex,t=0;t<e.length;t++){if(1!=e[t].gcolor)return!1}return!0},caculateScore:function(){for(var e=[0,0,2,3,4,5,6,7,8,9,10,10,10,10,10],t=[2,102,202,302,3,103,203,303,4,104,204,304,5,105,205,305,6,106,206,306,7,107,207,307,8,108,208,308,9,109,209,309,10,110,210,310,11,111,211,311,12,112,212,312,13,113,213,313,14,114,214,314,520],i=this.arrCardID,n=this.groupCardIndex,a=0,o=[],s=ITeenPatti.getCurTable(),r=0;r<n.length;r++){if(1!=(c=n[r]).gcolor)for(var l=c.begin;l<=c.end;l++)o.push(i[l])}for(r=0;r<o.length;r++){var c=o[r];s&&!this.isJokerCard(c,s.jokerCard)&&52!=c&&(a+=e[t[c]%100])}return a>80&&(a=80),a},makeGroupToProtoObj:function(e){if(!this.groupCardIndex||!this.arrCardID)return null;for(var t=this.arrCardID,i=this.groupCardIndex,n={firstlife:{style:1,cards:[]},secondlife:{style:1,cards:[]},otherlife:[]},a=0;a<i.length;a++){var o=i[a];i[a].cards=[];for(var s=o.begin;s<=o.end;s++)i[a].cards.push(t[s])}var r=!1;if(this.groupCardIndex.length>1)if(this.groupCardIndex[0].style==this.SeqType.FirstLife){r=!0;for(a=0;a<this.groupCardIndex[0].cards.length;a++)n.firstlife.cards.push(this.groupCardIndex[0].cards[a])}else{n.firstlife=null,(c={}).style=this.groupCardIndex[0].style-1,c.style<=0&&(c.style=1),c.cards=[];for(a=0;a<this.groupCardIndex[0].cards.length;a++)c.cards.push(this.groupCardIndex[0].cards[a]);n.otherlife.push(c)}var l=!1;if(1==r&&this.groupCardIndex.length>1&&(this.groupCardIndex[1].style==this.SeqType.FirstLife||this.groupCardIndex[1].style==this.SeqType.SecondLife)){l=!0;for(a=0;a<this.groupCardIndex[1].cards.length;a++)n.secondlife.cards.push(this.groupCardIndex[1].cards[a])}if(0==l&&(n.secondlife=null,this.groupCardIndex.length>1)){(c={}).style=this.groupCardIndex[1].style-1,c.style<=0&&(c.style=1),c.cards=[];for(a=0;a<this.groupCardIndex[1].cards.length;a++)c.cards.push(this.groupCardIndex[1].cards[a]);n.otherlife.push(c)}for(a=2;a<this.groupCardIndex.length;a++){var c;o=this.groupCardIndex[a];(c={}).style=o.style-1,c.style<=0&&(c.style=1),c.cards=[];for(s=0;s<o.cards.length;s++)c.cards.push(o.cards[s]);n.otherlife.push(c)}n.firstlife&&n.firstlife.cards.sort(function(e,t){return e-t}),n.secondlife&&n.secondlife.cards.sort(function(e,t){return e-t});for(a=n.otherlife.length-1;a>=0;a--){(o=n.otherlife[a]).cards.sort(function(e,t){return e-t})}var h,u=ITeenPatti.getCurTable();if(null!=n.firstlife&&(h=n.firstlife.cards)[h.length-1]-h[0]==48&&h.splice(0,0,h.pop()),null!=n.secondlife&&(h=n.secondlife.cards,u.jokerCard<48&&this.checkACard(h,u.jokerCard)))for(a=h.length-1;a>=0;a--){if((m=h[a])>=48&&m<=51){h.splice(a,1),h.splice(0,0,m);break}}for(a=n.otherlife.length-1;a>=0;a--)if(h=n.otherlife[a].cards,u.jokerCard<48&&this.checkACard(h,u.jokerCard))for(s=h.length-1;s>=0;s--){if((m=h[s])>=48&&m<=51){h.splice(s,1),h.splice(0,0,m);break}}if(null!=n.secondlife){var d=[];for(a=(h=n.secondlife.cards).length-1;a>=0;a--){var m=h[a];this.isJokerCard(m,u.jokerCard)&&(h.splice(a,1),d.push(m))}n.secondlife.cards=h.concat(d)}d=[];for(a=n.otherlife.length-1;a>=0;a--){d=[];for(s=(h=n.otherlife[a].cards).length-1;s>=0;s--){m=h[s];this.isJokerCard(m,u.jokerCard)&&(h.splice(s,1),d.push(m))}n.otherlife[a].cards=h.concat(d)}return n},checkACard:function(e,t,i){if(e.length<3)return!1;var n=e,a=t;i||(n=this.codePokerId(e),a=this.codePokerId([t])[0]);for(var o=0;o<n.length;o++){n[o]%100==a%100&&(n[o]=520)}return n.sort(function(e,t){return e-t}),this.isUseATo1(n,!0)},isUseATo1:function(e,t){for(var i=0;i<e.length;i++)e[i]%100==14&&(e[i]=e[i]-13);e.sort(function(e,t){return e-t});var n=this.isSequenceWithoutA(e,t);for(i=0;i<e.length;i++)e[i]%100==1&&(e[i]=e[i]+13);return n},onEnterBackground:function(){this._super();var e=ITeenPatti.getCurTable();e&&e.contrller&&e.contrller.state===UI_RUMMYTABLE_STATE.DEAL&&this.stopDealCardEffect(null)},onEnterForeground:function(){this._super();var e=ITeenPatti.getCurTable();e&&e.state===UI_RUMMYTABLE_STATE.RUNNING&&this.stopDealCardEffect(null)},updateCardPos:function(){for(var e=this.arrCard[13].node.active?this.cardOriPos:this.cardOriPos13,t=0;t<this.arrCard.length;t++)this.arrCard[t].node.x!=e[t].x&&(this.arrCard[t].node.x=e[t].x)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",UIInfo:"UIInfo"}],RummyCenterSeat:[function(e,t,i){"use strict";cc._RF.push(t,"23e94YXDwtLcaFkZF882Ddh","RummyCenterSeat");var n=e("UIInfo"),a=e("DataAnalysisKey"),o=e("TeenPattiUser"),s=e("RummyPattiPlayerView"),r=e("GameBaseSeat"),l=e("LanguageData"),c=e("Command"),h=e("GameUtils"),u=e("RummyCardBar"),d="RummyCenterSeat";cc.Class({extends:r,properties:{tpUser:o,btnSort:cc.Button,btnDrop:cc.Button,btnGroup:cc.Button,btnDeclare:cc.Button,btnWin:cc.Button,btnDiscard:cc.Button,btnGift:cc.Button,testPanel:cc.Node,index:0,curTable:{default:null,visible:!1},partner:s,cardBar:cc.Node,cdTimeBar:cc.Node,imgBanker:cc.Sprite,playerId:0,seatId:0,state:SEAT_RUMMYSTATE.EMPTY,gameCrown:cc.Node,balanceBar:cc.Node,expBar:cc.Node,objGiftSender:cc.Node,objGiftReceiver:cc.Node,lblBalance:cc.Label,lblExp:cc.Label,lblPoints:cc.Label,animSprite:cc.Sprite,toggleDrop:cc.Toggle,lblDrop:cc.Label,lblDropBonus:cc.Label,IsDrop:!1,lostChipsBar:cc.Node,lblLostChips:cc.Label,btnSwitchTable:cc.Button,btnDropLoading:cc.Node,rummyCardBar:u,winArea:cc.Node},onLoad:function(){this.btnSort.node.active=!1,this.btnDrop.node.active=!1,this.btnDropLoading.active=!1,this.btnGroup.node.active=!1,this.btnDeclare.node.active=!1,this.btnDiscard.node.active=!1,this.btnWin.node.active=!1,this.animSprite.node.active=!1,this.btnSwitchTable.node.active=!1,this.cardBar.active=!1,this.testPanel.active=!1,this.winArea.active=!1;var e=this.winArea.getChildByName("bg");e&&(e.active=!1);var t=cc.v2(0,0);ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().contrller&&ITeenPatti.getCurTable().contrller.winAreaPos&&(t=ITeenPatti.getCurTable().contrller.winAreaPos.convertToWorldSpaceAR(cc.v2(0,0))),this.worldWinAreaPos=this.node.convertToNodeSpaceAR(t),this.winArea.x=this.worldWinAreaPos.x,this.winArea.y=this.worldWinAreaPos.y,this.toggleDrop.node.active=!0,this.toggleDrop.isChecked=!1,this.lblDrop.node.setPosition(15,this.lblDrop.node.y),this.btnDrop.interactable=!1,this.drawPos={x:475,y:-242},this.lostChipsBarOriPos=this.lostChipsBar.getPosition(),this.lostChipsBar.active=!1,this.lostPoint=0,this.expBarOriPos=this.expBar.getPosition(),this.isActive=!1,this.countDownFixTime=.5,this.canShowSort=!1,this.isDeclareAlertShowed=!1,this.isNeedUpdateForWinner=!1,this.isCollectedLostChips=!1,this.isDoAction={group:!1,sort:!1,drawStock:!1,drawDiscard:!1,discard:!1,win:!1,declare:!1},this.lastDiscardCard=-1,this.tpUser||this.clearSeat(),this._super()},initComplete:function(){this._super(),this.gameCrown.active=!1,this.state==SEAT_RUMMYSTATE.EMPTY&&this.clearSeat()},updateBgState:function(){},updateSitdownBtnActive:function(e){this.updateBgState()},updateGiftBtnActive:function(e){this.btnGift.node.active=e},clearSeat:function(){this.tpUser=null,this.canShowSort=!1,this.btnSort.node.active=!1,this.btnDrop.node.active=!1,this.btnDropLoading.active=!1,this.btnGroup.node.active=!1,this.btnDeclare.node.active=!1,this.btnDiscard.node.active=!1,this.btnWin.node.active=!1,this.gameCrown.active=!1,this.cardBar.active=!1,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.balanceBar.active=!0,this.lblBalance.string=l.t("label_text.chips_with_symbol",{number:0}),this.expBar.active=!1,this.updateGiftBtnActive(!1),this.imgBanker.node.active=!1,this.partner.onUserStandUp(),this.partner.playerId=this.playerId,this.updateSitdownBtnActive(!0),this.state=SEAT_RUMMYSTATE.EMPTY,this.lostPoint=0,this.lblPoints.string="0",this.btnSwitchTable.node.active=!1,this.cardBar.getComponent("RummyCardBar").clearGroupFrame(),this.isActive=!1,this.unschedule(this.onActiveTimeOut)},updateBalance:function(){this.tpUser&&ITeenPatti.getCurSFSRoom()&&(this.lblBalance.string=l.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(this.tpUser.getTeenPattiProfile().nChips)}),this.lblBalance.node.color=new cc.Color(255,255,255),ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(this.tpUser.getTeenPattiProfile().nChips<80*ITeenPatti.getCurSFSRoom().variables.ba.value*2?this.lblBalance.node.color=new cc.Color(255,0,0):this.tpUser.getTeenPattiProfile().nChips<80*ITeenPatti.getCurSFSRoom().variables.ba.value*5&&(this.lblBalance.node.color=new cc.Color(255,128,0))))},updateGameCrown:function(){this.tpUser&&(this.gameCrown.active=this.curTable.isCurRoomWinBiggest(this.tpUser.strTPID))},getDisplayName:function(){return this.partner.getDisplayName()},isUserAlive:function(){return!1},setBanker:function(e){this.imgBanker.node.active=this.tpUser&&e},sortCard:function(e){this.tpUser&&(this.nSortCard=e,this.cardBar.active=!0,this.state=this.nSortCard>2?SEAT_RUMMYSTATE.ALIVE:SEAT_RUMMYSTATE.SORT)},onRoomUpdate:function(e,t){},onUserSitDown:function(e){e&&(LogUtil.debug(d,"Seat : "+this.seatId+" Sit Down "),LogUtil.debug(d,e.rummyrole),this.tpUser=e,this.state=SEAT_RUMMYSTATE.WAIT,this.cdTimeBar.getComponent("CDTimeBar").isMe=this.tpUser.strTPID==this.gameCore.userMng.myself.strTPID,this.updateGiftBtnActive(!0),this.updateSitdownBtnActive(!1),this.partner.onUserSitDown(e),this.partner.lblName.node.active=!1,this.updateBalance())},onUserStandUp:function(){LogUtil.debug(d,"Seat : "+this.seatId+" Stand Up "),this.tpUser&&LogUtil.debug(d,this.tpUser.rummyrole),this.tpUser=null,this.state=SEAT_RUMMYSTATE.EMPTY,this.gameCrown.active=!1,this.updateGiftBtnActive(!1),this.updateSitdownBtnActive(!0),this.imgBanker.node.active=!1,this._super(),this.partner.onUserStandUp(),this.clearSeat(),this.curTable.contrller.yourturn1.node.active=!1,this.curTable.contrller.yourturn2.node.active=!1},onOtherSitDown:function(){this.updateGiftBtnActive(this.tpUser&&!this.objGift&&ITeenPatti.getCurPlayer().rummyrole&&!ITeenPatti.getCurPlayer().rummyrole.isWatcher()),this.tpUser},onOtherStandUp:function(){this.updateGiftBtnActive(this.tpUser&&!this.objGift&&ITeenPatti.getCurPlayer().rummyrole&&!ITeenPatti.getCurPlayer().rummyrole.isWatcher()),this.seatId>0&&this.tpUser||0!=this.seatId||this.tpUser},onOtherUpdate:function(){this.tpUser},onUserActive:function(e,t){if(this.tpUser&&ITeenPatti.getCurTable()){this.tpUser.strTPID==this.gameCore.userMng.myself.strTPID&&(this.gameCore.gameMng.playAudioEffect("myturn"),this.gameCore.gameMng.vibrate());var i=ITeenPatti.getCurTable().cdStart,n=ITeenPatti.getCurTable().cdTime-this.countDownFixTime;i-=1e3*(n-ITeenPatti.getCurTable().actionRemainTime),this.isActive=!0,this.winArea.active=!1,this.toggleDrop.isChecked?this.onBtnDropClicked():(this.scheduleOnce(this.onActiveTimeOut,ITeenPatti.getCurTable().actionRemainTime-this.countDownFixTime),this.cdTimeBar.active=!0,this.cdTimeBar.getComponent("CDTimeBar").startCountDown(i,n),this.partner.onUserActive(e,t,!0),this.state!=SEAT_RUMMYSTATE.TOWIN&&(14==this.rummyCardBar.arrCardID.length?this.winArea.active=!0:(this.btnDrop.interactable=!0,this.toggleDrop.node.active=!1,this.lblDrop.node.setPosition(0,this.lblDrop.node.y),this.curTable.contrller.btnDraw1.interactable=!0,this.curTable.contrller.btnDraw2.interactable=!0,this.curTable.contrller.yourturn1.node.active=!0,this.curTable.contrller.yourturn2.node.active=!0,this.cardBar.active=!0)))}},onUserSilent:function(){this.state!=SEAT_RUMMYSTATE.DECALARE&&(this.cdTimeBar.getComponent("CDTimeBar").hide(),this.isActive=!1,this.unschedule(this.onActiveTimeOut)),this.partner.onUserSilent(),this.winArea.active=!1,this.curTable.contrller.btnDraw1.interactable=!1,this.curTable.contrller.btnDraw2.interactable=!1,this.curTable.contrller.yourturn1.node.active=!1,this.curTable.contrller.yourturn2.node.active=!1,this.btnDrop.interactable=!1,this.toggleDrop.node.active=!0,this.lblDrop.node.setPosition(15,this.lblDrop.node.y),this.btnDeclare.node.active=!1,this.btnDiscard.node.active=!1,this.btnWin.node.active=!1},onRoundJIS:function(e,t){if(this.tpUser&&ITeenPatti.getCurSFSRoom()&&ITeenPatti.getCurTable()){var i=0;if(t){if(null!=t.cards)for(var n in t.cards)i++;if(i>0)if(this.tpUser.rummyrole.isRoundPartner()){this.cardBar.active=!0,this.cardBar.getComponent("RummyCardBar").onRoundJIS(e,t),this.btnDrop.node.active=!0,this.btnDropLoading.active=!1,this.toggleDrop.node.active=!0,this.toggleDrop.isChecked=!1,this.lblDrop.node.setPosition(15,this.lblDrop.node.y);var a=this.curTable.dropPoint;a<40&&(a=!0===t.isStart&&t.status===RUMMY_ROOM_STATE.NONE?20:t.isFirst?20:40,this.curTable.dropPoint=a);var o=0;ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(o=a*ITeenPatti.getCurSFSRoom().variables.ba.value),this.lblDropBonus.string=l.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(a*o)}),this.btnDrop.interactable=!1,this.btnSwitchTable.node.active=!1,this.cdTimeBar.active=!1,this.curTable.contrller.btnDraw1.interactable=!1,this.curTable.contrller.btnDraw2.interactable=!1,this.curTable.contrller.yourturn1.node.active=!1,this.curTable.contrller.yourturn2.node.active=!1,this.setBanker(ITeenPatti.getCurTable().bankerID==this.playerId),this.state=SEAT_RUMMYSTATE.START,this.lostChipsBar.active=!1,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:0}),this.lostPoint=0,this.isCollectedLostChips=!1,this.isActive=!1}else this.onUserStandUp();else!1===t.isStart&&(this.cdTimeBar.getComponent("CDTimeBar").hide(),this.btnDrop.node.active=!1,this.btnDropLoading.active=!1,this.btnGroup.node.active=!1,this.btnDeclare.node.active=!1,this.btnDiscard.node.active=!1,this.btnWin.node.active=!1,this.animSprite.node.active=!1,this.btnSwitchTable.node.active=!1,this.cardBar.active=!1,this.toggleDrop.node.active=!0,this.toggleDrop.isChecked=!1,this.lblDrop.node.setPosition(15,this.lblDrop.node.y),this.btnDrop.interactable=!1,this.lostPoint=0,this.lblPoints.string="0")}}},onRoundReady:function(){if(this.tpUser){for(var e in this.nSortCard=0,this.cardBar.getComponent("RummyCardBar").onRoundReady(this.seatId),this.imgBanker.node.active=!1,this.btnSwitchTable.node.active=!1,this.cdTimeBar.active=!1,this.partner.onRoundReady(),this.expBar.active=!1,this.curTable.contrller.btnDraw1.interactable=!1,this.curTable.contrller.btnDraw2.interactable=!1,this.curTable.contrller.yourturn1.node.active=!1,this.curTable.contrller.yourturn2.node.active=!1,this.winArea.active=!1,this.lostChipsBar.active=!1,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:0}),this.lostPoint=0,this.lblPoints.string="0",this.isCollectedLostChips=!1,this.isActive=!1,this.isDeclareAlertShowed=!1,this.lastDiscardCard=-1,this.isDoAction)this.isDoAction[e]=!1;this.isNeedUpdateForWinner&&(this.updateBalance(),this.isNeedUpdateForWinner=!1)}},onRoundStart:function(e,t){if(this.tpUser&&ITeenPatti.getCurTable()&&ITeenPatti.getCurSFSRoom()){for(var i in this.isDoAction)this.isDoAction[i]=!1;this.cardBar.active=!0,this.btnDrop.node.active=!0,this.btnDropLoading.active=!1,this.toggleDrop.node.active=!0,this.toggleDrop.isChecked=!1,this.lblDrop.node.setPosition(15,this.lblDrop.node.y);var n=0;ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(n=20*ITeenPatti.getCurSFSRoom().variables.ba.value),this.lblDropBonus.string=l.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(n)}),this.btnDrop.interactable=!1,this.btnSwitchTable.node.active=!1,this.cdTimeBar.active=!1,this.curTable.contrller.btnDraw1.interactable=!1,this.curTable.contrller.btnDraw2.interactable=!1,this.curTable.contrller.yourturn1.node.active=!1,this.curTable.contrller.yourturn2.node.active=!1,this.setBanker(ITeenPatti.getCurTable().bankerID==this.playerId),this.state=SEAT_RUMMYSTATE.START,this.cardBar.getComponent("RummyCardBar").onRoundStart(this.tpUser,t),this.lostChipsBar.active=!1,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:0}),this.lostPoint=0,this.isCollectedLostChips=!1,this.isActive=!1,this.isDeclareAlertShowed=!1,this.lastDiscardCard=-1,this.isNeedUpdateForWinner&&(this.updateBalance(),this.isNeedUpdateForWinner=!1)}},onRoundOver:function(){this.tpUser&&(this.nSortCard=0,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.state=SEAT_RUMMYSTATE.WAIT,this.partner.onRoundOver())},onRoundFinish:function(){if(this.tpUser&&ITeenPatti.getCurTable()){this.expBar.active=!0,this.lblExp.string="+ "+ITeenPatti.getCurTable().curRoundExp+"XP",this.expBar.stopAllActions(),this.expBar.setPosition(this.expBarOriPos),this.expBar.scale=0,this.expBar.opacity=255;var e=cc.spawn([cc.scaleTo(.3,1),cc.moveTo(.3,cc.v2(this.expBarOriPos.x,this.expBarOriPos.y+100))]);this.expBar.runAction(cc.sequence(e,cc.delayTime(1),cc.fadeOut(.3))),this.btnSwitchTable.node.active=!1,this.cdTimeBar.active=!1,this.partner.onRoundFinish(),this.isActive=!1,this.lastDiscardCard=-1}},onRoundNext:function(e,t){this.tpUser&&ITeenPatti.getCurSFSRoom()&&this.state!==SEAT_RUMMYSTATE.DROP&&this.state!==SEAT_RUMMYSTATE.EMPTY&&(this.state===SEAT_RUMMYSTATE.TOWIN&&this.playerId!=t.next_id&&(this.btnDeclare.node.active=!1),this.state!==SEAT_RUMMYSTATE.TOWIN&&(this.state=SEAT_RUMMYSTATE.ALIVE),ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(this.lblDropBonus.string=l.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(this.curTable.dropPoint*ITeenPatti.getCurSFSRoom().variables.ba.value)})),this.curTable.dropPoint<40&&this.tpUser.rummyrole.playerId==t.next_id&&(this.curTable.dropPoint=40),this.cardBar.getComponent("RummyCardBar").onRoundNext(e,t))},onUserDrop:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.tpUser&&ITeenPatti.getCurSFSRoom()&&(this.cardBar.getComponent("RummyCardBar").onUserDrop(e,t),this.cardBar.active=!1,this.btnSwitchTable.node.active=!0,this.partner.onUserDrop(e,t),this.canShowSort=!1,this.btnSort.node.active=!1,this.btnDrop.node.active=!1,this.btnDropLoading.active=!1,this.btnGroup.node.active=!1,this.btnDeclare.node.active=!1,this.btnDiscard.node.active=!1,this.btnWin.node.active=!1,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.isActive=!1,this.unschedule(this.onActiveTimeOut),this.lostPoint=Math.abs(t.num),!i)){var n=0;if(ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(n=this.lostPoint*ITeenPatti.getCurSFSRoom().variables.ba.value),this.state===SEAT_RUMMYSTATE.SHOWINTEGRAL)this.updateTablePool(n);else if(n>0){this.lostChipsBar.active=!0,this.lostChipsBar.opacity=255,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(n)}),this.lostChipsBar.setPosition(this.lostChipsBarOriPos);var a=this.curTable.contrller.dealer.tablePool.node.getPosition(),o=cc.callFunc(function(){this.curTable.contrller.dealer.onUserDrop(n),this.curTable.pool+=n,this.isCollectedLostChips=!0},this);this.updateBalance(),this.lostChipsBar.stopAllActions(),this.lostChipsBar.runAction(cc.sequence(cc.delayTime(1),cc.moveTo(.3,a),cc.fadeOut(0),o))}}},onUserDraw:function(e,t){if(this.tpUser&&ITeenPatti.getCurTable()){this.winArea.active=!0;var i=this;this.animSprite.node.active=!0;var n=this.curTable.contrller.btnDraw1.node.getPosition(),a=this.curTable.contrller.btnDraw1.node.getScale();0==t.style?(this.isDoAction.drawDiscard||(this.isDoAction.drawDiscard=!0),n=this.curTable.contrller.btnDraw2.node.getPosition(),a=this.curTable.contrller.btnDraw2.node.getScale()):this.isDoAction.drawStock||(this.isDoAction.drawStock=!0),i.animSprite.node.stopAllActions(),i.animSprite.node.setPosition(n),i.animSprite.node.setScale(a);var o=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");i.animSprite.spriteFrame=o.getCardBackFrame();var s=cc.spawn([cc.scaleTo(.2,1),cc.moveTo(.2,cc.v2(475,-243))]),r=cc.sequence(s,cc.callFunc(function(){i.animSprite.node.active=!1,i.state!=SEAT_RUMMYSTATE.DISCARD&&(i.cardBar.getComponent("RummyCardBar").onUserDraw(e,t),i.partner.onUserDraw(e,t))}));if(i.animSprite.node.runAction(r),i.tpUser.rummyrole.playerId==t.playerId){i.curTable.dropPoint=40;var c=0;ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(c=i.curTable.dropPoint*ITeenPatti.getCurSFSRoom().variables.ba.value),i.lblDropBonus.string=l.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(c)})}this.lastDiscardCard=-1}},onUserDiscard:function(e,t){this.tpUser&&"error"!=t.cmd&&t.card!=this.lastDiscardCard&&(this.state=SEAT_RUMMYSTATE.DISCARD,-1!=this.lastDiscardCard&&(this.cardBar.getComponent("RummyCardBar").onUserDraw(null,{card:this.lastDiscardCard}),this.curTable.contrller.discardList.pop(),this.curTable.discardList=this.curTable.contrller.discardList),this.lastDiscardCard=t.card,this.cardBar.getComponent("RummyCardBar").onUserDiscard(e,t),this.curTable.contrller.updateDiscard(e,t))},onUserTowin:function(e,t){if(LogUtil.debug(d,"onUserTowin"),this.tpUser&&ITeenPatti.getCurTable())if("error"!=t.cmd){this.isDoAction.win=!0,this.state=SEAT_RUMMYSTATE.TOWIN,this.winArea.active=!1,this.btnDeclare.node.active=!0,this.btnDrop.node.active=!1,this.cardBar.getComponent("RummyCardBar").onUserTowin(e,t);var i=(new Date).getTime(),n=RUMMY_DECLARE_TIME-this.countDownFixTime;i-=1e3*(n-ITeenPatti.getCurTable().actionRemainTime),this.cdTimeBar.active=!0,this.cdTimeBar.getComponent("CDTimeBar").startCountDown(i,n),this.isActive=!0,this.scheduleOnce(this.onActiveTimeOut,ITeenPatti.getCurTable().actionRemainTime-this.countDownFixTime),t.cmd==c.SERVER_CMD_RUMMY_TOWIN&&this.curTable.contrller.updateDiscard(e,t)}else this.cardBar.getComponent("RummyCardBar").recoverUserDiscard()},onUserDeclarewin:function(e,t){if(LogUtil.debug(d,"onUserDeclarewin"),this.tpUser&&ITeenPatti.getCurSFSRoom()&&this.playerId===t.playerId){if(this.canShowSort=!1,this.btnSort.node.active=!1,!0===t.result)this.state=SEAT_RUMMYSTATE.DECALARE;else{this.state=SEAT_RUMMYSTATE.DROP,this.lostChipsBar.active=!0,this.lostChipsBar.opacity=255;var i=0;ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(i=80*ITeenPatti.getCurSFSRoom().variables.ba.value),this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(i)}),this.lostChipsBar.setPosition(this.lostChipsBarOriPos);var n=this.curTable.contrller.dealer.tablePool.node.getPosition(),a=cc.callFunc(function(){this.curTable.contrller.dealer.onUserDrop(i),this.curTable.pool+=i,this.isCollectedLostChips=!0},this);this.updateBalance(),this.lostChipsBar.stopAllActions(),this.lostChipsBar.runAction(cc.sequence(cc.fadeIn(.1),cc.delayTime(1),cc.moveTo(.5,n),cc.fadeOut(0),a)),this.lostPoint=80}this.cardBar.getComponent("RummyCardBar").onUserDeclarewin(e,t),this.cdTimeBar.getComponent("CDTimeBar").hide(),this.btnDeclare.node.active=!1,this.winArea.active=!1,this.isActive=!1,this.unschedule(this.onActiveTimeOut),this.partner.onUserDeclarewin(e,t)}},onOtherDeclarewin:function(e,t){if(LogUtil.debug(d,"onOtherDeclarewin"),this.tpUser&&ITeenPatti.getCurTable()&&(e!=c.SERVER_CMD_RUMMY_DECLAREWIN||0!=t.result)&&this.state!==SEAT_RUMMYSTATE.DROP&&this.tpUser.rummyrole.isRoundPartner()){this.state=SEAT_RUMMYSTATE.DECALARE,this.btnDrop.node.active=!1,this.btnDeclare.node.active=!0,this.cardBar.getComponent("RummyCardBar").onOtherDeclarewin(e,t),this.cdTimeBar.active=!0;var i=(new Date).getTime(),n=RUMMY_DECLARE_TIME-this.countDownFixTime;i-=1e3*(RUMMY_DECLARE_TIME-ITeenPatti.getCurTable().actionRemainTime),this.cdTimeBar.getComponent("CDTimeBar").startCountDown(i,n),this.isActive=!0,this.scheduleOnce(this.onActiveTimeOut,ITeenPatti.getCurTable().actionRemainTime-this.countDownFixTime)}},onUserDeclare:function(e,t){if(ITeenPatti.getCurSFSRoom()&&this.state!=SEAT_RUMMYSTATE.DROP&&(LogUtil.debug(d,"onUserDeclare"),this.tpUser)){this.state=SEAT_RUMMYSTATE.DECALARE,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.isActive=!1,this.unschedule(this.onActiveTimeOut),this.btnDrop.node.active=!1,this.btnDeclare.node.active=!1,this.lostChipsBar.active=!0,this.lostChipsBar.opacity=255,this.partner.onUserDeclare(e,t),this.lostPoint=Math.abs(t.num);var i=0;ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(i=this.lostPoint*ITeenPatti.getCurSFSRoom().variables.ba.value),this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(i)}),this.lostPoint>0&&(this.lostChipsBar.setPosition(this.lostChipsBarOriPos),this.updateBalance())}},onUserShowIntegral:function(e,t){if(this.tpUser&&ITeenPatti.getCurSFSRoom()&&ITeenPatti.getCurSFSRoom()&&ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba){var i=0;if(this.lostChipsBar.active&&0!==this.lostChipsBar.opacity){for(var n in t.integral){var a=t.integral[n];if(a.playerId==this.playerId){a.num<0&&(i=Math.abs(a.num)*ITeenPatti.getCurSFSRoom().variables.ba.value);break}}this.lostChipsBar.stopAllActions(),this.updateTablePool(i)}this.state=SEAT_RUMMYSTATE.SHOWINTEGRAL,this.winArea.active=!1,this.canShowSort=!1,this.btnSort.node.active=!1,this.btnDrop.node.active=!1,this.btnGroup.node.active=!1,this.btnDeclare.node.active=!1,this.btnDiscard.node.active=!1,this.btnWin.node.active=!1,this.cardBar.active=!1,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.isActive=!1,this.unschedule(this.onActiveTimeOut),this.partner.onUserShowIntegral(e,t)}},onUserLose:function(e,t){this.tpUser&&(LogUtil.debug(d,"Seat : "+this.seatId+" Lose "),LogUtil.debug(d,this.tpUser.rummyrole),this.partner.onUserLose(),this.cardBar.getComponent("RummyCardBar").onUserLose(this.tpUser))},onUserWin:function(e,t){this.tpUser&&(LogUtil.debug(d,"Seat : "+this.seatId+" Win "),LogUtil.debug(d,this.tpUser.rummyrole),this.state=SEAT_RUMMYSTATE.WIN,this.cardBar.getComponent("RummyCardBar").onUserWin(this.tpUser),this.partner.onUserWin())},onUserAwards:function(e,t){this.tpUser},onUserUpdate:function(e,t){if(this.tpUser){var i=!0;if(t&&t.changedVars)for(var n in i=!1,t.changedVars)"cp"==t.changedVars[n]&&(this.isNeedUpdateForWinner||(i=!0)),"wc"==t.changedVars[n]&&this.lostPoint<=0&&(this.isNeedUpdateForWinner=!0,i=!1);i&&(this.gameCore.gameMng.playAudioEffect("chipsChanged"),this.updateBalance())}},onUserLeaveDrop:function(e,t){if(t&&this.curTable&&this.curTable.contrller){var i=Math.abs(t.change);if(this.state===SEAT_RUMMYSTATE.SHOWINTEGRAL)this.updateTablePool(i);else if(i>0){this.lostChipsBar.active=!0,this.lostChipsBar.opacity=255,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(i)}),this.lostChipsBar.setPosition(this.lostChipsBarOriPos);var n=this.curTable.contrller.dealer.tablePool.node.getPosition(),a=cc.callFunc(function(){this.curTable.contrller.dealer.onUserDrop(i),this.curTable.pool+=i,this.isCollectedLostChips=!0},this);this.lostChipsBar.stopAllActions(),this.lostChipsBar.runAction(cc.sequence(cc.delayTime(1),cc.moveTo(.3,n),cc.fadeOut(0),a))}}},onBtnTest1Clicked:function(e,t){this.cardBar.getComponent("RummyCardBar").testRummyDeclareTemp()},onBtnTest2Clicked:function(e,t){this.cardBar.getComponent("RummyCardBar").testRummyToWin()},onBtnTest3Clicked:function(e,t){this.cardBar.getComponent("RummyCardBar").testRummyDeclare()},onBtnTest4Clicked:function(e,t){this.cardBar.getComponent("RummyCardBar").testRummyDeclareWin()},onBtnSortClicked:function(e,t){this.cardBar.getComponent("RummyCardBar").sortCard(),this.isDoAction.sort=!0},onBtnDropClicked:function(e,t){this.state!=SEAT_RUMMYSTATE.DROP&&this.isActive&&(this.state=SEAT_RUMMYSTATE.DROP,this.curTable.contrller.btnDraw1.interactable=!1,this.curTable.contrller.btnDraw2.interactable=!1,this.curTable.contrller.yourturn1.node.active=!1,this.curTable.contrller.yourturn2.node.active=!1,ITeenPatti.sendMsg(c.SERVER_CMD_RUMMY_DROP),this.btnDropLoading.active=!0)},onBtnGroupClicked:function(e,t){this.cardBar.getComponent("RummyCardBar").onGroupCard(),this.btnGroup.node.active=!1},onBtnDeclareClicked:function(e,t){this.isDoAction.declare=!0;var i=this.rummyCardBar.getResult();if(this.state!=SEAT_RUMMYSTATE.TOWIN||i||this.isDeclareAlertShowed)this.runDeclareAction(e,t);else{var a=this;this.gameCore.uiMng.isPopUpByUIKey(n.FACK_WIN_ALERT_POPUP.name)||(a.isDeclareAlertShowed=!0,a.gameCore.uiMng.openUI(n.FACK_WIN_ALERT_POPUP,function(i){i&&(i.setClickYesCallback(function(){a.runDeclareAction(e,t)}),i.setClickNoCallback(function(){}))}))}},runDeclareAction:function(e,t){var i=this.rummyCardBar.getResult(),n=this.rummyCardBar.makeGroupToProtoObj(this.rummyCardBar.arrCardID,this.rummyCardBar.groupCardIndex);this.btnDeclare.node.active=!1,this.btnSort.node.active=!1,this.canShowSort=!1,this.rummyCardBar.checkGroupValid(n)&&(this.state==SEAT_RUMMYSTATE.TOWIN?ITeenPatti.sendMsg(c.SERVER_CMD_RUMMY_DECLAREWIN,{group:n,result:i}):ITeenPatti.sendMsg(c.SERVER_CMD_RUMMY_DECLARE,{group:n,result:i}))},onBtnDiscardClicked:function(e,t){if(this.tpUser&&this.state!=SEAT_RUMMYSTATE.DISCARD&&this.isActive){this.isDoAction.discard=!0,this.gameCore.gameMng.playAudioEffect("discard");var i=this,n=this.cardBar.getComponent("RummyCardBar").getDisCardIndex();if(LogUtil.info(d,"cardid="+n),null!=n){var a=this.cardBar.getComponent("RummyCardBar").getUserCard()[n];if(null!=a){this.lastDiscardCard=a,this.state=SEAT_RUMMYSTATE.DISCARD,this.btnDiscard.node.active=!1,this.btnWin.node.active=!1,ITeenPatti.sendMsg(c.SERVER_CMD_RUMMY_DISCARD,{i:a}),this.animSprite.node.active=!0;n=this.cardBar.getComponent("RummyCardBar").getDisCardIndex(a);var o=this.curTable.contrller.btnDraw2.node.getPosition(),s=this.curTable.contrller.btnDraw2.node.getScale(),r=cc.v2(475,-225);r.x=r.x-73.8*(13-n);var l=this.cardBar.getComponent("RummyCardBar").getCardDeltaPos(n);r.x=r.x+.9*l.x,r.y=r.y+.9*l.y,LogUtil.debug(d,"startP.x="+r.x+" startP.y="+r.y),i.animSprite.node.stopAllActions(),i.animSprite.node.setPosition(r),i.animSprite.node.setScale(1);var h=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");i.animSprite.spriteFrame=h.getCardFrameWithID(a),i.curTable.contrller.isJokerCard(a,i.curTable.jokerCard)?i.animSprite.node.getChildByName("jokermask").active=!0:i.animSprite.node.getChildByName("jokermask").active=!1;var u=cc.spawn([cc.scaleTo(.2,s),cc.moveTo(.2,o)]),m=cc.sequence(u,cc.callFunc(function(){i.cardBar.getComponent("RummyCardBar").onUserDiscard(null,{card:a,roundId:i.curTable.roundID}),i.curTable.contrller.updateDiscard(null,{card:a});var e=i.cardBar.getComponent("RummyCardBar").getGroupCards();e&&0!==e.length||(i.btnGroup.node.active=!1)}),cc.delayTime(.2),cc.callFunc(function(){i.animSprite.node.active=!1}));i.animSprite.node.runAction(m)}}}},onBtnWinClicked:function(e,t){if(this.tpUser&&this.state!=SEAT_RUMMYSTATE.TOWIN&&this.isActive){this.isDeclareAlertShowed=!1,this.gameCore.gameMng.playAudioEffect("discard"),this.state=SEAT_RUMMYSTATE.TOWIN;var i=this;if(null!=(a=this.cardBar.getComponent("RummyCardBar").getDisCardIndex())){var n=this.cardBar.getComponent("RummyCardBar").getUserCard()[a];if(null!=n){this.state=SEAT_RUMMYSTATE.DISCARD,this.lastDiscardCard=n,this.btnDiscard.node.active=!1,this.btnWin.node.active=!1,this.animSprite.node.active=!0;var a=this.cardBar.getComponent("RummyCardBar").getDisCardIndex(n),o=this.curTable.contrller.btnDraw2.node.getPosition(),s=this.curTable.contrller.btnDraw2.node.getScale(),r=cc.v2(475,-225);r.x=r.x-73.8*(13-a);var l=this.cardBar.getComponent("RummyCardBar").getCardDeltaPos(a);r.x=r.x+.9*l.x,r.y=r.y+.9*l.y,LogUtil.debug(d,"startP.x="+r.x+" startP.y="+r.y),i.animSprite.node.stopAllActions(),i.animSprite.node.setPosition(r),i.animSprite.node.setScale(1);var h=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");i.animSprite.spriteFrame=h.getCardFrameWithID(n);var u=cc.spawn([cc.scaleTo(.2,s),cc.moveTo(.2,o)]),m=cc.sequence(u,cc.callFunc(function(){i.animSprite.node.active=!1,i.cardBar.getComponent("RummyCardBar").onUserDiscard(null,{card:n},!0);var e=i.cardBar.getComponent("RummyCardBar").getResult(),t=i.cardBar.getComponent("RummyCardBar").makeGroupToProtoObj();ITeenPatti.sendMsg(c.SERVER_CMD_RUMMY_TOWIN,{card:n,group:t,result:e})}));i.animSprite.node.runAction(m)}}}},onBtnDrawClicked:function(e,t){this.state!=SEAT_RUMMYSTATE.DRAW&&this.isActive&&(this.gameCore.gameMng.playAudioEffect("draw"),this.state=SEAT_RUMMYSTATE.DRAW,this.curTable.contrller.btnDraw1.interactable=!1,this.curTable.contrller.btnDraw2.interactable=!1,this.curTable.contrller.yourturn1.node.active=!1,this.curTable.contrller.yourturn2.node.active=!1,1==t?ITeenPatti.sendMsg(c.SERVER_CMD_RUMMY_DRAW,{i:!0}):2==t&&ITeenPatti.sendMsg(c.SERVER_CMD_RUMMY_DRAW,{i:!1}))},getGiftPostion:function(){return this.partner.node.convertToWorldSpaceAR(this.btnGift.node.getPosition())},getGiftSendPostion:function(e,t){return this.partner.node.convertToWorldSpaceAR(this.objGiftSender.getPosition())},getGiftReceivePostion:function(e,t){return 12==t||15==t||23==t?this.partner.node.convertToWorldSpaceAR(cc.v2(0,0)):19==t?this.partner.node.convertToWorldSpaceAR(cc.v2(-60,-30)):20==t?this.partner.node.convertToWorldSpaceAR(cc.v2(0,3)):25==t||27==t?this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(-73,60))):this.partner.node.convertToWorldSpaceAR(cc.v2(this.btnGift.node.getPosition().x,this.btnGift.node.getPosition().y+15))},onAnimGiftRemove:function(){},onToggleDropClk:function(){},onBtnSwitchTableClk:function(e){this.gameCore.uiMng.openUI(n.SWITCH_TABLE_POPUP),this.gameCore.dataAnalysisMng.sendData(a.CLICK_SWITCHTABLE,[this.gameCore.dataAnalysisMng.tableMode,this.gameCore.dataAnalysisMng.tableType,this.gameCore.dataAnalysisMng.bootAmount])},afterUserShowIntegral:function(){for(var e in this.isDoAction)this.isDoAction[e]=!1;this.canShowSort=!1,this.btnSort.node.active=!1,this.imgBanker.node.active=!1,this.winArea.active=!1,this.curTable.contrller.btnDraw1.interactable=!1,this.curTable.contrller.btnDraw2.interactable=!1,this.curTable.contrller.yourturn1.node.active=!1,this.curTable.contrller.yourturn2.node.active=!1,this.lostChipsBar.active=!1,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:0}),this.lostPoint=0,this.lblPoints.string="0",this.partner.afterUserShowIntegral()},onActiveTimeOut:function(){this.isActive=!1,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.state==SEAT_RUMMYSTATE.DECALARE?this.btnDeclare.node.active=!1:this.state==SEAT_RUMMYSTATE.TOWIN?(this.btnDiscard.node.active=!1,this.btnWin.node.active=!1):(this.curTable.contrller.btnDraw1.interactable=!1,this.curTable.contrller.btnDraw2.interactable=!1,this.curTable.contrller.yourturn1.node.active=!1,this.curTable.contrller.yourturn2.node.active=!1,this.btnDrop.interactable=!1,this.toggleDrop.node.active=!0,this.lblDrop.node.setPosition(15,this.lblDrop.node.y),this.btnDeclare.node.active=!1,this.btnDiscard.node.active=!1,this.btnWin.node.active=!1)},updateTablePool:function(e){if(e>0&&!this.isCollectedLostChips){this.isCollectedLostChips=!0;var t=this.curTable.contrller.chipsPoolBar.node.getPosition();this.updateBalance(),this.lostChipsBar.active=!0,this.lostChipsBar.opacity=255,this.lostChipsBar.setPosition(this.lostChipsBarOriPos),this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(e)}),this.lostChipsBar.stopAllActions(),this.lostChipsBar.runAction(cc.sequence(cc.delayTime(1),cc.moveTo(.3,t),cc.fadeOut(0)))}},showSortBtn:function(e){var t=!1;this.canShowSort&&e&&this.gameCore.gameMng.rummySort&&this.tpUser&&this.tpUser.rummyrole&&this.tpUser.rummyrole.isRoundPartner()&&(t=!0),this.btnSort.node.active=t}}),cc._RF.pop()},{Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameBaseSeat:"GameBaseSeat",GameUtils:"GameUtils",LanguageData:"LanguageData",RummyCardBar:"RummyCardBar",RummyPattiPlayerView:"RummyPattiPlayerView",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],RummyChipsNotEnough1:[function(e,t,i){"use strict";cc._RF.push(t,"49e1cnVrrhPdYwfl1/WbtiE","RummyChipsNotEnough1");var n=e("ChipsNotEnough1");cc.Class({extends:n}),cc._RF.pop()},{ChipsNotEnough1:"ChipsNotEnough1"}],RummyChipsNotEnough2:[function(e,t,i){"use strict";cc._RF.push(t,"bd5f6xtoGJLp6D4azKNjFzH","RummyChipsNotEnough2");var n=e("BaseUI"),a=e("UIInfo"),o=e("Command"),s=e("GameUtils"),r=e("DataAnalysisKey");cc.Class({extends:n,properties:{lblTitle:cc.Label,lblDesc:cc.Label,lblSwitch:cc.Label,lblBuy:cc.Label,btnSwitch:cc.Button,btnBuy:cc.Button,btnBuyLevel:cc.Button,btnMask:cc.Button,pnlMask:cc.Node,lblBalance:cc.Label,lblNeedChips:cc.Label},onLoad:function(){this._super(),this.btnMask.node.active=!1,this.btnMask.interactable=!1,this.lblBalance.string=s.formatNumberWithRules(this.gameCore.userMng.myself.nChips),this.lblNeedChips.string=s.formatNumberWithRules(this.gameCore.userMng.rummyMinChips),ITeenPatti.addListener(o.SERVER_CMD_ROOM_JOIN,this,handler(this,this.onRoomJoin)),this.btnSwitch.node.active=!1,this.btnBuy.node.active=!1,this.btnBuyLevel.node.active=!0},initComplete:function(){this._super()},onBtnBuyClicked:function(e){this.gameCore.dataAnalysisMng.sendData(r.CLICK_CHIPSOUT_BUY,this.gameCore.dataAnalysisMng.gameBaseData);var t="",i=ITeenPatti.getCurRoom();i&&i.roomName&&(t=i.roomName.spli(" ")[0]),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.OPEN_STORE_CHIPSOUT_GAME,"",this.gameCore.uiMng.curSceneKey,t,0),this.gameCore.uiMng.openUI(a.STORE)},onBtnSwitchClicked:function(e){this.gameCore.dataAnalysisMng.sendData(r.CLICK_CHIPSOUT_SWITCH,this.gameCore.dataAnalysisMng.gameBaseData);var t=cc.director.getScene().getChildByName("Canvas").getComponent("GameScene");ITeenPatti.removeListener(o.SERVER_CMD_USER_EXIT_ROOM,t),ITeenPatti.addListener("UserExitRoom",this,this.onRoomExit),ITeenPatti.sendMsg("leaveroom",null),this.btnMask.interactable=!0,this.btnMask.node.active=!0,this.pnlMask.active=!0,this.popupBg.active=!1},onRoomExit:function(e,t){t.user.isItMe&&(ITeenPatti.removeListener("UserExitRoom",this,this.onRoomExit),this.gameCore.userMng.play())},onRoomJoin:function(e,t){ITeenPatti.removeListenerWithTarget(this),cc.director.getScene().getChildByName("Canvas").getComponent("GameScene").gameCore.gameMng.openGameUI(a.GAME_SCENE,"Game"),this.gameCore.dataAnalysisMng.sendData(r.JOIN_TABLE_SUCCESS,this.gameCore.dataAnalysisMng.gameBaseData)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameUtils:"GameUtils",UIInfo:"UIInfo"}],RummyChipsNotEnough3:[function(e,t,i){"use strict";cc._RF.push(t,"c0837naqhVNsbS6P2G6srrn","RummyChipsNotEnough3");var n=e("ChipsNotEnough3"),a=e("GameUtils"),o=e("LanguageData");cc.Class({extends:n,onLoad:function(){this._super();var e=0;ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(e=80*ITeenPatti.getCurSFSRoom().variables.ba.value),this.lblDesc.string=o.t("label_text.ensure_min_chips_msg",{number:a.formatNumberWithRules(e)})}}),cc._RF.pop()},{ChipsNotEnough3:"ChipsNotEnough3",GameUtils:"GameUtils",LanguageData:"LanguageData"}],RummyGroupframe:[function(e,t,i){"use strict";cc._RF.push(t,"53d905Ht5BNOZzrU8Bccc5E","RummyGroupframe");var n=e("BaseComponent"),a=e("LanguageData");cc.Class({extends:n,properties:{groupFrame:[cc.SpriteFrame],groupName:cc.Label},onLoad:function(){this._super(),this.SeqType={FirstLife:1,SecondLife:2,Sets:3,Scatter:4}},setProperty:function(e,t,i,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(e&&t&&t[e.begin]&&t[e.end]){var s=0,r=0;i?n?(s=1,r=122):(s=1,r=122,o&&(s=1.5,r=122)):n?(s=-17,r=84):(s=-14,r=91,o&&(s=-18,r=85)),this.node.getComponent(cc.Sprite).spriteFrame=this.groupFrame[e.gcolor-1],this.node.x=(t[e.begin].x+t[e.end].x)/2+s,this.node.getComponent(cc.Sprite).node.width=t[e.end].x-t[e.begin].x+r,""!=e.text?this.groupName.string=a.t("label_text."+e.text):this.groupName.string="",2===e.gcolor?(this.groupName.node.color=new cc.Color(138,57,5),this.groupName.node.active=!0,this.node.y=0):1===e.gcolor?(this.groupName.node.color=new cc.Color(0,45,9),this.groupName.node.active=!0,this.node.y=0):(this.groupName.node.active=!1,o&&(this.node.y=-.5))}},setLastProperty:function(e,t){e&&t&&(this.node.getComponent(cc.Sprite).spriteFrame=this.groupFrame[e.gcolor-1],this.node.x=(t[e.begin].x+t[e.end].x)/2+1,this.node.getComponent(cc.Sprite).node.width=t[e.end].x-t[e.begin].x+122)},setDark:function(){this.node.color=new cc.Color(128,128,128)},setBright:function(){this.node.color=new cc.Color(255,255,255)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",LanguageData:"LanguageData"}],RummyHelp:[function(e,t,i){"use strict";cc._RF.push(t,"f67c7OxRR1Ffo2xZwo/xvrg","RummyHelp");var n=e("BaseEdgePopup");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup"}],RummyIntegralItem:[function(e,t,i){"use strict";cc._RF.push(t,"04d6f2aldFAUq3BpRzwEyhl","RummyIntegralItem");var n=e("BaseComponent"),a=e("FacebookIcon"),o=e("LanguageData"),s=e("GameUtils");cc.Class({extends:n,properties:{sp_icpon:a,sp_winner:cc.Sprite,labelName:cc.Label,labelResult:cc.Label,labelPoints:cc.Label,labelChips:cc.Label,sp_cards:[cc.Sprite],cardgroupPrefab:cc.Prefab,cardBar:cc.Node},initComplete:function(){this._super(),this.integralData={},this.cardOriPos=[];for(var e=0;e<this.sp_cards.length;e++){var t=this.sp_cards[e].node.x,i=this.sp_cards[e].node.y;this.cardOriPos.push({x:t,y:i})}},setProperty:function(e,t,i){this.integralData=e,this.winnerFlag=i,this.tpUser=t,this.updateIntegralItem(e)},isJokerCard:function(e,t){var i=[2,102,202,302,3,103,203,303,4,104,204,304,5,105,205,305,6,106,206,306,7,107,207,307,8,108,208,308,9,109,209,309,10,110,210,310,11,111,211,311,12,112,212,312,13,113,213,313,14,114,214,314,520];return i[e]%100==i[t]%100},updateIntegralItem:function(e){if(ITeenPatti.getCurSFSRoom()){null!=this.tpUser&&(this.labelName.string=s.formatName(this.tpUser.getTeenPattiProfile().strTPName),this.sp_icpon.initWithTeenPattiUser(this.tpUser)),0==this.winnerFlag&&null==e.group?(this.labelResult.string=o.t("label_text.drop"),this.sp_winner.node.active=!1,this.cardBar.active=!1):0==this.winnerFlag?(this.labelResult.string=o.t("label_text.lost"),this.sp_winner.node.active=!1):1==this.winnerFlag&&(this.labelResult.string=o.t("label_text.win"),this.sp_winner.node.active=!0);var t=e.num>0?0:e.num;this.labelPoints.string=""+t;var i=0;ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(i=e.num*ITeenPatti.getCurSFSRoom().variables.ba.value),this.labelChips.string=""+s.formatNumberWithRules(i),this.updateCardsBar(e.group)}},updateCardsBar:function(e){if(0!=this.winnerFlag||null!=e){var t="1st_life",i="2nd_life",n="1st_life_needed",a=[],o=[],s=!1;if(null!=e.firstlife){for(var r in s=!0,e.firstlife.begin=0,e.firstlife.cards)a.push(e.firstlife.cards[r]);e.firstlife.end=a.length-1,e.firstlife.gcolor=1,o.push({begin:0,end:e.firstlife.end,gcolor:1,text:t})}var l=!1;if(1==s){if(null!=e.secondlife){for(var r in l=!0,e.secondlife.begin=a.length,e.secondlife.cards)a.push(e.secondlife.cards[r]);e.secondlife.end=a.length-1,e.secondlife.gcolor=1,o.push({begin:e.secondlife.begin,end:e.secondlife.end,gcolor:1,text:i})}}else if(null!=e.secondlife){for(var r in e.secondlife.begin=a.length,e.secondlife.cards)a.push(e.secondlife.cards[r]);e.secondlife.end=a.length-1,e.secondlife.gcolor=2,o.push({begin:e.secondlife.begin,end:e.secondlife.end,gcolor:2,text:n})}for(var c in e.otherlife){var h=e.otherlife[c];if(1==l&&3!=h.style){for(var r in h.gcolor=1,h.text="",h.begin=a.length,h.cards)a.push(h.cards[r]);h.end=a.length-1,o.push({begin:h.begin,end:h.end,gcolor:h.gcolor,text:h.text})}}var u=-1;for(var c in e.otherlife){h=e.otherlife[c];if(1==l&&3!=h.style);else for(var r in-1===u&&(u=a.length),h.cards)a.push(h.cards[r])}-1!==u&&u<=12&&o.push({begin:u,end:12,gcolor:3,text:""});for(var d=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache"),m=0;m<a.length;m++)if(null!=this.sp_cards[m]){this.sp_cards[m].spriteFrame=d.getCardFrameWithID(a[m]);var g=ITeenPatti.getCurTable();g&&this.isJokerCard(a[m],g.lastJokerCard)?this.sp_cards[m].node.getChildByName("jokermask").active=!0:this.sp_cards[m].node.getChildByName("jokermask").active=!1}this.updateArrCardGroupFrame(o)}},updateArrCardGroupFrame:function(e){for(var t,i,n=0;n<e.length;n++)t=e[n],(i=cc.instantiate(this.cardgroupPrefab)).getComponent("RummyGroupframe").setProperty(t,this.cardOriPos,n===e.length-1,!1,!0),this.cardBar.addChild(i,1)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData"}],RummyIntegral:[function(e,t,i){"use strict";cc._RF.push(t,"936927kZTVFfr+rCawcIuEA","RummyIntegral");var n=e("BaseUI"),a=e("Command"),o=(e("UIInfo"),e("LanguageData")),s=e("DataAnalysisKey");cc.Class({extends:n,properties:{nodeline:[cc.Node],btnClose:cc.Button,btnBack:cc.Button,btnContinue:cc.Button,lblNextGame:cc.Label,labelCD:cc.Label},onLoad:function(){this._super();var e=this;this.timeCD=5,this.cdFunction=function(){e.timeCD=e.timeCD-1,e.labelCD.string=""+e.timeCD,e.timeCD<=0&&e.onCloseBtnClk()},this.schedule(this.cdFunction,1,5,.01)},initComplete:function(){this._super(),this.integralList=[],this.tpuserslList=[]},setProperty:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var n in 1==i&&(this.btnBack.node.active=!1,this.btnContinue.node.active=!1,this.unschedule(this.cdFunction,this)),this.integralList=[],e)this.integralList.push(e[n]);if(this.tpuserslList=t,this.resetAllItem(),this.updateIntegral(),ITeenPatti.getCurPlayer().rummyrole){var a=ITeenPatti.getCurPlayer().rummyrole.isWatcher();this.lblNextGame.string=a?o.t("label_text.start_game_rummy"):o.t("label_text.next_game")}},resetAllItem:function(){for(var e=this.nodeline.length-1;e>=0;e--){this.nodeline[e].active=!1}},updateIntegral:function(){for(var e=0;e<this.integralList.length;e++){var t=this.integralList[e];this.nodeline[e].active=!0;var i=this.nodeline[e].getComponent("RummyIntegralItem"),n=this.getUserWithUserID(t.userId);i.setProperty(t,n,e==this.integralList.length-1)}},getUserWithPlayerID:function(e){for(var t=0;t<this.tpuserslList.length;t++){var i=this.tpuserslList[t];if(null!=i&&e==i.rummyrole.playerId)return i}return null},getUserWithUserID:function(e){for(var t=0;t<this.tpuserslList.length;t++){var i=this.tpuserslList[t];if(null!=i&&e==i.rummyrole.userId)return i}return null},onBtnBackClicked:function(e,t){if(ITeenPatti.getCurRoom()&&ITeenPatti.getCurPlayer()){if(ITeenPatti.getCurRoom().roomType==ROOM_TYPE.RUMMY){if(!ITeenPatti.getCurPlayer().rummyrole)return}else if(!ITeenPatti.getCurPlayer().role)return;var i,n=null;n=ITeenPatti.getCurRoom().roomType==ROOM_TYPE.RUMMY?ITeenPatti.getCurPlayer().rummyrole.chipsWin:ITeenPatti.getCurPlayer().role.chipsWin,this.gameCore.gameMng.lastGameEarn=n,i=ITeenPatti.getCurRoom().roomType==ROOM_TYPE.RUMMY?cc.director.getScene().getChildByName("Canvas").getComponent("RummyScene"):cc.director.getScene().getChildByName("Canvas").getComponent("GameScene"),ITeenPatti.removeListener(a.SERVER_CMD_USER_EXIT_ROOM,i),ITeenPatti.addListener(a.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),ITeenPatti.sendMsg("leaveroom",null),this.gameCore.dataAnalysisMng.sendData(s.CLICK_BACKTOLOBBY,[this.gameCore.dataAnalysisMng.tableMode,this.gameCore.dataAnalysisMng.tableType,this.gameCore.dataAnalysisMng.bootAmount])}},onBtnContinueClicked:function(e,t){if(ITeenPatti.getCurPlayer().rummyrole&&(ITeenPatti.getCurPlayer().rummyrole.isWatcher()&&ITeenPatti.getCurTable())){var i=ITeenPatti.getCurTable().contrller;if(i)for(var n=0;n<i.arrSeat.length;n++)if(i.arrSeat[n].btnSitDown.node.active){i.arrSeat[n].partner.onBtnPlayerClicked();break}}this.canClose&&this.closeUI()},onUserExitRoom:function(e,t){var i=ITeenPatti.getCurPlayer();t.user.name==i.userId?(this.hasCloseAction=!1,this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)):LogUtil.info("RummyIntegral","Exit User Is not Player!")}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData",UIInfo:"UIInfo"}],RummyNormalSeat:[function(e,t,i){"use strict";cc._RF.push(t,"eb94bf807FPcLxbP+k0ePJC","RummyNormalSeat");var n=e("TeenPattiUser"),a=e("RummyPattiPlayerView"),o=e("GameBaseSeat"),s=e("GameUtils"),r=e("Command"),l=e("LanguageData"),c="RummyNormalSeat";cc.Class({extends:o,properties:{index:0,curTable:{default:null,visible:!1},cdTimeBar:cc.Node,imgBanker:cc.Sprite,btnSitDown:cc.Button,btnInvite:cc.Node,btnGift:cc.Button,playerId:0,seatId:0,state:SEAT_RUMMYSTATE.EMPTY,tpUser:n,partner:a,gameCrown:cc.Node,objGiftSender:cc.Node,objGiftReceiver:cc.Node,balanceBar:cc.Node,lblBalance:cc.Label,lostChipsBar:cc.Node,lblLostChips:cc.Label,animSprite:cc.Sprite},initComplete:function(){this._super(),this.gameCrown.active=!1,this.lostChipsBarOriPos=this.lostChipsBar.getPosition(),this.lostChipsBar.active=!1,this.lostPoint=0,this.isNeedUpdateForWinner=!1,this.isCollectedLostChips=!1,this.state==SEAT_RUMMYSTATE.EMPTY&&this.clearSeat()},updateBgState:function(){},updateSeatActive:function(){},updateInviteBtnActive:function(e){this.btnInvite.active=e,this.updateBgState(),this.updateSeatActive()},updateBtnStatus:function(e){this.btnSitDown.node.active=!e,this.btnSitDown.interactable=!e,this.updateBgState(),this.updateSeatActive()},updateSitdownBtnActive:function(e){this.btnSitDown.node.active=e,this.updateBgState()},updateGiftBtnActive:function(e){this.btnGift.node.active=e},clearSeat:function(){this.nSortCard=0,this.lostPoint=0,this.gameCrown.active=!1,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.updateGiftBtnActive(!1),this.imgBanker.node.active=!1,this.partner.onUserStandUp(),this.partner.playerId=this.playerId,this.updateSitdownBtnActive(!0),this.state=SEAT_RUMMYSTATE.EMPTY,this.balanceBar.active=!1,this.lblBalance.string=l.t("label_text.chips_with_symbol",{number:0}),this.isCollectLostChips=!1;var e=ITeenPatti.getMySelfRole()&&!ITeenPatti.getMySelfRole().isWatcher();this.updateInviteBtnActive(e),this.updateBtnStatus(e),this.updateSeatActive()},updateBalance:function(){this.tpUser&&ITeenPatti.getCurSFSRoom()&&(this.lblBalance.string=l.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(this.tpUser.getTeenPattiProfile().nChips)}))},updateGameCrown:function(){this.tpUser&&(this.gameCrown.active=this.curTable.isCurRoomWinBiggest(this.tpUser.strTPID))},getDisplayName:function(){return this.partner.getDisplayName()},isUserAlive:function(){return!1},setBanker:function(e){this.imgBanker.node.active=this.tpUser&&e},sortCard:function(e){this.tpUser},onUserSitDown:function(e){e&&(LogUtil.debug(c,"Seat : "+this.seatId+" Sit Down "),LogUtil.debug(c,e.rummyrole),this.tpUser=e,this.state=SEAT_RUMMYSTATE.WAIT,this.cdTimeBar.getComponent("CDTimeBar").isMe=this.tpUser.strTPID==this.gameCore.userMng.myself.strTPID,this.updateGiftBtnActive(!0),this.updateSitdownBtnActive(!1),this.partner.onUserSitDown(e),this.balanceBar.active=!0,this.updateBalance(),this.updateInviteBtnActive(!1),this.updateSeatActive())},onUserStandUp:function(){LogUtil.debug(c,"Seat : "+this.seatId+" Stand Up "),this.tpUser&&LogUtil.debug(c,this.tpUser.rummyrole),this.tpUser=null,this.state=SEAT_RUMMYSTATE.EMPTY,this.gameCrown.active=!1,this.updateGiftBtnActive(!1),this.updateSitdownBtnActive(!0),this.btnSitDown.interactable=!1,this.imgBanker.node.active=!1,this._super(),this.partner.onUserStandUp(),this.clearSeat()},onOtherSitDown:function(){if(this.updateGiftBtnActive(this.tpUser&&!this.objGift&&ITeenPatti.getCurPlayer().rummyrole&&!ITeenPatti.getCurPlayer().rummyrole.isWatcher()),!this.tpUser){var e=ITeenPatti.getMySelfRole()&&!ITeenPatti.getMySelfRole().isWatcher();this.updateSitdownBtnActive(!e),this.btnSitDown.interactable=!1,this.updateInviteBtnActive(e),this.updateBtnStatus(e),this.updateSeatActive()}},onOtherStandUp:function(){if(this.updateGiftBtnActive(this.tpUser&&!this.objGift&&ITeenPatti.getCurPlayer().rummyrole&&!ITeenPatti.getCurPlayer().rummyrole.isWatcher()),!(this.seatId>0&&this.tpUser)&&(0!=this.seatId||this.tpUser)){var e=ITeenPatti.getMySelfRole()&&!ITeenPatti.getMySelfRole().isWatcher();this.updateInviteBtnActive(e),this.updateBtnStatus(e),this.updateSeatActive()}},onUserActive:function(e,t){if(this.tpUser&&ITeenPatti.getCurTable()&&this.state!==SEAT_RUMMYSTATE.DROP&&this.tpUser.rummyrole.isRoundPartner()){this.tpUser.strTPID==this.gameCore.userMng.myself.strTPID&&(this.gameCore.gameMng.playAudioEffect("myturn"),this.gameCore.gameMng.vibrate());var i=ITeenPatti.getCurTable().cdStart,n=ITeenPatti.getCurTable().cdTime;i-=1e3*(n-ITeenPatti.getCurTable().actionRemainTime),this.cdTimeBar.active=!0,this.cdTimeBar.getComponent("CDTimeBar").startCountDown(i,n),this.partner.onUserActive(e,t)}},onUserSilent:function(){this.state!=SEAT_RUMMYSTATE.DECALARE&&this.cdTimeBar.getComponent("CDTimeBar").hide(),this.partner.onUserSilent()},onRoundReady:function(){this.tpUser&&(this.nSortCard=0,this.lostPoint=0,this.imgBanker.node.active=!1,this.partner.onRoundReady(),this.cdTimeBar.getComponent("CDTimeBar").hide(),this.lostChipsBar.active=!1,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:0}),this.isCollectedLostChips=!1,this.isNeedUpdateForWinner&&(this.updateBalance(),this.isNeedUpdateForWinner=!1))},onRoundStart:function(e){this.tpUser&&ITeenPatti.getCurTable()&&(this.lostPoint=0,this.setBanker(ITeenPatti.getCurTable().bankerID==this.playerId),this.state=SEAT_RUMMYSTATE.START,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.lostChipsBar.active=!1,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:0}),this.isCollectedLostChips=!1,this.isNeedUpdateForWinner&&(this.updateBalance(),this.isNeedUpdateForWinner=!1))},onRoundOver:function(){this.tpUser&&(this.nSortCard=0,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.state=SEAT_RUMMYSTATE.WAIT,this.partner.onRoundOver())},onRoundFinish:function(){this.tpUser&&this.cdTimeBar.getComponent("CDTimeBar").hide()},onUserDrop:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.tpUser&&ITeenPatti.getCurSFSRoom()&&(this.state=SEAT_RUMMYSTATE.DROP,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.partner.onUserDrop(e,t),this.lostPoint=Math.abs(t.num),!i)){var n=0;if(ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(n=this.lostPoint*ITeenPatti.getCurSFSRoom().variables.ba.value),this.state===SEAT_RUMMYSTATE.SHOWINTEGRAL)this.updateTablePool(n);else if(this.lostPoint>0){this.lostChipsBar.active=!0,this.lostChipsBar.opacity=255,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(n)}),this.lostChipsBar.setPosition(this.lostChipsBarOriPos);var a=this.curTable.contrller.dealer.tablePool.node.getPosition(),o=cc.callFunc(function(){this.curTable.contrller.dealer.onUserDrop(n),this.curTable.pool+=n,this.isCollectedLostChips=!0},this);this.updateBalance(),this.lostChipsBar.stopAllActions(),this.lostChipsBar.runAction(cc.sequence(cc.delayTime(1),cc.moveTo(.3,a),cc.fadeOut(0),o))}}},onUserDraw:function(e,t){if(this.tpUser){this.state=SEAT_RUMMYSTATE.DRAW;var i=this;this.animSprite.node.active=!0;var n=this.curTable.contrller.btnDraw1.node.getPosition(),a=this.curTable.contrller.btnDraw1.node.getScale();0==t.style&&(n=this.curTable.contrller.btnDraw2.node.getPosition(),a=this.curTable.contrller.btnDraw2.node.getScale()),i.animSprite.node.setPosition(n),i.animSprite.node.setScale(a);var o=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");i.animSprite.spriteFrame=o.getCardBackFrame();var s=cc.spawn([cc.scaleTo(.2,.1),cc.moveTo(.2,this.node.getPosition())]),r=cc.sequence(s,cc.callFunc(function(){i.animSprite.node.active=!1}));i.animSprite.node.runAction(r),this.gameCore.gameMng.playAudioEffect("draw")}},onUserDiscard:function(e,t){if(this.tpUser&&t.playerId===this.tpUser.rummyrole.playerId){this.state=SEAT_RUMMYSTATE.DISCARD;var i=this;i.animSprite.node.active=!0,i.animSprite.node.stopAllActions();var n=i.curTable.contrller.btnDraw2.node.getPosition(),a=i.curTable.contrller.btnDraw2.node.getScale();i.animSprite.node.setPosition(i.node.getPosition()),i.animSprite.node.setScale(.1);var o=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");i.animSprite.spriteFrame=o.getCardFrameWithID(t.card);var s=cc.spawn([cc.scaleTo(.2,a),cc.moveTo(.2,n)]),r=cc.sequence(s,cc.callFunc(function(){i.animSprite.node.active=!1,i.curTable.contrller.updateDiscard(e,t)}));i.animSprite.node.runAction(r),this.gameCore.gameMng.playAudioEffect("discard")}},onUserTowin:function(e,t){if(LogUtil.debug(c,"onUserTowin"),this.tpUser&&ITeenPatti.getCurTable()&&!(e==r.SERVER_CMD_RUMMY_TOWIN&&t.playerId!==this.tpUser.rummyrole.playerId||e==r.SERVER_CMD_RUMMY_JOIN_START&&t.nextId!==this.tpUser.rummyrole.playerId)){this.state=SEAT_RUMMYSTATE.TOWIN;var i=(new Date).getTime();if(i-=1e3*(RUMMY_DECLARE_TIME-ITeenPatti.getCurTable().actionRemainTime),this.cdTimeBar.active=!0,this.cdTimeBar.getComponent("CDTimeBar").startCountDown(i,RUMMY_DECLARE_TIME),e==r.SERVER_CMD_RUMMY_TOWIN){var n=this;n.animSprite.node.active=!0,n.animSprite.node.stopAllActions();var a=n.curTable.contrller.btnDraw2.node.getPosition(),o=n.curTable.contrller.btnDraw2.node.getScale();n.animSprite.node.setPosition(n.node.getPosition()),n.animSprite.node.setScale(.1);var s=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");n.animSprite.spriteFrame=s.getCardFrameWithID(t.card);var l=cc.spawn([cc.scaleTo(.2,o),cc.moveTo(.2,a)]),h=cc.sequence(l,cc.callFunc(function(){n.animSprite.node.active=!1,n.curTable.contrller.updateDiscard(e,t)}));n.animSprite.node.runAction(h)}}},onUserDeclarewin:function(e,t){if(LogUtil.debug(c,"onUserDeclarewin"),this.tpUser&&ITeenPatti.getCurSFSRoom()&&this.state!==SEAT_RUMMYSTATE.DROP&&this.tpUser.rummyrole.isRoundPartner())if(this.playerId===t.playerId){if(!0===t.result)this.state=SEAT_RUMMYSTATE.DECALARE,this.gameCore.gameMng.playAudioEffect("discard");else{this.state=SEAT_RUMMYSTATE.DROP,this.lostChipsBar.active=!0,this.lostChipsBar.opacity=255;var i=0;ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(i=80*ITeenPatti.getCurSFSRoom().variables.ba.value),this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(i)}),this.lostChipsBar.setPosition(this.lostChipsBarOriPos);var n=this.curTable.contrller.dealer.tablePool.node.getPosition(),a=cc.callFunc(function(){this.curTable.contrller.dealer.onUserDrop(i),this.curTable.pool+=i,this.isCollectedLostChips=!0},this);this.updateBalance(),this.lostChipsBar.stopAllActions(),this.lostChipsBar.runAction(cc.sequence(cc.fadeIn(.1),cc.delayTime(1),cc.moveTo(.5,n),cc.fadeOut(0),a)),this.lostPoint=80}this.cdTimeBar.getComponent("CDTimeBar").hide(),this.partner.onUserDeclarewin(e,t)}else{this.cdTimeBar.active=!0;var o=(new Date).getTime();this.cdTimeBar.getComponent("CDTimeBar").startCountDown(o,RUMMY_DECLARE_TIME)}},onOtherDeclarewin:function(e,t){if(LogUtil.debug(c,"onOtherDeclarewin"),this.tpUser&&ITeenPatti.getCurTable()&&(e!=r.SERVER_CMD_RUMMY_DECLAREWIN||0!=t.result)&&this.state!==SEAT_RUMMYSTATE.DROP&&this.tpUser.rummyrole.isRoundPartner()){this.state=SEAT_RUMMYSTATE.DECALARE,this.cdTimeBar.active=!0;var i=(new Date).getTime();i-=1e3*(RUMMY_DECLARE_TIME-ITeenPatti.getCurTable().actionRemainTime),this.cdTimeBar.getComponent("CDTimeBar").startCountDown(i,RUMMY_DECLARE_TIME)}},onUserDeclare:function(e,t){if(LogUtil.debug(c,"onUserDeclare"),this.tpUser&&ITeenPatti.getCurSFSRoom()&&this.playerId===t.playerId){this.state=SEAT_RUMMYSTATE.DECALARE,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.partner.onUserDeclare(e,t),this.lostChipsBar.active=!0,this.lostChipsBar.opacity=255,this.lostPoint=Math.abs(t.num);var i=0;ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(i=this.lostPoint*ITeenPatti.getCurSFSRoom().variables.ba.value),this.lostPoint>0&&(this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(i)}),this.lostChipsBar.setPosition(this.lostChipsBarOriPos),this.updateBalance())}},onUserShowIntegral:function(e,t){if(this.tpUser&&ITeenPatti.getCurSFSRoom()&&ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba){var i=0;if(this.lostChipsBar.active&&0!==this.lostChipsBar.opacity){for(var n in t.integral){var a=t.integral[n];if(a.playerId==this.playerId){a.num<0&&(i=Math.abs(a.num)*ITeenPatti.getCurSFSRoom().variables.ba.value);break}}this.lostChipsBar.stopAllActions(),this.updateTablePool(i)}this.state=SEAT_RUMMYSTATE.SHOWINTEGRAL,this.cdTimeBar.getComponent("CDTimeBar").hide(),this.partner.onUserShowIntegral(e,t)}},onUserLose:function(){this.tpUser&&(LogUtil.debug(c,"Seat : "+this.seatId+" Lose "),LogUtil.debug(c,this.tpUser.rummyrole),this.partner.onUserLose())},onUserWin:function(){this.tpUser&&this.state!=SEAT_RUMMYSTATE.WIN&&(LogUtil.debug(c,"Seat : "+this.seatId+" Win "),LogUtil.debug(c,this.tpUser.rummyrole),this.state=SEAT_RUMMYSTATE.WIN,this.partner.onUserWin())},onUserAwards:function(){this.tpUser},onUserUpdate:function(e,t){if(this.tpUser){var i=!0;if(t&&t.changedVars)for(var n in i=!1,t.changedVars)"cp"==t.changedVars[n]&&(this.isNeedUpdateForWinner||(i=!0)),"wc"==t.changedVars[n]&&this.lostPoint<=0&&(this.isNeedUpdateForWinner=!0,i=!1);i&&(this.gameCore.gameMng.playAudioEffect("chipsChanged"),this.updateBalance())}},onUserLeaveDrop:function(e,t){if(t&&this.curTable&&this.curTable.contrller){var i=Math.abs(t.change);if(this.state===SEAT_RUMMYSTATE.SHOWINTEGRAL)this.updateTablePool(i);else if(i>0){this.lostChipsBar.active=!0,this.lostChipsBar.opacity=255,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(i)}),this.lostChipsBar.setPosition(this.lostChipsBarOriPos);var n=this.curTable.contrller.dealer.tablePool.node.getPosition(),a=cc.callFunc(function(){this.curTable.contrller.dealer.onUserDrop(i),this.curTable.pool+=i,this.isCollectedLostChips=!0},this);this.lostChipsBar.stopAllActions(),this.lostChipsBar.runAction(cc.sequence(cc.delayTime(1),cc.moveTo(.3,n),cc.fadeOut(0),a))}}},getGiftPostion:function(){return this.partner.node.convertToWorldSpaceAR(this.btnGift.node.getPosition())},getGiftSendPostion:function(e,t){return this.partner.node.convertToWorldSpaceAR(this.objGiftSender.getPosition())},getGiftReceivePostion:function(e,t){return 12==t||15==t||23==t?this.partner.node.convertToWorldSpaceAR(cc.v2(0,0)):19==t?this.partner.node.convertToWorldSpaceAR(cc.v2(-55,-30)):20==t?this.partner.node.convertToWorldSpaceAR(cc.v2(0,6)):25==t||27==t?this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(15,30))):this.partner.node.convertToWorldSpaceAR(cc.v2(this.btnGift.node.getPosition().x,this.btnGift.node.getPosition().y+15))},onAnimGiftRemove:function(){},afterUserShowIntegral:function(){this.lostPoint=0,this.imgBanker.node.active=!1,this.lostChipsBar.active=!1,this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:0}),this.partner.afterUserShowIntegral()},updateTablePool:function(e){if(e>0&&!this.isCollectedLostChips){this.isCollectedLostChips=!0;var t=this.curTable.contrller.chipsPoolBar.node.getPosition();this.updateBalance(),this.lostChipsBar.active=!0,this.lostChipsBar.opacity=255,this.lostChipsBar.setPosition(this.lostChipsBarOriPos),this.lblLostChips.string=l.t("label_text.chips_with_symbol",{number:s.formatNumberWithRules(e)}),this.lostChipsBar.stopAllActions(),this.lostChipsBar.runAction(cc.sequence(cc.delayTime(1),cc.moveTo(.3,t),cc.fadeOut(0)))}}}),cc._RF.pop()},{Command:"Command",GameBaseSeat:"GameBaseSeat",GameUtils:"GameUtils",LanguageData:"LanguageData",RummyPattiPlayerView:"RummyPattiPlayerView",TeenPattiUser:"TeenPattiUser"}],RummyPattiPlayerView:[function(e,t,i){"use strict";cc._RF.push(t,"ccb27/xqr1FZpVeYysYX+8j","RummyPattiPlayerView");e("CDTimeBar");var n=e("TeenPattiUser"),a=e("ButtonCursor"),o=(e("Command"),e("UIInfo")),s=e("DataAnalysisKey"),r=e("BaseComponent"),l=e("LanguageData"),c="RummySeatPlayer";cc.Class({extends:r,properties:{longBackground:cc.Node,shortBackground:cc.Node,lblName:cc.Label,imgIcon:cc.Sprite,objWinEffectContainer:[cc.Node],objWinEffects:[cc.Prefab],playerId:0,dropEffect:cc.Node,lblDrop:cc.Label,lblDropPoint:cc.Label,WinnerEffect:sp.Skeleton,ActiveEffect:cc.Node,ActiveEffect1:sp.Skeleton,ActiveEffect2:sp.Skeleton,imgIconBg:cc.Sprite,tpUser:n,particles:[cc.ParticleSystem],particleTexturesCanvas:[cc.Texture2D]},onLoad:function(){if(this._super(),null==this.tpUser&&(this.lblName.string=""),needDisableEffect)for(var e=0;e<this.particles.length;e++)this.particles[e]&&this.particleTexturesCanvas[e]&&(this.particles[e].texture=this.particleTexturesCanvas[e]);this.dropEffect.active=!1,this.WinnerEffect.node.active=!1,this.ActiveEffect&&(this.ActiveEffect.active=!1)},getDisplayName:function(){return this.lblName.string},hideWinEffect:function(){for(var e=0;e<this.objWinEffectContainer.length;e++)this.objWinEffectContainer[e].removeAllChildren()},hideSideEffect:function(){},onBtnPlayerClicked:function(){if(this.tpUser){var e=cc.director.getScene().getChildByName("Canvas").getComponent("RummyScene");return ITeenPatti.removeListener("profile",e),ITeenPatti.addListener("profile",e,e.onUserProfileGet),void ITeenPatti.sendMsg("profile",{i:parseInt(this.tpUser.userId)})}var t=ITeenPatti.getCurPlayer();if(t&&t.rummyrole){e=cc.director.getScene().getChildByName("Canvas").getComponent("RummyScene");if(t.rummyrole.isWatcher()){if(ITeenPatti.getCurSFSRoom()&&ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&t.getTeenPattiProfile().nChips<80*ITeenPatti.getCurSFSRoom().variables.ba.value)return e.gameCore.gameMng.hasEnoughChips2(80*ITeenPatti.getCurSFSRoom().variables.ba.value),void this.gameCore.dataAnalysisMng.sendData(s.POPUP_CHIPSOUT_SIT,this.gameCore.dataAnalysisMng.gameBaseData);ITeenPatti.sendMsg("sit",{i:this.playerId}),this.gameCore.dataAnalysisMng.sendData(s.CLICK_SIT,this.gameCore.dataAnalysisMng.gameBaseData)}}},onBtnGiftClicked:function(){ITeenPatti.getCurPlayer().rummyrole&&!ITeenPatti.getCurPlayer().rummyrole.isWatcher()&&cc.director.getScene().getChildByName("Canvas").getComponent("RummyScene").gameCore.uiMng.openUI(o.GIFTS,handler(this,function(e){e&&e.setReceiverID(this.tpUser.userId)}))},onUserSitDown:function(e){this.tpUser=e,this.imgIcon.node.active=!0,this.imgIconBg.node.active=!0,this.lblName.node.active=!0,this.lblName.string=this.tpUser.strTPName,this.imgIcon.node.getComponent("FacebookIcon").initWithTeenPattiUser(this.tpUser),this.dropEffect.active=!1},onUserStandUp:function(){this.tpUser=null,this.imgIcon.node.getComponent("FacebookIcon").needActiveNode=!1,this.imgIcon.node.active=!1,this.imgIconBg.node.active=!1,this.lblName.node.active=!1;var e=this.node.getComponent(a);e&&(e.ignoreColorChange=!1),this.dropEffect.active=!1,this.WinnerEffect.node.active=!1},onUserActive:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.hideSideEffect(),1!=i&&"rummynext"!=e||this.showActiveEffect(i)},onUserSilent:function(){this.hideSideEffect(),this.hideActiveEffect()},onUserDrop:function(e,t){var i=this.node.getComponent(a);i&&(i.ignoreColorChange=!0),this.showDropEffect(t.num)},onUserDeclarewin:function(e,t){this.playerId===t.playerId&&(0==t.result?this.showLostEffect(80):(this.showWinEffect(),this.hideActiveEffect()))},onUserDraw:function(e,t){},onUserLose:function(){},onUserWin:function(){for(var e=["hou","qian"],t=0;t<this.objWinEffectContainer.length;t++){var i=cc.instantiate(this.objWinEffects[t]);this.objWinEffectContainer[t].addChild(i);var n=i.getComponent(sp.Skeleton);n&&(n.setAnimation(0,e[t],!0),0==t&&n.setCompleteListener(handler(this,this.hideWinEffect)))}},onUserDeclare:function(e,t){this.showLostEffect(t.num)},onUserShowIntegral:function(e,t){if(this.tpUser)for(var i in this.hideActiveEffect(),t.integral){var n=t.integral[i];if(n.playerId==this.playerId&&n.num<=0&&!this.WinnerEffect.node.active){this.showLostEffect(n.num);break}}},onRoundReady:function(){var e=this.node.getComponent(a);e&&(e.ignoreColorChange=!1),this.dropEffect.active=!1,this.WinnerEffect.node.active=!1,this.hideActiveEffect()},onRoundFinish:function(){var e=this.node.getComponent(a);e&&(e.ignoreColorChange=!1)},onRoundOver:function(){},afterUserShowIntegral:function(){this.dropEffect.active=!1,this.WinnerEffect.node.active=!1},showDropEffect:function(e){this.dropEffect.active=!0,this.lblDrop.string=l.t("label_text.drop"),e&&(this.lblDropPoint.string=Math.abs(e))},showLostEffect:function(e){this.dropEffect.active=!0,this.lblDrop.string=l.t("label_text.lost"),Math.abs(e)>=0?this.lblDropPoint.string=Math.abs(e):this.lblDropPoint.string=""},clearDropEffect:function(){this.dropEffect.active=!1,this.lblDrop.string="",this.lblDropPoint.string=""},showWinEffect:function(){this.WinnerEffect.node.active||(this.gameCore.gameMng.playAudioEffect("win"),this.WinnerEffect.node.active=!0,this.WinnerEffect.setAnimation(0,"animation",!1),this.WinnerEffect.addAnimation(0,"animation2",!0))},showActiveEffect:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.ActiveEffect&&(this.ActiveEffect.active=!0,this.ActiveEffect1.clearTracks(),this.ActiveEffect2.clearTracks(),e?(this.ActiveEffect1.setAnimation(0,"animation3",!0),this.ActiveEffect2.setAnimation(1,"animation4",!1)):(this.ActiveEffect1.setAnimation(0,"animation",!1),this.ActiveEffect2.setAnimation(1,"animation2",!1)))},hideActiveEffect:function(){this.ActiveEffect&&(this.ActiveEffect.active=!1,this.ActiveEffect1.clearTracks(),this.ActiveEffect2.clearTracks())},onAnimReadyFinish:function(){LogUtil.debug(c,"Anim Pack Finish !")},onAnimPackFinish:function(){LogUtil.debug(c,"Anim Pack Finish !")},onAnimLoseFinish:function(){},onAnimWinFinish:function(){},onAnimSideShowFinish:function(){},onAnimSideLoseFinish:function(){},onAnimSideWinFinish:function(){}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ButtonCursor:"ButtonCursor",CDTimeBar:"CDTimeBar",Command:"Command",DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],RummyRoler:[function(e,t,i){"use strict";cc._RF.push(t,"79c8eTCa79L7JveiSFbotSC","RummyRoler");var n=1,a=2,o=e("LanguageData");cc.Class({name:"RummyRoler",properties:{role:0,userId:null,playerId:null,state:0,arrCard:[],arrCard2:[],chipsWin:0,handsNum:0,handsWin:0,dropPoint:0,dropValue:0,startId:0,myTurnCount:0,arrCmdHandler:{default:{}},roundCount:0},ctor:function(e){this.userId=e.name,this.playerId=e.playerId,this.role=e.playerId>0?a:n,this.state=e.variables.st?e.variables.st.value:USER_STATE.WAIT,this.score=0,this.arrCmdHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrCmdHandler.UserSitDown=handler(this,this.onUserSitDown),this.arrCmdHandler.UserUpdate=handler(this,this.onUserUpdate),this.arrCmdHandler.rummymydrop=handler(this,this.onUserLeaveDrop),this.arrCmdHandler.profile=handler(this,this.onUserProfile)},isWatcher:function(){return this.role==n},isRoundPartner:function(){return this.state!=USER_RUMMYSTATE.WAIT},isActivePartner:function(){return!(this.state==USER_RUMMYSTATE.WAIT||this.state>=USER_RUMMYSTATE.FACKWIN)},setUserCard:function(e){for(var t in this.arrCard=[],e.cards)this.arrCard.push(e.cards[t])},getUserCard:function(){return this.arrCard},getUserCard2:function(){return this.arrCard2},getStateText:function(){var e={1:o.t("label_text.packed"),2:o.t("label_text.ingame"),3:o.t("label_text.towin"),4:o.t("label_text.falseclaim"),5:""};return null!=this.state&&e[this.state]?e[this.state]:""},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onUserStandUp:function(e,t){this.userId==t.user.name&&(this.role=n,this.playerId=t.user.playerId,this.state=USER_RUMMYSTATE.WAIT)},onUserSitDown:function(e,t){this.userId==t.user.name&&(this.role=a,this.playerId=t.user.playerId,this.state=t.user.variables.st?t.user.variables.st.value:USER_RUMMYSTATE.WAIT)},onUserUpdate:function(e,t){if(this.userId==t.user.name)for(var i in t.changedVars)"st"==t.changedVars[i]&&t.user.variables.st&&(this.state=t.user.variables.st.value)},onUserDrop:function(e,t){20===this.dropPoint?this.state=USER_RUMMYSTATE.DROPEDFIRST:this.state=USER_RUMMYSTATE.DROPED,this.score=t.num},onUserLeaveDrop:function(e,t){t.final==this.userId&&(this.state=USER_RUMMYSTATE.WAIT)},onUserLevelUp:function(e,t){this.chipsWin+=t.i},onRoundReady:function(e,t){this.curRoundStake=0,this.arrCard=[],this.arrCard2=[],this.dropPoint=0,this.dropValue=0,this.myTurnCount=0,this.score=0},onRoundStart:function(e,t){this.state=USER_RUMMYSTATE.INGAME,this.startId=t.playersId[1],this.myTurnCount=0,this.dropPoint=0,this.dropValue=0,this.score=0},onRoundNext:function(e,t){ITeenPatti.getCurSFSRoom()&&this.isRoundPartner()&&this.state!==USER_RUMMYSTATE.DROPEDFIRST&&this.state!==USER_RUMMYSTATE.DROPED&&this.state!==USER_RUMMYSTATE.FACKWIN&&(0===this.myTurnCount?this.dropPoint<20&&(this.dropPoint=20):this.dropPoint<40&&(this.dropPoint=40),t.next_id===this.playerId&&this.myTurnCount++,ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(this.dropValue=this.dropPoint*ITeenPatti.getCurSFSRoom().variables.ba.value))},onRoundAwards:function(e,t){},onUserDraw:function(e,t){ITeenPatti.getCurSFSRoom()&&(this.arrCard.push(t.card),this.playerId==t.playerId&&this.dropPoint<40&&(this.dropPoint=40,ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&(this.dropValue=this.dropPoint*ITeenPatti.getCurSFSRoom().variables.ba.value)))},onUserDiscard:function(e,t,i){if(null==i||this.arrCard[i]!=t.card)for(var n=this.arrCard.length-1;n>=0;n--){if(this.arrCard[n]==t.card)return void this.arrCard.splice(n,1)}else this.arrCard.splice(i,1)},onRoundFinish:function(e,t){this.curRoundStake=0,this.dropPoint=0,this.dropValue=0,this.chipsWin+=t.bonus.change},onUserTowin:function(e,t){this.state=USER_RUMMYSTATE.CHECKWIN},onUserDeclareWin:function(e,t){!0===t.result?(this.state=USER_RUMMYSTATE.WIN,this.score=0):(this.state=USER_RUMMYSTATE.DROPED,this.score=-80)},onUserDeclare:function(e,t){this.state=USER_RUMMYSTATE.DECLARE,this.score=t.num},onUserShowIntegral:function(e,t){},onUserAction:function(e,t){},onUserProfile:function(e,t){t.user_id==this.userId&&(this.chipsWin=t.new_chips_win?t.new_chips_win:t.chips_win,this.handsNum=t.hands_num,this.handsWin=t.hands_win)}});cc._RF.pop()},{LanguageData:"LanguageData"}],RummyRoomInfo:[function(e,t,i){"use strict";cc._RF.push(t,"6e5b24i7gdDi4B8QsDFnjMI","RummyRoomInfo");var n=e("BaseUI"),a=e("ITeenPatti"),o=e("GameUtils"),s=e("RummyRoom"),r=e("LanguageData");cc.Class({extends:n,properties:{titleLabel:cc.Label,pointValueLabel:cc.Label,maxWinLabel:cc.Label,minimulNeededLabel:cc.Label},onLoad:function(){this._super();var e=a.getCurRoom();e&&e instanceof s&&(this.titleLabel.string=r.t("label_text.rummy"));var t=a.getCurSFSRoom();this.pointValueLabel.string="",this.maxWinLabel.string="",this.minimulNeededLabel.string="",t&&t.variables&&t.variables.ba&&(this.pointValueLabel.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(t.variables.ba.value)}),this.maxWinLabel.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(320*t.variables.ba.value)}),this.minimulNeededLabel.string=r.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(80*t.variables.ba.value)}))},onCloseBtnClk:function(e){this._super()},onSettingBtnClk:function(e){this._super(),this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",RummyRoom:"RummyRoom"}],RummyRoomProfile:[function(e,t,i){"use strict";cc._RF.push(t,"31456wKv3JL4ZuRXvRv64ni","RummyRoomProfile");cc.Class({name:"RummyRoomProfile",properties:{roomType:-1,nRoomID:0,gameId:"",strRoomName:"",nRoomLevel:1,nBootAmount:0,nStakeAmout:0,tipAmount:0,nBaseGift:0},setRoomInfo:function(e,t){this.nRoomID=e,this.strRoomName=t},onRoomJoin:function(e,t){this.nRoomID=t.room.id,this.strRoomName=t.room.name,this.nBootAmount=t.room.variables.ba.value,this.nStakeAmout=t.room.variables.sa.value,this.tipAmount=t.room.variables.tip.value,this.nBaseGift=t.room.variables.gift.value,this.nRoomLevel=t.room.variables.l.value+1,t.room.variables.gi&&(this.gameId=t.room.variables.gi.value)},onRoomUpdate:function(e,t){this.nRoomID=t.room.id,this.strRoomName=t.room.name,this.nBootAmount=t.room.variables.ba.value,this.nStakeAmout=t.room.variables.sa.value,t.room.variables.gi&&(this.gameId=t.room.variables.gi.value)},getRoomLevel:function(){for(var e=[20,100,500,1e3,5e3,2e4,1e5,5e5,1e6],t=0;t<e.length;t++)if(this.nBootAmount<=e[t])return t+1;return e.length}});cc._RF.pop()},{}],RummyRoom:[function(e,t,i){"use strict";cc._RF.push(t,"eb1adau/45EtKCqIkc99WyK","RummyRoom");var n=e("BaseRoom"),a=e("RummyRoomProfile"),o=e("RummyTable");cc.Class({name:"RummyRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.RUMMY,this.profile=new a,this.table=new o},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t),this.table.onMsgReceived(e,t),this.msgHistory.onMsgReceived(e,t)},onRoomJoin:function(e,t){this.roomId=t.room.id,this.roomName=t.room.name,t.room&&this.profile.onRoomJoin(e,t)},onRoomUpdate:function(e,t){t.room&&this.profile.onRoomUpdate(e,t)}});cc._RF.pop()},{BaseRoom:"BaseRoom",RummyRoomProfile:"RummyRoomProfile",RummyTable:"RummyTable"}],RummySceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"ef3e1DH0hNAFZZ5t31jNUIl","RummySceneAudio");var n=e("BaseSceneAudio");cc.Class({extends:n,properties:{chipsChanged:{type:cc.AudioClip,default:null},countdown:{type:cc.AudioClip,default:null},discard:{type:cc.AudioClip,default:null},draw:{type:cc.AudioClip,default:null},deal:{type:cc.AudioClip,default:null},group:{type:cc.AudioClip,default:null},moveCard:{type:cc.AudioClip,default:null},win:{type:cc.AudioClip,default:null},selectCard:{type:cc.AudioClip,default:null},tip:{type:cc.AudioClip,default:null},myturn:{type:cc.AudioClip,default:null},levelup:{type:cc.AudioClip,default:null},collectbet:{type:cc.AudioClip,default:null},showCommonCard:{type:cc.AudioClip,default:null},showJokerCard:{type:cc.AudioClip,default:null},showMyCards:{type:cc.AudioClip,default:null},turnCard:{type:cc.AudioClip,default:null}}}),cc._RF.pop()},{BaseSceneAudio:"BaseSceneAudio"}],RummyScenePopup:[function(e,t,i){"use strict";cc._RF.push(t,"16ddd+Sq41LMp+NetXogaGW","RummyScenePopup"),cc.Class({extends:cc.Component,properties:{prefabs:[cc.Prefab]}}),cc._RF.pop()},{}],RummyScene:[function(e,t,i){"use strict";cc._RF.push(t,"ff8abnLtp1Jioy9L2XiW7bi","RummyScene");var n=e("BaseGameScene"),a=(e("RummyRoom"),e("ITeenPatti")),o=e("UIInfo"),s=(e("Command"),e("GameData")),r=e("DataAnalysisKey"),l=e("LocalStorage");cc.Class({extends:n,properties:{blackBg:{default:null,visible:!1,override:!0},popupBg:{default:null,visible:!1,override:!0},rummyRoomInfoPrefab:cc.Prefab,btnShowIntegral:cc.Button,connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,btnTestButton:cc.Button},initPreloadData:function(){this.preloadPrefabs=this.preloadPrefabs.concat(s.RUMMY_SCENE_PRELOAD_POPUP()),this._super()},onLoad:function(){LogUtil.info("RummyScene","----------------------------------- Rummy Scene -----------------------------"),this.btnTestButton.node.active=!1,this.btnShowIntegral.node.active=!1,this.isNeedShowIntegral=!1,this._super()},initComplete:function(){if(this._super(),LogUtil.debug("RummyScene","Init Complete."),this.gameCore.uiMng.openUI(o.RUMMY_ROOM_INFO),this.gameCore.dataAnalysisMng.sendData(r.POPUP_TABLEINFO_ENTERTABLE,this.gameCore.dataAnalysisMng.gameBaseData),a.addListener("rummyfinish",this,this.onRoundFinish),a.addListener("rummydrop",this,this.checkUserChipsNotEnough),a.addListener("rummydeclarewin",this,this.checkUserChipsNotEnough),a.addListener("rummydeclare",this,this.checkUserChipsNotEnough),a.addListener("rummyshowintegral",this,this.onUserShowIntegral),a.addListener("rummystarttime",this,this.onRoundReady),a.addListener("ConnectionResume",this,this.onConnectResume),a.addListener("rummyjis",this,this.updateGameIdValue),a.addListener("rummystart",this,this.updateGameIdValue),a.getCurTable())a.getCurTable().state!=UI_RUMMYTABLE_STATE.RUNNING&&a.getCurTable().state!=UI_RUMMYTABLE_STATE.START||this.onConnectResume();else{if(!this.gameCore)return;this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo),this.node.stopAllActions()}},checkUserChipsNotEnough:function(e,t){var i=a.getCurPlayer();i&&i.rummyrole&&!i.rummyrole.isWatcher()&&i.rummyrole.playerId===t.playerId&&a.getCurSFSRoom()&&("rummydeclarewin"===e&&!0===t.result||a.getCurSFSRoom()&&a.getCurSFSRoom().variables&&a.getCurSFSRoom().variables.ba&&i.getTeenPattiProfile().nChips>=80*a.getCurSFSRoom().variables.ba.value*2||this.gameCore.uiMng.isPopUpByUIKey(o.CHIPS_NOT_ENOUGH_1.name)||this.gameCore.gameMng.openChipsNotEnough1())},onUserProfileGet:function(e,t){t.errorcode||this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.openUI(o.INGAME_PLAYER_INFO,function(e){e&&e.initWithMsgGetUserInfo(t)})},onUserExitRoom:function(e,t){this._super(e,t),this.node&&this.node.stopAllActions()},onRoundFinish:function(e,t){this.gameCore.userMng.myself.curExp=t.expbar.exp1,this.gameCore.userMng.myself.nextExp=t.expbar.exp2},onRoundReady:function(e,t){this.isNeedShowIntegral&&(this.node.stopAllActions(),this.showIntegralView()),this.updateGameIdValue()},onBackBtnClk:function(e){a.getCurPlayer()&&a.getCurPlayer().rummyrole&&(this.gameCore.uiMng.isPopUpByUIKey(o.BACK_MENU.name)||this.gameCore.uiMng.openUI(o.BACK_MENU))},onChatBtnClk:function(e){a.getCurPlayer()&&a.getCurPlayer().rummyrole&&this.gameCore.uiMng.openUI(o.CHAT)},onGiftBtnClk:function(e){a.getCurPlayer()&&a.getCurPlayer().rummyrole&&(a.getCurPlayer().rummyrole.isWatcher()||this.gameCore.uiMng.openUI(o.GIFTS))},onInviteBtn:function(){this.gameCore.gameMng.openFriendsUI(0)},onRoomInfoBtnClk:function(e){this.gameCore.uiMng.openUI(o.RUMMY_ROOM_INFO)},onUserShowIntegral:function(e,t){if(a.getCurPlayer()&&a.getCurTable()){if(a.getCurPlayer().rummyrole&&-1!=a.getCurPlayer().rummyrole.playerId){var i=l.getLocalData(l.keys.ROUND_FINISH_COUNT);i||(i=0),i++,l.saveLocalData(l.keys.ROUND_FINISH_COUNT,i),10===i&&IFBAnalytics&&IFBAnalytics.logUserEvent(IFBAnalytics.keys.ROUND_FINISH_COUNT,"count",">=10")}for(var n in this.integralData=t.integral,this.tpuserList=[],t.integral){var s=t.integral[n],r=a.getCurTable().getUserWithUserID(s.userId);r||(r=a.getCurTable().getLastRoundUserWithUserID(s.userId)),null!=r&&this.tpuserList.push(r)}this.isNeedShowIntegral=!0,this.node.stopAllActions(),this.gameCore.uiMng.isPopUpByUIKey(o.RUMMY_INTEGRAL_INFO.name)||this.node.runAction(cc.sequence(cc.delayTime(4),cc.callFunc(function(e){a.getCurTable()&&a.getCurTable().contrller&&(this.showIntegralView(),a.getCurTable().contrller.afterUserShowIntegral())},this)))}},showIntegralView:function(){a.getCurSFSRoom()&&(this.isNeedShowIntegral=!1,this.gameCore.uiMng.isPopUpByUIKey(o.RUMMY_INTEGRAL_INFO.name)||this.integralData&&this.tpuserList&&this.tpuserList.length>0&&(this.gameCore.uiMng.openUI(o.RUMMY_INTEGRAL_INFO,handler(this,function(e){e.setProperty(this.integralData,this.tpuserList)})),this.btnShowIntegral.node.active=!0))},onBtnShowIntegral:function(e){this.gameCore.uiMng.openUI(o.RUMMY_INTEGRAL_INFO,handler(this,function(e){e.setProperty(this.integralData,this.tpuserList,!0)}))},onBuyBtnClk:function(e){if(!isInstantGame){this.gameCore.dataAnalysisMng.sendData(r.CLICK_STORE_TABLE,this.gameCore.dataAnalysisMng.gameBaseData);var t="",i=a.getCurRoom();i&&i.roomName&&(t=i.roomName.split(" ")[0]),IFBAnalytics&&IFBAnalytics.logBuyEvent(IFBAnalytics.keys.OPEN_STORE_GAME,"",this.gameCore.uiMng.curSceneKey,t,0),this.gameCore.uiMng.openUI(o.STORE)}},onBtnLuckyClk:function(e){this.btnLuckyCoin.node.active=!1,null!=this.luckyCoinJson&&(IAds.isAdLoaded(IAds.AD_NATIVE)&&!this.luckyCoinJson.chipload?(this.gameCore.uiMng.openUI(o.AD_NATIVE_POPUP),this.luckyCoinJson=null):this.gameCore.uiMng.openUI(o.LUCKY_COIN_POPUP,handler(this,function(e){e.setInitData(this.luckyCoinJson),this.luckyCoinJson=null})))},onEnterBackground:function(){this._super(),a.getCurTable()&&a.getCurTable().contrller&&a.getCurTable().contrller.state===UI_RUMMYTABLE_STATE.RESULT&&(this.node.stopAllActions(),a.getCurTable().contrller.afterUserShowIntegral())},onEnterForeground:function(){this._super(),this.isNeedShowIntegral&&(this.node.stopAllActions(),this.showIntegralView())},onBackButtonClk:function(){this.gameCore.uiMng.isPopUpByUIKey(o.BACK_MENU.name)||this.gameCore.uiMng.openUI(o.BACK_MENU)},onConnectResume:function(e,t){LogUtil.debug("RummyScene","onConnectResume"),a.sendMsg("rummyjis",null)},onReconnectTest:function(){a.sendMsg("rummyjis",null)}}),cc._RF.pop()},{BaseGameScene:"BaseGameScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",ITeenPatti:"ITeenPatti",LocalStorage:"LocalStorage",RummyRoom:"RummyRoom",UIInfo:"UIInfo"}],RummyShowCard:[function(e,t,i){"use strict";cc._RF.push(t,"10740NviZRIuoqlmOVPbng0","RummyShowCard");var n=e("BaseComponent");cc.Class({extends:n,properties:{lblCardList:[cc.Label]},initComplete:function(){this._super(),this.discardList=[]},setProperty:function(e){this.discardList=e,this.resetAllLabel(),this.updateShowCard()},resetAllLabel:function(){for(var e=0;e<this.lblCardList.length;e++)this.lblCardList[e].string=""},updateShowCard:function(){if(this.discardList){this.discardList.sort(function(e,t){return t-e});for(var e=["0","A","2","3","4","5","6","7","8","9","10","J","Q","K","A"],t=this.discardList.length-1;t>=0;t--){var i=this.discardList[t];if(52!=i){var n=i%4,a=e[Math.floor(i/4)+2]+" ";this.lblCardList[n].string+=a}}}}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],RummyTableController:[function(e,t,i){"use strict";cc._RF.push(t,"28e16qdMGVHi6ckYtzM7b7F","RummyTableController");var n=e("ITeenPatti"),a=e("RummyTable"),o=e("TableHintBar"),s=e("BaseComponent"),r=(e("BaseUI"),e("RummyNormalSeat")),l=e("RummyCenterSeat"),c=e("RummyTableDealer"),h=e("RummyTablePoolBar"),u=e("UIInfo"),d=e("Command"),m=(e("DataAnalysisKey"),e("TableActionCache")),g=e("LanguageData"),p=e("GameUtils"),C=e("GameData"),f="RummyTableController";cc.Class({extends:s,properties:{table:a,dealer:c,arrSeat:[r],centerSeat:l,arrPfbGift:[cc.Prefab],state:UI_RUMMYTABLE_STATE.INVALID,pfbMsg:cc.Prefab,tableLowBar:cc.Node,lblLowTips:cc.Label,chatButton:cc.Node,imgBackground:cc.Sprite,actionCache:m,gameTypeLabel:cc.Label,gameModeLabel:cc.Label,btnDraw1:cc.Button,btnDraw2:cc.Button,Btn_ShowCards:cc.Button,N_LeftCards:cc.Node,jokerCard:cc.Sprite,yourturn1:cc.Sprite,yourturn2:cc.Sprite,leftCards:cc.Label,hintBar:o,hintBar2:o,drawCardList:[cc.Node],noCardPanel:cc.Node,winChipsBar:cc.Node,lblWinChips:cc.Label,dealCardStartPos:cc.Node,chipsPoolBar:h,winAreaPos:cc.Node},onLoad:function(){this._super(),n.getCurTable()&&(this.table=n.getCurTable(),this.table.contrller=this,this.chatButton.active=!n.getCurPlayer().rummyrole.isWatcher(),this.tableLowBar.active=this.table.state==UI_RUMMYTABLE_STATE.INVALID,this.winChipsBar.active=!1,this.chipsPoolBar.active=!1,this.winChipsBarOriPos=this.winChipsBar.getPosition(),this.chipsPoolBarOriPos=this.chipsPoolBar.node.getPosition(),this.jokerCardOriPos=this.jokerCard.node.getPosition(),this.btnDraw1OriPos=this.btnDraw1.node.getPosition(),this.btnDraw2OriPos=this.btnDraw2.node.getPosition(),this.inDealCardEffect=!1,this.leftCards.string="",this.tableWinChips=0,this.roundId=-1,this.arrSeatUserId=[],n.addListener("RoomUpdate",this,this.onRoomUpdate),n.addListener("UserEnterRoom",this,this.onUserEnterRoom),n.addListener("UserExitRoom",this,this.onUserExitRoom),n.addListener("UserStandUp",this,this.onUserStandUp),n.addListener("UserSitDown",this,this.onUserSitDown),n.addListener("UserUpdate",this,this.onUserUpdate),n.addListener("updatebonus",this,this.onUserLevelUp),n.addListener("rummystarttime",this,this.onRoundReady),n.addListener("rummystart",this,this.onRoundStart),n.addListener("rummynext",this,this.onRoundNext),n.addListener("rummyjis",this,this.onRoundJIS),n.addListener("rummyfinish",this,this.onRoundFinish),n.addListener("rummydrop",this,this.onUserDrop),n.addListener("rummydraw",this,this.onUserDraw),n.addListener("rummydiscard",this,this.onUserDiscard),n.addListener("rummytowin",this,this.onUserTowin),n.addListener("rummydeclarewin",this,this.onUserDeclarewin),n.addListener("rummydeclare",this,this.onUserDeclare),n.addListener("rummydeclaretemp",this,this.onUserDeclareTemp),n.addListener("rummyshowintegral",this,this.onUserShowIntegral),n.addListener("rummymydrop",this,this.onUserLeaveDrop),n.addListener("sendgift",this,this.onUserSendGift),n.addListener("PublicMessage",this,this.onMessageReceive),n.addListener("sendmessage",this,this.onMessageReceive))},initComplete:function(){this._super(),this.gameCore.gameMng.isFitHeight()||(this.tableLowBar.height=120),this.playersId=[];for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].curTable=this.table;this.centerSeat.curTable=this.table,this.onTableInit()},i18nRendersUpdate:function(){},onEnterBackground:function(){this._super(),this.state===UI_RUMMYTABLE_STATE.DEAL&&this.stopDealCardEffect()},onEnterForeground:function(){this._super();for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].updateGameCrown();this.centerSeat.updateGameCrown(),this.stopDealCardEffect()},updateLowTipsLabel:function(){var e=n.getCurPlayer();e&&e.rummyrole&&n.getCurTable()&&(e.rummyrole.isWatcher()?n.getCurTable().isTableFull?this.lblLowTips.string=g.t("label_text.table_is_full"):this.lblLowTips.string=g.t("label_text.tap_to_sit"):this.lblLowTips.string=g.t("label_text.wait_to_start"))},initTable:function(){if(this.table){var e=this.table.getBeginPlayerID();this.centerSeat.playerId=0==e?5:e,this.centerSeat.seatId=0,this.centerSeat.onUserStandUp(),this.centerSeat.clearSeat();for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];i.playerId=t<1?e:(e+t)%5,i.playerId=0==i.playerId?5:i.playerId,i.seatId=t+1,i.onUserStandUp(),i.clearSeat()}n.getCurPlayer().rummyrole.isWatcher()?(this.centerSeat.node.active=!1,this.arrSeat[0].node.active=!0):(this.centerSeat.node.active=!0,this.arrSeat[0].node.active=!1);for(var a=this.table.getUserList(),o=0;o<a.length;o++){var s=a[o].rummyrole.playerId,r=this.getSeatWithPlayerId(s);r&&r.onUserSitDown(a[o]),r&&r.updateGameCrown()}this.centerSeat.onOtherSitDown();for(t=0;t<this.arrSeat.length;t++){this.arrSeat[t].onOtherSitDown()}this.btnDraw1.node.active=!1,this.yourturn1.node.active=!1,this.yourturn2.node.active=!1,this.btnDraw2.node.active=!1,this.jokerCard.node.active=!1;for(var l=0;l<this.drawCardList.length;l++)this.drawCardList[l].active=!1;this.discardList=[],this.noCardPanel.active=!1,this.Btn_ShowCards.node.active=!1,this.Btn_ShowCards.node.scaleX=1,this.N_LeftCards.active=!1,this.N_LeftCards.getComponent("RummyShowCard").resetAllLabel(),this.inDealCardEffect=!1}},RefreshTablePlayers:function(){for(var e=0;e<this.arrSeat.length;e++){var t=this.arrSeat[e];t.onUserStandUp(),t.clearSeat()}n.getCurPlayer().rummyrole.isWatcher()?(this.centerSeat.onUserStandUp(),this.centerSeat.clearSeat(),this.centerSeat.node.active=!1,this.arrSeat[0].node.active=!0):(this.centerSeat.node.active=!0,this.centerSeat.partner&&(this.centerSeat.partner.WinnerEffect.node.active=!1),this.arrSeat[0].node.active=!1);for(var i=this.table.getUserList(),a=0;a<i.length;a++){var o=i[a].rummyrole.playerId,s=this.getSeatWithPlayerId(o);s&&s.onUserSitDown(i[a]),s&&s.updateGameCrown()}this.centerSeat.onOtherSitDown();for(e=0;e<this.arrSeat.length;e++){this.arrSeat[e].onOtherSitDown()}},isInThisRoundByPlayerId:function(e){for(var t in this.playersId)if(this.playersId[t]==e)return!0;return!1},broadcastToAllSeat:function(e,t,i,a){if(!n.getCurPlayer().rummyrole)return null;!n.getCurPlayer().rummyrole.isWatcher()&&n.getCurPlayer().rummyrole.playerId==t.playerId?this.centerSeat[i](e,t):null!=this.centerSeat.tpUser&&this.isInThisRoundByPlayerId(t.playerId)&&this.centerSeat[a](e,t);for(var o=0;o<this.arrSeat.length;o++){var s=this.arrSeat[o];s.playerId==t.playerId?s[i](e,t):null!=s.tpUser&&this.isInThisRoundByPlayerId(t.playerId)&&s[a](e,t)}return null},getSeatWithPlayerId:function(e){if(!n.getCurPlayer().rummyrole)return null;if(!n.getCurPlayer().rummyrole.isWatcher()&&n.getCurPlayer().rummyrole.playerId==e)return this.centerSeat;for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.playerId==e)return i}return null},getSeatWithUserId:function(e){if(n.getCurPlayer().rummyrole.userId==e)return this.centerSeat;for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.tpUser.userId==e)return i}return null},getRoundSeatWithUserId:function(e){if(n.getCurPlayer().rummyrole&&n.getCurPlayer().rummyrole.userId==e)return this.centerSeat;for(var t=0;t<this.arrSeatUserId.length;t++)if(this.arrSeatUserId[t]==e)return this.arrSeat[t];return null},getDisplayNameWithPlayerId:function(e){if(n.getCurPlayer().rummyrole.playerId==e)return this.centerSeat.getDisplayName();for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.playerId==e)return i.getDisplayName()}return""},getEarlyHandOfSelf:function(){var e=n.getCurPlayer(),t=this.getSeatWithUserId(e.userId);if(null==t)return null;for(var i=t.seatID+this.arrSeat.length-1,a=i-this.arrSeat.length,o=i;o>a;o--){var s=o%this.arrSeat.length,r=this.arrSeat[s-1];if(r.isUserAlive())return r}return t},resetTable:function(){for(var e=0;e<this.arrSeat.length;e++){this.arrSeat[e].clearSeat()}},isJokerCard:function(e,t){var i=[2,102,202,302,3,103,203,303,4,104,204,304,5,105,205,305,6,106,206,306,7,107,207,307,8,108,208,308,9,109,209,309,10,110,210,310,11,111,211,311,12,112,212,312,13,113,213,313,14,114,214,314,520];return i[e]%100==i[t]%100},onTableInit:function(e,t){this.table&&(this.state=UI_RUMMYTABLE_STATE.INIT,this.initTable(),this.state=UI_RUMMYTABLE_STATE.WAIT,LogUtil.debug(f,"Table State "+this.table.state+" When Join Room"),this.tableLowBar.active=!0,this.updateLowTipsLabel(),this.table.state==UI_RUMMYTABLE_STATE.READY?(LogUtil.debug(f,"Table Is Ready When Join Room"),this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(this.onRoundReady,this)))):this.table.state==UI_RUMMYTABLE_STATE.START?(LogUtil.debug(f,"Table Is Start When Join Room"),this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(this.onRoundStart,this)))):this.table.state==UI_RUMMYTABLE_STATE.RUNNING&&(LogUtil.debug(f,"Table Is Running When Join Room"),this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(this.onRoundJIS,this)))))},onRoomUpdate:function(e,t){if(n.getCurTable()){t.room;var i=t.room.variables.lc?t.room.variables.lc:this.table.leftCards;t.room.variables.td?t.room.variables.td:this.table.topDiscard;null!=i&&(this.leftCards.string=""+i),this.centerSeat.onRoomUpdate(e,t)}},onUserEnterRoom:function(e,t){if(n.getCurPlayer().rummyrole){var i=t.user.playerId;if(null!=this.getSeatWithPlayerId(i)){this.onUserSitDown(e,t),this.centerSeat.onOtherSitDown(),this.centerSeat.updateGameCrown();for(var a=0;a<this.arrSeat.length;a++)this.arrSeat[a].onOtherSitDown(),this.arrSeat[a].updateGameCrown()}else this.onWatcherEnterRoom(e,t)}},onWatcherEnterRoom:function(e,t){},onUserExitRoom:function(e,t){if(t.user.isItMe)return this.node.stopAllActions(),void n.removeListenerWithTarget(this);if(n.getCurPlayer().rummyrole){var i=t.user.name,a=this.getSeatWithUserId(i);a&&a.onUserStandUp(),this.centerSeat.onOtherStandUp(),this.centerSeat.updateGameCrown();for(var o=0;o<this.arrSeat.length;o++)this.arrSeat[o].onOtherStandUp(),this.arrSeat[o].updateGameCrown();this.state==UI_RUMMYTABLE_STATE.READY&&this.table.getSitUserCount()<2&&(this.state,UI_RUMMYTABLE_STATE.WAIT)}},onUserSitDown:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().rummyrole){var i=t.user.playerId;if(!(i<0)){var a=this.table.getUserWithPlayerID(i),o=this.getSeatWithPlayerId(i);if(this.chatButton.active=!n.getCurPlayer().rummyrole.isWatcher(),this.dealer.onUserSitDown(e,t),t.user.isItMe){LogUtil.info(f,"Player Self Sit Down or Change Seat!"),this.tableLowBar.active=!0,this.updateLowTipsLabel(),this.onTableInit(e,t),this.centerSeat.updateGameCrown();for(var s=0;s<this.arrSeat.length;s++)this.arrSeat[s].updateGameCrown();var r=this.table.startRemainTime;if(null!=r){this.hintBar.clearHint();var l=(new Date).getTime();for(s=0;s<r;s++)this.hintBar.addHint(g.t("label_text.game_starting",{time:r-s}),1,l+1e3*s)}}else{n.getCurPlayer().rummyrole.isWatcher()&&(this.centerSeat.node.active=!1,this.arrSeat[0].node.active=!0);var c=this.getSeatWithUserId(t.user.name);c&&c.onUserStandUp(),o&&o.onUserSitDown(a),this.centerSeat.onOtherSitDown(),this.centerSeat.updateGameCrown();for(s=0;s<this.arrSeat.length;s++)this.arrSeat[s].onOtherSitDown(),this.arrSeat[s].updateGameCrown()}}}},onUserStandUp:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().rummyrole){var i=t.user.name,a=this.getSeatWithUserId(i);a||LogUtil.err(f,"Can not found the stand up user"),a&&a.onUserStandUp(),a&&a.clearSeat(),this.chatButton.active=!n.getCurPlayer().rummyrole.isWatcher(),this.dealer.onUserStandUp(e,t),a&&0!=a.seatId&&this.state==UI_RUMMYTABLE_STATE.RUNNING&&this.centerSeat.onOtherUpdate(),this.state==UI_RUMMYTABLE_STATE.READY&&this.table.getSitUserCount()<2&&(this.state,UI_RUMMYTABLE_STATE.WAIT),n.getCurPlayer().rummyrole&&n.getCurPlayer().rummyrole.isWatcher()&&(this.centerSeat.node.active=!1,this.arrSeat[0].node.active=!0,this.state===UI_RUMMYTABLE_STATE.DEAL&&this.stopDealCardEffect()),this.centerSeat.onOtherStandUp(),this.centerSeat.updateGameCrown();for(var o=0;o<this.arrSeat.length;o++){var s=this.arrSeat[o];s.onOtherStandUp(),s.updateGameCrown()}n.getCurPlayer().rummyrole&&n.getCurPlayer().rummyrole.isWatcher()&&(this.tableLowBar.active=!0,this.updateLowTipsLabel()),this.table.getSitUserCount()<2&&this.state==UI_RUMMYTABLE_STATE.READY&&this.hintBar.clearHint()}},onUserUpdate:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().rummyrole){var i=t.user.playerId,a=this.getSeatWithPlayerId(i);a&&a.onUserUpdate(e,t)}},onUserLevelUp:function(e,t){this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){cc.director.getScene().getChildByName("Canvas").getComponent("RummyScene").gameCore.uiMng.openUI(u.LEVEL_UP_POPUP)})))},onRoundReady:function(e,t){if((this.state!=UI_RUMMYTABLE_STATE.READY||null!=e||null!=t)&&n.getCurPlayer()&&n.getCurPlayer().rummyrole){LogUtil.info(f,"Round Ready! "+(t?t.roundID:"")),this.gameCore&&this.gameCore.gameMng.stopAudioEffect(this.showJokerCardAudioID),this.state=UI_RUMMYTABLE_STATE.READY,this.setTablePool(0),this.hintBar.clearHint(),this.hintBar2.clearHint(),this.dealer.onRoundReady(e,t),this.winChipsBar.active=!1,this.chipsPoolBar.active=!1,this.btnDraw1.node.active=!1,this.yourturn1.node.active=!1,this.yourturn2.node.active=!1,this.btnDraw2.node.active=!1,this.jokerCard.node.active=!1,this.Btn_ShowCards.node.active=!1,this.N_LeftCards.active=!1,this.N_LeftCards.getComponent("RummyShowCard").resetAllLabel(),this.noCardPanel.active=!1;for(var i=0;i<this.drawCardList.length;i++)this.drawCardList[i].active=!1;this.centerSeat.onRoundReady();for(var a=0;a<this.arrSeat.length;a++)this.arrSeat[a].onRoundReady();var o=t?t.i:this.table.startRemainTime,s=t&&t.startTime?t.startTime:(new Date).getTime();if(null!=o){var r=(new Date).getTime(),l=o-Math.floor((r-s)/1e3);for(a=0;a<l;a++)this.hintBar.addHint(g.t("label_text.game_starting",{time:l-a}),1,r+1e3*a)}this.arrSeatUserId.length=0}},onRoundStart:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().rummyrole){LogUtil.info(f,"Round Start!"+(t?t.roundID:this.table.roundID)),t&&(this.roundId=t.roundId),this.state=UI_RUMMYTABLE_STATE.START,this.hintBar.clearHint(),this.hintBar2.clearHint(),this.setTablePool(0),this.winChipsBar.active=!1,this.chipsPoolBar.active=!1,this.playersId=t&&null!=t.playersId?t.playersId:this.playersId,this.discardList=[];var i=t?t.commonCard:this.table.topDiscard;this.discardList.push(i),this.table.discardList=this.discardList,this.Btn_ShowCards.node.active=!1,this.noCardPanel.active=!1;var a=this.getSeatWithPlayerId(this.table.bankerID);if(a&&a.setBanker(!0),this.tableLowBar.active=n.getCurPlayer().rummyrole.isWatcher()||!n.getCurPlayer().rummyrole.isRoundPartner(),this.inDealCardEffect=!0,t&&(n.getCurPlayer().rummyrole.isWatcher()||n.getCurPlayer().rummyrole.isRoundPartner())){this.btnDraw1.node.stopAllActions(),this.btnDraw2.node.stopAllActions(),this.jokerCard.node.stopAllActions();for(var o=0;o<this.drawCardList.length;o++)this.drawCardList[o].stopAllActions();var s=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");this.btnDraw2.node.active=!0,this.btnDraw2.interactable=!1,this.btnDraw2.node.runAction(cc.rotateTo(0,0)),this.btnDraw2.node.runAction(cc.moveTo(0,cc.v2(0,this.dealCardStartPos.getPosition().y))),this.btnDraw2.getComponent(cc.Sprite).spriteFrame=s.getCardBackFrame(),this.btnDraw2.node.getChildByName("jokermask").active=!1,this.btnDraw1.node.active=!0,this.btnDraw1.interactable=!1,this.btnDraw1.node.runAction(cc.moveTo(0,cc.v2(0,this.dealCardStartPos.getPosition().y-1))),this.btnDraw1.getComponent(cc.Sprite).spriteFrame=s.getCardBackFrame(),this.leftCards.string="";for(o=0;o<this.drawCardList.length;o++)this.drawCardList[o].active=!0,this.drawCardList[o].runAction(cc.moveTo(0,cc.v2(0,this.dealCardStartPos.getPosition().y-2-o)));if(this.jokerCard.node.active=!0,this.jokerCard.interactable=!1,this.jokerCard.node.runAction(cc.moveTo(0,cc.v2(0,this.dealCardStartPos.getPosition().y-2-this.drawCardList.length))),this.jokerCard.node.scale=.75,this.jokerCard.node.runAction(cc.rotateTo(0,0)),this.jokerCard.spriteFrame=s.getCardBackFrame(),this.jokerCard.node.getChildByName("jokermask").active=!1,n.getCurPlayer().rummyrole.isWatcher())this.dealCardEffect(t);else{this.centerSeat.onRoundStart(e,t);for(var r=0;r<this.arrSeat.length;r++)this.arrSeat[r].onRoundStart(e,t);this.state=UI_RUMMYTABLE_STATE.DEAL,this.centerSeat.sortCard(0);for(r=0;r<this.arrSeat.length;r++)this.arrSeat[r].sortCard(0)}}else this.stopDealCardEffect(t);this.arrSeatUserId=[];for(r=0;r<this.arrSeat.length;r++){var l=null,c=this.arrSeat[r];c.tpUser&&(l=c.tpUser.userId),this.arrSeatUserId.push(l)}}},stopDealCardEffect:function(e){if(this.inDealCardEffect){this.centerSeat.cardBar.getComponent("RummyCardBar").stopDealCardEffect(e),this.centerSeat.canShowSort=!0,this.centerSeat.showSortBtn(!0);var t=this.table.discardList&&this.table.discardList.length>0?this.table.discardList[this.discardList.length-1]:null,i=e?e.leftover:this.table.leftCards,n=e?e.jokerCard:this.table.jokerCard;this.Btn_ShowCards.node.active=this.discardList.length>1;for(var a=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache"),o=0;o<this.drawCardList.length;o++)this.drawCardList[o].stopAllActions(),this.drawCardList[o].active=!0,this.drawCardList[o].runAction(cc.moveTo(0,cc.v2(this.btnDraw1OriPos.x,this.btnDraw1OriPos.y+this.drawCardList.length-o)));this.btnDraw1.node.active=!0,this.btnDraw1.interactable=!0,this.btnDraw1.node.stopAllActions(),this.btnDraw1.node.runAction(cc.moveTo(0,cc.v2(this.btnDraw1OriPos.x,this.btnDraw1OriPos.y+this.drawCardList.length))),this.btnDraw1.node.runAction(cc.rotateTo(0,0)),this.btnDraw1.getComponent(cc.Sprite).spriteFrame=a.getLeftCardBackFrame(),null!=i&&(this.leftCards.string=""+i),this.btnDraw2.node.active=!0,this.btnDraw2.interactable=!0,this.btnDraw2.node.stopAllActions(),this.btnDraw2.node.runAction(cc.moveTo(0,cc.v2(this.btnDraw2OriPos.x,this.btnDraw2OriPos.y+8))),this.btnDraw2.node.runAction(cc.rotateTo(0,0)),null!=t?(this.noCardPanel.active=!1,this.btnDraw2.getComponent(cc.Sprite).spriteFrame=a.getCardFrameWithID(t),this.isJokerCard(t,n)?this.btnDraw2.node.getChildByName("jokermask").active=!0:this.btnDraw2.node.getChildByName("jokermask").active=!1):(this.btnDraw2.node.active=!1,this.noCardPanel.active=!0),this.gameCore&&this.gameCore.gameMng.stopAudioEffect(this.showCommonCardAudioID),this.jokerCard.node.active=!0,this.jokerCard.node.stopAllActions(),this.jokerCard.node.runAction(cc.moveTo(0,cc.v2(this.jokerCardOriPos.x,this.jokerCardOriPos.y))),this.jokerCard.node.scale=.6,this.jokerCard.node.rotation=-45,this.jokerCard.node.zIndex=-1,this.jokerCard.spriteFrame=a.getCardFrameWithID(n),this.jokerCard.node.getChildByName("jokermask").active=!0,this.gameCore&&this.gameCore.gameMng.stopAudioEffect(this.showJokerCardAudioID),this.inDealCardEffect=!1}},dealCardEffect:function(e){var t=e.jokerCard;this.noCardPanel.active=!1,this.Btn_ShowCards.node.active=!1;var i=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache"),n=cc.callFunc(function(){this.btnDraw1.getComponent(cc.Sprite).spriteFrame=i.getLeftCardBackFrame();var n=e.leftover;this.leftCards.string=""+n,this.isJokerCard(e.commonCard,t)?this.btnDraw2.node.getChildByName("jokermask").active=!0:this.btnDraw2.node.getChildByName("jokermask").active=!1},this);this.btnDraw1.node.runAction(cc.sequence(cc.delayTime(0),cc.moveTo(.3,cc.v2(this.btnDraw1OriPos.x,this.btnDraw1OriPos.y+this.drawCardList.length+1)))),this.btnDraw2.node.runAction(cc.sequence(cc.delayTime(0),cc.moveTo(.3,cc.v2(this.btnDraw1OriPos.x,this.btnDraw1OriPos.y+this.drawCardList.length+2)))),this.jokerCard.node.runAction(cc.sequence(cc.delayTime(0),cc.moveTo(.3,cc.v2(this.btnDraw1OriPos.x,this.btnDraw1OriPos.y))));for(var a=0;a<this.drawCardList.length;a++){var o=this.btnDraw1OriPos.y+this.drawCardList.length-a;this.drawCardList[a].runAction(cc.sequence(cc.delayTime(0),cc.moveTo(.3,cc.v2(this.btnDraw1OriPos.x,o))))}var s=cc.callFunc(function(){this.btnDraw2.getComponent(cc.Sprite).spriteFrame=i.getCardFrameWithID(e.commonCard),this.btnDraw2.node.zIndex=-1,this.showCommonCardAudioID=this.gameCore.gameMng.playAudioEffect("showCommonCard")},this),r=[cc.v2(0,100),cc.v2(140,100),cc.v2(140,5-this.drawCardList.length)],l=cc.bezierBy(.5,r);this.btnDraw2.node.runAction(cc.sequence(cc.delayTime(.5),l,cc.rotateBy(0,0,180),cc.rotateBy(.2,0,-90),s,cc.rotateBy(.2,0,-90)));var c=cc.callFunc(function(){this.jokerCard.node.zIndex=1},this),h=cc.callFunc(function(){this.jokerCard.node.zIndex=-1,this.showJokerCardAudioID=this.gameCore.gameMng.playAudioEffect("showJokerCard")},this),u=cc.callFunc(function(){this.jokerCard.spriteFrame=i.getCardFrameWithID(e.jokerCard),this.jokerCard.node.getChildByName("jokermask").active=!0},this),d=[cc.v2(0,100),cc.v2(-120,100),cc.v2(-160,0)],m=cc.bezierBy(.6,d),g=cc.spawn([m,cc.sequence(cc.rotateTo(0,0,180),cc.rotateTo(.3,-22.5,67.5),u,cc.rotateTo(.3,-45,-45)),cc.scaleTo(.6,.6)]),p=cc.callFunc(function(){this.inDealCardEffect=!1,this.btnDraw1.interactable=!0,this.btnDraw2.interactable=!0,this.centerSeat.canShowSort=!0,this.centerSeat.showSortBtn(!0)},this);this.jokerCard.node.runAction(cc.sequence(cc.delayTime(1.2),cc.moveTo(.3,20,57),c,g,h,cc.moveTo(.3,this.jokerCardOriPos),n,p))},onRoundRunning:function(e,t){n.getCurPlayer()&&n.getCurPlayer().rummyrole&&(t&&t.roundID!=this.table.roundID||(LogUtil.info(f,"Round Running! "+(t?t.roundID:"")),this.state=UI_RUMMYTABLE_STATE.RUNNING))},onRoundNext:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().rummyrole&&(!t||t.roundID==this.table.roundID)){var i=this.getSeatWithPlayerId(this.table.bankerID);i&&i.setBanker(!0);var a=null;if((a=null!=(a="rummyjis"===e?t?t.nextId:null:t?t.next_id:null)?a:this.table.nextID)<=0||this.table.nextID<=0)LogUtil.debug(f,"Not Receiver Msg Next!");else{LogUtil.info(f,"Round Next User! Round "+(t?t.roundID:"")+" Next "+a),this.stopDealCardEffect(),this.state=UI_RUMMYTABLE_STATE.RUNNING,this.centerSeat.playerId==a&&n.getCurPlayer().rummyrole&&!n.getCurPlayer().rummyrole.isWatcher()&&n.getCurPlayer().rummyrole.isRoundPartner()?(this.centerSeat.onUserActive(),this.centerSeat.state!=SEAT_RUMMYSTATE.TOWIN&&(this.dealer.onSelfActive(),14==this.centerSeat.rummyCardBar.arrCardID.length?(this.centerSeat.winArea.active=!0,this.btnDraw1.interactable=!1,this.btnDraw2.interactable=!1,this.yourturn1.node.active=!1,this.yourturn2.node.active=!1):(this.yourturn1.node.active=!0,this.yourturn2.node.active=!0))):(this.centerSeat.onUserSilent(),this.yourturn1.node.active=!1,this.yourturn2.node.active=!1);for(var o=0;o<this.arrSeat.length;o++){var s=this.arrSeat[o];s.playerId==a?s.onUserActive(e,t):s.onUserSilent()}}}},onRoundJIS:function(e,t){if(n.getCurSFSRoom()){"rummyjis"===e&&this.RefreshTablePlayers(),!t||!1!==t.isStart&&this.roundId==t.roundId||(this.hintBar2.clearHint(),this.dealer.dealHint.clearHint(),this.dealer.dealHint2.clearHint(),this.afterUserShowIntegral(),this.tableLowBar.active=!0,this.updateLowTipsLabel(),this.roundId=t.roundId);var i=null!=t&&null!=t.leftover?t.leftover:this.table.leftCards;if(this.discardList=[],null!=t&&null!=t.commonCard)for(var a in t.commonCard)this.discardList.push(t.commonCard[a]);else this.discardList=this.table.discardList;var o=this.discardList&&this.discardList.length>0?this.discardList[this.discardList.length-1]:this.table.topDiscard,s=null!=t&&null!=t.jokerCard?t.jokerCard:this.table.jokerCard,r=null;if(r=t?!0===t.isStart?0:t.remainTime:this.table.startRemainTime,this.centerSeat.onRoundJIS(e,t),null!=i&&null!=s){this.btnDraw1.node.active=!0,this.jokerCard.node.active=!0,this.leftCards.string=""+i;var l=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");this.jokerCard.spriteFrame=l.getCardFrameWithID(s),null!=o?(this.noCardPanel.active=!1,this.btnDraw2.node.active=!0,this.btnDraw2.getComponent(cc.Sprite).spriteFrame=l.getCardFrameWithID(o),this.isJokerCard(o,s)?this.btnDraw2.node.getChildByName("jokermask").active=!0:this.btnDraw2.node.getChildByName("jokermask").active=!1):(this.btnDraw2.node.active=!1,this.noCardPanel.active=!0),this.tableLowBar.active=n.getCurPlayer().rummyrole.isWatcher()||!n.getCurPlayer().rummyrole.isRoundPartner(),this.updateLowTipsLabel(),this.inDealCardEffect=!0,this.stopDealCardEffect(),this.Btn_ShowCards.node.active=this.discardList.length>1}else{this.leftCards.string="",this.centerSeat.winArea.active=!1,this.btnDraw1.node.active=!1,this.btnDraw2.node.active=!1,this.jokerCard.node.active=!1,this.noCardPanel.active=!1;for(var c=0;c<this.drawCardList.length;c++)this.drawCardList[c].active=!1;this.Btn_ShowCards.node.active=!1}if(null!=r){this.hintBar.clearHint(),this.centerSeat.winArea.active=!1;var h=(new Date).getTime();for(a=0;a<r;a++)this.hintBar.addHint(g.t("label_text.game_starting",{time:r-a}),1,h+1e3*a)}t&&t.status!==RUMMY_ROOM_STATE.WAIT_FOR_DRAW&&t.status!==RUMMY_ROOM_STATE.WAIT_FOR_DISCARD?t.status===RUMMY_ROOM_STATE.WAIT_FOR_WINNER_DECLARE?this.onUserTowin(e,t):t.status===RUMMY_ROOM_STATE.WAIT_FOR_OTHER_DECLARE&&this.onUserDeclarewin(e,t):this.onRoundNext(e,t);var u=this.table.pool;if(t&&t.players)for(var a in t.players){var d=t.players[a].playerId,m=this.getSeatWithPlayerId(d);if(m&&m.partner)if(t.players[a].status===USER_RUMMYSTATE.DROPEDFIRST){var p={num:20};m.onUserDrop(e,p,!0)}else if(t.players[a].status===USER_RUMMYSTATE.DROPED){var C={num:40};m.onUserDrop(e,C,!0)}else if(t.players[a].status===USER_RUMMYSTATE.INGAME&&null!=t.players[a].score){var f={};f.playerId=d,f.num=t.players[a].score,m.onUserDeclare(e,f),n.getCurSFSRoom().variables&&n.getCurSFSRoom().variables.ba&&(u-=Math.abs(f.num)*n.getCurSFSRoom().variables.ba.value)}}else for(var b=this.table.getUserList(),I=0;I<b.length;I++){var _=b[I].rummyrole.playerId,S=this.getSeatWithPlayerId(_);S&&S.partner&&(80===Math.abs(b[I].rummyrole.score)?S.partner.showLostEffect(b[I].rummyrole.score):40===Math.abs(b[I].rummyrole.score)||20===Math.abs(b[I].rummyrole.score)?S.partner.showDropEffect(b[I].rummyrole.score):S.partner.clearDropEffect())}u>0?this.dealer.onSetTablePool(u):this.dealer.onClearTablePool()}},onRoundFinish:function(e,t){n.getCurPlayer()&&n.getCurPlayer().rummyrole&&t.roundID==this.table.roundID&&(LogUtil.info(f,"Round Finish! "+(t?t.roundID:"")),this.state=UI_RUMMYTABLE_STATE.FINISH,this.tableLowBar.active=!0,this.updateLowTipsLabel(),this.dealer.onRoundFinish(),this.arrSeatUserId.length=0)},onUserDrop:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().rummyrole&&t.roundID==this.table.roundID){this.state=UI_RUMMYTABLE_STATE.DROP,LogUtil.info(f,"User Drop! "+(t?t.roundID:""));var i=this.getSeatWithPlayerId(t.playerId);for(var a in i&&(i.onUserDrop(e,t),i.tpUser&&i.tpUser.rummyrole&&i.tpUser.rummyrole.onUserDrop(e,t),this.hintBar2.addHint(g.t("label_text.player_drop",{name:p.formatName(i.getDisplayName())}),3)),this.playersId)this.playersId[a]==t.playerId&&delete this.playersId[a]}},onUserDraw:function(e,t){if(n.getCurTable()&&n.getCurPlayer()&&n.getCurPlayer().rummyrole&&t.roundID==this.table.roundID){this.state=UI_RUMMYTABLE_STATE.DRAW,LogUtil.info(f,"User Draw! "+(t?t.roundID:""));var i=null!=t.leftover?t.leftover:this.table.leftCards;if(this.leftCards.string=""+i,0==t.style)if(this.discardList.pop(),this.table.discardList=this.discardList,this.discardList.length>0){this.noCardPanel.active=!1,this.btnDraw2.node.active=!0;var a=null!=t.topdiscard?t.topdiscard:this.discardList[this.discardList.length-1],o=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");this.btnDraw2.getComponent(cc.Sprite).spriteFrame=o.getCardFrameWithID(a);var s=n.getCurTable();this.isJokerCard(a,s.jokerCard)?this.btnDraw2.node.getChildByName("jokermask").active=!0:this.btnDraw2.node.getChildByName("jokermask").active=!1}else this.btnDraw2.node.active=!1,this.noCardPanel.active=!0;this.Btn_ShowCards.node.active=this.discardList.length>1,n.getCurPlayer().rummyrole.playerId==t.playerId?(this.yourturn1.node.active=!1,this.yourturn2.node.active=!1,this.actionCache.runAction(TABLE_ACTION.SELF_DRAW,e,t)):this.actionCache.runAction(TABLE_ACTION.OTHER_DRAW,e,t)}},onUserDiscard:function(e,t){"error"!=t.cmd&&n.getCurPlayer()&&n.getCurPlayer().rummyrole&&t.roundID==this.table.roundID&&(this.state=UI_RUMMYTABLE_STATE.DISCARD,LogUtil.info(f,"User Discard! "+(t?t.roundID:"")),n.getCurPlayer().rummyrole.playerId==t.playerId?this.actionCache.runAction(TABLE_ACTION.SELF_DISCARD,e,t):this.actionCache.runAction(TABLE_ACTION.OTHER_DISCARD,e,t))},updateDiscard:function(e,t){if(n.getCurTable())if(this.state===UI_RUMMYTABLE_STATE.RESULT||this.state===UI_RUMMYTABLE_STATE.FINISH)this.btnDraw2.node.active=!1;else{var i=t.card;this.discardList.push(i),this.table.discardList=this.discardList,this.btnDraw2.node.active=!0;var a=cc.director.getScene().getChildByName("Canvas").getComponent("RCardFrameCache");this.btnDraw2.getComponent(cc.Sprite).spriteFrame=a.getCardFrameWithID(i);var o=n.getCurTable();this.isJokerCard(t.card,o.jokerCard)?this.btnDraw2.node.getChildByName("jokermask").active=!0:this.btnDraw2.node.getChildByName("jokermask").active=!1,this.Btn_ShowCards.node.active=this.discardList.length>1,this.noCardPanel.active=this.discardList.length<=0}},onUserTowin:function(e,t){if("error"!=t.cmd){if(n.getCurPlayer()&&n.getCurPlayer().rummyrole&&t.roundID==this.table.roundID){this.state=UI_RUMMYTABLE_STATE.TOWIN,LogUtil.info(f,"User Towin! "+(t?t.roundID:""));var i=!1;if(e==d.SERVER_CMD_RUMMY_TOWIN&&n.getCurPlayer().rummyrole.playerId==t.playerId?i=!0:e==d.SERVER_CMD_RUMMY_JOIN_START&&n.getCurPlayer().rummyrole.playerId==t.nextId&&(i=!0),i)this.actionCache.runAction(TABLE_ACTION.SELF_TOWIN,e,t),this.centerSeat.onUserTowin(e,t),this.dealer.onSelfToWin();else{this.actionCache.runAction(TABLE_ACTION.OTHER_TOWIN,e,t);for(var a=0;a<this.arrSeat.length;a++)this.arrSeat[a].onUserTowin(e,t);var o=this.getSeatWithPlayerId(t.playerId);o&&this.dealer.onOtherToWin(o.getDisplayName())}}}else this.centerSeat.onUserTowin(e,t)},onUserDeclarewin:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().rummyrole&&t.roundID==this.table.roundID){if(this.dealer.dealHint.clearHint(),this.state=UI_RUMMYTABLE_STATE.TOWIN,LogUtil.info(f,"User Declare Win! "+(t?t.roundID:"")),e==d.SERVER_CMD_RUMMY_DECLAREWIN||e==d.SERVER_CMD_RUMMY_JOIN_START){if(!0===t.result){this.btnDraw1.node.active=!1,this.yourturn1.node.active=!1,this.yourturn2.node.active=!1,this.btnDraw2.node.active=!1,this.jokerCard.node.active=!1,this.Btn_ShowCards.node.active=!1,this.N_LeftCards.active=!1,this.N_LeftCards.getComponent("RummyShowCard").resetAllLabel();for(var i=0;i<this.drawCardList.length;i++)this.drawCardList[i].active=!1;this.noCardPanel.active=!1}if(e==d.SERVER_CMD_RUMMY_DECLAREWIN)if(this.table.actionRemainTime=RUMMY_DECLARE_TIME,n.getCurPlayer().rummyrole.playerId==t.playerId){!0===t.result&&this.dealer.onSelfDeclareWin(),this.centerSeat.onUserDeclarewin(e,t);for(var a=0;a<this.arrSeat.length;a++)this.arrSeat[a].onOtherDeclarewin(e,t)}else{this.centerSeat.onOtherDeclarewin(e,t);for(a=0;a<this.arrSeat.length;a++)this.arrSeat[a].tpUser&&(this.arrSeat[a].tpUser.rummyrole.playerId==t.playerId?this.arrSeat[a].onUserDeclarewin(e,t):this.arrSeat[a].onOtherDeclarewin(e,t));if(!0===t.result)if(n.getCurPlayer().rummyrole.isRoundPartner()){var o=this.getSeatWithPlayerId(t.playerId);o&&this.dealer.onOtherDeclareWin(o.getDisplayName())}else{var s=this.getSeatWithPlayerId(t.playerId);s&&this.dealer.onSelfDeclare(s.getDisplayName())}}else if(e==d.SERVER_CMD_RUMMY_JOIN_START){for(var a in t.players){if(t.players[a].status===USER_RUMMYSTATE.WIN){t.result=!0,t.playerId=t.players[a].playerId;break}if(t.players[a].status===USER_RUMMYSTATE.FACKWIN){t.result=!1,t.playerId=t.players[a].playerId;break}}if(t.playerId)if(n.getCurPlayer().rummyrole.playerId==t.playerId){this.dealer.onSelfDeclareWin(),this.centerSeat.onUserDeclarewin(e,t);for(a=0;a<this.arrSeat.length;a++)this.arrSeat[a].onOtherDeclarewin(e,t)}else{this.centerSeat.onOtherDeclarewin(e,t);for(a=0;a<this.arrSeat.length;a++)this.arrSeat[a].tpUser&&(this.arrSeat[a].tpUser.rummyrole.playerId==t.playerId?this.arrSeat[a].onUserDeclarewin(e,t):this.arrSeat[a].onOtherDeclarewin(e,t));if(n.getCurPlayer().rummyrole.isRoundPartner()){var r=this.getSeatWithPlayerId(t.playerId);r&&this.dealer.onOtherDeclareWin(r.getDisplayName())}else{var l=this.getSeatWithPlayerId(t.playerId);l&&this.dealer.onSelfDeclare(l.getDisplayName())}}}}if(0==t.result)for(var i in this.playersId)this.playersId[i]==t.playerId&&delete this.playersId[i]}},onUserDeclare:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().rummyrole&&t.roundID==this.table.roundID){if(this.state=UI_RUMMYTABLE_STATE.DECALARE,LogUtil.info(f,"User Declare! "+(t?t.roundID:"")),n.getCurPlayer().rummyrole.playerId==t.playerId)this.centerSeat.onUserDeclare(e,t),this.dealer.onSelfDeclare();else for(var i=0;i<this.arrSeat.length;i++)this.arrSeat[i].onUserDeclare(e,t);if(0==t.result)for(var a in this.playersId)this.playersId[a]==t.playerId&&delete this.playersId[a]}},onUserDeclareTemp:function(e,t){n.getCurPlayer()&&n.getCurPlayer().rummyrole&&(LogUtil.info(f,"onUserDeclareTemp!"),this.centerSeat.cardBar.getComponent("RummyCardBar").onUserDeclareTemp(e,t))},onUserShowIntegral:function(e,t){if(n.getCurSFSRoom()&&n.getCurSFSRoom().variables&&n.getCurSFSRoom().variables.ba&&n.getCurPlayer()&&n.getCurPlayer().rummyrole&&t.roundID==this.table.roundID){this.state=UI_RUMMYTABLE_STATE.RESULT,LogUtil.info(f,"User ShowIntegral! "+(t?t.roundID:"")),this.dealer.dealHint.clearHint(),this.centerSeat.onUserShowIntegral(e,t);for(var i=0;i<this.arrSeat.length;i++)this.arrSeat[i].onUserShowIntegral(e,t);this.btnDraw1.node.active=!1,this.yourturn1.node.active=!1,this.yourturn2.node.active=!1,this.btnDraw2.node.active=!1,this.jokerCard.node.active=!1,this.Btn_ShowCards.node.active=!1,this.N_LeftCards.active=!1,this.N_LeftCards.getComponent("RummyShowCard").resetAllLabel();for(var a=0;a<this.drawCardList.length;a++)this.drawCardList[a].active=!1;this.noCardPanel.active=!1;var o=cc.v2(0,0),s=0,r=null;for(var a in t.integral){var l=t.integral[a];if(l.num>0)s=l.num*n.getCurSFSRoom().variables.ba.value,(r=this.getSeatWithPlayerId(l.playerId))&&(r.partner.showWinEffect(),o=r.lostChipsBarOriPos);else{var c=this.getSeatWithPlayerId(l.playerId);if(c){var h=Math.abs(l.num)*n.getCurSFSRoom().variables.ba.value;h>0&&(null!=l.group?c.updateTablePool(h):h)}}}if(r){this.winChipsBar.active=!0,this.winChipsBar.opacity=0,this.winChipsBar.setPosition(this.winChipsBarOriPos);var u=cc.callFunc(function(){this.dealer.onClearTablePool()},this),d=cc.callFunc(function(){this.chipsChangedAudioID=this.gameCore.gameMng.playAudioEffect("chipsChanged"),r.updateBalance(),r.isNeedUpdateForWinner=!1},this),m=cc.callFunc(function(){this.setTablePool(s)},this),C=cc.callFunc(function(){this.setTablePool(0),this.lblWinChips.string=g.t("label_text.chips_with_symbol",{number:p.formatNumberWithRules(s)})},this);this.lblWinChips.string=g.t("label_text.chips_with_symbol",{number:p.formatNumberWithRules(this.dealer.totalDropBonus)}),this.winChipsBar.stopAllActions();var b=[];(b=this.dealer.totalDropBonus>0?[cc.delayTime(1),u,cc.fadeIn(0),cc.moveTo(.3,this.chipsPoolBarOriPos),cc.fadeOut(0)]:[cc.delayTime(1.3),cc.moveTo(0,this.chipsPoolBarOriPos)]).push(m,cc.delayTime(1),C,cc.fadeIn(0),cc.moveTo(.3,o),cc.delayTime(.5),cc.fadeOut(0),d),this.winChipsBar.runAction(cc.sequence(b))}}},onUserActionFinish:function(){},onUserSendGift:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().rummyrole&&n.getCurSFSRoom()&&!(t.gift_id>C.giftCount)){var i=t.gift_id,a=t.send_id,o=t.accept_id,s=!0,r=this.getSeatWithUserId(a);if(r){for(var l in o)if(o.hasOwnProperty(l)){var c=""+o[l],h=this.getSeatWithUserId(c);if(h){for(var d=[],m=this.gameCore.gameMng.getGiftSendCount(i),g=0;g<m;g++){var p=cc.instantiate(this.arrPfbGift[i-1]);p.scale=0!=h.index?.65:.85,p.getComponent("ReceiveGift").setGiftID(i),p.getComponent("ReceiveGift").setSenderSeat(r),p.getComponent("ReceiveGift").setReceiverSeat(h),p.getComponent("ReceiveGift").setSoundEnable(s),this.node.addChild(p),d.push(p)}h.onGiftAccept(d),s=!1}}a==n.getCurPlayer().rummyrole.userId&&n.getCurSFSRoom().variables&&n.getCurSFSRoom().variables.ba&&n.getCurPlayer().getTeenPattiProfile().nChips<80*n.getCurSFSRoom().variables.ba.value*2&&(this.gameCore.uiMng.isPopUpByUIKey(u.CHIPS_NOT_ENOUGH_1.name)||this.gameCore.gameMng.openChipsNotEnough1())}}},onUserLeaveDrop:function(e,t){var i=t.final,n=this.getRoundSeatWithUserId(i);n&&n.onUserLeaveDrop(e,t)},afterUserShowIntegral:function(){if(this.dealer.afterUserShowIntegral(),this.state===UI_RUMMYTABLE_STATE.FINISH||this.state===UI_RUMMYTABLE_STATE.RESULT){this.state=UI_RUMMYTABLE_STATE.WAIT,this.hintBar.clearHint(),this.setTablePool(0),this.winChipsBar.active=!1,this.chipsPoolBar.active=!1,this.btnDraw1.node.active=!1,this.yourturn1.node.active=!1,this.yourturn2.node.active=!1,this.btnDraw2.node.active=!1,this.jokerCard.node.active=!1,this.Btn_ShowCards.node.active=!1,this.N_LeftCards.active=!1,this.N_LeftCards.getComponent("RummyShowCard").resetAllLabel(),this.noCardPanel.active=!1;for(var e=0;e<this.drawCardList.length;e++)this.drawCardList[e].active=!1;this.centerSeat.afterUserShowIntegral();for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].afterUserShowIntegral()}},onMessageReceive:function(e,t){if(n.getCurRoom()&&n.getCurPlayer()&&n.getCurPlayer().rummyrole){var i=""+t.id,a=n.getCurRoom().msgHistory;if(!a||!a.isBlocked(i)){var o=this.getSeatWithUserId(i);if(o){var s=cc.instantiate(this.pfbMsg);0==o.seatId?s.setPosition(-118,128):s.setPosition(-2,116),o.node.addChild(s),s.getComponent("MsgPop").setPopText(t.msg,"sendmessage"==e)}}}},onBtnShowCardClicked:function(e,t){1==this.Btn_ShowCards.node.scaleX?(this.Btn_ShowCards.node.scaleX=-1,this.N_LeftCards.active=!0,this.N_LeftCards.getComponent("RummyShowCard").setProperty(this.discardList)):(this.Btn_ShowCards.node.scaleX=1,this.N_LeftCards.active=!1)},resetDiscardList:function(){this.discardList=[],this.table.discardList=this.discardList,this.btnDraw2.node.active=!1,this.noCardPanel.active=!0,this.Btn_ShowCards.node.active=!1,this.N_LeftCards.getComponent("RummyShowCard").setProperty(this.discardList)},setTablePool:function(e){this.tableWinChips=e,this.chipsPoolBar.onStakeCollected(this.tableWinChips),this.chipsPoolBar.node.active=this.tableWinChips>0}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",RummyCenterSeat:"RummyCenterSeat",RummyNormalSeat:"RummyNormalSeat",RummyTable:"RummyTable",RummyTableDealer:"RummyTableDealer",RummyTablePoolBar:"RummyTablePoolBar",TableActionCache:"TableActionCache",TableHintBar:"TableHintBar",UIInfo:"UIInfo"}],RummyTableDealer:[function(e,t,i){"use strict";cc._RF.push(t,"a8891zbFrdCoIPeaq8RkGSN","RummyTableDealer");var n=e("RummyTablePoolBar"),a=e("UIInfo"),o=e("Command"),s=e("DataAnalysisKey"),r=e("BaseTable"),l=e("GameUtils"),c=e("TableTipsCollector"),h=e("DealerHintBar"),u=e("LanguageData"),d=e("BaseComponent");cc.Class({extends:d,properties:{curRoundID:0,table:r,tableCTR:null,imgDealer:cc.Sprite,btnTips:cc.Button,btnSwitch:cc.Button,dealHint:h,dealHint2:h,tablePool:n,tipsCollector:c,totalDropBonus:0,dealerCache:{visible:!1,default:null}},onLoad:function(){this._super(),ITeenPatti.getCurTable()&&(this.table=ITeenPatti.getCurTable(),this.tableCTR=this.table.contrller,this.btnTips.node.active=!ITeenPatti.getCurPlayer().rummyrole.isWatcher(),this.dealerCache=cc.director.getScene().getChildByName("Canvas").getComponent("DealerCache"),ITeenPatti.addListener("RoomUpdate",this,this.onRoomUpdate),ITeenPatti.addListener("rummystart",this,this.onRoundStart),ITeenPatti.addListener("tip",this,this.onTipSuccess),ITeenPatti.addListener("switchdealer",this,this.onSwitchDealer),this.tablePool.node.active=!1)},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(o.UI_CMD_SWITCHING_DEALER,this,this.onSwitchDealerClk)},onDestroy:function(){ITeenPatti.removeListenerWithTarget(this)},onSwitchDealerClk:function(){this.showNetworkDelayLoading()},showDelayLoading:function(){this.btnSwitch.interactable=!1,this._super(cc.v2(0,20),this.btnSwitch.node,.7)},clearTable:function(){},isStakeCollecting:function(){return this.TableStakeCollector.isStakeCollecting()},onBtnSwitchDealer:function(){cc.director.getScene().getChildByName("Canvas").getComponent("RummyScene").gameCore.uiMng.openUI(a.SWITCH_DEALER_POPUP)},onBtnSendTip:function(){var e=ITeenPatti.getCurPlayer();e&&e.rummyrole&&ITeenPatti.getCurSFSRoom()&&ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&(ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&!this.gameCore.gameMng.hasEnoughChips2(ITeenPatti.getCurRoom().profile.nBootAmount+80*ITeenPatti.getCurSFSRoom().variables.ba.value)?this.gameCore.dataAnalysisMng.sendData(s.POPUP_CHIPSOUT_TIPS,this.gameCore.dataAnalysisMng.gameBaseData):(this.gameCore.dataAnalysisMng.sendData(s.CLICK_DEALER_TIPS,this.gameCore.dataAnalysisMng.gameBaseData),this.tipsAmount=ITeenPatti.getCurRoom().profile.tipAmount,ITeenPatti.sendMsg("tip",{i:this.tipsAmount})))},collectBoot:function(e,t,i,n){},collectStake:function(e,t,i,n){},sendAwardsToSeat:function(e,t){this.tablePool.sendAwardToSeat(e,t)},startDealCard:function(e,t,i){},onRoomUpdate:function(e,t){this.tablePool.onRoomUpdate(e,t)},onUserExitRoom:function(e,t){t.user.isItMe&&ITeenPatti.removeListenerWithTarget(this)},onUserStandUp:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().getUserWithUserID(t.user.name);i&&this.dealHint2.addHint(u.t("label_text.sit_then_stand",{name:l.formatName(i.getTeenPattiProfile().strTPName)})),this.btnTips.node.active=!ITeenPatti.getCurPlayer().rummyrole.isWatcher()}},onUserSitDown:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().getUserWithUserID(t.user.name);i&&this.dealHint2.addHint(u.t("label_text.join_game",{name:l.formatName(i.getTeenPattiProfile().strTPName)})),this.btnTips.node.active=!ITeenPatti.getCurPlayer().rummyrole.isWatcher()}},onRoundReady:function(e,t){if(ITeenPatti.getCurSFSRoom()){this.tablePool.onRoundReady(e,t),this.totalDropBonus=0,this.tablePool.node.active=!1,this.dealHint.clearHint(),this.dealHint2.clearHint();var i=ITeenPatti.getCurPlayer();if(ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&i&&i.rummyrole&&!i.rummyrole.isWatcher()&&i.getTeenPattiProfile().nChips<80*ITeenPatti.getCurSFSRoom().variables.ba.value){var n=this.gameCore.uiMng.getUIByUIKey(a.RUMMY_SCENE.name);ITeenPatti.removeListener("UserStandUp",n),ITeenPatti.sendMsg("standup",null),this.gameCore.gameMng.hasEnoughChips2(80*ITeenPatti.getCurSFSRoom().variables.ba.value),this.gameCore.dataAnalysisMng.sendData(s.POPUP_CHIPSOUT_GAMEEND,this.gameCore.dataAnalysisMng.gameBaseData)}this.gameCore.dataAnalysisMng.sendData(s.START_GAME,this.gameCore.dataAnalysisMng.gameBaseData)}},onRoundStart:function(e,t){if(ITeenPatti.getCurSFSRoom()){this.gameCore.dataAnalysisMng.sendData(s.COLLECT_BOOT_CLIENT,this.gameCore.dataAnalysisMng.gameBaseData);var i=ITeenPatti.getCurPlayer();if(ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&i&&i.rummyrole&&!i.rummyrole.isWatcher()&&i.getTeenPattiProfile().nChips<80*ITeenPatti.getCurSFSRoom().variables.ba.value){var n=this.gameCore.uiMng.getUIByUIKey(a.RUMMY_SCENE.name);ITeenPatti.removeListener("UserStandUp",n),ITeenPatti.sendMsg("standup",null),this.gameCore.gameMng.hasEnoughChips2(80*ITeenPatti.getCurSFSRoom().variables.ba.value),this.gameCore.dataAnalysisMng.sendData(s.POPUP_CHIPSOUT_GAMEEND,this.gameCore.dataAnalysisMng.gameBaseData)}}},onRoundRunning:function(){},onUserAction:function(e,t){},onUserSideShow:function(e,t){},onUserDrop:function(e){this.totalDropBonus+=e,this.tablePool.onStakeCollected(this.totalDropBonus),this.tablePool.node.active=this.totalDropBonus>0},onSelfToWin:function(){this.dealHint.clearHint(),this.dealHint.lblHint.fontSize=26,this.dealHint.addHint(u.t("label_text.arrange_cards_msg"),RUMMY_DECLARE_TIME,(new Date).getTime()),this.dealHint.imgHintBg.node.setContentSize(cc.size(this.dealHint.lblHint.node.width+20,45))},onOtherToWin:function(e){this.dealHint.clearHint(),this.dealHint.lblHint.fontSize=26,this.dealHint.addHint(u.t("label_text.declare_cards",{name:l.formatName(e)}),RUMMY_DECLARE_TIME,(new Date).getTime()),this.dealHint.imgHintBg.node.setContentSize(cc.size(this.dealHint.lblHint.node.width+20,45))},onSelfDeclareWin:function(){this.dealHint.clearHint(),this.dealHint.lblHint.fontSize=26,this.dealHint.addHint(u.t("label_text.wait_for_declare"),RUMMY_DECLARE_TIME,(new Date).getTime()),this.dealHint.imgHintBg.node.setContentSize(cc.size(this.dealHint.lblHint.node.width+20,45))},onOtherDeclareWin:function(e){this.dealHint.clearHint(),this.dealHint.lblHint.fontSize=24,this.dealHint.addHint(u.t("label_text.declare_cards_msg",{name:l.formatName(e)}),RUMMY_DECLARE_TIME,(new Date).getTime()),this.dealHint.imgHintBg.node.setContentSize(cc.size(this.dealHint.lblHint.node.width+20,75))},onSelfDeclare:function(){this.dealHint.clearHint(),this.dealHint.lblHint.fontSize=26,this.dealHint.addHint(u.t("label_text.wait_for_declare"),RUMMY_DECLARE_TIME,(new Date).getTime()),this.dealHint.imgHintBg.node.setContentSize(cc.size(this.dealHint.lblHint.node.width+20,45))},onSelfActive:function(){},onRoundFinish:function(){this.dealHint.clearHint()},afterUserShowIntegral:function(){if(ITeenPatti.getCurSFSRoom()){var e=ITeenPatti.getCurPlayer();if(ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&e&&e.rummyrole&&!e.rummyrole.isWatcher()&&e.getTeenPattiProfile().nChips<80*ITeenPatti.getCurSFSRoom().variables.ba.value){var t=this.gameCore.uiMng.getUIByUIKey(a.RUMMY_SCENE.name);ITeenPatti.removeListener("UserStandUp",t),ITeenPatti.sendMsg("standup",null),this.gameCore.gameMng.hasEnoughChips2(80*ITeenPatti.getCurSFSRoom().variables.ba.value),this.gameCore.dataAnalysisMng.sendData(s.POPUP_CHIPSOUT_GAMEEND,this.gameCore.dataAnalysisMng.gameBaseData)}}},onRoundResult:function(e,t){},onUserDeclare:function(e){},onRoundAwards:function(e,t){this.tablePool.onRoundAwards(e,t)},onRoundReset:function(){},onRoundAwardsFinish:function(){},onAnimResetFinish:function(){},noPlayerOnTable:function(){},onTipSuccess:function(e,t){var i=this.tableCTR.getSeatWithUserId(t.id);i&&this.tipsCollector.collectTips(i.seatId,t.chip),ITeenPatti.getCurSFSRoom()&&ITeenPatti.getCurSFSRoom().variables&&ITeenPatti.getCurSFSRoom().variables.ba&&ITeenPatti.getCurPlayer().getTeenPattiProfile().nChips<80*ITeenPatti.getCurSFSRoom().variables.ba.value*2&&(this.gameCore.uiMng.isPopUpByUIKey(a.CHIPS_NOT_ENOUGH_1.name)||this.gameCore.gameMng.openChipsNotEnough1())},onSwitchDealer:function(e,t){this.hideNetworkDelayLoading(),this.changeDealerSpriteFrame(t.i);this.dealHint.addHint(u.t("label_text.change_dealer_tip",{name:l.formatName(ITeenPatti.getCurPlayer().getTeenPattiProfile().strTPName),name1:["Jyotis","Manisha","Payal","Shikha","Varsha","Anamika","Lulu","Ishita"][t.i-1]}))},changeDealerSpriteFrame:function(e){this.dealerCache.isDealerLoad(e)&&(this.table.dealerID=e,this.imgDealer.spriteFrame=this.dealerCache.getTableFrame(e))},onClearTablePool:function(){this.totalDropBonus=0,this.tablePool.onStakeCollected(this.totalDropBonus),this.tablePool.node.active=this.totalDropBonus>0},onSetTablePool:function(e){this.totalDropBonus=e,this.tablePool.onStakeCollected(e),this.tablePool.node.active=this.totalDropBonus>0}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BaseTable:"BaseTable",Command:"Command",DataAnalysisKey:"DataAnalysisKey",DealerHintBar:"DealerHintBar",GameUtils:"GameUtils",LanguageData:"LanguageData",RummyTablePoolBar:"RummyTablePoolBar",TableTipsCollector:"TableTipsCollector",UIInfo:"UIInfo"}],RummyTablePoolBar:[function(e,t,i){"use strict";cc._RF.push(t,"62b58k2k2RKOaZzIgvcf2xd","RummyTablePoolBar");var n=e("GameUtils"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{curPool:0,lblPool:cc.Label,pfbAward:cc.Prefab},onLoad:function(){this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)})},onDestroy:function(){ITeenPatti.removeListenerWithTarget(this)},onRoomUpdate:function(e,t){this.lblPool},onRoundReady:function(e,t){this.curPool=0,this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)})},onRoundAwards:function(e,t){this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)})},onStakeCollected:function(e){this.curPool=e,this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)})},sendAwardToSeat:function(e,t){this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)});var i=cc.instantiate(this.pfbAward);this.node.addChild(i);var o=i.getComponent("TableAwardsView");return o.playAnimAwards(e,t),o}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],RummyTable:[function(e,t,i){"use strict";cc._RF.push(t,"2f331UPWmtB3LyzGU4QvS/M","RummyTable");var n=e("TeenPattiUser"),a=e("BaseComponent"),o=e("RummyRoler");e("AemobileConfig"),e("ISmartFox"),cc.Class({extends:a,name:"RummyTable",properties:{tableId:0,state:UI_RUMMYTABLE_STATE.INVALID,dealerID:1,roundID:0,bankerID:0,startID:0,leftCards:0,topDiscard:0,jokerCard:0,lastJokerCard:0,nextID:0,cdTime:0,cdStart:0,curRoundExp:0,curUserLevel:0,curUserBonus:0,curLevelUpBonus:0,nextLevel:0,nextLevelBonus:0,arrUser:[n],arrRoundPartner:[n],discardList:[],isTableFull:{get:function(){return 5==this.getSitUserCount()}}},ctor:function(){this.dropUser=[],this.arrHandler={},this.discardList=[],this.startRemainTime=0,this.pool=0,this.dropPoint=0,this.arrHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrHandler.rummyjis=handler(this,this.onRoomHasStart),this.arrHandler.UserEnterRoom=handler(this,this.onUserEnterRoom),this.arrHandler.UserExitRoom=handler(this,this.onUserExitRoom),this.arrHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrHandler.UserSitDown=handler(this,this.onUserSitDown),this.arrHandler.UserUpdate=handler(this,this.onUserUpdate),this.arrHandler.updatebonus=handler(this,this.onUserLevelUp),this.arrHandler.rummystarttime=handler(this,this.onRoundReady),this.arrHandler.rummystart=handler(this,this.onRoundStart),this.arrHandler.rummynext=handler(this,this.onRoundNext),this.arrHandler.rummydrop=handler(this,this.onUserDrop),this.arrHandler.rummydraw=handler(this,this.onUserDraw),this.arrHandler.rummydiscard=handler(this,this.onUserDiscard),this.arrHandler.rummytowin=handler(this,this.onUserTowin),this.arrHandler.rummydeclare=handler(this,this.onUserDeclare),this.arrHandler.rummyshowintegral=handler(this,this.onUserShowIntegral),this.arrHandler.rummyfinish=handler(this,this.onRoundFinish)},getUserList:function(){return this.arrUser},getUserWithPlayerID:function(e){for(var t=0;t<this.arrUser.length;t++){if(e==(i=this.arrUser[t]).rummyrole.playerId)return i}for(t=0;t<this.dropUser.length;t++){var i;if(e==(i=this.dropUser[t]).rummyrole.playerId)return i}return null},getUserWithUserID:function(e){for(var t=0;t<this.arrUser.length;t++){if(e==(i=this.arrUser[t]).userId)return i}for(t=0;t<this.dropUser.length;t++){var i;if(e==(i=this.dropUser[t]).rummyrole.userId)return i}return null},getLastRoundUserWithUserID:function(e){for(var t=null,i=0;i<this.lastArrUser.length;i++){if(e==(n=this.lastArrUser[i]).userId){t=n;break}}if(!t)for(i=0;i<this.lastDropUser.length;i++){var n;if(e==(n=this.lastDropUser[i]).rummyrole.userId){t=n;break}}return t},getBeginPlayerID:function(){var e=ITeenPatti.getCurPlayer().rummyrole.playerId;if(null!=e&&e>0)return e;for(var t=[!1,!1,!1,!1,!1,!1],i=0;i<this.arrUser.length;i++){var n=this.arrUser[i].rummyrole.playerId;null!=n&&n>0&&(t[n]=!0)}for(i=1;i<t.length;i++)if(!t[i])return i;return 1},getEarlyHandOfSelf:function(){var e=ITeenPatti.getCurPlayer();if(!e||!e.rummyrole)return null;var t=e.rummyrole.playerId;if(null==t||t<1)return null;for(var i=t+5;i>t;i--){var n=i-1>5?i-1-5:i-1,a=this.getUserWithPlayerID(n);if(null!=a&&a.rummyrole.isAlivePartner())return a}return null},getEarlyHandOfPlayer:function(e){return null},getSitUserCount:function(){for(var e=0,t=0;t<this.arrUser.length;t++)this.arrUser[t].rummyrole.playerId>0&&(e+=1);return e},getAliveUserCount:function(){for(var e=0,t=0;t<this.arrRoundPartner.length;t++)this.arrRoundPartner[t]&&this.arrRoundPartner[t].rummyrole.isAlivePartner()&&(e+=1);return e},isRoundPartner:function(e){if(!this.arrRoundPartner)return!1;for(var t=0;t<this.arrRoundPartner.length;t++)if(this.arrRoundPartner[t]&&this.arrRoundPartner[t].userId==e)return!0;return!1},isRoundOver:function(){return this.state!=UI_RUMMYTABLE_STATE.RUNNING},isRoundWinner:function(e){for(var t=0;t<this.arrAwardID.length;t++)if(this.arrAwardID[t]==e)return!0;return!1},isCurRoomWinBiggest:function(e){return!1},getPartnerIDList:function(){for(var e=[],t=this.bankerID<5?this.bankerID+1:1,i=t;i<t+5;i++)for(var n=i>5?i-5:i,a=0;a<this.arrRoundPartner.length;a++)if(this.arrRoundPartner[a]&&this.arrRoundPartner[a].rummyrole.playerId==n){e.push(n);break}return e},onMsgReceived:function(e,t){var i=this.arrHandler[e];i&&i(e,t);var n=ITeenPatti.getCurPlayer();n&&n.onMsgReceived(e,t);for(var a=0;a<this.arrUser.length;a++){var o=this.arrUser[a];o.rummyrole.onMsgReceived(e,t),o.tpProfile.onMsgReceived(e,t)}},onRoomJoin:function(e,t){this.arrRoundPartner=[],this.tableId=t.room.id,this.lastArrUser=[],this.lastDropUser=[],this.arrUser=[];var i=ITeenPatti.getCurRoomSFSUserList();LogUtil.debug("RummyTable",i);for(var a=0;a<i.length;a++){var s=i[a],r=new n;r.initWithSFSPlayer(s),r.setRummyRole(new o(s)),this.arrUser[this.arrUser.length]=r}},onRoomUpdate:function(e,t){t.room},onRoomHasStart:function(e,t){for(var i in!0===t.isStart?this.state=UI_RUMMYTABLE_STATE.RUNNING:t.remainTime&&t.remainTime>0?this.state=UI_RUMMYTABLE_STATE.READY:this.state=UI_RUMMYTABLE_STATE.WAIT,this.bankerID=t.bankerId,this.roundID=t.roundId,this.nextID=t.nextId,this.cdStart=(new Date).getTime(),this.cdTime=30,this.startRemainTime=!0===t.isStart?0:t.remainTime,this.actionRemainTime=!0===t.isStart?t.remainTime:0,this.pool=t.pool,this.leftCards=t.leftover,this.discardList=[],t.commonCard)this.discardList.push(t.commonCard[i]);for(var n in this.topDiscard=this.discardList&&this.discardList.length>0?this.discardList[this.discardList.length-1]:null,this.jokerCard=t.jokerCard,this.arrRoundPartner=[],t.playIds)if(t.playIds.hasOwnProperty(n)){var a=this.getUserWithPlayerID(t.playIds[n]);if(!a)continue;this.arrRoundPartner.push(a),a.rummyrole.onRoundStart(e,t)}for(var n in this.unschedule(this.onStartTimeCountDown),this.startRemainTime&&this.startRemainTime>0&&this.schedule(this.onStartTimeCountDown,1),t.players)for(i=this.arrUser.length-1;i>=0;i--){var o=this.arrUser[i];if(t.players[n].playerId===o.rummyrole.playerId){o.rummyrole.score=t.players[n].score;break}}},onStartTimeCountDown:function(){this.startRemainTime-=1,this.startRemainTime<=0&&this.unschedule(this.onStartTimeCountDown)},onUserEnterRoom:function(e,t){var i=new n;i.initWithSFSPlayer(t.user);for(var a=0;a<this.arrUser.length;a++)if(this.arrUser[a].userId==i.userId)return(i=this.arrUser[a]).initWithSFSPlayer(t.user),void i.setRummyRole(new o(t.user));i.initWithSFSPlayer(t.user),i.setRummyRole(new o(t.user)),this.arrUser[this.arrUser.length]=i},onUserExitRoom:function(e,t){for(var i=t.user.name,n=this.arrRoundPartner.length-1;n>=0;n--){var a=this.arrRoundPartner[n];a||this.arrRoundPartner.splice(n,1),a&&i==a.userId&&(this.arrRoundPartner.splice(n,1),this.dropUser.push(a))}for(n=this.arrUser.length-1;n>=0;n--){var o=this.arrUser[n];if(o||this.arrUser.splice(n,1),o&&i==o.userId)return this.arrUser.splice(n,1),void this.dropUser.push(o)}},onUserStandUp:function(e,t){for(var i=t.user.name,n=this.arrRoundPartner.length-1;n>=0;n--){var a=this.arrRoundPartner[n];if(a||this.arrRoundPartner.splice(n,1),a&&i==a.userId)return this.arrRoundPartner.splice(n,1),void this.dropUser.push(a)}},onUserSitDown:function(e,t){var i=this.getUserWithUserID(t.user.name);if(i&&ITeenPatti.getCurPlayer()){i.userId==ITeenPatti.getCurPlayer().userId&&ITeenPatti.getCurPlayer().rummyrole.onUserSitDown(e,t),this.arrRoundPartner=this.arrRoundPartner||[];for(var n=0;n<this.arrRoundPartner.length;n++)if(this.arrRoundPartner[n].userId==i.userId)return;this.arrRoundPartner.push(i)}else LogUtil.err("BaseTable","Server Data Error, Cannot find the bet user!")},onUserUpdate:function(e,t){var i=t.user.name,n=this.getUserWithUserID(i);n&&n.onMsgReceived(e,t)},onUserLevelUp:function(e,t){this.curLevelUpBonus=t.i,ITeenPatti.getCurPlayer().rummyrole.onUserLevelUp(e,t)},onRoundReady:function(e,t){this.state=UI_RUMMYTABLE_STATE.READY,this.bankerID=-1,this.cdTime=t.i,this.startRemainTime=t.i,this.cdStart=(new Date).getTime(),this.poolAmount=0,this.arrAwardID=[],this.arrWinerID=[],this.arrLoserID=[],this.awardAmount=[],this.arrRoundPartner=[],this.lastDropUser=this.dropUser,this.lastArrUser=this.arrUser,this.dropUser=[],this.discardList=[],this.pool=0;for(var i=this.arrUser.length-1;i>=0;i--){var n=this.arrUser[i];n.rummyrole.playerId>0&&n.rummyrole.onRoundReady(e,t)}ITeenPatti.getCurPlayer().rummyrole.onRoundReady(e,t),this.unschedule(this.onStartTimeCountDown),this.startRemainTime&&this.startRemainTime>0&&this.schedule(this.onStartTimeCountDown,1),this.actionRemainTime=0,this.dropPoint=0},onRoundStart:function(e,t){this.state=UI_RUMMYTABLE_STATE.START,this.bankerID=t.bankerId,this.startID=t.startId,this.roundID=t.roundId,this.cdTime=0,this.myLoopNum=0,this.discardList=[],this.pool=0,this.leftCards=t.leftover,this.topDiscard=t.commonCard,this.jokerCard=t.jokerCard;for(var i=this.arrUser.length-1;i>=0;i--){var n=this.arrUser[i];n.rummyrole.playerId>0&&n.rummyrole.onRoundStart(e,t)}ITeenPatti.getCurPlayer().rummyrole.playerId>0&&(ITeenPatti.getCurPlayer().rummyrole.onRoundStart(e,t),ITeenPatti.getCurPlayer().rummyrole.setUserCard(t)),cc.sys.isBrowser&&console.log(this.arrRoundPartner),this.actionRemainTime=0,this.dropPoint=20},onRoundNext:function(e,t){this.state=UI_RUMMYTABLE_STATE.RUNNING,this.sshowID=-1,this.nextID=t.next_id,this.cdTime=t.wait_time,this.cdStart=(new Date).getTime(),this.actionRemainTime=this.cdTime;var i=this.getUserWithPlayerID(this.nextID);i&&i.userId==ITeenPatti.getCurPlayer().userId&&this.myLoopNum++;for(var n=this.arrUser.length-1;n>=0;n--){var a=this.arrUser[n];a.rummyrole.playerId>0&&a.rummyrole.onRoundNext(e,t)}ITeenPatti.getCurPlayer().rummyrole.onRoundNext(e,t),this.contrller&&this.contrller.centerSeat&&this.contrller.centerSeat.onRoundNext(e,t)},onRoundFinish:function(e,t){this.state=UI_RUMMYTABLE_STATE.FINISH,this.curRoundExp=t.exp,this.curUserLevel=t.expbar.level,null!=t.expbar.levelbonus&&(this.nextLevel=t.expbar.levelbonus.level,this.nextLevelBonus=t.expbar.levelbonus.bonus),this.lastJokerCard=this.jokerCard,this.actionRemainTime=0,ITeenPatti.getCurPlayer().rummyrole.onRoundFinish(e,t),this.contrller&&this.contrller.centerSeat&&this.contrller.centerSeat.onRoundFinish(e,t)},onUserDrop:function(e,t){this.dropUser.push(this.getUserWithPlayerID(t.playerId))},onUserDraw:function(e,t){0===this.leftCards&&t.leftover>0&&this.contrller&&this.contrller.resetDiscardList(),this.leftCards=null!=t.leftover?t.leftover:this.leftCards,this.topDiscard=null!=t.topdiscard?t.topdiscard:this.topDiscard;var i=this.getUserWithPlayerID(t.playerId);i&&i.userId==ITeenPatti.getCurPlayer().userId&&ITeenPatti.getCurPlayer().rummyrole.onUserDraw(e,t)},onUserDiscard:function(e,t){LogUtil.debug("RummyTable","onUserDiscard");var i=this.getUserWithPlayerID(t.playerId);if(i&&(this.topDiscard=null!=t.card?t.card:this.topDiscard,i.userId==ITeenPatti.getCurPlayer().userId&&this.contrller&&this.contrller.centerSeat&&this.contrller.centerSeat.cardBar)){var n=this.contrller.centerSeat.cardBar.getComponent("RummyCardBar").getDisCardIndex();ITeenPatti.getCurPlayer().rummyrole.onUserDiscard(e,t,n)}},onUserTowin:function(e,t){},onUserDeclare:function(e,t){},onUserDeclareWin:function(e,t){ITeenPatti.getCurPlayer().rummyrole.onUserDeclareWin(e,t);for(var i=this.arrUser.length-1;i>=0;i--){var n=this.arrUser[i];n.rummyrole.playerId>0&&n.rummyrole.onUserDeclareWin(e,t)}},onUserShowIntegral:function(e,t){this.state=UI_RUMMYTABLE_STATE.FINISH,this.lastJokerCard=this.jokerCard,this.actionRemainTime=0}});cc._RF.pop()},{AemobileConfig:"AemobileConfig",BaseComponent:"BaseComponent",ISmartFox:"ISmartFox",RummyRoler:"RummyRoler",TeenPattiUser:"TeenPattiUser"}],RummyUtil:[function(e,t,i){"use strict";cc._RF.push(t,"7f1347/6+dPGKZxGIue5pvC","RummyUtil");var n=["\u2666","\u2660","\u2665","\u2663"],a=["A ","2 ","3 ","4 ","5 ","6 ","7 ","8 ","9 ","10","J ","Q ","K ","A ","JK"],o=function(e,t){var i=e%4,o=Math.floor(e/4);return o==t?"\x1b[46m"+n[i]+a[o]+"\x1b[0m":n[i]+a[o]},s=function(e,t){for(var i="",n=0;n<e.length;n++)i=i+o(e[n],t)+" ";return"["+e.length+"]["+i+" ]"},r=function(e,t){var i=e[e.length-1]&&e[e.length-1].weight?e[e.length-1].weight:"0";console.log("----------------------- Weight: "+i);for(var n=0;n<e.length;n++)console.log(s(e[n].card,t),e[n].card,e[n].type,e[n].jremain)};window.RummyUtil={sortCard:function(e,t){for(var i=t-1,n="",o=0;o<e.length;o++)n=n+e[o]+", ";for(var l=0;l<e.length;l++)e[l]=e[l]+4;console.log("---------------------------------- Input Card ----------------------------------------"),console.log("Joker Card: "+a[i]),console.log(s(e,i)),console.log("[ "+n+" ]");var c=(new Date).getTime();this.arrUser=e,this.objData=this.initData(e);for(var h=this.getAllFirstLifeList(e,this.objData,i),u=[],d=0;d<h.length;d++)if(4!=h[d].type)for(var m=this.getAllSecondLifeList(e,h[d],h[d].objData,i),g=0;g<m.length;g++)u.push([h[d],m[g]]);else u.push([h[d]]);for(var p=80,C=[],f=0;f<u.length&&0!=(p=this.traverseTree(e,u[f],p,C));f++);C=this.replaceJokerInPath(e,C,i),console.log("---------------------------------- Solution Time: "+((new Date).getTime()-c)+" ------------------------------");var b=null;if(C[0]=this.sliceScatterGroup(C[0]),C[0]){r(C[0],i);b=this.convertPath(C[0],e)}return b},sliceScatterGroup:function(e){if(!e||4!=e[e.length-1].type)return e;var t=e[e.length-1].weight,i=this.initData(e[e.length-1].card),n=[],a=[i.rdCard,i.bcCard,i.rhCard,i.bsCard];e.splice(e.length-1,1);for(var o=0;o<a.length;o++){for(var s=[],r=1;r<a[o].length;r++)for(;a[o][r]>0;)s.push(4*r+o),a[o][r]--;s.length<1||n.push({card:s.slice(0),type:4,weight:t})}n.sort(function(e,t){var i=t.card.length-e.card.length;return 0!=i?i:t.card[0]%4-e.card[0]%4});for(var l=0;l<n.length;l++){if(!(n[l].card.length>1)){for(var c=l+1;c<n.length;c++)n[l].card.push(n[c].card[0]);e.push(n[l]);break}e.push(n[l])}return e},convertPath:function(e,t){for(var i=[],n=[],a=0;a<e.length;a++){n[a]={},n[a].begin=i.length,n[a].end=i.length+e[a].card.length-1,n[a].style=e[a].type,n[a].gcolor=4==e[a].type?3:1;for(var o=0;o<e[a].card.length;o++)e[a].card[o]-=4,e[a].card[o]>51&&(e[a].card[o]=52),e[a].card[o]<0&&(e[a].card[o]+=52),i.push(e[a].card[o])}for(var s=["1st life","2nd life","","","",""],r=0;r<e.length;r++)n[r].text=4!=e[r].type?s[r]:"",n[r].card=i.slice(0);return n},replaceJokerInPath:function(e,t,i){for(var n=0,a=[0,0,0,0],o=0;o<e.length;o++){var s=e[o];e[o]>55&&n++,Math.floor(s/4)==i&&(a[s%4]+=1,n++)}for(var r=0;r<t.length;r++)if(4!=t[0].type){for(var l=a.slice(0),c=[],h=0;h<t[r].length;h++)for(var u=0;u<t[r][h].card.length;u++){var d=t[r][h].card[u];13!=i&&Math.floor(d/4)!=i||(13==i&&Math.floor(d/4)!=i&&0!=Math.floor(d/4)||(l[d%4]-=1,c.push(d)))}for(var m=0;m<l.length;m++)for(;l[m]>0;)c.push(4*i+m),l[m]--;for(var g=1;g<t[r].length;g++)t[r][g]=this.jokerCardReplace(c,t[r][g],n-t[r][g-1].jremain);for(var p=n-t[r][t[r].length-1].jremain;n>p;)t[r][t[r].length-1].card.push(p<c.length?c[p]:56),t[r][t[r].length-1].end++,p++;t[r][t[r].length-1].card.sort(function(e,t){return e-t})}return t},jokerCardReplace:function(e,t,i){if(!t.joker)return t;for(var n=0;n<t.card.length;n++)57==t.card[n]&&(t.card[n]=i<e.length?e[i]:56,i++);return t},removeCardFromData:function(e,t,i){for(var n=1;n<t.length;n++)for(var a=0;a<t[n].card.length;a++){var o=t[n].card[a];if(!(o>55)){var s=Math.floor(o/4);switch(o%4){case 0:i.rdCard[s]-=1;break;case 1:i.bcCard[s]-=1;break;case 2:i.rhCard[s]-=1;break;case 3:i.bsCard[s]-=1}i.arrCard[s]-=1,0==s&&(i.rdCard[13]=i.rdCard[0],i.bcCard[13]=i.bcCard[0],i.rhCard[13]=i.rhCard[0],i.bsCard[13]=i.bsCard[0],i.arrCard[13]=i.arrCard[0]),13==s&&(i.rdCard[0]=i.rdCard[13],i.bcCard[0]=i.bcCard[13],i.rhCard[0]=i.rhCard[13],i.bsCard[0]=i.bsCard[13],i.arrCard[0]=i.arrCard[13])}}},addCardToData:function(e,t,i){for(var n=1;n<t.length;n++)for(var a=0;a<t[n].card.length;a++){var o=t[n].card[a];if(!(o>55)){var s=Math.floor(o/4);switch(o%4){case 0:i.rdCard[s]+=1;break;case 1:i.bcCard[s]+=1;break;case 2:i.rhCard[s]+=1;break;case 3:i.bsCard[s]+=1}i.arrCard[s]+=1,0==s&&(i.rdCard[13]=i.rdCard[0],i.bcCard[13]=i.bcCard[0],i.rhCard[13]=i.rhCard[0],i.bsCard[13]=i.bsCard[0],i.arrCard[13]=i.arrCard[0]),13==s&&(i.rdCard[0]=i.rdCard[13],i.bcCard[0]=i.bcCard[13],i.rhCard[0]=i.rhCard[13],i.bsCard[0]=i.bsCard[13],i.arrCard[0]=i.arrCard[13])}}i.rdCard[0]=i.rdCard[13],i.bcCard[0]=i.bcCard[13],i.rhCard[0]=i.rhCard[13],i.bsCard[0]=i.bsCard[13],i.arrCard[0]=i.arrCard[13]},traverseTree:function(e,t,i,n){var a=t.length-1;if(4==t[a].type){t[a].weight=this.getSolutionValue(t[a].card);var o=n.length>0?n[0][n[0].length-1].card.length:14;return(t[a].weight<i||t[a].weight==i&&t[a].card.length<o)&&n.splice(0,n.length),t[a].weight<i||t[a].weight<=i&&t[a].card.length<=o?(n.push(t.slice(0)),t[a].weight):i}var s=this.getAllOtherLifeList(e,t,t[0].objData,t[a].jremain);if(s.length<1)return i>0&&n.splice(0,n.length),n.push(t.slice(0)),0;for(var r=[],l=0;l<s.length;l++)r.push(t.slice(0)),r[l].push(s[l]);for(var c=0;c<r.length;c++)if(0==(i=this.traverseTree(e,r[c],i,n)))return 0;return i},getSolutionValue:function(e,t){for(var i=0,n=0;n<e.length;n++){var a=e[n];if(!(a>55)){var o=Math.floor(a/4);i+=Math.min(o+1,10)}}return Math.min(i,80)},initData:function(e,t,i){for(var n={rdCard:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],bcCard:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],rhCard:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],bsCard:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],arrCard:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],orgCards:e},a=0;a<e.length;a++){var o=e[a],s=o%4,r=Math.floor(o/4);switch(s){case 0:n.rdCard[r]++;break;case 1:n.bcCard[r]++;break;case 2:n.rhCard[r]++;break;case 3:n.bsCard[r]++}n.arrCard[r]++,0==r&&(n.rdCard[13]=n.rdCard[0],n.bcCard[13]=n.bcCard[0],n.rhCard[13]=n.rhCard[0],n.bsCard[13]=n.bsCard[0],n.arrCard[13]=n.arrCard[0]),13==r&&(n.rdCard[0]=n.rdCard[13],n.bcCard[0]=n.bcCard[13],n.rhCard[0]=n.rhCard[13],n.bsCard[0]=n.bsCard[13],n.arrCard[0]=n.arrCard[13])}if(n.orgCards=e,!t)return n;for(var l=0;l<t.length;l++){var c=t[l],h=c%4,u=Math.floor(c/4);switch(h){case 0:n.rdCard[u]--;break;case 1:n.bcCard[u]--;break;case 2:n.rhCard[u]--;break;case 3:n.bsCard[u]--}n.arrCard[u]--,0==u&&(n.rdCard[13]=n.rdCard[0],n.bcCard[13]=n.bcCard[0],n.rhCard[13]=n.rhCard[0],n.bsCard[13]=n.bsCard[0],n.arrCard[13]=n.arrCard[0]),13==u&&(n.rdCard[0]=n.rdCard[13],n.bcCard[0]=n.bcCard[13],n.rhCard[0]=n.rhCard[13],n.bsCard[0]=n.bsCard[13],n.arrCard[0]=n.arrCard[13])}return n.joker=n.arrCard[i]+n.arrCard[14],n.rdCard[i]=0,n.bcCard[i]=0,n.rhCard[i]=0,n.bsCard[i]=0,n.arrCard[i]=0,0==i&&(n.rdCard[13]=n.rdCard[0],n.bcCard[13]=n.bcCard[0],n.rhCard[13]=n.rhCard[0],n.bsCard[13]=n.bsCard[0],n.arrCard[13]=n.arrCard[0]),13==i&&(n.rdCard[0]=n.rdCard[13],n.bcCard[0]=n.bcCard[13],n.rhCard[0]=n.rhCard[13],n.bsCard[0]=n.bsCard[13],n.arrCard[0]=n.arrCard[13]),n},createRemainCard:function(e){for(var t=[],i=1;i<14;i++)if(!(e.arrCard[i]<1)){var n=0;for(n=0;e.rdCard[i]>n;)t.push(4*i),n++;for(n=0;e.bcCard[i]>n;)t.push(4*i+1),n++;for(n=0;e.rhCard[i]>n;)t.push(4*i+2),n++;for(n=0;e.bsCard[i]>n;)t.push(4*i+3),n++}return t},getAllFirstLifeList:function(e,t,i){var n=function(e,t,i){for(var n=0;n<14;n++)for(var a=[],o=0,s=n;s<14&&(a.push(4*s+i),!(n+(o=e[s]>0?o+1:0)<=s));s++)if(!(o<3)){if(0==n&&13==s)break;t.push({start:n,end:s,card:a.slice(0),type:1})}return t},a=[];a=n(t.rdCard,a,0),a=n(t.bcCard,a,1),a=n(t.rhCard,a,2),a=n(t.bsCard,a,3);for(var o=0;o<a.length;o++)a[o].objData=this.initData(e,a[o].card,i),a[o].jremain=a[o].objData.joker;return a.length<1&&a.push({card:e.slice(0),type:4}),a},getAllSecondLifeList:function(e,t,i,n){var a=function(e,t,i,n){for(var a=0;a<14;a++)for(var o=[],s=n,r=0,l=a;l<14&&(r=e[l]+s>0?r+1:0,s=e[l]<1&&s>0?s-1:s,e[l]<1?o.push(57):o.push(4*l+i),!(a+r<=l));l++)if(!(r<3)){if(0==a&&13==l)break;t.push({start:a,end:l,card:o.slice(0),type:2,joker:n-s,jremain:s})}return t},o=[],s=t.jremain;if(o=a(i.rdCard,o,0,s),o=a(i.bcCard,o,1,s),o=a(i.rhCard,o,2,s),(o=a(i.bsCard,o,3,s)).length<1){var r=this.createRemainCard(i);o.push({card:r.slice(0),type:4,jremain:s})}return o},getAllOtherLifeList:function(e,t,i,n){var a=function(e,t,i,n){for(var a=0;a<14;a++)for(var o=0,s=n,r=[],l=a;l<14&&(e[l]<1?r.push(57):r.push(4*l+t),o=e[l]+s>0?o+1:0,s=e[l]<1&&s>0?s-1:s,!(a+o<=l));l++)if(!(o<3)){if(0==a&&13==l)break;i.push({start:a,end:l,card:r.slice(0),type:2,joker:n-s,jremain:s})}return i};this.removeCardFromData(e,t,i);var o=[];if(o=a(i.rdCard,0,o,n),o=a(i.bcCard,1,o,n),o=a(i.rhCard,2,o,n),(o=function(e,t,i){for(var n=1;n<14;n++){var a=[];if(e.rdCard[n]&&a.push(4*n),e.bcCard[n]&&a.push(4*n+1),e.rhCard[n]&&a.push(4*n+2),a.length>2&&t.push({start:n,end:n,card:a.slice(0),type:3,count:a.length,joker:0,jremain:i}),e.bsCard[n]&&a.push(4*n+3),a.length>3&&t.push({start:n,end:n,card:a.slice(0),type:3,count:a.length,joker:0,jremain:i}),3==a.length&&e.bsCard[n]>0&&t.push({start:n,end:n,card:a.slice(0),type:3,count:a.length,joker:0,jremain:i}),!(a.length<3&&a.length+i<3)){for(var o=Math.max(3-a.length,0),s=0;s<o;s++)a.push(57);if(o>0&&t.push({start:n,end:n,card:a.slice(0),type:3,count:a.length,joker:o,jremain:i-o}),!(i-o<1)){for(var r=Math.max(4-a.length,0),l=0;l<r;l++)a.push(57);r>0&&t.push({start:n,end:n,card:a.slice(0),type:3,count:a.length,joker:o+r,jremain:i-o-r})}}}return t}(i,o=a(i.bsCard,3,o,n),n)).length<1){var s=this.createRemainCard(i);s.length>0&&o.push({card:s.slice(0),type:4,jremain:n})}return this.addCardToData(e,t,i),o}},cc._RF.pop()},{}],SFSDecoder:[function(e,t,i){"use strict";cc._RF.push(t,"c893ac3kOxBh7NIM4dcx2oF","SFSDecoder"),cc.Class({extends:cc.Component,properties:{},decode:function(e,t){if("smartfox"==e.substring(0,8))return t;var i=this.createMsgProto(e);if(!i||!i.decode||!i.decodeDelimited)return null;var n="";if("proto.S2C_Login"==e&&(n=t.data.m),t.params&&t.params.m&&(n=t.params.m),""==n)return{};var a={};return a=!cc.sys.isBrowser||window.MODE_DEVELOP_LOCAL?i.decodeHex(n):i.decode(n),a=CommonUtil.convertNetDataLong(a),"proto.S2C_Login"==e&&(a.user=t.user),a},createMsgProto:function(e){var t=this.objBuilder.build(e);return t}}),cc._RF.pop()},{}],SFSEncoder:[function(e,t,i){"use strict";cc._RF.push(t,"c1000n2YpJMg40mdJiqlYzC","SFSEncoder"),function(){var i=e("ISmartFoxConfig"),n=n||{};n.userName="",n.password="",n.curRoom="",n.lastRoom="",n.setUserName=function(e){this.userName=e},n.setCurRoom=function(e){this.curRoom=e},n.setLastRoom=function(e){this.lastRoom=e},n.encode=function(e,t,n){if(!t)return null;if("LoginRequest"==t)return new SFS2X.Requests.System.LoginRequest(this.userName,this.password,{m:n},i.ZONE);if("LogoutRequest"==t)return new SFS2X.Requests.System.LogoutRequest;if("JoinRoomRequest"==t)return new SFS2X.Requests.System.JoinRoomRequest(n.room);if("LeaveRoomRequest"==t)return new SFS2X.Requests.System.LeaveRoomRequest;if("ExtensionRequest"==t)return new SFS2X.Requests.System.ExtensionRequest(e,{m:n},i.isZoneCmd(e)?null:this.curRoom);if("KeepConnecttion"==t){var a=(new Date).toLocaleTimeString();return new SFS2X.Requests.System.ExtensionRequest("keepconnection",{t:a})}return"PublicMessageRequest"==t?new SFS2X.Requests.System.PublicMessageRequest(n,null,this.curRoom):null},n.getRequestCMD=function(e){var t={switchtable:"play"};for(var i in t)if(t.hasOwnProperty(i)&&i==e)return t[i];return e},n.getRequestRoom=function(t){for(var i=[e("Command").SERVER_CMD_FRIEND_LIST],n=0;n<i.length;n++)if(i[n]==t)return null;var a=["switchtable"];for(n=0;n<a.length;n++)if(a[n]==t)return this.lastRoom;return this.curRoom},t.exports=n}(),cc._RF.pop()},{Command:"Command",ISmartFoxConfig:"ISmartFoxConfig"}],ScrollUpBoldLabel:[function(e,t,i){"use strict";cc._RF.push(t,"7b6afT5PPZOgrFcaV0d5Z12","ScrollUpBoldLabel");var n=e("LanguageData"),a=e("GameUtils"),o=e("BoldLabel");cc.Class({extends:o,properties:{step:{default:1e5,visible:!1},startNumber:{default:0,visible:!1},endNumber:{set:function(e){this._endNumber=e,this.step=parseInt(Math.abs(this._endNumber-this.startNumber)/.8)}},number:{set:function(e){this.startNumber=e,this._endNumber=e,this.updateString()}},boundary:1e5,withSymbol:!0},onLoad:function(){this.startNumber=this.endNumber=0,this.string="0"},update:function(e){this.startNumber!=this._endNumber&&(0==this._endNumber?this.startNumber=0:this._endNumber>this.startNumber?this.startNumber=Math.ceil(Math.min(this._endNumber,this.startNumber+e*this.step)):this.startNumber=Math.ceil(Math.max(this._endNumber,this.startNumber-e*this.step)),this.updateString())},updateString:function(){this.withSymbol?this.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.startNumber,this.boundary,2)}):this.string=a.formatNumberWithRules(this.startNumber,this.boundary,2)}}),cc._RF.pop()},{BoldLabel:"BoldLabel",GameUtils:"GameUtils",LanguageData:"LanguageData"}],SeatExtend:[function(e,t,i){"use strict";cc._RF.push(t,"ecc04kBn49HrqcoEAK1a7Jb","SeatExtend");var n=e("TeenPattiUser"),a=e("BaseComponent");cc.Class({extends:a,properties:{tpUser:n},onLoad:function(){},getDisplayName:function(){return""},clearSeat:function(){this.tpUser=null},onUserSitDown:function(e){this.tpUser=e},onUserStandUp:function(){this.tpUser=null},onOtherSitDown:function(){},onOtherStandUp:function(){},onOtherUpdate:function(){},onUserRefresh:function(){},onUserActive:function(){},onUserSilent:function(){},onRoundReady:function(){},onRoundOver:function(){},onRoundFinish:function(){},onUserBet:function(){},onUserPack:function(){},onUserShow:function(){},onUserSide:function(){},onUserSideLose:function(){},onUserSideWin:function(){},onUserLose:function(){},onUserWin:function(){},onUserAwards:function(){},onUserSee:function(){},onUserUpdate:function(e,t){}}),cc._RF.pop()},{BaseComponent:"BaseComponent",TeenPattiUser:"TeenPattiUser"}],SeatPlaceAction:[function(e,t,i){"use strict";cc._RF.push(t,"88b90Ycyt1FUpDPDkogDnl6","SeatPlaceAction"),cc.Class({extends:cc.Component,properties:{tableCTR:null,objSeat:null,objTPUser:null},play:function(e){this.objSeat.onUserSitDown(this.objTPUser),this.onFinish(e)},cancel:function(){},stop:function(){},onFinish:function(e){e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],SeatStateBar:[function(e,t,i){"use strict";cc._RF.push(t,"13e3fmaGmpDEK4G3ppRtaNh","SeatStateBar");var n=e("LanguageData");cc.Class({extends:cc.Component,properties:{bg:cc.Sprite,stateFrames:[cc.SpriteFrame],lblCurState:cc.Label,lblNextState:cc.Label},onLoad:function(){this.lblCurState.node.active=!0,this.lblNextState.node.active=!1},onRoundReady:function(){this.lblCurState.string="",this.lblNextState.string=""},setNextState:function(e){this.lblCurState.string=e,e==n.t("label_text.seen")?this.bg.spriteFrame=this.stateFrames[1]:e==n.t("label_text.chaal")||e==n.t("label_text.all_in")?this.bg.spriteFrame=this.stateFrames[2]:this.bg.spriteFrame=this.stateFrames[0]}}),cc._RF.pop()},{LanguageData:"LanguageData"}],ServerManager:[function(e,t,i){"use strict";cc._RF.push(t,"21badNODV5Gd7lfIZk0u4L5","ServerManager");var n=e("BaseManager"),a=e("Command"),o=e("UIInfo"),s=e("ISmartFox"),r=e("ITeenPattiConfig");cc.Class({extends:n,properties:{connectionProblemCache:-1},setGameCoreComplete:function(){this._super(),this.gameCore.uiMng.addListener(a.SERVER_CMD_CONNECT_LOST,this,this.onConnectLost),this.gameCore.uiMng.addListener(a.SERVER_CMD_CONNECT_RETRY,this,this.onConnectRetry),this.gameCore.uiMng.addListener(a.SERVER_CMD_CONNECT_RESUME,this,this.onConnectResume),this.gameCore.uiMng.addListener(a.SERVER_CMD_LOGIN_ERROR,this,this.onLoginError),this.gameCore.uiMng.addListener(a.UI_CMD_SCENE_LOADED,this,this.onSceneLoaded)},judgeUICache:function(){-1!=this.connectionProblemCache&&(LogUtil.debug("ServerManager","connection lost open cache"),this.openConnectionLost(this.connectionProblemCache)&&(this.connectionProblemCache=-1))},disconnectServer:function(){ITeenPatti.logout(),this.gameCore.logout(),this.gameCore.uiMng.addListener(a.SERVER_CMD_CONNECT_LOST,this,this.onDisconnectServer),s.disconnect()},onDisconnectServer:function(e){this.gameCore.uiMng.openUI(o.LOGIN_SCENE)},connectionProblem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];LogUtil.debug("ServerManager","type:"+e+"-force:"+t),s.isConnected()&&!t||this.openConnectionLost(e)},openConnectionLost:function(e){if(this.isBackground)return LogUtil.debug("ServerManager","connection lost cache"),this.connectionProblemCache=e,!1;var t=this.gameCore.uiMng.getUIByUIKey(o.CONNECTION_LOST.name);return t?(t.type=e,!0):(t=this.gameCore.uiMng.openUI(o.CONNECTION_LOST))?(t.type=e,!0):(this.connectionProblemCache=e,!1)},onConnectLost:function(e){this.gameCore.uiMng.closeUI(o.RECONNECTING),"kick"==e.reason?this.connectionProblem(1):ITeenPatti.loadHostCfgFromCache(handler(this,this.onHostCfgRefresh))},onSocketError:function(){this.connectionProblem(2)},onConnectRetry:function(){this.gameCore.uiMng.openUI(o.RECONNECTING)},onConnectResume:function(){this.gameCore.uiMng.closeUI(o.RECONNECTING)},onLoginError:function(e,t){28==t.errorCode&&this.gameCore.uiMng.curSceneKey!=o.LOGIN_SCENE.name?(this.gameCore.uiMng.hideLoading(),this.gameCore.gameMng.showAlert(t.errorMessage,"",1,function(){this.gameCore.logout(),this.gameCore.uiMng.openUI(o.LOGIN_SCENE)}.bind(this))):ITeenPatti.loadHostCfgFromCache(handler(this,this.onHostCfgRefresh))},onHostCfgRefresh:function(e,t,i){r.PATTI_HOST_TEST||window.reconnectToAnotherServer||(this.gameCore.gameMng.smartfoxConfig=[e,t,i]),this.gameCore.gameMng.reconnectSFS(),ITeenPatti.loadHostCfg(handler(this,this.onRemoteHostCfgRefresh))},onRemoteHostCfgRefresh:function(e,t,i){r.PATTI_HOST_TEST||window.reconnectToAnotherServer||(this.gameCore.gameMng.smartfoxConfig=[e,t,i])}});cc._RF.pop()},{BaseManager:"BaseManager",Command:"Command",ISmartFox:"ISmartFox",ITeenPattiConfig:"ITeenPattiConfig",UIInfo:"UIInfo"}],SettingHSMTips:[function(e,t,i){"use strict";cc._RF.push(t,"b5a23aUaglO/btr8IRIAOTe","SettingHSMTips");var n=e("BaseUI"),a=e("LanguageData");cc.Class({extends:n,properties:{descLabel:cc.Label},onLoad:function(){this._super()},initComplete:function(){this._super(),this.gameCore.userMng.myself.handStrengthMeterFreeTime<(new Date).getTime()?this.descLabel.string=a.t("label_text.hand_strength_on"):this.descLabel.string=a.t("label_text.hand_strength_on_free")}}),cc._RF.pop()},{BaseUI:"BaseUI",LanguageData:"LanguageData"}],Setting:[function(e,t,i){"use strict";cc._RF.push(t,"e2f53FWfsBK+7t94zlE7TXx","Setting");var n=e("BaseUI"),a=e("UIInfo"),o=e("ITeenPatti"),s=(e("LanguageData"),e("GameData")),r=e("Command"),l=e("DataAnalysisKey"),c=(e("LocalStorage"),e("INotification"));cc.Class({extends:n,properties:{languageToggles:[cc.Toggle],switchLobbyToggles:[cc.Toggle],soundToggle:cc.Toggle,vibrationToggle:cc.Toggle,hsmToggle:cc.Toggle,notificationToggle:cc.Toggle,preControlBarToggle:cc.Toggle,rummySortToggle:cc.Toggle,securityProtectionToggle:cc.Toggle,soundToggleOff:cc.Node,vibrationToggleOff:cc.Node,hsmToggleOff:cc.Node,notificationOff:cc.Node,preControlBarOff:cc.Node,rummySortOff:cc.Node,securityProtectionOff:cc.Node,labelVersion:cc.Label,labelUserID:cc.Label,policyBtn:cc.Node,deleteAppleBtn:cc.Button},onLoad:function(){this._super(),this.objPlayer=o.getCurPlayer(),this.policyBtn.active=!isInstantGame,this.labelVersion&&(this.labelVersion.string="V:"+o.gameCore.hotfixVersion)},gameCoreSetComplete:function(){this._super()},onEnterForeground:function(){this._super(),this.onNotificationChange()},initComplete:function(){this.toggleInited=!1,this.gameCore.gameMng.sound&&this.soundToggle.check(),this.vibrationToggle&&this.gameCore.gameMng.vibration&&this.vibrationToggle.check(),this.gameCore.gameMng.handStrengthMeter&&this.hsmToggle.check(),this.gameCore.gameMng.rummySort&&this.rummySortToggle&&this.rummySortToggle.check(),this.securityProtectionToggle&&(this.securityProtectionToggle.node.active=this.securityProtectionOff.active=this.gameCore.userMng.hasSecurityProtection(),this.gameCore.userMng.hasSecurityProtection()&&(this.updateSecurityProtectionToggle(),this.securityProtectionToggle.enabled=!1,this.securityProtectionToggle.node.on(cc.Node.EventType.TOUCH_END,this.onSecurityProtectionToggleClk,this),o.addListener(r.SERVER_CMD_BANK_PIN,this,function(){o.sendMsg(r.SERVER_CMD_BANK_PW_STATUS)}),o.addListener(r.SERVER_CMD_BANK_PW_STATUS,this,this.onPWStatus))),this.hsmToggleOff.active=!this.hsmToggle.isChecked,this.hsmToggle.enabled=!1,this.hsmToggle.node.on(cc.Node.EventType.TOUCH_END,this.onHSMToggleClk,this),this.notificationToggle&&this.notificationOff&&(this.gameCore.gameMng.notification&&this.notificationToggle.check(),this.notificationOff.active=!this.notificationToggle.isChecked,this.notificationToggle.enabled=!1,this.notificationToggle.node.on(cc.Node.EventType.TOUCH_END,this.onNotificationToggleClk,this));for(var e=this.gameCore.gameMng.curLanguage,t=0;t<this.languageToggles.length;t++)if(-1!=this.languageToggles[t].name.indexOf(e+"Toggle")){this.languageToggles[t].check();break}var i=this.gameCore.gameMng.curLobbyType;for(t=0;t<this.switchLobbyToggles.length;t++)if(-1!=this.switchLobbyToggles[t].name.indexOf("Toggle"+i)){this.switchLobbyToggles[t].check();break}this.toggleInited=!0,this.labelUserID&&(this.labelUserID.string="User ID: "+this.gameCore.userMng.myself.strTPID),this.gameCore.uiMng.addListener(r.UI_CMD_HSM_CHANGE,this,this.onHandStrengthMeterChange),this.gameCore.uiMng.addListener(r.UI_CMD_NOTIFICATION_CHANGE,this,this.onNotificationChange),this.gameCore.uiMng.addListener("deleteUserApple",this,this.onDeleteAccountSuccess),this._super()},onEnable:function(){this.preControlBarToggle&&(this.preControlBarToggle.isChecked=!this.gameCore.gameMng.precontrolBarBan,this.preControlBarOff.active=!this.preControlBarToggle.isChecked)},onLobbyChange:function(e,t){this.toggleInited&&(this.gameCore.gameMng.changeLobbyType(t),this.gameCore.dataAnalysisMng.sendData(l.CLICK_LOBBY_SWITCH,["other_data:"+t]))},onLanguageChange:function(e,t){this.gameCore.gameMng.changeLanguage(t);this.toggleInited&&this.gameCore.dataAnalysisMng.sendData(l.CLICK_LANGUAGE_SWITCH,["other_data:"+["en","hi","bn","gu","ma","te"].indexOf(t)])},onHandStrengthMeterChange:function(){this.gameCore.gameMng.handStrengthMeter?this.hsmToggle.check():this.hsmToggle.uncheck(),this.hsmToggleOff.active=!this.hsmToggle.isChecked,this.hsmToggle.isChecked&&this.scheduleOnce(handler(this,function(){this.gameCore.uiMng.openUI(a.SETTING_HSM_TIPS)}),.1)},onHSMToggleClk:function(e){o.sendMsg(r.SERVER_CMD_SET_DEGREE,{i:!this.hsmToggle.isChecked}),this.gameCore.dataAnalysisMng.sendData(l.CLICK_STRENGTHMETER_SWITCH,["other_data:"+(this.hsmToggle.isChecked?0:1)]),this.hsmToggle.isChecked?this.hsmToggle.uncheck():this.hsmToggle.check(),this.hsmToggleOff.active=!this.hsmToggle.isChecked},onSecurityProtectionToggleClk:function(e){this.securityProtectionToggle.isChecked?this.gameCore.userMng.transactionWithPassword(handler(this,function(){this.gameCore.uiMng.closeUI(a.BANK_PASSWORD),o.sendMsg(r.SERVER_CMD_BANK_PIN,{pin:-1})})):this.gameCore.userMng.setPasswordOrPIN("setPIN")},updateSecurityProtectionToggle:function(){this.securityProtectionToggle&&(this.gameCore.userMng.securityProtectionClosed()?this.securityProtectionToggle.uncheck():this.securityProtectionToggle.check(),this.securityProtectionOff.active=!this.securityProtectionToggle.isChecked)},onPWStatus:function(e,t){this.gameCore.userMng.bankStatus=t.i,this.updateSecurityProtectionToggle()},onNotificationChange:function(){this.notificationToggle&&this.notificationOff&&(this.gameCore.gameMng.notification?this.notificationToggle.check():this.notificationToggle.uncheck(),this.notificationOff.active=!this.notificationToggle.isChecked)},onNotificationToggleClk:function(e){this.notificationToggle&&this.notificationOff&&(this.notificationToggle.isChecked?this.notificationToggle.uncheck():(this.gameCore.gameMng.openNotificationReminder(),this.notificationToggle.check()),this.notificationOff.active=!this.notificationToggle.isChecked,o.sendMsg(r.SERVER_CMD_SET_NOTIFICATION,{i:this.notificationToggle.isChecked}),this.gameCore.dataAnalysisMng.sendData(l.CLICK_NOTIFICATION_SWITCH,["other_data:"+(this.notificationToggle.isChecked?1:0)]),c.setNotifyEnable(this.notificationToggle.isChecked))},onRummySortToggleClk:function(e){this.rummySortOff.active=!this.rummySortToggle.isChecked,this.gameCore.gameMng.rummySort=this.rummySortToggle.isChecked},onPreControlBarToggleClk:function(e){if(this.preControlBarToggle&&this.preControlBarOff){var t=this.preControlBarToggle.isChecked;this.gameCore.gameMng.precontrolBarBan=!t,this.preControlBarOff.active=!t,this.preControlBarToggle.isChecked=t,this.gameCore.dataAnalysisMng.sendData(l.CLICK_PRECONTROLBAR_SWITCH,["other_data:"+(this.preControlBarToggle.isChecked?1:0)])}},onEffectOnOff:function(e,t){"sound"==t?(this.soundToggleOff.active=!this.soundToggle.isChecked,this.gameCore.gameMng.sound=this.soundToggle.isChecked,this.toggleInited&&this.gameCore.dataAnalysisMng.sendData(l.CLICK_SOUND_SWITCH,["other_data:"+(this.gameCore.gameMng.sound?1:0)])):"vibration"==t&&(this.vibrationToggleOff.active=!this.vibrationToggle.isChecked,this.gameCore.gameMng.vibration=this.vibrationToggle.isChecked,this.toggleInited&&this.gameCore.dataAnalysisMng.sendData(l.CLICK_VIBRATION_SWITCH,["other_data:"+(this.gameCore.gameMng.vibration?1:0)]))},onFanPageBtnClk:function(e){cc.sys.openURL(s.FanPageURL)},onHelpBtnClk:function(e){this.gameCore.uiMng.openUI(a.HELP),this.gameCore.dataAnalysisMng.sendData(l.CLICK_HELP_BUTTON)},onRateBtnClk:function(e){this.gameCore.gameMng.openComment(),this.gameCore.dataAnalysisMng.sendData(l.CLICK_RATE_BUTTON)},onSupportBtnClk:function(e){this.gameCore.userMng.sendSupportMail(),this.gameCore.dataAnalysisMng.sendData(l.CLICK_SUPPORT_BUTTON)},onFbConnectBtnClk:function(e){this.gameCore.userMng.onFBConnectBtnClk(),this.gameCore.dataAnalysisMng.sendData(l.CLICK_SETTING_FB_LOGIN)},onPolicyBtnClk:function(e){cc.sys.openURL(s.PrivacyPolicyURL)},onDeleteAccount:function(e){this.gameCore.uiMng.openUI(a.DELETE_APPLE_ACCOUNT_VIEW)},onDeleteAccountSuccess:function(e){this.gameCore.userMng&&this.gameCore.userMng.myself&&this.gameCore.userMng.myself.isFacebookLogin()?(IFacebook.logout(handler(this,this.onFBLogout)),this.deleteAppleBtn.interactable=!1):(o.logout(),this.closeUI(),this.gameCore.uiMng.openUI(a.LOGIN_SCENE),this.gameCore.logout())},onFBLogout:function(){if(o.getCurRoom()){var e=this.gameCore.uiMng.getCurSceneScript();if(e)return o.removeListener(r.SERVER_CMD_USER_EXIT_ROOM,e),o.addListener(r.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),void o.sendMsg("leaveroom",null)}this.logoutFBComplete()},onUserExitRoom:function(){this.logoutFBComplete()},logoutFBComplete:function(){o.logout(),this.closeUI(),this.gameCore.uiMng.openUI(a.LOGIN_SCENE),this.gameCore.logout()},onContactWhatsAppClk:function(e){var t=cc.loader.getXMLHttpRequest();t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<300)try{var e=JSON.parse(t.responseText);cc.sys.openURL("https://api.whatsapp.com/send?phone="+e.phoneNumber)}catch(e){}},t.ontimeout=function(){},t.onerror=function(){},t.open("GET","http://www.teenpattiflush.com/patti/whatsapp_support.json?random="+1e8*Math.random(),!0),t.timeout=5e3,t.send()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",INotification:"INotification",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",LocalStorage:"LocalStorage",UIInfo:"UIInfo"}],SideShowConfirmPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"665159ubARFTZtPlSO+YpWc","SideShowConfirmPopUp");var n=e("BaseUI"),a=e("FacebookIcon"),o=e("DataAnalysisKey"),s=e("Command");cc.Class({extends:n,properties:{nStartTime:0,nDuration:8,bIsSend:!1,lblCDTime:cc.Label,lblName:cc.Label,imgIcon:a},onLoad:function(){this._super();var e=ITeenPatti.getCurTable();if(e){var t=e.getUserWithPlayerID(e.sshowID);this.lblName.string=t.strTPName,this.imgIcon.initWithTeenPattiUser(t),this.nStartTime=e.cdStart;var i=handler(this,this.onUpdateFrame);this.node.runAction(cc.repeat(cc.sequence(cc.delayTime(.1),cc.callFunc(i)),this.nDuration/.1+30))}},initComplete:function(){this._super(),this.gameCore.dataAnalysisMng.sendData(o.SIDESHOW_REQUEST_POPUP,this.gameCore.dataAnalysisMng.gameBaseData)},onUpdateFrame:function(){var e=(new Date).getTime(),t=this.nStartTime+1e3*this.nDuration-e;this.lblCDTime.string=Math.ceil(.001*t)+"S",t<=0&&(this.gameCore.dataAnalysisMng.sendData(o.SIDESHOW_CANCEL_TIMEOUT,this.gameCore.dataAnalysisMng.gameBaseData),this.closeUI())},onBlackBgTouchEnd:function(e){if(!this.bIsSend){var t=ITeenPatti.getCurRoom();ITeenPatti.sendMsg(t&&t.isTournament?s.SERVER_CMD_TOUR_AGREE_SIDE:"agreeside",{i:!1}),this.gameCore.dataAnalysisMng.sendData(o.SIDESHOW_ACCEPT_CLICK,this.gameCore.dataAnalysisMng.gameBaseData)}this._super(e)},onBtnAcceptClicked:function(e){var t=ITeenPatti.getCurRoom();ITeenPatti.sendMsg(t&&t.isTournament?s.SERVER_CMD_TOUR_AGREE_SIDE:"agreeside",{i:!0}),this.bIsSend=!0,this.onBlackBgTouchEnd(e),this.gameCore.dataAnalysisMng.sendData(o.SIDESHOW_ACCEPT_CLICK,this.gameCore.dataAnalysisMng.gameBaseData)},onBtnDenyClicked:function(e){var t=ITeenPatti.getCurRoom();ITeenPatti.sendMsg(t&&t.isTournament?s.SERVER_CMD_TOUR_AGREE_SIDE:"agreeside",{i:!1}),this.bIsSend=!0,this.onBlackBgTouchEnd(e),this.gameCore.dataAnalysisMng.sendData(o.SIDESHOW_CANCEL_CLICK,this.gameCore.dataAnalysisMng.gameBaseData)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",FacebookIcon:"FacebookIcon"}],SpineCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"fc0bbtpBfhKLJyMITi18UT8","SpineCtrl");var n=e("BaseComponent");cc.Class({extends:n,properties:{},start:function(){this.updateSpine()},initComplete:function(){this._super(),this.updateSpine()},updateSpine:function(){var e=this.node.getComponent(sp.Skeleton);e&&needDisableEffect&&e.node.removeFromParent()}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],SpriteFrameSet:[function(e,t,i){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=n,cc._RF.pop()},{}],StateShowCard:[function(e,t,i){"use strict";cc._RF.push(t,"b9bb8dqyU5Kjogp0rA99CP1","StateShowCard"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],StateShowWin:[function(e,t,i){"use strict";cc._RF.push(t,"ee352geHpZPoprd0Tad+6lh","StateShowWin"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],StingUtil:[function(e,t,i){"use strict";var n;function a(e){(n=document.createElement("textArea")).value=e,document.body.appendChild(n)}function o(){var e,t;navigator.userAgent.match(/ipad|iphone/i)?((e=document.createRange()).selectNodeContents(n),(t=window.getSelection()).removeAllRanges(),t.addRange(e),n.setSelectionRange(0,999999)):n.select()}function s(){var e=!1;try{document.execCommand("Copy")&&(e=!0)}catch(e){}return document.body.removeChild(n),e}cc._RF.push(t,"a5232Zr2U1HkYvB5Sj8Pdvy","StingUtil"),window.string={},string.sub=function(e,t,i){return"string"==typeof e?e.substr(t,i):""},string.byte=function(e,t){if("string"==typeof e){if(null==t||t<=0)return e.substr(0,1);if(t>=1)return e.substr(t-1,1)}return""},string.len=function(e){return"string"==typeof e?e.length:0},string.find=function(e,t,i){return"number"==typeof e?null:e.indexOf(t,i)},string.gsub=function(e,t,i){return e.replace(t,i)},string.split=function(e,t){return table.createFromArray(analysisNetData(e,t))},string.format=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,i){return void 0!==t[i]?t[i]:e})},string.toArr=function(e,t){var i=[];return e.split(t).forEach(function(e,t,n){i.push(+e)}),i},window.stringformatOne=function(e,t){for(var i=""+e,n=0;n<t-i.length;n=n)i="0"+i;for(n=0;n<i.length-t;n=n)i=i.substr(1);return i},window.stringformat=function(e,t,i){var n="";if(e.length!=t.length)return cc.log("string.format : numArray.length != countArray.length"),n;i=i||"";for(var a=0;a<e.length;a++)n+=stringformatOne(e[a],t[a]),a!=e.length-1&&(n+=i);return n},window.cutString=function(e,t){for(var i=0,n=0;n<e.length;n++)e.charCodeAt(n)>128?i+=2:i+=1;if(i<=t)return e;i=0;var a="";for(n=0;n<e.length;n++)if(a+=e.charAt(n),e.charCodeAt(n)>128){if((i+=1)>=t)return a.substring(0,a.length-1)+".."}else if((i+=1)>=t)return a.substring(0,a.length-2)+"..";return a},window.copyToClipboard=function(e){return a(e),o(),s()},cc._RF.pop()},{}],StoreConfig:[function(e,t,i){"use strict";cc._RF.push(t,"6e163F6wOtC/bxLWKlpGqWB","StoreConfig");var n={nativeSkuList:[],onGetSkuDetails:function(e){for(var t=e.split("|"),i=0;i<t.length;i++){for(var n=!1,a=JSON.parse(t[i]),o=0;o<this.nativeSkuList.length;o++)if(a.productId==this.nativeSkuList[o].productId){n=!0;break}n||(cc.sys.os==cc.sys.OS_ANDROID?a.price=a.price_amount_micros/1e6:cc.sys.os==cc.sys.OS_IOS&&(a.price=a.pricenum),this.nativeSkuList.push(a))}for(o=0;o<this.nativeSkuList.length;o++)LogUtil.debug("StoreConfig",JSON.stringify(this.nativeSkuList[o]))},changeForNewBilling:function(e){for(var t=[],i=e.split("|"),n=0;n<i.length;n++){var a=JSON.parse(i[n]);a.oneTimePurchaseOfferDetails&&(a.priceTxt=a.oneTimePurchaseOfferDetails.formattedPrice,a.price=a.priceTxt,a.currency=a.oneTimePurchaseOfferDetails.priceCurrencyCode,a.price_currency_code=a.currency),t.push(JSON.stringify(a))}return t.join("|")},getProductInfoById:function(e){for(var t=.01,i="USD",n=0;n<this.nativeSkuList.length;n++)this.nativeSkuList[n].productId==e&&(t=this.nativeSkuList[n].price,i=this.nativeSkuList[n].price_currency_code);return{price:t,currency_code:i}}};t.exports=n,cc._RF.pop()},{}],StoreItem:[function(e,t,i){"use strict";cc._RF.push(t,"00956ypHDtIJb4NehhaQwhp","StoreItem");var n=e("GameUtils"),a=e("BaseComponent"),o=e("Command"),s=e("DataAnalysisKey"),r=e("ITeenPatti"),l=(e("ButtonCursor"),e("GameData"));cc.Class({extends:a,properties:{addedPercent:cc.Label,icon:cc.Sprite,price:cc.Label,oriCount:cc.Label,totalCount:cc.Label,buyBtn:cc.Button,bestValue:cc.Node,mostPopular:cc.Node,data:{get:function(){return this._data},set:function(e){this._data=e,this.icon.spriteFrame=e.icon,this.icon.node.setPosition(e.position),this.icon.node.scale=e.scale,this.price.string=e.price,this.addedPercent.string="+"+parseInt((e.count-e.basicCount)/e.basicCount*100)+"%",this.oriCount.string=n.formatNumberWithRules(e.basicCount),this.oriCount.node.active=0!=e.index,this.totalCount.string=n.formatNumberWithRules(e.count),this.bestValue.active="BestValue"==e.recommend,this.mostPopular.active="MostPopular"==e.recommend},visible:!1},store:{default:null,visible:!1}},onLoad:function(){this._super(),cc.sys.isBrowser&&this.buyBtn&&this.buyBtn.target&&this.buyBtn.node.setContentSize(this.buyBtn.target.getContentSize())},onBuyBtnClk:function(e){this.store.showLoading(),this.gameCore.gameMng.buyStoreItem(this.data,r.isInRoom()?l.PRE_BUY_P_STORE_ROOM:l.PRE_BUY_P_STORE_LOBBY),this.gameCore.userMng.endPosType=1,this.gameCore.userMng.chipsFlyStartPos=this.node.position.add(cc.v2(0,10)),this.gameCore.dataAnalysisMng.sendData(s.CLICK_STORE_BUY,["Exchange_Id:"+this.data.productId]),this.gameCore.uiMng.addListener(o.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.uiMng.addListener(o.UI_CMD_PURCHASE_FAIL,this,this.onPurchaseFail)},onPurchaseFail:function(){this.gameCore.uiMng.removeListener(o.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet),this.gameCore.uiMng.removeListener(o.UI_CMD_PURCHASE_FAIL,this,this.onPurchaseFail)},onChipsGet:function(e){this.gameCore.gameMng.playChipsFly(e,this.node.position.add(cc.v2(0,10)),1),this.gameCore.uiMng.removeListener(o.UI_CMD_CHIPS_CHANGE,this,this.onChipsGet)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ButtonCursor:"ButtonCursor",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti"}],Store:[function(e,t,i){"use strict";cc._RF.push(t,"110caVIRbVNgqGzNhLVJzSU","Store");var n=e("BaseEditboxUI"),a=e("UIInfo"),o=e("GameData"),s=e("GameUtils"),r=(e("DataAnalysisKey"),e("Command")),l=e("LanguageData"),c=(o=e("GameData"),e("GoldStoreItem"));cc.Class({extends:n,properties:{item:cc.Prefab,iconUrlList:{default:[],type:cc.SpriteFrame},totalChipsLabel:cc.Label,freezeChipsLabel:cc.Label,googlePlayInstallRemind:cc.Node,retryBtn:cc.Button,chipsContainer:cc.Node,bankContainer:cc.Node,goldContainer:cc.Node,VIPContainer:cc.Node,transformContainer:cc.Node,toggleItems:[cc.Toggle],iOSToggleItems:[cc.Toggle],toggles:{get:function(){return this.toggleItems},visible:!1},toggleItem0CheckMark:cc.Node,iOSToggleItem0CheckMark:cc.Node,toggle0CheckMark:{get:function(){return this.toggleItem0CheckMark},visible:!1},intoBankLabel:cc.Label,transferToBankLabel:cc.Label,bankAccountLabel:cc.Label,diamondAccountLabel:cc.Label,receiveBankChipsLabel:cc.Label,convertRequireDiamondLable:cc.Label,convertChipsEditBox:cc.EditBox,blanceContainer:cc.Node,bankAddMoreBtn:cc.Node,bankAddMoreCountLabel:cc.Label,buyDiamondBtn:cc.Button,buyDiamondBtn1:cc.Button,diamondConvertBtn:cc.Button,diamondConvertDescLabel:cc.Label,panelIOS:cc.Node,panelNormal:cc.Node,loadingBgContainer:cc.Node,transferSuccessNode:cc.Node,transferSuccessCountLabel:cc.Label,insufficientDiamondNode:cc.Node,reachLimitDiamondNode:cc.Node,diamondHelpNode:cc.Node,newStatus:cc.Node,transferChipsBalanceLabel:cc.Label,transferBankBalanceLabel:cc.Label,transferChipsDescLabel:cc.Label,diamondPriceLabel:cc.Label,transferNotOpen:cc.Node,transferCenter:cc.Node,subPopupBgList:[cc.Node],setPassword:cc.Node,setPasswordLabel:cc.Label,setPasswordIcon:cc.Node,goldBalanceContainer:cc.Node,totalGoldLabel:cc.Label,items:[c],chipsEditBox:cc.EditBox,userIdEditBox:cc.EditBox,totalPayLabel:cc.Label,taxForLabel:cc.Label,remainingFreeLabel:cc.Label,remind1:cc.Node,remindCr:cc.Node,remind2:cc.Node,transferToNameLabel:cc.Label,totalRemind:cc.Node,taxHelp:cc.Node,taxHelpBlackBg:cc.Node,taxHelpLabel1:cc.Label,taxHelpLabel2:cc.Label,items1:[c],protectionSpriteFrames:[cc.SpriteFrame],VIPSpriteFrames:[cc.SpriteFrame],curVIPIcon:cc.Sprite,curVIPNameLabel:cc.Label,curVIPLeftTimeLabel:cc.Label,curVIPProtection:cc.Sprite,curVIPFreeCountLabel:cc.Label,curVIPTransferFeeLabel:cc.Label,VIPFreeCountLabels:[cc.Label],VIPTransferFeeLabels:[cc.Label],VIPLevelProgressCountLabels:[cc.RichText],VIPBuyButtons:[cc.Button],VIPBuyProgress:[cc.Node],VIPActivatedIcons:[cc.Node],curVIPProgressIndex:1,VIPProgressDesc:cc.Node,VIPProgressDescArrow:cc.Node,VIPProgressDescTitle:cc.Label},onLoad:function(){this.chipsContainer.active=!1,this.bankContainer.active=!1,this.goldContainer.active=!1,this.VIPContainer.active=!1,this.VIPProgressDesc.active=!1,this.VIPProgressDesc.on(cc.Node.EventType.TOUCH_END,this.onVIPProgressDescTouchEnd,this),this.bankAccountLabel.string="",this.panelNormal.active=!this.panelIOS.active&&!isInstantGame,this.setPassword.active=!1,this.bankAddMoreCountLabel.string="180Cr",cc.sys.os==cc.sys.OS_IOS&&(this.bankAddMoreBtn.active=!1,this.bankAddMoreCountLabel.string="90Cr");for(var e=0;e<this.subPopupBgList.length;e++)this.subPopupBgList[e].on(cc.Node.EventType.TOUCH_END,this.onSubPopupBgTouchEnd,this);for(e=0;e<this.items.length;e++)this.items[e].node.active=!1,this.items1[e].node.active=!1;this.remind1.active=!1,this.remind2.active=!1,this.totalRemind.active=!1,this.goldBalanceContainer.active=!1,this.taxHelp.on(cc.Node.EventType.TOUCH_END,this.nodeStopPropagation,this),this.taxHelpBlackBg.on(cc.Node.EventType.TOUCH_END,this.nodeStopPropagation,this),this.nameList=[l.t("label_text.gold_c"),l.t("label_text.platinum"),l.t("label_text.diamond")],this._super()},onDestroy:function(){this.gameCore.gameMng.resumeChipsRefresh({sender:"Store"}),this._super()},onSubPopupBgTouchEnd:function(e){e.stopPropagation()},initComplete:function(){if(this.editboxOffsetY=20,this.gameCore.uiMng.addListener(r.UI_CMD_CHIPS_CHANGE,this,this.updateChips),this.gameCore.uiMng.addListener(r.UI_CMD_BANK_CHIPS_CHANGE,this,this.updateBankChips),this.gameCore.uiMng.addListener(r.UI_CMD_BANK_ACCOUNT_CHANGED,this,this.onBankAccountChanged),this.gameCore.uiMng.addListener(r.UI_CMD_ADD_MORE_BANK_BALANCE,this,this.addMoreBankBalance),this.gameCore.uiMng.addListener(r.UI_CMD_STORE_NEW_STATUS_CHANGED,this,this.updateNewStatus),this.gameCore.uiMng.addListener(r.SERVER_CMD_DIAMOND_ACCOUNT,this,this.onDiamondAccountChanged),this.gameCore.uiMng.addListener(r.SERVER_CMD_ADD_DIAMONDS,this,this.onAddDiamonds),this.gameCore.uiMng.addListener(r.SERVER_CMD_DIAMOND_TO_BANK,this,this.onDiamondChangeSuccess),ITeenPatti.addListener(r.SERVER_CMD_BANK_PW_STATUS,this,this.onBankPWStatus),this.registerChipsPauseResumeListeners(),ITeenPatti.addListener(r.UI_CMD_STORE_SHOW_LOADING,this,this.showLoading),this.gameCore.uiMng.addListener(r.UI_CMD_GOLD_CHANGE,this,this.updateGold),this.gameCore.uiMng.addListener(r.SERVER_CMD_GOLD_VIPS,this,this.updateVIPStatus),this.gameCore.uiMng.addListener(r.SERVER_CMD_GOLD_TRANSFER,this,this.onGoldTransferComplete),this.gameCore.uiMng.addListener(r.UI_CMD_UPDATE_VIP_STATUS,this,this.updateVIPStatus),this._super(),(-1==this.gameCore.userMng.myself.goldVIPType||this.gameCore.FacebookVersion)&&(this.panelNormal.width=460,this.toggleItems[2].node.active=!1,this.toggleItems[3].node.active=!1,this.panelNormal.x=-230),this.updateNewStatus(),this.updateGoldBalanceLabel(),this.updateTaxFor(),this.retryBtn.node.active=!1,this.transformContainer.active=!1,this.transferSuccessNode.active=!1,this.insufficientDiamondNode.active=!1,this.reachLimitDiamondNode.active=!1,this.diamondHelpNode.active=!1,this.googlePlayInstallRemind.active=!1,this.totalChipsLabel.string=s.formatNumberWithRules(this.gameCore.userMng.myself.nChips),this.freezeChipsLabel.string=this.gameCore.userMng.myself.freezeChipsStr,this.transferChipsBalanceLabel.string=s.formatNumberWithRules(this.gameCore.userMng.myself.nChips),this.transferToBankLabel.string=l.t("label_text.min_chips",{chips:o.BANK_TRANSFER_MIN_AMOUNT}),isInstantGame)this.gameCore.uiMng.showLoading(cc.v2(0,0),this.chipsContainer,1,!1),FBInstant.payments.getCatalogAsync().then(function(e){this.onGetSkuDetails(e)}.bind(this)).catch(function(e){this.gameCore.gameMng.showAlert(e.message)}.bind(this));else if(cc.sys.isBrowser){var e=o.facebookSkuDetails.concat();e.sort(function(e,t){return e.count-t.count});for(var t=0;t<e.length;t++){var i=cc.instantiate(this.item);i.setPosition(t%3*338-338,-220*parseInt(t/3)+50);var n=i.getComponent("StoreItem");n.index=t,n.store=this,n.gameCore=this.gameCore,e[t].index=t,e[t].icon=this.iconUrlList[e.length-t-1],n.data=e[t],this.chipsContainer.addChild(i)}this.bankSkuDetailsList=o.facebookBankSkuDetails,(e=o.facebookGoldSkuDetails.concat()).sort(function(e,t){return e.count-t.count});for(t=0;t<e.length;t++)this.items[t]&&(this.items[t].node.active=!0,this.items[t].store=this,this.items[t].data=e[t]),this.items1[t]&&(this.items1[t].node.active=!0,this.items1[t].store=this,this.items1[t].data=e[t]);this.i18nRendersUpdate()}else this.googlePlayInstallRemind.active||(this.gameCore.uiMng.showLoading(cc.v2(0,0),this.chipsContainer,1,!1),this.showNetworkDelayLoading()),this.gameCore.uiMng.addListener(r.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails),this.gameCore.uiMng.addListener(r.UI_CMD_IAB_SERVICE_IS_NOT_CONNECTED,this,this.onAndroidIABServiceIsNotConnected),cc.sys.os!=cc.sys.OS_ANDROID||jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","checkGooglePlayExist","()Z")||(this.onGetGoldSkuDetails('{"productId":"com.teenpattipoker.adnroid.gold.9cr","type":"inapp","price":"$9.99","price_amount_micros":9990000,"price_currency_code":"USD","title":"9Cr Gold","description":"9Cr Gold"}|{"productId":"com.teenpattipoker.adnroid.gold.19cr","type":"inapp","price":"$19.99","price_amount_micros":19990000,"price_currency_code":"USD","title":"19Cr Gold","description":"19Cr Gold"}|{"productId":"com.teenpattipoker.adnroid.gold.99cr","type":"inapp","price":"$99.99","price_amount_micros":99990000,"price_currency_code":"USD","title":"100Cr Gold","description":"100Cr Gold"}|{"productId":"com.teenpattipoker.chips.1000000000","type":"inapp","price":$ 99.99,"price_amount_micros":99990000,"price_currency_code":"USD","title":"100Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"100Cr chips"}|{"productId":"com.teenpattipoker.chips.180000000","type":"inapp","price":$ 19.99,"price_amount_micros":19990000,"price_currency_code":"USD","title":"18Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"18Cr chips"}|{"productId":"com.teenpattipoker.chips.35000000","type":"inapp","price":$ 4.99,"price_amount_micros":4990000,"price_currency_code":"USD","title":"3.5Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"3.5Cr chips"}|{"productId":"com.teenpattipoker.chips.470000000","type":"inapp","price":$ 49.99,"price_amount_micros":49990000,"price_currency_code":"USD","title":"47Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"47Cr chips"}|{"productId":"com.teenpattipoker.chips.5000000","type":"inapp","price":$ 0.99,"price_amount_micros":990000,"price_currency_code":"USD","title":"50L chips (Teen Patti Flush: 3 Patti Poker)","description":"50L chips"}|{"productId":"com.teenpattipoker.chips.80000000","type":"inapp","price":$ 9.99,"price_amount_micros":9990000,"price_currency_code":"USD","title":"8Cr chips (Teen Patti Flush: 3 Patti Poker)","description":"8Cr chips"}'),this.googlePlayInstallRemind.active=!1),this.scheduleOnce(this.gameCore.gameMng.getNativeSkuDetails,0)},showDelayLoading:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._super(cc.v2(-306,-57),this.goldContainer,i)},updateNewStatus:function(){this.newStatus.active=!1},i18nRendersUpdate:function(){this._super(),cc.sys.os,cc.sys.OS_IOS,this.bankSkuDetailsList[0]&&(this.intoBankLabel.string=l.t("label_text.add_for")+" "+this.bankSkuDetailsList[0].price)},onTopTabClk:function(e,t){this.chipsContainer.active=this.toggle0CheckMark.active=0==t,this.bankContainer.active=1==t,this.goldContainer.active=2==t,this.VIPContainer.active=3==t,this.blanceContainer.active=0==t,this.goldBalanceContainer.active=2==t||3==t,1!=t&&2!=t&&3!=t||ITeenPatti.sendMsg(r.SERVER_CMD_BANK_PW_STATUS,null),1==t?(this.onBankAccountChanged(),ITeenPatti.sendMsg(r.SERVER_CMD_BANK_ACCOUNT,null)):2==t?(ITeenPatti.sendMsg(r.SERVER_CMD_GOLD_VIPS),ITeenPatti.sendMsg(r.SERVER_CMD_MY_GOLD_VIP),this.updateVIPStatus()):3==t?(this.VIPProgressDesc.active=!1,this.updateVIPStatus()):4==t&&(this.resetDiamondTransfer(),this.transferBankBalanceLabel.string="",this.buyDiamondBtn.interactable=this.buyDiamondBtn1.interactable=!1,this.diamondConvertBtn.interactable=!1,this.convertChipsEditBox.enabled=!1,this.transferCenter.active=!1,this.transferNotOpen.active=!1,this.convertAmount=void 0,this.gameCore.gameMng.transferNew=!1,this.onDiamondAccountChanged(),ITeenPatti.sendMsg(r.SERVER_CMD_BANK_ACCOUNT,null),ITeenPatti.sendMsg(r.SERVER_CMD_DIAMOND_ACCOUNT,null)),this.updateSetPasswordActive()},onAddDiamonds:function(e){this.onDiamondAccountChanged(e),this.diamondAccountLabel.node.runAction(cc.sequence(cc.scaleTo(.15,1.5),cc.delayTime(.3),cc.scaleTo(.15,1)))},onDiamondAccountChanged:function(e){e&&(void 0!=e.convert&&(this.bankConvertRate=e.convert),void 0!=e.chips&&(this.diamondConvertRate=e.chips,this.diamondConvertDescLabel.string=l.t("label_text.transfer_chips",{num:this.diamondConvertRate})),void 0!=e.buy&&(this.buyDiamondBtn.interactable=this.buyDiamondBtn1.interactable=e.buy>=o.diamondsSKUCount),void 0!=e.open&&(this.transferCenter.active=e.open,this.transferNotOpen.active=!e.open,this.convertChipsEditBox.enabled=e.open,this.diamondConvertBtn.interactable=e.open&&void 0!=this.convertAmount)),this.diamondAccountLabel.string=s.formatNumberWithRules(this.gameCore.userMng.myself.tpProfile.diamond)},onBankAccountChanged:function(){this.isValid&&(this.gameCore&&this.gameCore.userMng&&this.gameCore.userMng.myself&&this.gameCore.userMng.myself.tpProfile&&(this.bankAccountLabel.string=s.formatNumberWithRules(this.gameCore.userMng.myself.tpProfile.bankChips)),this.transferBankBalanceLabel.string=s.formatNumberWithRules(this.gameCore.userMng.myself.tpProfile.bankChips))},onBankPWStatus:function(e,t){this.gameCore&&this.gameCore.userMng&&(this.gameCore.userMng.bankStatus=t.i,0!=this.gameCore.userMng.protectStatus&&0==this.gameCore.userMng.passwordStatus&&this.gameCore.userMng.setPasswordOrPIN(),this.updateSetPasswordActive(),this.setPasswordIcon.active=0==this.gameCore.userMng.passwordStatus||0==this.gameCore.userMng.pinStatus,this.setPasswordLabel.string=0==this.gameCore.userMng.passwordStatus?l.t("label_text.set_password"):0==this.gameCore.userMng.pinStatus?l.t("label_text.set_pin"):l.t("label_text.change_pin"))},updateSetPasswordActive:function(){this.setPassword.active=this.gameCore.userMng.protectStatus>0&&!this.chipsContainer.active},onSetPWClk:function(){0==this.gameCore.userMng.passwordStatus?this.gameCore.userMng.setPasswordOrPIN("setPassword"):0==this.gameCore.userMng.pinStatus?this.gameCore.userMng.setPasswordOrPIN("setPIN"):1==this.gameCore.userMng.pinStatus?this.gameCore.userMng.setPasswordOrPIN("changePIN"):this.gameCore.userMng.setPasswordOrPIN()},noStatesRecover:function(){this.onTopTabClk(null,0)},statesRecoverUpdate:function(){for(var e=0;e<this.toggles.length;e++)if(!this.toggles[e]._isOnLoadCalled)return;void 0!=this.recoverStates[a.UI_STATE_TOGGLE_INDEX]&&this.toggles.length>this.recoverStates[a.UI_STATE_TOGGLE_INDEX]&&(this.toggles[this.recoverStates[a.UI_STATE_TOGGLE_INDEX]].isChecked?this.onTopTabClk(null,this.recoverStates[a.UI_STATE_TOGGLE_INDEX]):this.toggles[this.recoverStates[a.UI_STATE_TOGGLE_INDEX]].check()),this._super()},statesPersistence:function(){for(var e={},t=0;t<this.toggles.length;t++)if(this.toggles[t].isChecked){e[a.UI_STATE_TOGGLE_INDEX]=t;break}return e},onAndroidIABServiceIsNotConnected:function(){this.retryBtn.node.active=!0,this.gameCore.uiMng.hideLoading(),this.hideNetworkDelayLoading()},onReloadBtnClk:function(e){this.gameCore.uiMng.addListener(r.UI_CMD_IAB_SERVICE_CONNECTED,this,this.onAndroidIABServiceConnected),this.gameCore.gameMng.reconnectIABService(),this.retryBtn.node.active=!1,this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,1,!1)},onAndroidIABServiceConnected:function(){this.gameCore.uiMng.removeListener(r.UI_CMD_IAB_SERVICE_CONNECTED,this,this.onAndroidIABServiceConnected),this.gameCore.gameMng.getNativeSkuDetails()},closeUI:function(){var e=!1;this.chipsContainer.active&&ITeenPatti.getCurPlayer().getTeenPattiProfile().advNum>0&&IAds.isVideoAdLoad()&&!this.gameCore.uiMng.isInGame&&(this.gameCore.uiMng.openUI(a.AD_FREE_CHIP_POPUP),e=!0),this.gameCore.uiMng.hideLoading(),this.hideNetworkDelayLoading(),this.gameCore.userMng.chipsFlyStartPos=null,this._super(!e)},updateChips:function(e){!this.isChipsRefreshPaused&&this.isValid&&(this.totalChipsLabel&&e&&(this.totalChipsLabel.string=s.formatNumberWithRules(e.final)),this.transferChipsBalanceLabel.string=s.formatNumberWithRules(e.final))},updateBankChips:function(e){this.onBankAccountChanged()},onGetSkuDetails:function(e){this.gameCore&&this.gameCore.uiMng&&(this.gameCore.uiMng.hideLoading(),this.hideNetworkDelayLoading(),this.gameCore.uiMng.removeListener(r.UI_CMD_GET_SKU_DETAILS,this,this.onGetSkuDetails),this.onGetChipsSkuDetails(e),this.onGetGoldSkuDetails(e))},onGetChipsSkuDetails:function(e){if(!ITeenPatti.getCurPlayer().getTeenPattiProfile().storeBanned&&this.gameCore){var t=this.gameCore.gameMng.skuDetailsFilter(e);if(t.length>0){t.sort(function(e,t){var i=isInstantGame?e:JSON.parse(e),n=isInstantGame?t:JSON.parse(t);return s.unformatNumber(i.title.slice(0,i.title.indexOf(" ")))-s.unformatNumber(n.title.slice(0,n.title.indexOf(" ")))});for(var i=[],n=[],a=o.facebookSkuDetails.length-1;a>=0;a--)i.push(o.facebookSkuDetails[a].position),n.push(o.facebookSkuDetails[a].scale);for(a=0;a<t.length;a++){var r=isInstantGame?t[a]:JSON.parse(t[a]);r.index=a,r.icon=this.iconUrlList[t.length-a-1],r.position=i[a],r.scale=n[a],r.count=s.unformatNumber(r.title.slice(0,r.title.indexOf(" "))),r.basicCount=this.gameCore.gameMng.getStoreItemBasicCount(r.count),5==a?r.recommend="BestValue":2==a&&(r.recommend="MostPopular");var l=cc.instantiate(this.item);l.setPosition(a%3*338-338,-220*parseInt(a/3)+50);var c=l.getComponent("StoreItem");c.store=this,c.gameCore=this.gameCore,c.data=r,this.chipsContainer.addChild(l)}}if(this.bankSkuDetailsList=this.gameCore.gameMng.bankSkuDetailsFilter(e),this.bankSkuDetailsList.length>0&&(this.bankSkuDetailsList.sort(function(e,t){return s.unformatNumber(e.title.slice(0,e.title.indexOf(" ")))-s.unformatNumber(t.title.slice(0,t.title.indexOf(" ")))}),this.i18nRendersUpdate()),this.diamondSkuDetailsList=this.gameCore.gameMng.diamondSkuDetailsFilter(e),this.diamondSkuDetailsList.length>0){for(a=0;a<this.diamondSkuDetailsList.length;a++)this.diamondSkuDetailsList[a].count=s.unformatNumber(this.diamondSkuDetailsList[a].title.slice(0,this.diamondSkuDetailsList[a].title.indexOf(" ")));this.diamondPriceLabel.string="*"+this.diamondSkuDetailsList[0].price+"="+this.diamondSkuDetailsList[0].count}}},showLoading:function(){this.gameCore.uiMng.showLoading(cc.v2(0,0),null,1,!0,this.loadingBgContainer)},addMoreBankBalance:function(){if(!this.bankSkuDetailsList)return!0;if(cc.sys.os==cc.sys.OS_IOS){if(!this.bankSkuDetailsList[0])return!0}else if(!this.bankSkuDetailsList[0])return!0;var e=(cc.sys.os,cc.sys.OS_IOS,this.bankSkuDetailsList[0]);return this.showLoading(),this.gameCore.gameMng.buyStoreItem(e,o.PRE_BUY_P_BANK),!1},onBankHistoryBtnClk:function(e){this.gameCore.uiMng.openUI(a.BANK_HISTORY)},onBankBuyBtnClk:function(e){ITeenPatti.getCurPlayer().getTeenPattiProfile().storeBanned||this.addMoreBankBalance()&&this.showLoading()},onBankAddBtnClk:function(e){ITeenPatti.getCurPlayer().getTeenPattiProfile().storeBanned||this.gameCore.uiMng.openUI(a.BANK_STORE)},onBankDrawBtnClk:function(e){this.gameCore.userMng.ifNoPassword(handler(this,function(){this.gameCore.uiMng.openUI(a.WITHDRAW_CHIPS)}))},onBankGiftBtnClk:function(e){this.gameCore.userMng.ifNoPassword(handler(this,function(){this.gameCore.uiMng.openUI(a.GIFT_CHIPS)}))},onBankToBankBtnClk:function(e){this.gameCore.userMng.ifNoPassword(handler(this,function(){this.gameCore.uiMng.openUI(a.BANK_TO_BANK)}))},resetDiamondTransfer:function(){this.receiveBankChipsLabel.node.color=new cc.Color(110,110,110),this.receiveBankChipsLabel.string=l.t("label_text.receive_bank_chips"),this.transferChipsDescLabel.node.color=new cc.Color(110,110,110),this.convertRequireDiamondLable.string="",this.diamondConvertBtn.interactable=!1},onConvertChipsEditBegin:function(){this.transferChipsDescLabel.string=""},onConvertChipsTextChange:function(e,t){var i=new String(t.string).replace(new RegExp("[^0-9]","g"),"");""!=i?(this.diamondConvertBtn.interactable=!0,this.convertAmount=parseInt(i),t.string=this.convertAmount,this.bankConvertRate&&(this.receiveBankChipsLabel.node.color=new cc.Color(0,0,0),this.receiveBankChipsLabel.string=this.convertAmount*this.bankConvertRate),this.diamondConvertRate&&(this.convertRequireDiamondLable.string=this.convertAmount/this.diamondConvertRate)):this.resetDiamondTransfer()},onConvertChipsTextChangeEnd:function(e){var t=new String(e.string).replace(new RegExp("[^0-9]","g"),"");if(""==t)return this.receiveBankChipsLabel.node.color=new cc.Color(0,0,0),this.transferChipsDescLabel.string=l.t("label_text.convert_chips"),void this.resetDiamondTransfer();for(this.diamondConvertBtn.interactable=!0,this.convertAmount=Math.max(1,parseInt(t));this.convertAmount/this.diamondConvertRate%1!=0;)this.convertAmount+=1;this.transferChipsDescLabel.string=this.convertAmount,this.transferChipsDescLabel.node.color=new cc.Color(0,0,0),e.string="",this.bankConvertRate&&(this.receiveBankChipsLabel.string=this.convertAmount*this.bankConvertRate),this.diamondConvertRate&&(this.convertRequireDiamondLable.string=this.convertAmount/this.diamondConvertRate)},onConvertBtnClk:function(e){if(this.convertAmount/this.diamondConvertRate>this.gameCore.userMng.myself.tpProfile.diamond)return this.buyDiamondBtn.interactable?void(this.insufficientDiamondNode.active=!0):void(this.reachLimitDiamondNode.active=!0);1e7*this.convertAmount>this.gameCore.userMng.myself.nChips?this.gameCore.gameMng.showAlert(l.t("label_text.insufficient_chips")):(this.gameCore.uiMng.showLoading(cc.v2(0,0),this.transformContainer,.8,!0,this.transformContainer),ITeenPatti.sendMsg(r.SERVER_CMD_DIAMOND_TO_BANK,{i:1e7*this.convertAmount}))},onReachLimitDiamondEmail:function(e){this.reachLimitDiamondNode.active=!1,this.gameCore.gameMng.sendEmail("Diamond")},onReachLimitDiamondSupport:function(e){this.reachLimitDiamondNode.active=!1,this.gameCore.gameMng.openCustomerSupport()},onBuyDiamondBtnClk:function(e){this.insufficientDiamondNode.active=!1,this.diamondSkuDetailsList&&this.diamondSkuDetailsList.length>0&&(this.showLoading(),this.gameCore.gameMng.buyStoreItem(this.diamondSkuDetailsList[0],o.PRE_BUY_P_DIAMOND))},onDiamondChangeSuccess:function(e){this.gameCore.uiMng.hideLoading(),e.success&&(this.resetDiamondTransfer(),this.transferChipsDescLabel.string=l.t("label_text.convert_chips"),this.transferSuccessNode.active=!0,this.transferSuccessCountLabel.string=this.convertAmount*this.bankConvertRate+"Cr"),this.onDiamondAccountChanged()},closeTransferSuccess:function(){this.transferSuccessNode.active=!1,this.gameCore.gameMng.playChipsFly({change:1,type:"diamond"},this.node.position.add(cc.v2(0,-40)),2,1)},closeInsufficientDiamond:function(){this.insufficientDiamondNode.active=!1},closeReachLimitDiamond:function(){this.reachLimitDiamondNode.active=!1},onDiamondHelpBtnClk:function(){this.diamondHelpNode.active=!0},closeDiamondHelp:function(){this.diamondHelpNode.active=!1},myGoldVIP:function(){var e=this.taxForVIPLevel?this.taxForVIPLevel:this.gameCore.userMng.myself.goldVIPExp-(new Date).getTime()>0?this.gameCore.userMng.myself.goldVIP:0;return ITeenPatti.onlineCfg.goldVIPs?ITeenPatti.onlineCfg.goldVIPs[e+1]?ITeenPatti.onlineCfg.goldVIPs[e+1]:ITeenPatti.onlineCfg.goldVIPs[1]:null},onGoldTransferComplete:function(e){if(!e.errorcode){this.taxForVIPLevel=void 0,this.gameCore.userMng.myself.tpProfile.goldTransFreeLeft=e.freeleft,this.onChipsToGiftChangeEnd(this.chipsEditBox),this.chipsEditBox.string="",this.userIdEditBox.string="",this.transferToNameLabel.string="",this.onChipsToGiftChangeEnd(this.chipsEditBox);var t=l.t("label_text.transfer_gold_successfully",{gold:s.formatNumberWithRules(e.change)});this.gameCore.uiMng.openUI(a.BANK_ALERT,handler(this,function(e){e&&e.updateUI(t)}))}},updateTaxFor:function(){var e=this.myGoldVIP();e&&(this.taxForLabel.string=0==e.tax||this.gameCore.userMng.myself.goldTransFreeLeft>0?l.t("label_text.free"):e.tax+"%",this.remainingFreeLabel.string=0==e.tax||void 0!=this.taxForVIPLevel?"":l.t("label_text.remain_free_transfer",{number:s.formatNumberWithRules(this.gameCore.userMng.myself.goldTransFreeLeft)}))},onBuyVIPClk:function(e,t){var i=ITeenPatti.onlineCfg.goldVIPs;if(i){var n=parseInt(t)+1;i[n]&&this.gameCore.gameMng.showAlert(l.t("label_text.activate_vip",{level:this.nameList[n-2]}),"",2,handler(this,function(){this.gameCore.userMng.transactionWithPassword(handler(this,function(){ITeenPatti.sendMsg(r.SERVER_CMD_VIP_COLLECT,{i:parseInt(t)})}))}))}},updateGold:function(e){this.totalGoldLabel&&e&&this.updateGoldBalanceLabel(e.final)},updateGoldBalanceLabel:function(e){this.totalGoldLabel.string=s.formatNumberWithRules(e||this.gameCore.userMng.myself.nGold)},onGoldHistoryBtnClk:function(e){this.gameCore.uiMng.openUI(a.GOLD_HISTORY)},onTransferBtnClk:function(e){if(""==this.userIdEditBox.string||!this.userIdEditBox.string||""==this.chipsEditBox.string||!this.chipsEditBox.string)return this.remind1.active=""==this.chipsEditBox.string||!this.chipsEditBox.string,this.remind2.active=""==this.userIdEditBox.string||!this.userIdEditBox.string,void(this.totalRemind.active=!0);this.remind1.active=!1,this.remind2.active=!1,this.totalRemind.active=!1,this.gameCore.gameMng.hasEnoughGoldBalance(1e7*Math.min(Math.floor(Number.MAX_SAFE_INTEGER/1e7),parseInt(this.chipsEditBox.string)))&&(this.gameCore.uiMng.addListener("getUserInfo",this,this.onProfile),this.requestUserID=parseInt(this.userIdEditBox.string),ITeenPatti.sendMsg("getUserInfo",{i:this.requestUserID}))},onProfile:function(e){if(e.errorcode||this.requestUserID==e.id)if(this.gameCore.uiMng.removeListener("getUserInfo",this,this.onProfile),e.errorcode)2001==e.errorcode&&this.gameCore.gameMng.showAlert(l.t("label_text.user_not_exist",{id:this.userIdEditBox.string}));else{var t=-1!=e.name.indexOf(this.requestUserID)?e.name:e.name+"(id:"+this.requestUserID+")";this.gameCore.gameMng.showAlert(l.t("label_text.transfer_gold_msg",{userid:t,gold:this.chipsEditBox.string+"Cr"}),"",2,handler(this,this.transferGold))}},transferGold:function(){this.gameCore.userMng.transactionWithPassword(handler(this,function(){var e={userId:parseInt(this.userIdEditBox.string),chips:this.chipsEditBox.string+"0000000"};ITeenPatti.sendMsg(r.SERVER_CMD_GOLD_TRANSFER,e),this.gameCore.uiMng.closeUI(a.BANK_PASSWORD)}))},regTextToNum:function(e){return e.replace(new RegExp("[^0-9]","g"),"")},onUserIdChange:function(e,t){if(this.transferToNameLabel.string="",""!=e&&e){var i=this.regTextToNum(new String(e));t.string=i}},onUserIdChangeEnd:function(e){""!=e.string?(this.gameCore.uiMng.addListener("getUserInfo",this,handler(this,function(e){this.transferToNameLabel.string=e.errorcode?e.mess:l.t("label_text.name",{name:e.name}),this.gameCore.userMng.myself.goldVIP<1&&(this.taxForVIPLevel=e.errorcode?void 0:e.goldvip,this.updateTaxFor(),this.onChipsToGiftChangeEnd(this.chipsEditBox))})),this.requestUserID=parseInt(this.userIdEditBox.string),ITeenPatti.sendMsg("getUserInfo",{i:this.requestUserID})):(this.taxForVIPLevel=void 0,this.updateTaxFor(),this.onChipsToGiftChangeEnd(this.chipsEditBox))},onChipsToGiftChange:function(e,t){if(""!=e&&e){this.remindCr.active=!0,this.remind1.active=!1;var i=this.regTextToNum(new String(e)),n=Math.max(1,parseInt(i));t.string=n}else this.remindCr.active=!1},onChipsToGiftChangeEnd:function(e){this.totalPayLabel.string="";var t=this.regTextToNum(new String(e.string));if(""!=t&&t){var i=Math.max(1,parseInt(t));if(e.string=i,this.myGoldVIP()){this.updateTaxFor();var n=i;if(this.myGoldVIP().tax>0){var a=Math.max(0,n-this.gameCore.userMng.myself.goldTransFreeLeft/1e7)*this.myGoldVIP().tax/100;a>0&&(this.taxForLabel.string=this.myGoldVIP().tax+"%"),(n=n+a)%1>0&&(n=n.toFixed(2))}this.totalPayLabel.string=n+"Cr"}}},updateVIPStatus:function(){var e=ITeenPatti.onlineCfg.goldVIPs;if(e){this.curVIPProtection.spriteFrame=this.protectionSpriteFrames[1];var t=ITeenPatti.getCurPlayer();if(t){for(var i=0;i<this.VIPActivatedIcons.length;i++)this.VIPBuyButtons[i].node.opacity=t.goldVIP>i&&!t.isVIPExpired?127:255,this.VIPBuyButtons[i].interactable=!(t.goldVIP>i&&!t.isVIPExpired),this.VIPBuyProgress[i].active=(t.goldVIP<=i||t.isVIPExpired)&&e[i+2].totalpay>t.goldVIPBuys,this.VIPActivatedIcons[i].active=t.goldVIP-1==i&&!t.isVIPExpired,this.VIPBuyButtons[i].node.active=!this.VIPBuyProgress[i].active&&!this.VIPActivatedIcons[i].active;var n=this.VIPSpriteFrames[t.goldVIP];n&&(this.curVIPIcon.spriteFrame=n),this.curVIPNameLabel.node.color=new cc.Color(255,255,255),this.curVIPNameLabel.string=t.goldVIP>0&&t.goldVIP<=this.nameList.length?this.nameList[t.goldVIP-1]:l.t("label_text.gold_c"),t.goldVIP>=1?t.goldVIPExp-(new Date).getTime()<=0?(this.curVIPNameLabel.node.color=new cc.Color(160,160,160),this.curVIPLeftTimeLabel.node.color=new cc.Color(255,70,70),this.curVIPLeftTimeLabel.string=l.t("label_text.expired"),this.curVIPProtection.spriteFrame=this.protectionSpriteFrames[0]):(this.curVIPLeftTimeLabel.node.color=new cc.Color(0,255,0),this.unschedule(this.onCountDown),this.onCountDown(),this.schedule(this.onCountDown,1)):(this.curVIPNameLabel.node.color=new cc.Color(160,160,160),this.curVIPLeftTimeLabel.node.color=new cc.Color(182,182,239),this.curVIPLeftTimeLabel.string=l.t("label_text.unactivated"),this.curVIPProtection.spriteFrame=this.protectionSpriteFrames[0]),e&&(this.curVIPFreeCountLabel.string=0==e[t.goldVIP+1].tax?l.t("label_text.no_limit"):s.formatNumberWithRules(e[t.goldVIP+1].free),this.curVIPTransferFeeLabel.string=0==e[t.goldVIP+1].tax?l.t("label_text.free"):e[t.goldVIP+1].tax+"%")}if(e)for(i=0;i<this.VIPFreeCountLabels.length;i++){var a=e[i+2];a&&(this.VIPFreeCountLabels[i].string=0==a.tax?l.t("label_text.no_limit"):s.formatNumberWithRules(a.free),this.VIPTransferFeeLabels[i].string=0==a.tax?l.t("label_text.free"):a.tax+"%",this.VIPLevelProgressCountLabels[i].string="<color=#FF6464>"+s.formatNumberWithRules(t.goldVIPBuys,1e5,0,!1)+"</color>/"+s.formatNumberWithRules(a.totalpay))}this.onChipsToGiftChangeEnd(this.chipsEditBox),this.updateTaxFor()}},onCountDown:function(){var e=this.VIPLeftTime(),t=Math.floor(e/86400);this.curVIPLeftTimeLabel.string=(t>0?t+"d":"")+" "+CommonUtil.getTimeString(e%86400),0==e&&(this.unschedule(this.onCountDown),this.updateVIPStatus(),ITeenPatti.sendMsg(r.SERVER_CMD_MY_GOLD_VIP))},VIPLeftTime:function(){return Math.max(0,(ITeenPatti.gameCore.userMng.myself.goldVIPExp-(new Date).getTime())/1e3)},onTaxHelpBtnClk:function(){this.taxHelp.active=!0;var e=ITeenPatti.onlineCfg.goldVIPs;this.taxHelpLabel1.string=l.t("label_text.tax_fee_help2",{number:e[1].tax+"%"}),this.taxHelpLabel2.string=l.t("label_text.tax_fee_help4",{number1:e[2].tax+"%",number2:e[3].tax+"%",number3:e[4].tax+"%"})},onTaxHelpCloseBtnClk:function(){this.taxHelp.active=!1},onGetGoldSkuDetails:function(e){if(!ITeenPatti.getCurPlayer().getTeenPattiProfile().storeBanned&&this.gameCore){var t=this.gameCore.gameMng.goldSkuDetailsFilter(e);if(t.length>0){t.sort(function(e,t){return s.unformatNumber(e.title.slice(0,e.title.indexOf(" ")))-s.unformatNumber(t.title.slice(0,t.title.indexOf(" ")))});for(var i=0;i<t.length;i++){var n=t[i];n.count=s.unformatNumber(n.title.slice(0,n.title.indexOf(" "))),this.items[i]&&(this.items[i].node.active=!0,this.items[i].store=this,this.items[i].data=n),this.items1[i]&&(this.items1[i].node.active=!0,this.items1[i].store=this,this.items1[i].data=n)}}}},openVIPRedemption:function(e){this.gameCore.uiMng.openUI(a.VIP_REDEMPTION)},onVIPProgressClk:function(e,t){var i=parseInt(t),n=ITeenPatti.onlineCfg.goldVIPs;if(n){this.curVIPProgressIndex==i?this.VIPProgressDesc.active=!this.VIPProgressDesc.active:(this.VIPProgressDesc.active=!0,this.VIPProgressDescTitle.string=l.t("label_text.purchase_become_vip",{coins:s.formatNumberWithRules(n[i+1].totalpay),level:this.nameList[i-1]}));this.VIPProgressDescArrow.y=[164,16,-132][i-1],this.curVIPProgressIndex=i}},onVIPProgressDescTouchEnd:function(e){e.stopPropagation(),this.VIPProgressDesc.active=!1}}),cc._RF.pop()},{BaseEditboxUI:"BaseEditboxUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameUtils:"GameUtils",GoldStoreItem:"GoldStoreItem",LanguageData:"LanguageData",UIInfo:"UIInfo"}],SubscriptionProfile:[function(e,t,i){"use strict";cc._RF.push(t,"b7272uayHxFAa9UZ63TvAKe","SubscriptionProfile");e("IPayConfig"),cc.Class({name:"SubscriptionProfile",properties:{isRefreshing:!1,isPayCheck:!1,objSubsSkuMap:{default:{}},deviceSubsName:"",deviceOrderId:null,deviceOrderList:[],isExistAutoSubs:!0,isPattiCheck:!1,isMonthlySubs:!1,monthlyEliteLevel:0,isAutoMonthly:!1,renewTime:0,monthlyOrderId:null,nextMonthlyLevel:0,nextStartTime:0,isBonusGet:!1,dailyBonus:0,totalBonus:0,nextGetTime:0,arrUserOrder:[],arrCmdHandler:{default:{}}},ctor:function(){this.arrCmdHandler.payCheck=handler(this,this.onPayCheck),this.arrCmdHandler.subscriptionSucc=handler(this,this.onSubscriptionSucc),this.arrCmdHandler.androidSubsBuy=handler(this,this.onPattiVerify),this.arrCmdHandler.subsProfile=handler(this,this.onSubscriptionProfile),this.arrCmdHandler.subsAccept=handler(this,this.onMonthlyEliteAccept),this.arrCmdHandler.subsUserList=handler(this,this.onSubsUserList),this.arrUserOrder=JSON.parse(cc.sys.localStorage.getItem("AESubsUserOrder"))||[],LogUtil.info("SubsProfile",cc.sys.localStorage.getItem("AESubsUserOrder"))},reset:function(){},isPlatformSubs:function(){return Object.keys(this.objSubsSkuMap).length>0},isProductSubs:function(e){return!!this.objSubsSkuMap[e]},isOrderUpload:function(e,t){if(!this.arrUserOrder||this.arrUserOrder.length<1)return!1;for(var i=.001*(new Date).getTime(),n=0;n<this.arrUserOrder.length;n++)if(e==this.arrUserOrder[n].orderId&&t==this.arrUserOrder[n].isAuto&&i<this.arrUserOrder[n].renewTime)return!0;return!1},isCanGoogleUpdate:function(){for(var e=0;e<this.deviceOrderList.length;e++)if(0==this.deviceOrderList[e].orderId.lastIndexOf(this.monthlyOrderId)&&this.deviceOrderList[e].autoRenew)return!0;return!1},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onPayCheck:function(e,t){this.isPayCheck=t.uploadOrder.length<1,this.objSubsSkuMap={},this.isExistAutoSubs=!1,this.deviceOrderId=null,this.deviceOrderList=t.SubsList||[];for(var i=0;i<t.SubsList.length;i++){var n=t.SubsList[i].skuName;if(this.objSubsSkuMap[n]=!0,this.isExistAutoSubs=this.isExistAutoSubs||t.SubsList[i].autoRenew,n==t.curSubsName&&(this.curSubsName=t.curSubsName),t.SubsList[i].autoRenew){this.deviceOrderId=t.SubsList[i].orderId;var a=this.deviceOrderId.lastIndexOf("..");this.deviceOrderId=this.deviceOrderId.substr(0,a>0?a:this.deviceOrderId.length)}}},onSubscriptionSucc:function(e,t){this.isMonthlySubs=!0,this.objSubsSkuMap[t.subsName]=!0},onPattiVerify:function(e,t){this.isPayCheck=!0,this.onSubscriptionProfile(e,t)},onSubscriptionProfile:function(e,t){if(this.isPattiCheck=!0,this.isRefreshing=!1,"error"!=t.cmd){if(this.isMonthlySubs=t.type&&t.type>0,this.monthlyEliteLevel=t.type,this.isAutoMonthly=t.isAuto,this.renewTime=.001*(new Date).getTime()+t.renewTime,this.monthlyOrderId=t.orderId,this.monthlyOrderId){var i=this.monthlyOrderId.lastIndexOf("..");this.monthlyOrderId=this.monthlyOrderId.substr(0,i>0?i:this.monthlyOrderId.length)}this.nextMonthlyLevel=t.nextType,this.nextStartTime=.001*(new Date).getTime()+t.nextStart,this.isBonusGet=!t.isAccept,this.dailyBonus=t.chips||0,this.totalBonus=t.allAccept||0,this.nextGetTime=.001*(new Date).getTime()+t.nextTime}},onMonthlyEliteAccept:function(e,t){this.onSubscriptionProfile(e,t)},onSubsUserList:function(e,t){for(var i in this.isPayCheck=!0,this.arrUserOrder=[],t.subs)t.subs[i].renewTime+=.001*(new Date).getTime(),this.arrUserOrder.push(t.subs[i]);cc.sys.localStorage.setItem("AESubsUserOrder",JSON.stringify(this.arrUserOrder))}});cc._RF.pop()},{IPayConfig:"IPayConfig"}],SwitchDealer:[function(e,t,i){"use strict";cc._RF.push(t,"bf7605B3BVCmJbCGfVGQN3h","SwitchDealer");var n=e("GameUtils"),a=e("Command"),o=e("BaseUIGold"),s=e("DataAnalysisKey");e("DealerItem");cc.Class({extends:o,properties:{lblBanalance:cc.Label,dealerListView:cc.Node,popularListView:cc.Node,dealerTemplate:cc.Prefab,popularTemplate:cc.Prefab,arrDealerList:{default:[],visible:!1}},onLoad:function(){this._super()},initComplete:function(){this.lblBanalance.string=n.formatNumberWithRules(this.myBalance()),this.initDealerListView(),this.initPopularListView(),this.gameCore.dataAnalysisMng.sendData(s.CLICK_DEALER_CHANGE,this.gameCore.dataAnalysisMng.gameBaseData),this._super()},initDealerListView:function(){this.arrDealerList=[],this.dealerListView.removeAllChildren();for(var e=cc.v2(-291,-121),t=cc.v2(291,-269),i=[1,2,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18],n=0;n<i.length;n++){var a=i[n],o=cc.instantiate(this.dealerTemplate);this.dealerListView.addChild(o);var s=e.x+(n-3*Math.floor(n/3))*t.x,r=e.y+Math.floor(n/3)*t.y;o.setPosition(s,r),this.arrDealerList[n]=o.getComponent("DealerItem"),o.getComponent("DealerItem").gameCore=this.gameCore,o.getComponent("DealerItem").setDealdID(a),o.getComponent("DealerItem").setClickCb(handler(this,this.onDealerClicked))}this.dealerListView.height=Math.abs(2*e.y+Math.floor((i.length-1)/3)*t.y)+10},initPopularListView:function(){this.popularListView.removeAllChildren();for(var e=cc.v2(-3,-202),t=ITeenPatti.getCurTable(),i=[],n=1;n<=3;n++)i.push(t&&t.dealerID==2*n-1?2*n:2*n-1);for(var a=0;a<i.length;a++){var o=i[a],s=cc.instantiate(this.popularTemplate);this.popularListView.addChild(s),s.setPosition(e.x,e.y+-316*a),s.getComponent("DealerItem").gameCore=this.gameCore,s.getComponent("DealerItem").setDealdID(i[a]),s.getComponent("DealerItem").setClickCb(handler(this,this.onDealerClicked)),this.arrDealerList[o-1].setDealerHot()}this.popularListView.height=Math.abs(2*e.y+-316*(i.length-1))},onDealerClicked:function(e,t){this.gameCore.uiMng.dispatch(a.UI_CMD_SWITCHING_DEALER),ITeenPatti.sendMsg("switchdealer",{i:e}),this.gameCore.dataAnalysisMng.sendData(s.CHANGE_DEALER,this.gameCore.dataAnalysisMng.gameBaseData),this.closeUI()}}),cc._RF.pop()},{BaseUIGold:"BaseUIGold",Command:"Command",DataAnalysisKey:"DataAnalysisKey",DealerItem:"DealerItem",GameUtils:"GameUtils"}],SwitchLobby:[function(e,t,i){"use strict";cc._RF.push(t,"8c064DZIqxBzK6gmJJh8gtI","SwitchLobby");var n=e("BaseUI"),a=e("DataAnalysisKey");cc.Class({extends:n,properties:{lobbyType:1,switchLobbyChecks:[cc.Node]},initComplete:function(){this._super()},onTypeCheck:function(e,t){for(var i=0;i<this.switchLobbyChecks.length;i++)this.switchLobbyChecks[i].active=!1;this.switchLobbyChecks[parseInt(t)-1].active=!0,this.lobbyType=t,this.changeLobbyType()},changeLobbyType:function(){this.gameCore.dataAnalysisMng.sendData(a.INIT_CHOOSE_LOBBY_TYPE,["other_data:"+this.lobbyType]),this.gameCore.gameMng.changeLobbyType(this.lobbyType),this.gameCore.gameMng.gotoLobby()},closeUIByCloseBtn:function(){this.changeLobbyType(),this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI",DataAnalysisKey:"DataAnalysisKey"}],SwitchModePopUp:[function(e,t,i){"use strict";cc._RF.push(t,"d2c960lhK1MILlf/67veHK6","SwitchModePopUp");var n=e("BaseUI"),a=(e("UIInfo"),e("Command")),o=e("DataAnalysisKey");cc.Class({extends:n,properties:{lblTitle:cc.Label,lblDesc:cc.Label,lblCancle:cc.Label,lblAccept:cc.Label,btnMask:cc.Button,pnlMask:cc.Node,pnlPopUp:cc.Node,roomName:{default:null,visible:!1}},onLoad:function(){this._super(),this.btnMask.node.active=!1,this.btnMask.interactable=!1,ITeenPatti.addListener(a.SERVER_CMD_ROOM_JOIN,this,handler(this,this.onRoomJoin))},initComplete:function(){this._super(),ITeenPatti.addListener(a.SERVER_CMD_BANNED_USER,this,this.onUserBanned),ITeenPatti.addListener(a.SERVER_CMD_PLAY_IN_ROOM,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_DELUXE,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_CASINO_WAR,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_AB,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_TEXAS_HOLDEM,this,this.onPlayResponse)},onUserBanned:function(e,t){this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},onPlayResponse:function(e,t){if("error"==t.cmd){try{if(JSON.parse(t.mess))return}catch(e){}this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)}},onDestroy:function(){this._super(),ITeenPatti.removeListenerWithTarget(this)},setShowText:function(e){this.lblDesc.string=e},onBtnCancelClicked:function(e){this.onBlackBgTouchEnd(e)},onBtnAcceptClicked:function(e){if(ITeenPatti.getCurRoom()){this.canClose=!1,this.lastRoom=ITeenPatti.getCurRoom(),this.lastRoomName=ITeenPatti.getCurRoom().roomName,this.btnMask.interactable=!0,this.btnMask.node.active=!0,this.pnlMask.active=!0,this.pnlPopUp.active=!1;var t=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);ITeenPatti.removeListener(a.SERVER_CMD_USER_EXIT_ROOM,t),ITeenPatti.addListener("UserExitRoom",this,this.onRoomExit),ITeenPatti.sendMsg("leaveroom",null),this.gameCore.dataAnalysisMng.sendData(o.CLICK_SWITCHTABLE_SWITCH,this.gameCore.dataAnalysisMng.gameBaseData),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)}},onRoomExit:function(e,t){if(t.user.isItMe){var i=4*Math.random();i<=1?this.gameCore.userMng.play(a.SERVER_CMD_PLAY,"",!1,this.lastRoomName):i<=2?this.gameCore.userMng.play(a.SERVER_CMD_PLAY_DELUXE,"",!1,this.lastRoomName):i<=3?this.gameCore.userMng.playCasinoWar(!1,this.lastRoomName):this.gameCore.userMng.playAB(!1,this.lastRoomName)}},onRoomJoin:function(e,t){this.gameCore.gameMng.openGameScene(),this.gameCore.dataAnalysisMng.sendData(o.JOIN_TABLE_SUCCESS,this.gameCore.dataAnalysisMng.gameBaseData)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",UIInfo:"UIInfo"}],SwitchRoundModePopUp:[function(e,t,i){"use strict";cc._RF.push(t,"5fcccWqnidAgZWVJAxslIqe","SwitchRoundModePopUp");var n=e("BaseUI"),a=e("UIInfo");e("Command"),e("DataAnalysisKey");cc.Class({extends:n,properties:{lblCDTime:cc.Label,arrModeBg:[cc.Node]},onLoad:function(){this._super();var e=ITeenPatti.getCurTable().round;this.interval=0,this.cdStart=e.cdStart,this.nDuration=e.cdTime;for(var t=0;t<this.arrModeBg.length;t++)this.arrModeBg[t].active=!1;this.updateCountDown()},initComplete:function(){this._super(),this.gameCore.uiMng.closeUI(a.GAME_ROOM_INFO)},update:function(e){this.interval+=e,this.interval<1||this.updateCountDown()},updateCountDown:function(){var e=(new Date).getTime(),t=this.cdStart+1e3*this.nDuration-e;this.lblCDTime.string=Math.max(0,Math.ceil(.001*t)),t<0&&this.closeUI()},onBtnCloseClk:function(e){this.closeUI()},onBtnModeClk:function(e,t){if(ITeenPatti.getCurRoom()){var i=null;switch(t){case"Classic":i="common";break;case"Joker":i="joker";break;case"PotBlind":i="potblind";break;case"AK47":i="ak47";break;case"Muflis":i="muflis";break;case"Hukam":i="hukam"}null!=i&&ITeenPatti.sendMsg("choosemode",{i:i}),this.closeUI()}},onBlackBgTouchEnd:function(e){e.stopPropagation()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",UIInfo:"UIInfo"}],SwitchTablePopUp:[function(e,t,i){"use strict";cc._RF.push(t,"60334plt29L6qvPpoQPzBDP","SwitchTablePopUp");var n=e("BaseUI"),a=(e("UIInfo"),e("Command")),o=e("DataAnalysisKey");cc.Class({extends:n,properties:{lblTitle:cc.Label,lblDesc:cc.Label,lblCancle:cc.Label,lblAccept:cc.Label,btnMask:cc.Button,pnlMask:cc.Node,pnlPopUp:cc.Node,roomName:{default:null,visible:!1}},onLoad:function(){this._super(),this.btnMask.node.active=!1,this.btnMask.interactable=!1,ITeenPatti.addListener(a.SERVER_CMD_ROOM_JOIN,this,handler(this,this.onRoomJoin))},initComplete:function(){this._super(),ITeenPatti.addListener(a.SERVER_CMD_BANNED_USER,this,this.onUserBanned),ITeenPatti.addListener(a.SERVER_CMD_PLAY_IN_ROOM,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_DELUXE,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_CLASSIC_GOLD,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_CASINO_WAR,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_AB,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_TEXAS_HOLDEM,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_PATTI_WAR,this,this.onPlayPattiWarResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_NOLIMIT,this,this.onPlayNoLimitResponse)},onUserBanned:function(e,t){this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},onPlayPattiWarResponse:function(e,t){this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo,function(){this.gameMng.showCantEnterPattiWarReason(t)}.bind(this.gameCore))},onPlayNoLimitResponse:function(e,t){"error"==t.cmd&&this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},onPlayResponse:function(e,t){if(this.gameCore.userMng.isJoining=!1,"error"==t.cmd)try{if(JSON.parse(t.mess))return}catch(e){LogUtil.err("SwitchTablePopUp","There is error parse sfs response json on js",e)}var i=t.i,n=this.gameCore;this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo,function(){i&&n.gameMng.openChipsNotEnoughTwoItem(i)})},onDestroy:function(){this._super(),ITeenPatti.removeListenerWithTarget(this)},setShowText:function(e){this.lblDesc.string=e},onBtnCancelClicked:function(e){this.onBlackBgTouchEnd(e)},onBtnAcceptClicked:function(e){if(ITeenPatti.getCurRoom()){this.canClose=!1,this.lastRoom=ITeenPatti.getCurRoom(),this.lastRoomName=ITeenPatti.getCurRoom().roomName,this.btnMask.interactable=!0,this.btnMask.node.active=!0,this.pnlMask.active=!0,this.pnlPopUp.active=!1;var t=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);ITeenPatti.removeListener(a.SERVER_CMD_USER_EXIT_ROOM,t),ITeenPatti.addListener("UserExitRoom",this,this.onRoomExit),ITeenPatti.sendMsg("leaveroom",null),this.gameCore.dataAnalysisMng.sendData(o.CLICK_SWITCHTABLE_SWITCH,this.gameCore.dataAnalysisMng.gameBaseData),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)}},onRoomExit:function(e,t){if(t.user.isItMe)if(this.roomName){if(-1!=this.roomName.indexOf("pattiwar"))return void this.gameCore.userMng.playPattiWar(this.roomName);var i=this.gameCore.userMng.gameBgUrlByRoomName(this.roomName);ae.resloader.load(i,function(e,t){this.gameCore.userMng.gameBgTex=t,this.gameCore.gameMng.isMeCreatedPrivateRoom=!1,ITeenPatti.sendMsg(a.SERVER_CMD_PLAY_IN_ROOM,{i:this.roomName}),this.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY_IN_ROOM,this.gameCore.userMng,this.gameCore.userMng.onPlayInRoom)}.bind(this))}else this.lastRoom&&this.lastRoom.roomType==ROOM_TYPE.RUMMY?this.gameCore.userMng.playRummy(!1,this.lastRoomName):this.lastRoom&&this.lastRoom.roomType==ROOM_TYPE.CLASSIC_GOLD?this.gameCore.userMng.play(a.SERVER_CMD_PLAY_CLASSIC_GOLD,"",!1,this.lastRoomName,null,!0):this.lastRoom&&this.lastRoom.roomType==ROOM_TYPE.TEXAS_HOLDEM_GOLD?this.gameCore.userMng.playTexasHoldem(!1,this.lastRoomName,null,!0):this.lastRoom&&this.lastRoom.roomType==ROOM_TYPE.AB_GOLD?this.gameCore.userMng.playAB(!1,this.lastRoomName,null,!0):this.lastRoom&&this.lastRoom.roomType==ROOM_TYPE.CASINO_WAR_GOLD?this.gameCore.userMng.playCasinoWar(!1,this.lastRoomName,null,!0):this.lastRoom&&this.lastRoom.isNoLimit?this.gameCore.userMng.play(a.SERVER_CMD_PLAY_NOLIMIT,ROOM_TYPE.NOLIMIT,!1,this.lastRoomName,this.lastRoom.profile.nBootAmount):this.lastRoom&&this.lastRoom.isCasinoWar?this.gameCore.userMng.playCasinoWar(!1,this.lastRoomName):this.lastRoom&&this.lastRoom.isAB?this.gameCore.userMng.playAB(!1,this.lastRoomName):this.lastRoom&&this.lastRoom.roomType==ROOM_TYPE.TEXAS_HOLDEM?this.gameCore.userMng.playTexasHoldem(!1,this.lastRoomName):this.gameCore.userMng.play(a.SERVER_CMD_PLAY,ITeenPatti.roomType,!1,this.lastRoomName)},onRoomJoin:function(e,t){this.gameCore.gameMng.openGameScene(),this.gameCore.dataAnalysisMng.sendData(o.JOIN_TABLE_SUCCESS,this.gameCore.dataAnalysisMng.gameBaseData)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",UIInfo:"UIInfo"}],TableActionCache:[function(e,t,i){"use strict";cc._RF.push(t,"42744nAH+tMdpHSQtfIn/Yt","TableActionCache");var n=e("BaseComponent"),a=e("Command");cc.Class({extends:n,properties:{curAction:null,arrNextAction:{default:[]}},onLoad:function(){this.arrMsgCache=[],this.arrAction=[],this.nActionID=0},onRoundReady:function(){this.arrMsgCache=[],this.arrAction=[]},unshiftMsg:function(e,t){this.arrMsgCache.unshift({roundID:ITeenPatti.getCurTable().roundID,cmd:e,data:t})},cacheMsg:function(e,t){this.arrMsgCache.push({roundID:ITeenPatti.getCurTable().roundID,cmd:e,data:t})},isPlaying:function(){return this.arrAction.length>0},runAction:function(e,t,i,n){switch(this.nActionID+=1,LogUtil.info("___ Action"," "+this.nActionID+" "+t+" "+e),e){case TABLE_ACTION.BET:this.showAnimBet(t,i);break;case TABLE_ACTION.BET_BOOT:this.showAnimBetBoot(t,i);break;case TABLE_ACTION.BET_SIDE:this.showAnimBetSide(t,i);break;case TABLE_ACTION.BET_SHOW:this.showAnimBetShow(t,i);break;case TABLE_ACTION.DEAL:this.showAnimDeal(t,i);break;case TABLE_ACTION.SEE_ACTION:this.showAnimSee(t,i);break;case TABLE_ACTION.SEE_CARD:this.showAnimSeeCard(t,i);break;case TABLE_ACTION.SEE_CARD_OVER:this.showAnimSeeCardOver(t,i);break;case TABLE_ACTION.POT_LIMIT:this.showAnimPotLimit(t,i);break;case TABLE_ACTION.SIDE_PACK:this.showAnimSidePack(t,i);break;case TABLE_ACTION.SIDE_SHOW:this.showAnimSideShow(t,i);break;case TABLE_ACTION.SIDE_RESULT:this.showAnimSideResult(t,i);break;case TABLE_ACTION.SHOW_PACK:this.showAnimPack(t,i);break;case TABLE_ACTION.SHOW:this.showAnimShow(t,i);break;case TABLE_ACTION.SHOW_RESULT:this.showAnimShowResult(t,i);break;case TABLE_ACTION.SHOW_AWARD:this.showAnimShowAward(t,i);break;case TABLE_ACTION.SHOW_EXP:this.showAnimExp(t,i);break;case TABLE_ACTION.RESET:this.showAnimReset(t,i);break;case TABLE_ACTION.SELF_DROP:this.showAnimSelfDrop(t,i);break;case TABLE_ACTION.OTHER_DROP:this.showAnimOtherDrop(t,i);break;case TABLE_ACTION.SELF_DRAW:this.showAnimSelfDraw(t,i);break;case TABLE_ACTION.OTHER_DRAW:this.showAnimOtherDraw(t,i);break;case TABLE_ACTION.SELF_DISCARD:this.showAnimSelfDiscard(t,i);break;case TABLE_ACTION.OTHER_DISCARD:this.showAnimOtherDiscard(t,i);break;case TABLE_ACTION.SELF_TOWIN:this.showAnimSelfToWin(t,i);break;case TABLE_ACTION.OTHER_TOWIN:this.showAnimOtherToWin(t,i);break;case TABLE_ACTION.SELF_DECCLAREWIN:this.showAnimSelfDeclareWin(t,i);break;case TABLE_ACTION.OTHER_DECCLAREWIN:this.showAnimOtherDeclareWin(t,i)}},showAnimBet:function(e,t){ITeenPatti.getCurTable();var i=ITeenPatti.getCurTable().contrller,n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserBet(e,t),n&&i.dealer.collectStake(n.seatId,t.num,t.newPool?t.newPool:t.pool);var a=this,o=this.nActionID,s=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){a.onActionFinish(s,TABLE_ACTION.BET,o,e,t)})))},showAnimBetBoot:function(e,t){var i=0,n=(ITeenPatti.getCurTable(),ITeenPatti.getCurTable().contrller),a=ITeenPatti.getCurRoom().profile.nBootAmount;for(var o in t.arrPartnerID){var s=n.getSeatWithPlayerId(t.arrPartnerID[o]);s&&(i+=a,s.onUserBet(e,t),n.dealer.collectBoot(s.seatId,a,i))}var r=this,l=this.nActionID,c=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){r.onActionFinish(c,TABLE_ACTION.BET_BOOT,l,e,t)})))},showAnimBetSide:function(e,t){ITeenPatti.getCurTable();var i=ITeenPatti.getCurTable().contrller,n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserBet(e,t),n&&n.onUserSide(e,t),n&&i.dealer.collectStake(n.seatId,t.num,t.newPool?t.newPool:t.pool),(n=i.getSeatWithPlayerId(t.earlyId))&&n.onUserSide(e,t);var a=this,o=this.nActionID,s=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){a.onActionFinish(s,TABLE_ACTION.BET_SHOW,o,e,t)})))},showAnimBetShow:function(e,t){ITeenPatti.getCurTable();var i=ITeenPatti.getCurTable().contrller,n=i.getSeatWithPlayerId(t.playerId);n&&i.dealer.collectStake(n.seatId,t.num,t.newPool?t.newPool:t.pool),n&&n.onUserBet(e,t);var a=this,o=this.nActionID,s=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){a.onActionFinish(s,TABLE_ACTION.BET_SHOW,o,e,t)})))},showAnimDeal:function(e,t){ITeenPatti.getCurTable();var i=ITeenPatti.getCurTable().contrller,n=[];for(var a in t.arrPartnerID){var o=i.getSeatWithPlayerId(t.arrPartnerID[a]);o&&n.push(o.seatId)}var s=this,r=this.nActionID,l=t.roundID;this.arrAction.push(this.nActionID),i.dealer.startDealCard(n,handler(i,i.onDealCard),function(){s.onActionFinish(l,TABLE_ACTION.DEAL,r,e,t)})},showAnimSee:function(e,t){ITeenPatti.getCurTable();var i=ITeenPatti.getCurTable().contrller,n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserSee(e,t),LogUtil.debug("TableActionCache","showAnimSee"),i.state==UI_TABLE_STATE.RUNNING&&i.arrSeat[0].onOtherUpdate();var a=this,o=this.nActionID,s=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){a.onActionFinish(s,TABLE_ACTION.SEE_ACTION,o,e,t)})))},showAnimSeeCard:function(e,t){ITeenPatti.getCurTable();var i=ITeenPatti.getCurTable().contrller.getSeatWithPlayerId(t.id);i&&i.onUserSee(e,t),LogUtil.debug("TableActionCache","showAnimSeeCard");var n=this,a=this.nActionID,o=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){n.onActionFinish(o,TABLE_ACTION.SEE_CARD,a,e,t)})))},showAnimSeeCardOver:function(e,t){ITeenPatti.getCurTable();var i=ITeenPatti.getCurTable().contrller.getSeatWithPlayerId(t.id);i&&i.onUserSee(e,t),LogUtil.debug("TableActionCache","showAnimSeeCardOver");var n=this,a=this.nActionID,o=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){n.onActionFinish(o,TABLE_ACTION.SEE_CARD_OVER,a,e,t)})))},showAnimPack:function(e,t){ITeenPatti.getCurTable();var i=ITeenPatti.getCurTable().contrller.getSeatWithPlayerId(t.playerId);i&&i.onUserPack(e,t),i&&this.gameCore.gameMng.playAudioEffect("pack");var n=this,a=this.nActionID,o=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){n.onActionFinish(o,TABLE_ACTION.SHOW_PACK,a,e,t)})))},showAnimSidePack:function(e,t){ITeenPatti.getCurTable();for(var i=ITeenPatti.getCurTable().contrller,n=0;n<t.arrLoserID.length;n++){var a=i.getSeatWithPlayerId(t.arrLoserID[n]);a&&a.onUserSidePack()}var o=this,s=this.nActionID,r=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){o.onActionFinish(r,TABLE_ACTION.SIDE_PACK,s,e,t)})))},showAnimSelfDrop:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller;if(i){var n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserDrop(e,t),n&&this.gameCore.gameMng.playAudioEffect("pack")}}},showAnimOtherDrop:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller;if(i){var n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserDrop()}}},showAnimSelfDraw:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller;if(i){var n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserDraw(e,t)}}},showAnimOtherDraw:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller;if(i){var n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserDraw(e,t)}}},showAnimSelfDiscard:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller;if(i){var n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserDiscard(e,t)}}},showAnimOtherDiscard:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller;if(i){var n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserDiscard(e,t)}}},showAnimSelfToWin:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller;if(i){var n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserTowin(e,t)}}},showAnimOtherToWin:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller;if(i){var n=i.getSeatWithPlayerId(t.playerId);n&&n.onUserTowin(e,t)}}},showAnimSelfDeclareWin:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller;if(i){i.getSeatWithPlayerId(t.playerId);i.broadcastToAllSeat(e,t,"onUserDeclarewin","onUserDeclarewin")}}},showAnimOtherDeclareWin:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller;if(i){i.getSeatWithPlayerId(t.playerId);i.broadcastToAllSeat(e,t,"onUserDeclarewin","onOtherDeclarewin")}}},showAnimSideShow:function(e,t){ITeenPatti.getCurTable();for(var i=ITeenPatti.getCurTable().contrller,n=0;n<t.arrWinerID.length;n++){(a=i.getSeatWithPlayerId(t.arrWinerID[n]))&&a.onUserShow()}for(n=0;n<t.arrLoserID.length;n++){var a;(a=i.getSeatWithPlayerId(t.arrLoserID[n]))&&a.onUserShow()}var o=this,s=this.nActionID,r=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){o.onActionFinish(r,TABLE_ACTION.SIDE_SHOW,s,e,t)})))},showAnimSideResult:function(e,t){ITeenPatti.getCurTable();for(var i=ITeenPatti.getCurTable().contrller,n=0;n<t.arrWinerID.length;n++){(a=i.getSeatWithPlayerId(t.arrWinerID[n]))&&a.onUserSideWin()}for(n=0;n<t.arrLoserID.length;n++){var a;(a=i.getSeatWithPlayerId(t.arrLoserID[n]))&&a.onUserSideLose()}var o=this,s=this.nActionID,r=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){o.onActionFinish(r,TABLE_ACTION.SIDE_RESULT,s,e,t)})))},showAnimPotLimit:function(e,t){ITeenPatti.getCurTable();ITeenPatti.getCurTable().contrller.potLimitBar.onUserShow(e,t);var i=this,n=this.nActionID,a=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){i.onActionFinish(a,TABLE_ACTION.POT_LIMIT,n,e,t)})))},showAnimShow:function(e,t){ITeenPatti.getCurTable();for(var i=ITeenPatti.getCurTable().contrller,n=0;n<t.arrWinerID.length;n++){(a=i.getSeatWithPlayerId(t.arrWinerID[n]))&&a.onUserShow()}for(n=0;n<t.arrLoserID.length;n++){var a;(a=i.getSeatWithPlayerId(t.arrLoserID[n]))&&a.onUserShow()}var o=this,s=this.nActionID,r=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){o.onActionFinish(r,TABLE_ACTION.SHOW,s,e,t)})))},showAnimShowResult:function(e,t){var i=ITeenPatti.getCurTable(),n=ITeenPatti.getCurTable().contrller;n.dealer.onRoundResult(e,t);for(var a=t.arrWinerID?t.arrWinerID:i.arrWinerID,o=0;o<a.length;o++){(r=n.getSeatWithPlayerId(a[o]))&&(this.gameCore.gameMng.playAudioEffect("win"),r.onUserWin())}var s=t.arrLoserID?t.arrLoserID:i.arrLoserID;for(o=0;o<s.length;o++){var r;(r=n.getSeatWithPlayerId(s[o]))&&r.onUserLose()}var l=this,c=this.nActionID,h=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){l.onActionFinish(h,TABLE_ACTION.RESULT,c,e,t)})))},showAnimShowAward:function(e,t){var i=ITeenPatti.getCurTable(),n=ITeenPatti.getCurTable().contrller;n.dealer.onRoundAwards(e,t);for(var a=0;a<i.arrAwardID.length;a++){var o=n.getSeatWithPlayerId(i.arrAwardID[a]);o&&n.dealer.sendAwardsToSeat(o.seatId,i.awardAmount[i.arrAwardID[a]]),o&&o.onUserAwards()}var s=this,r=this.nActionID,l=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){s.onActionFinish(l,TABLE_ACTION.SHOW_AWARD,r,e,t)})))},showAnimExp:function(e,t){ITeenPatti.getCurTable();var i=ITeenPatti.getCurTable().contrller;if("finish"==e){var n=i.getSeatWithUserId(ITeenPatti.getCurPlayer().userId);n&&n.onRoundFinish()}var a=this,o="finish"==e?3:2,s=this.nActionID,r=t.roundID;this.arrAction.push(this.nActionID),this.node.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(function(){a.onActionFinish(r,TABLE_ACTION.SHOW_EXP,s,e,t)})))},showAnimReset:function(e,t){for(var i=ITeenPatti.getCurTable().contrller,n=0;n<i.arrSeat.length;n++)i.arrSeat[n].onRoundReady();i.onAnimResetFinish()},onActionFinish:function(e,t,i,n,a){if(LogUtil.info("TableAction","Round "+e+" Action "+i+" Finish!"),i)for(var o=0;o<this.arrAction.length;o++)this.arrAction[o]==i&&this.arrAction.splice(o,1);if(ITeenPatti.getCurTable())if(e==ITeenPatti.getCurTable().roundID){var s=ITeenPatti.getCurTable().contrller;switch(t){case TABLE_ACTION.BET_BOOT:return void s.onRoundDealCard(n,a);case TABLE_ACTION.DEAL:return void s.onRoundRunning(n,a);case TABLE_ACTION.SIDE_SHOW:return void this.runAction(TABLE_ACTION.SIDE_RESULT,n,a);case TABLE_ACTION.SEE_CARD_OVER:return void s.onRoundResult(n,a);case TABLE_ACTION.SHOW:return void this.runAction(TABLE_ACTION.SHOW_RESULT,n,a);case TABLE_ACTION.POT_LIMIT:return void s.onRoundShow(n,a);case TABLE_ACTION.RESULT:if("see"==n){var r=this.popCacheMsg(e,"cpool");return void(r&&s.onRoundAwards(r.cmd,r.data))}if("cpool"==n)return void s.onRoundAwards(n,a);break;case TABLE_ACTION.SHOW_AWARD:s.onRoundAwardsFinish();break;case TABLE_ACTION.SHOW_EXP:return void s.onRoundReset()}this.checkCacheAction()}else this.checkCacheAction()},checkCacheAction:function(){if(this.clearCacheMsg(),!(!ITeenPatti.getCurTable()||this.arrMsgCache.length<1||this.isPlaying()))for(var e=ITeenPatti.getCurTable().contrller,t=this.popMsg();null!=t;){if(console.log(t),("gamble"==t.cmd||t.cmd==a.SERVER_CMD_TOUR_GAMBLE)&&t.data.action==USER_ACTION.BET)return void this.runAction(TABLE_ACTION.BET,t.cmd,t.data);if(("gamble"==t.cmd||t.cmd==a.SERVER_CMD_TOUR_GAMBLE)&&t.data.action==USER_ACTION.SIDE_SHOW)return void this.runAction(TABLE_ACTION.BET_SIDE,t.cmd,t.data);if(("gamble"==t.cmd||t.cmd==a.SERVER_CMD_TOUR_GAMBLE)&&t.data.action==USER_ACTION.SHOW)return void this.runAction(TABLE_ACTION.BET_SHOW,t.cmd,t.data);if(("gamble"==t.cmd||t.cmd==a.SERVER_CMD_TOUR_GAMBLE)&&t.data.action==USER_ACTION.PACK)return void this.runAction(TABLE_ACTION.SHOW_PACK,t.cmd,t.data);if(("gamble"==t.cmd||t.cmd==a.SERVER_CMD_TOUR_GAMBLE)&&t.data.action==USER_ACTION.SEEN)return void this.runAction(TABLE_ACTION.SEE_ACTION,t.cmd,t.data);if("show"==t.cmd||t.cmd==a.SERVER_CMD_TOUR_SHOW)return void e.onUserShow(t.cmd,t.data);if("cpool"==t.cmd||t.cmd==a.SERVER_CMD_TOUR_CPOOL)return void e.onRoundAwards(t.cmd,t.data);if("finish"==t.cmd)return void e.onRoundFinish(t.cmd,t.data);"next"!=t.cmd&&t.cmd!=a.SERVER_CMD_TOUR_NEXT||e.onRoundNext(t.cmd,t.data),t=this.popMsg()}},doActionWithMsg:function(e,t){},clearCacheMsg:function(){var e=ITeenPatti.getCurTable();if(e&&!(this.arrMsgCache.length<1))for(var t=this.arrMsgCache.length-1;t>=0;t--){this.arrMsgCache[t].roundID!=e.roundID&&this.arrMsgCache.splice(t,1)}},popMsg:function(){if(this.arrMsgCache.length<1)return null;var e=this.arrMsgCache[0];return this.arrMsgCache.splice(0,1),e},popCacheMsg:function(e,t){for(var i=0;i<this.arrMsgCache.length;i++){var n=this.arrMsgCache[i];if(n.roundID==e&&n.cmd==t)return this.arrMsgCache.splice(i,1),n}return null},isMsgCache:function(e,t){for(var i=0;i<this.arrMsgCache.length;i++){var n=this.arrMsgCache[i];if(n.roundID==e&&n.cmd==t)return!0}return!1},getMsgByCmd:function(e,t){for(var i=0;i<this.arrMsgCache.length;i++){var n=this.arrMsgCache[i];if(n.roundID==e&&n.cmd==t)return n}return null}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command"}],TableAwardsViewTour:[function(e,t,i){"use strict";cc._RF.push(t,"a8501tt3tpOd4O6o+KCtyyM","TableAwardsViewTour");var n=e("TableAwardsView");cc.Class({extends:n,properties:{},getAwardsAnimNamePrefix:function(){return"gstour_anim_dealer_awards_to_seat_"}}),cc._RF.pop()},{TableAwardsView:"TableAwardsView"}],TableAwardsView:[function(e,t,i){"use strict";cc._RF.push(t,"f2c10BSkVBLFau8v0m/+gCw","TableAwardsView");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{lblCount:cc.Label},onLoad:function(){this._super()},getAwardsAnimNamePrefix:function(){return"gs_anim_dealer_awards_to_seat_"},playAnimAwards:function(e,t){this.lblCount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.seatID=e,this.curRoundID=ITeenPatti.getCurTable().roundID,this.node.getComponent(cc.Animation).playAdditive(this.getAwardsAnimNamePrefix()+e)},onAnimAwardsArriveSeat:function(){if(this.node.removeFromParent(),ITeenPatti.getCurRoom()&&this.curRoundID==ITeenPatti.getCurTable().roundID){var e=ITeenPatti.getCurTable().contrller;e&&(e.onAnimAwardsArriveSeat(),e.arrSeat[0].onUserUpdate())}}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TableControllerTour:[function(e,t,i){"use strict";cc._RF.push(t,"66e637pIUVMkLpaXe8p6FX5","TableControllerTour");var n=e("TableController"),a=e("GameUtils"),o=e("Command"),s=e("FacebookIcon"),r=e("LanguageData"),l=e("ClassicRoom"),c=e("TeenPattiUser");e("UIInfo");cc.Class({extends:n,properties:{bootIncrease:cc.Node,bootIncreaseCountLabel:cc.Label,waitingForPlayersNode:cc.Node,waitingPlayerIcon:[s],waitingPlayerLoading:[cc.Node],waitingPlayerCountLabel:cc.Label,waitUsers:[c],isTournamentBegan:!1,hintBar:cc.Node},onLoad:function(){this._super(),this.waitHeadIndex=0,this.bootIncrease.active=!1},initComplete:function(){this.tableLowBar.active=!1,this.waitingForPlayersNode.active=!0,this.dealer.tablePool.node.active=!1;for(var e=0;e<this.waitingPlayerIcon.length;e++)this.waitingPlayerIcon[e].node.active=!1;this.updateWaitingPlayerIcon(),this._super(),this.waitForPlayerState(),this.gameCore.uiMng.addListener(o.SERVER_CMD_IN_LOBBY,this,this.onInLobby)},onInLobby:function(){ITeenPatti.roomLeaved(),this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},waitForPlayerState:function(){if(!this.isTournamentBegan)for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].node.active=!1},i18nRendersUpdate:function(){this._super();var e=ITeenPatti.getCurRoom();e&&e instanceof l&&(this.gameModeLabel.string=r.t("label_text.classic1"));var t="",i=ITeenPatti.getCurSFSRoom();if(i&&i.variables&&i.variables.mode)switch(i.variables.mode.value){case"normal":t=r.t("label_text.normal_c");break;case"allin":t=r.t("label_text.all_in_c");break;case"ranking":t=r.t("label_text.ranking")}this.gameTypeLabel.string=t},updateWaitingPlayerIcon:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.waitHeadIndex=0,this.waitUsers=[]);for(var e=this.table.getUserList(),t=0;t<e.length;t++){for(var i=!1,n=0;n<this.waitUsers.length;n++)if(e[t]==this.waitUsers[n]){i=!0;break}i||this.waitUsers.push(e[t])}for(t=0;t<this.waitUsers.length;t++)this.waitingPlayerIcon[t]&&t>=this.waitHeadIndex&&(this.waitHeadIndex++,this.waitingPlayerIcon[t].node.active=!0,this.waitingPlayerIcon[t].initWithTeenPattiUser(this.waitUsers[t]),this.waitingPlayerLoading[t].active=!1);this.waitingPlayerCountLabel.string=this.waitUsers.length+"/5"},onUserSitDown:function(e,t){this._super(e,t),this.updateWaitingPlayerIcon()},onUserStandUp:function(e,t){this._super(e,t),this.tableLowBar.active=!1},initTable:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._super(e),e)if(ITeenPatti.getCurTable().state==TABLE_STATE.WAIT)this.updateWaitingPlayerIcon(!0),this.waitForPlayerState();else{this.isTournamentBegan||(this.isTournamentBegan=!0,this.showGameState());for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].extend&&this.arrSeat[t].extend.updateBalance()}},onTableRefresh:function(e,t){this._super(e,t)},initListener:function(){ITeenPatti.addListener(o.SERVER_CMD_TOUR_GAMBLE,this,this.onUserAction),ITeenPatti.addListener(o.SERVER_CMD_TOUR_START_TIME,this,this.onRoundReady),ITeenPatti.addListener(o.SERVER_CMD_TOUR_START,this,this.onRoundStart),ITeenPatti.addListener(o.SERVER_CMD_TOUR_NEXT,this,this.onRoundNext),ITeenPatti.addListener(o.SERVER_CMD_TOUR_SHOW,this,this.onUserShow),ITeenPatti.addListener(o.SERVER_CMD_TOUR_CPOOL,this,this.onRoundAwards),ITeenPatti.addListener(o.SERVER_CMD_TOUR_SEE,this,this.onSelfSee),ITeenPatti.addListener(o.SERVER_CMD_ROOM_UPDATE,this,this.onRoomUpdate)},onAnimAwardsArriveSeat:function(){for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].extend.updateBalance()},showGameState:function(){LogUtil.debug("TableControllerTour","showGameState"),this.waitingForPlayersNode.active=!1,this.dealer.tablePool.node.active=!0;for(var e=0;e<this.arrSeat.length;e++)1!=e&&(this.arrSeat[e].tpUser||0!=e)&&(this.arrSeat[e].node.active=!0)},onRoundReady:function(e,t){this._super(e,t),this.centerSeat.onRoundReady(),this.isTournamentBegan?this.waitUsersShowing||(this.isTournamentBegan=!0,this.showGameState()):(this.hintBar.active=!1,this.waitUsersShowing=!0,this.waitingForPlayersNode.stopAllActions(),this.waitingForPlayersNode.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.hintBar.active=!0,this.waitUsersShowing=!1,this.isTournamentBegan=!0,this.showGameState()},this))))},onRoundStart:function(e,t){this._super(e,t),this.centerSeat.onRoundStart(),this.showGameState()},sendMsgSee:function(e){ITeenPatti.sendMsg(o.SERVER_CMD_TOUR_SEE)},onRoomUpdate:function(e,t){-1!=t.changedVars.indexOf("ba")&&(this.bootIncreaseCountLabel.string=a.formatNumberWithRules(t.room.variables.ba.value,1e7),this.bootIncrease.stopAllActions(),this.bootIncrease.active=!0,this.bootIncrease.runAction(cc.sequence(cc.scaleTo(.3,1.3).easing(cc.easeBounceOut()),cc.delayTime(2),cc.callFunc(function(){this.bootIncrease.active=!1},this))))},onAwardsFinish:function(e,t){this.state=UI_TABLE_STATE.FINISH}}),cc._RF.pop()},{ClassicRoom:"ClassicRoom",Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TableController:"TableController",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],TableController:[function(e,t,i){"use strict";cc._RF.push(t,"0f615XLW0ZJuasiSbk1lESs","TableController");var n=e("ITeenPatti"),a=e("BaseTable"),o=e("BaseTableController"),s=(e("BaseUI"),e("BaseSeat")),r=e("TableDealer"),l=e("PotLimitBar"),c=(e("UIInfo"),e("Command"),e("DataAnalysisKey")),h=e("TableActionCache"),u=e("LanguageData"),d="TableController",m=e("ActionPool"),g=e("MessageAction"),p=e("SeatPlaceAction"),C=(e("UserRoomEnterAction"),e("UserRoomExitAction"),e("UserSitDownAction")),f=(e("UserStandUpAction"),e("BetBootAction")),b=e("DealCardAction"),I=e("UserNextAction"),_=e("UserBetAction"),S=e("UserPackAction"),P=e("UserBetShowAction"),T=e("UserBetSideAction"),R=e("UserSeenAction"),v=e("UserSeeCardAction"),y=e("UserSidePackAction"),A=e("UserSideResultAction"),L=e("UserSideShowAction"),B=e("UserShowCardAction"),D=e("TablePotLimitAction"),E=e("TableShowResultAction"),U=e("TableShowAwardsAction"),M=e("TableSetAction"),N=e("TableRefreshAction"),w=e("UserExpAction"),k=e("TableResetAction"),F=e("CenterSeat");cc.Class({extends:o,properties:{table:a,dealer:r,arrSeat:[s],state:UI_TABLE_STATE.INVALID,pfbMsg:cc.Prefab,potLimitBar:l,tableLowBar:cc.Node,lblLowTips:cc.Label,chatButton:cc.Node,imgBackground:cc.Sprite,actionCache:h,gameTypeLabel:cc.Label,gameModeLabel:cc.Label,actionPool:m,centerSeat:F},onLoad:function(){this._super(),cc.sys.isBrowser&&(Window.TableController=this),n.getCurTable()&&(this.table=n.getCurTable(),this.table.contrller=this,this.chatButton.active=!n.getCurPlayer().role.isWatcher(),n.addListener("UserEnterRoom",this,this.onUserEnterRoom),n.addListener("UserExitRoom",this,this.onUserExitRoom),n.addListener("UserStandUp",this,this.onUserStandUp),n.addListener("UserSitDown",this,this.onUserSitDown),n.addListener("UserUpdate",this,this.onUserUpdate),n.addListener("startdeal",this,this.onRoundDealCard),n.addListener("dealfinish",this,this.onRoundDealFinish),n.addListener("sideshowfinish",this,this.onSideShowFinish),n.addListener("showfinish",this,this.onShowFinish),n.addListener("resultfinish",this,this.onResultFinish),n.addListener("awardsfinish",this,this.onAwardsFinish),n.addListener("refresh",this,this.onTableRefresh),n.addListener("jis",this,this.onTableRefresh),n.addListener("refresh",this,this.onTableRefresh),n.addListener("seefinish",this,this.onSelfSeeFinish),n.addListener("PublicMessage",this,this.onMessageReceive),n.addListener("sendmessage",this,this.onMessageReceive),n.addListener("finish",this,this.onRoundFinish))},initListener:function(){n.addListener("gamble",this,this.onUserAction),n.addListener("starttime",this,this.onRoundReady),n.addListener("start",this,this.onRoundStart),n.addListener("next",this,this.onRoundNext),n.addListener("show",this,this.onUserShow),n.addListener("cpool",this,this.onRoundAwards),n.addListener("see",this,this.onSelfSee)},initComplete:function(){this._super();if(this.gameCore.gameMng.isFitHeight()||(this.tableLowBar.height=120),this.gameBgUrl=this.gameBgUrl(),LogUtil.info(d,"----------------- "+this.gameBgUrl),this.gameCore.userMng.gameBgTex){this.bgSpriteTex=this.gameCore.userMng.gameBgTex,this.gameCore.userMng.gameBgTex=null,LogUtil.info(d,"Refresh ----------------- "+this.gameBgUrl);var e=new cc.SpriteFrame(this.bgSpriteTex);this.imgBackground.spriteFrame=e,cc.loader.setAutoRelease(e,!0)}for(var t=0;t<this.arrSeat.length;t++)this.arrSeat[t].curTable=this.table;this.i18nRendersUpdate(),this.onTableInit()},gameBgUrl:function(){return this.gameCore.uiMng.gameBgUrl()},i18nRendersUpdate:function(){this.updateLowTipsLabel();var t=e("ClassicRoom"),i=e("JokerRoom"),a=e("MuflisRoom"),o=e("HukamRoom"),s=e("AK47Room"),r=e("PotBlindRoom"),l=e("NoLimitRoom"),c=n.getCurRoom();if(c){var h=0;c instanceof i?h=1:c instanceof a?h=2:c instanceof o?h=3:c instanceof r?h=4:c instanceof l?h=5:c instanceof t&&!c.isDeluxe&&!this.gameCore.gameMng.isPrivateRoom()?h=6:c instanceof s&&(h=7),this.gameTypeLabel.string=u.t("label_text.classic1"),c.isNoLimit?this.gameTypeLabel.string=u.t("label_text.mode"):c.isDeluxe?this.gameTypeLabel.string=u.t("label_text.deluxe"):this.gameCore.gameMng.isPrivateRoom()?this.gameTypeLabel.string=u.t("label_text.private"):(c instanceof i||c instanceof a||c instanceof o||c instanceof s)&&(this.gameTypeLabel.string=u.t("label_text.variation"));var d=!1;this.gameCore&&this.gameCore.uiMng&&(d=this.gameCore.uiMng.isInGoldScene),this.gameModeLabel.string=[u.t("label_text.classic1"),u.t("label_text.joker1"),u.t("label_text.muflis1"),u.t("label_text.hukam1"),u.t("label_text.pot_blind1"),u.t("label_text.no_limit"),d?u.t("label_text.vip"):u.t("label_text.regular"),u.t("label_text.ak47")][h]}},onEnterForeground:function(){this._super();for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].updateGameCrown()},updateLowTipsLabel:function(){var e=n.getCurPlayer();e&&e.role&&(n.getCurPlayer().role.isWatcher()?n.getCurTable().isTableFull?this.lblLowTips.string=u.t("label_text.table_is_full"):this.lblLowTips.string=this.gameCore&&this.gameCore.userMng.isSpectator?void 0===this.gameCore.userMng.watchFriendName?u.t("label_text.watch_the_game"):u.t("label_text.watch_game_from",{name:this.gameCore.userMng.watchFriendName}):u.t("label_text.tap_to_sit"):1==n.getCurTable().getSitUserCount()&&(this.gameCore.gameMng.isPrivateRoom()||this.gameCore.gameMng.isFriendRoom())?this.lblLowTips.string=u.t("label_text.invite_friends_to_start"):this.lblLowTips.string=u.t("label_text.wait_to_start"))},initTable:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e=this.table.getBeginPlayerID(),t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];i.playerId=t<2?e:(e+t-1)%5,i.playerId=0==i.playerId?5:i.playerId,i.seatId=t}for(t=0;t<this.arrSeat.length;t++){var a=this.arrSeat[t];a.onUserStandUp(),a.clearSeat()}this.arrSeat[0].node.active=!n.getCurPlayer().role.isWatcher(),this.arrSeat[1].node.active=n.getCurPlayer().role.isWatcher();for(var o=this.table.getUserList(),s=0;s<o.length;s++){var r=o[s].role.playerId,l=this.getSeatWithPlayerId(r);if(l){var c=this.node.addComponent(p);c.objSeat=l,c.objTPUser=o[s],this.actionPool.runAction(c)}}for(t=0;t<this.arrSeat.length;t++){this.arrSeat[t].onOtherSitDown()}},getSeatWithPlayerId:function(e){if(!n.getCurPlayer().role)return null;for(var t=!n.getCurPlayer().role.isWatcher()?0:1;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.playerId==e)return i}return null},getSeatWithUserId:function(e){for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.tpUser.userId==e)return i}return null},getDisplayNameWithPlayerId:function(e){for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.playerId==e)return i.getDisplayName()}return""},getEarlyHandOfSelf:function(){var e=n.getCurPlayer(),t=this.getSeatWithUserId(e.userId);if(null==t)return null;for(var i=t.seatID+this.arrSeat.length-1,a=i-this.arrSeat.length,o=i;o>a;o--){var s=o%this.arrSeat.length,r=this.arrSeat[s-1];if(r.isUserAlive())return r}return t},resetTable:function(){for(var e=0;e<this.arrSeat.length;e++){this.arrSeat[e].clearSeat()}},onTableInit:function(e,t){this.state=UI_TABLE_STATE.INIT,this.initTable(),this.state=UI_TABLE_STATE.WAIT,LogUtil.debug(d,"Table State "+this.table.state+" When Join Room"),this.table.state==TABLE_STATE.READY?(LogUtil.debug(d,"Table Is Ready When Join Room"),this.onRoundReady(e,t)):this.table.state==TABLE_STATE.START?(LogUtil.debug(d,"Table Is Start When Join Room"),this.onRoundStart(e,t)):this.table.state==TABLE_STATE.RUNNING&&(LogUtil.debug(d,"Table Is Running When Join Room"),this.onRoundRunning(e,t))},onTableSet:function(e,t){this.actionPool.removeAll();var i=this.node.addComponent(M);this.actionPool.runAction(i)},onTableRefresh:function(e,t){if(this.actionPool.removeAll(),n.getCurTable()){switch(this.initTable(!0),this.table.state){case TABLE_STATE.WAIT:this.state=UI_TABLE_STATE.WAIT;break;case TABLE_STATE.READY:this.state=UI_TABLE_STATE.READY;break;case TABLE_STATE.START:case TABLE_STATE.RUNNING:this.state=UI_TABLE_STATE.RUNNING;break;case TABLE_STATE.FINISH:this.state=UI_TABLE_STATE.FINISH}var i=this.node.addComponent(M);this.actionPool.runAction(i),i=this.node.addComponent(N),this.actionPool.runAction(i)}},onDealCard:function(e,t){this.state==UI_TABLE_STATE.DEAL&&(LogUtil.info(d,"Seat : "+e+" Get Card "+t),this.arrSeat[e].sortCard(t))},onUserEnterRoom:function(e,t){if(n.getCurPlayer().role){var i=t.user.playerId;if(null!=this.getSeatWithPlayerId(i)){this.onUserSitDown(e,t);for(var a=0;a<this.arrSeat.length;a++)this.arrSeat[a].onOtherSitDown(),this.arrSeat[a].updateGameCrown()}else this.onWatcherEnterRoom(e,t)}},onWatcherEnterRoom:function(e,t){},onUserExitRoom:function(e,t){if(this.dealer.onUserExitRoom(e,t),t.user.isItMe)return this.node.stopAllActions(),void n.removeListenerWithTarget(this);if(n.getCurPlayer().role){0==this.table.getSitUserCount()&&this.dealer.noPlayerOnTable();var i=t.user.name,a=this.getSeatWithUserId(i);a&&a.onUserStandUp();for(var o=0;o<this.arrSeat.length;o++)this.arrSeat[o].onOtherStandUp(),this.arrSeat[o].updateGameCrown();this.state==UI_TABLE_STATE.READY&&this.table.getSitUserCount()<2&&(this.state,UI_TABLE_STATE.WAIT)}},onUserSitDown:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role&&!(t.user.playerId<0))if(this.updateLowTipsLabel(),this.chatButton.active=!n.getCurPlayer().role.isWatcher(),this.dealer.onUserSitDown(e,t),t.user.isItMe){LogUtil.info(d,"Player Self Sit Down or Change Seat!"),this.tableLowBar.active=!0,this.updateLowTipsLabel(),this.onTableInit();for(var i=0;i<this.arrSeat.length;i++)this.arrSeat[i].updateGameCrown()}else{var a=this.node.addComponent(C);this.actionPool.runAction(a,e,t);for(i=0;i<this.arrSeat.length;i++)this.arrSeat[i].onOtherSitDown(),this.arrSeat[i].updateGameCrown()}},onUserStandUp:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role){this.updateLowTipsLabel();var i=t.user.name,a=this.getSeatWithUserId(i);a||LogUtil.err(d,"Can not found the stand up user"),a&&a.onUserStandUp(),a&&a.clearSeat(),this.chatButton.active=!n.getCurPlayer().role.isWatcher(),this.dealer.onUserStandUp(e,t),a&&0!=a.seatId&&this.state==UI_TABLE_STATE.RUNNING&&this.arrSeat[0].onOtherUpdate(),0==this.table.getSitUserCount()&&this.dealer.noPlayerOnTable(),this.state==UI_TABLE_STATE.READY&&this.table.getSitUserCount()<2&&(this.state,UI_TABLE_STATE.WAIT),n.getCurPlayer().role&&n.getCurPlayer().role.isWatcher()&&(this.arrSeat[0].node.active=!1,this.arrSeat[1].node.active=!0);for(var o=0;o<this.arrSeat.length;o++){var s=this.arrSeat[o];s.onOtherStandUp(),s.updateGameCrown()}n.getCurPlayer().role&&n.getCurPlayer().role.isWatcher()&&(this.tableLowBar.active=!0,this.updateLowTipsLabel())}},onAnimAwardsArriveSeat:function(){},onUserUpdate:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role){var i=t.user.playerId,a=this.getSeatWithPlayerId(i);a&&a.onUserUpdate(e,t)}},onRoundReady:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role){LogUtil.info(d,"Round Ready! "+(t?t.roundID:"")),this.state=UI_TABLE_STATE.READY,this.dealer.onRoundReady(e,t),this.actionCache.onRoundReady();for(var i=0;i<this.arrSeat.length;i++)this.arrSeat[i].onRoundReady();this.actionPool.removeAll()}},onRoundStart:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role&&t&&t.roundID==this.table.roundID){LogUtil.info(d,"Round Start!"+(t?t.roundID:"")),this.state=UI_TABLE_STATE.START,this.dealer.onRoundStart(e,t);var i=this.getSeatWithPlayerId(this.table.bankerID);i&&i.setBanker(!0),this.tableLowBar.active=n.getCurPlayer().role.isWatcher(),this.onRoundCollectBoot(e,t)}},onRoundCollectBoot:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role&&t.roundID==this.table.roundID){LogUtil.info(d,"Round Collect Boot Stake! "+(t?t.roundID:"")),this.state=UI_TABLE_STATE.COLLECT;for(var i=0;i<this.arrSeat.length;i++)this.arrSeat[i].onRoundStart();var a=this.node.addComponent(f);this.actionPool.runAction(a,e,t)}},onRoundDealCard:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role&&t.roundID==this.table.roundID){LogUtil.info(d,"Round Start Deal Card! "+(t?t.roundID:"")),this.state=UI_TABLE_STATE.DEAL;for(var i=0;i<this.arrSeat.length;i++)this.arrSeat[i].sortCard(0);var a=this.node.addComponent(b);this.actionPool.runAction(a,e,t)}},onRoundRunning:function(e,t){n.getCurPlayer()&&n.getCurPlayer().role&&(t&&t.roundID!=this.table.roundID||(LogUtil.info(d,"Round Running! "+(t?t.roundID:"")),this.state=UI_TABLE_STATE.RUNNING,this.dealer.onRoundRunning(),this.onRoundNext(e,t)))},onRoundDealFinish:function(e,t){LogUtil.info(d,"Round Deal Finish!"),this.state=UI_TABLE_STATE.RUNNING},onRoundNext:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role&&(!t||t.roundID==this.table.roundID)){var i=this.node.addComponent(I);this.actionPool.runAction(i,e,t);var a=this.getSeatWithPlayerId(this.table.bankerID);a&&a.setBanker(!0)}},onRoundAwards:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role&&t.roundID==this.table.roundID){n.gameCore.dataAnalysisMng.sendData(c.SHOW_RESULT_CLIENT,n.gameCore.dataAnalysisMng.gameBaseData);var i=n.getCurPlayer();for(var a in t.playerId)i.role.playerId==t.playerId[a]&&n.gameCore.dataAnalysisMng.sendData(c.SHOW_RESULT_CHIPS,n.gameCore.dataAnalysisMng.gameBaseData);LogUtil.debug(d,"onRoundAwards--onUserSilent");for(var o=0;o<this.arrSeat.length;o++)this.arrSeat[o].onUserSilent();if(this.table.bIsUserPack){var s=!1;for(o=0;o<this.table.arrAwardID.length;o++){var r=this.getSeatWithPlayerId(this.table.arrAwardID[o]);if(r&&0==r.seatId&&r.tpUser&&!r.tpUser.role.isCardSeen()){this.sendMsgSee(!1),s=!0;break}}(l=this.node.addComponent(E)).bWaitShow=s,this.actionPool.runAction(l,e,t)}var l=this.node.addComponent(U);this.actionPool.runAction(l,e,t)}},sendMsgSee:function(e){n.sendMsg("see",{i:e})},onRoundFinish:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role&&t.roundID==this.table.roundID){var i=this.node.addComponent(w);this.actionPool.runAction(i,e,t)}},onRoundAwardsFinish:function(){for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].updateGameCrown();this.dealer.onRoundAwardsFinish()},onAnimResetFinish:function(){this.dealer.onAnimResetFinish()},onUserAction:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role&&t.roundID==this.table.roundID){var i=null;t.action==USER_ACTION.BET?i=this.node.addComponent(_):t.action==USER_ACTION.SHOW?(this.centerSeat.controlBar.onShow(),i=this.node.addComponent(P)):t.action==USER_ACTION.SIDE_SHOW?i=this.node.addComponent(T):t.action==USER_ACTION.PACK?i=this.node.addComponent(S):t.action==USER_ACTION.SEEN&&(i=this.node.addComponent(R)),i&&this.actionPool.runAction(i,e,t)}},onSelfSee:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role&&t.roundID==this.table.roundID){var i=this.node.addComponent(v);this.actionPool.runAction(i,e,t)}},onSelfSeeFinish:function(e,t){n.getCurPlayer()&&n.getCurPlayer().role&&(t.roundID,this.table.roundID)},onUserShow:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role&&t.roundID==this.table.roundID){var i=this.node.addComponent(B);if(this.table.bPotLimit?i=this.node.addComponent(D):this.table.isRoundOver()||(i=this.node.addComponent(L),n.getCurPlayer().role.playerId!=n.getCurTable().arrWinerID[0]&&n.getCurPlayer().role.playerId!=n.getCurTable().arrLoserID[0]&&(i=this.node.addComponent(y)),n.getCurTable().clearWinerLoserID()),this.actionPool.runAction(i,e,t),this.table.bPotLimit&&this.table.isRoundOver()&&(i=this.node.addComponent(B),this.actionPool.runAction(i,e,t)),this.table.isRoundOver()){LogUtil.debug(d,"onUserShow--onUserSilent");for(var a=0;a<this.arrSeat.length;a++)this.arrSeat[a]&&this.arrSeat[a].onUserSilent()}}},onSideShowFinish:function(e,t){var i=this.node.addComponent(A);this.actionPool.runAction(i,e,t)},onShowFinish:function(e,t){this.state=UI_TABLE_STATE.SHOW;var i=this.node.addComponent(E);this.actionPool.runAction(i,e,t)},onResultFinish:function(e,t){this.state=UI_TABLE_STATE.RESULT},onAwardsFinish:function(e,t){this.state=UI_TABLE_STATE.FINISH;for(var i=0;i<this.arrSeat.length;i++)this.arrSeat[i].updateGameCrown();this.gameCore.gameMng.judgeBroken()},onExpFinish:function(e,t){this.state=UI_TABLE_STATE.WAIT;var i=this.node.addComponent(k);this.actionPool.runAction(i,e,t)},onUserActionFinish:function(){},onMessageReceive:function(e,t){if(n.getCurPlayer()&&n.getCurPlayer().role){var i=this.node.addComponent(g);i.pfbMsg=this.pfbMsg,this.actionPool.runAction(i,e,t)}},giftScale:function(e,t){return 0==e||22!=t&&23!=t&&24!=t&&26!=t&&28!=t?this._super(e,t):.6}}),cc._RF.pop()},{AK47Room:"AK47Room",ActionPool:"ActionPool",BaseSeat:"BaseSeat",BaseTable:"BaseTable",BaseTableController:"BaseTableController",BaseUI:"BaseUI",BetBootAction:"BetBootAction",CenterSeat:"CenterSeat",ClassicRoom:"ClassicRoom",Command:"Command",DataAnalysisKey:"DataAnalysisKey",DealCardAction:"DealCardAction",HukamRoom:"HukamRoom",ITeenPatti:"ITeenPatti",JokerRoom:"JokerRoom",LanguageData:"LanguageData",MessageAction:"MessageAction",MuflisRoom:"MuflisRoom",NoLimitRoom:"NoLimitRoom",PotBlindRoom:"PotBlindRoom",PotLimitBar:"PotLimitBar",SeatPlaceAction:"SeatPlaceAction",TableActionCache:"TableActionCache",TableDealer:"TableDealer",TablePotLimitAction:"TablePotLimitAction",TableRefreshAction:"TableRefreshAction",TableResetAction:"TableResetAction",TableSetAction:"TableSetAction",TableShowAwardsAction:"TableShowAwardsAction",TableShowResultAction:"TableShowResultAction",UIInfo:"UIInfo",UserBetAction:"UserBetAction",UserBetShowAction:"UserBetShowAction",UserBetSideAction:"UserBetSideAction",UserExpAction:"UserExpAction",UserNextAction:"UserNextAction",UserPackAction:"UserPackAction",UserRoomEnterAction:"UserRoomEnterAction",UserRoomExitAction:"UserRoomExitAction",UserSeeCardAction:"UserSeeCardAction",UserSeenAction:"UserSeenAction",UserShowCardAction:"UserShowCardAction",UserSidePackAction:"UserSidePackAction",UserSideResultAction:"UserSideResultAction",UserSideShowAction:"UserSideShowAction",UserSitDownAction:"UserSitDownAction",UserStandUpAction:"UserStandUpAction"}],TableDealerABPVPGold:[function(e,t,i){"use strict";cc._RF.push(t,"5aef9PivTNOY6Ii4cDFZcV5","TableDealerABPVPGold");e("Command"),e("GameUtils"),e("TeenPattiUser"),e("FacebookIcon");var n=e("TableDealerABPVP");e("UIInfo"),e("LanguageData");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},initComplete:function(){this._super()},getBalanceVarKey:function(){return"gold"}}),cc._RF.pop()},{Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TableDealerABPVP:"TableDealerABPVP",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],TableDealerABPVP:[function(e,t,i){"use strict";cc._RF.push(t,"1fdd0N9L5tBFbkQtKeY+y1u","TableDealerABPVP");var n=e("Command"),a=e("GameUtils"),o=e("TeenPattiUser"),s=e("FacebookIcon"),r=e("TableDealerAB"),l=e("UIInfo"),c=e("LanguageData");cc.Class({extends:r,properties:{tableController:{get:function(){return this._tableController},set:function(e){this._tableController=e,this.updateBankerState()}},disbandingTip:cc.Node,banker:cc.Node,bankerNameLabel:cc.Label,bankerMark:cc.Node,balanceBar:cc.Node,balanceLabel:cc.Label,balanceBuyBtn:cc.Node,bankerBalanceBar:cc.Node,bankerWinsLabel:cc.Label,btnGift:cc.Node,bankerIcon:s,objGiftSender:cc.Node,objGiftReceiver:cc.Node,betPool:cc.Node,andarTotalBetLabel:cc.Label,baharTotaleBetLabel:cc.Label},onLoad:function(){this._super(),this.seatId=100,this.disbandingTip.active=!1,this.balanceLabel.string="",this.bankerWinsLabel.string=""},initComplete:function(){this._super(),this.refreshBankerInfo(),ITeenPatti.addListener(n.SERVER_CMD_USER_UPDATE,this,this.onUserUpdate),this.gameCore.uiMng.addListener(n.SERVER_CMD_PVP_DISBAND,this,this.onDisband)},dealBegin:function(){this.dealing=!0},dealEnd:function(){this.dealing=!1},getBalanceVarKey:function(){return"cp"},onUserUpdate:function(e,t){var i=ITeenPatti.getCurTable();if(i&&t&&t.user.name==i.playerBankerID&&t.changedVars)for(var n in t.changedVars)t.changedVars[n]!=this.getBalanceVarKey()||this.dealing||(this.balanceLabel.string=c.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(t.user.variables[this.getBalanceVarKey()].value)}))},updateBalance:function(){this.balanceLabel.string=c.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.table.playerBankerChips)}),this.bankerWinsLabel.node.color=this.table.playerBankerWins>=0?new cc.Color(255,255,255):new cc.Color(255,0,0),this.bankerWinsLabel.string=c.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.table.playerBankerWins)})},onDisband:function(e){this.disbandingTip.active=!e.errorcode},refreshBankerInfo:function(){if(this.table){this.bankerNameLabel.string=this.table.playerBankerName;var e=new o;e.tpProfile.strTPID=this.table.playerBankerID,e.tpProfile.strIconID=this.table.playerBankerIcon,e.fbProfile.strFBID=this.table.playerBankerFacebookID,this.bankerIcon.initWithTeenPattiUser(e),this.updateBalance()}},setBtnTipsActive:function(e){},onTableDealerLoad:function(){this.table=ITeenPatti.getCurTable()},onStartTime:function(e){this._super(e),this.updateBetPool(),this.updateBalance()},onStartAB:function(e){this._super(e),this.updateBetPool()},onABJIS:function(e){this._super(e),this.updateBetPool()},onBet:function(e){this.updateBetPool()},updateBetPool:function(){this.andarTotalBetLabel.string=c.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.tableController.getTotalAndarAmount())}),this.baharTotaleBetLabel.string=c.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.tableController.getTotalBaharAmount())})},updateBankerState:function(){this.betPool.active=this.tableController.isBanker(),this.updateBetPool(),this.tableController.isBanker()||(this.balanceBuyBtn.active=!1,this.bankerNameLabel.node.active=!0,this.banker.scale=.72,this.banker.y=4,this.bankerMark.y=100,this.bankerMark.scale=1.389,this.objGiftSender.y=-26,this.objGiftReceiver.y=4,this.balanceBar.setPosition(cc.v2(-207,6)),this.bankerBalanceBar.setPosition(cc.v2(207,6)),this.disbandingTip.setPosition(cc.v2(207,49)),this.btnGift.setPosition(cc.v2(68,-37)),this.gameCore.userMng.myself.role.isWatcher()&&this.updateGiftBtnActive(!1))},onHeadClk:function(){this.table&&(this.gameCore.uiMng.addListener(n.SERVER_CMD_PROFILE,this,this.onUserProfileGet),ITeenPatti.sendMsg(n.SERVER_CMD_PROFILE,{i:parseInt(this.table.playerBankerID)}))},onUserProfileGet:function(e,t){this.gameCore&&this.gameCore.uiMng&&(this.gameCore.uiMng.removeListener(n.SERVER_CMD_PROFILE,this,this.onUserProfileGet),t.errorcode||this.gameCore.uiMng.openUI(this.gameCore.uiMng.inGamePlayerInfoUIData,function(e){e&&e.initWithMsgGetUserInfo(t)}))},onBtnGiftClicked:function(){this.gameCore.uiMng.openUI(l.GIFTS,handler(this,function(e){e&&this.table&&e.setReceiverID(this.table.playerBankerID)}))},onUserStandUp:function(e,t){t.user.isItMe&&this.updateGiftBtnActive(!1)},onUserSitDown:function(e,t){t.user.isItMe&&this.updateGiftBtnActive(!0)},getGiftSendPostion:function(e,t){return this.node.convertToWorldSpaceAR(this.objGiftSender.getPosition())},getGiftReceivePostion:function(e,t){return 12==t||15==t||23==t?this.node.convertToWorldSpaceAR(this.tableController.isBanker()?cc.v2(0,-422):cc.v2(0,0)):19==t?this.node.convertToWorldSpaceAR(this.tableController.isBanker()?cc.v2(-60,-452):cc.v2(-50,-20)):20==t?this.node.convertToWorldSpaceAR(this.tableController.isBanker()?cc.v2(0,-411):cc.v2(0,11)):25==t||27==t?this.node.convertToWorldSpaceAR(this.btnGift.getPosition().add(cc.v2(20,20))):5!=t||this.tableController.isBanker()?this.node.convertToWorldSpaceAR(this.btnGift.getPosition()):this.node.convertToWorldSpaceAR(this.btnGift.getPosition().add(cc.v2(-10,10)))},updateGiftBtnActive:function(e){this.btnGift.active=e},onGiftAccept:function(e){for(var t=0;t<e.length;t++){var i=e[t].getComponent("ReceiveGift");i.setClickCb(handler(this.partner?this.partner:this,this.partner?this.partner.onBtnGiftClicked:this.onBtnGiftClicked)),t==e.length-1&&i.setFinishCb(handler(this,this.giftFinishCb)),e[t].runAction(cc.sequence(cc.toggleVisibility(),cc.delayTime(.3*t),cc.toggleVisibility(),cc.callFunc(function(e){e.active=!0,e.isValid&&e.getComponent("ReceiveGift").startSent()},this)))}if(this.objGift)for(t=0;t<this.objGift.length;t++)this.objGift[t].stopAllActions(),this.objGift[t].removeFromParent();this.objGift=e,this.updateGiftBtnActive(!1)},giftFinishCb:function(){this.objGift=null,this.updateGiftBtnActive(!0)},onUserExitRoom:function(e,t){}}),cc._RF.pop()},{Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TableDealerAB:"TableDealerAB",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],TableDealerAB:[function(e,t,i){"use strict";cc._RF.push(t,"738351r0o9MPLotzQUzsm3D","TableDealerAB");e("Command");var n=e("CardFrameCache"),a=e("TableDealer"),o=e("ABCenterSeat");cc.Class({extends:a,properties:{cardFrameCache:n,centerSeat:o},onLoad:function(){this._super()},initComplete:function(){this._super()},onEnterForeground:function(){this._super(),this.node.stopAllActions()},onTableDealerLoad:function(){this.table=ITeenPatti.getCurTable(),this.btnTips.node.active=!ITeenPatti.getCurPlayer().role.isWatcher(),ITeenPatti.addListener("tip",this,this.onTipSuccess)},initDealer:function(){},onBtnSendTip:function(){this.centerSeat.needUpdateChips=!1,this._super()},onStartAB:function(e){},onStartTime:function(e){},onBet:function(e){},dealBegin:function(){},dealEnd:function(){},onABJIS:function(e){}}),cc._RF.pop()},{ABCenterSeat:"ABCenterSeat",CardFrameCache:"CardFrameCache",Command:"Command",TableDealer:"TableDealer"}],TableDealerCasinoWarPVPGold:[function(e,t,i){"use strict";cc._RF.push(t,"5cf4c88G3FLa4rCogADQf5B","TableDealerCasinoWarPVPGold");var n=e("TableDealerCasinoWarPVP");cc.Class({extends:n,properties:{},getBalanceVarKey:function(){return"gold"}}),cc._RF.pop()},{TableDealerCasinoWarPVP:"TableDealerCasinoWarPVP"}],TableDealerCasinoWarPVP:[function(e,t,i){"use strict";cc._RF.push(t,"428adghc1tAEJyNa371csOw","TableDealerCasinoWarPVP");var n=e("Command"),a=e("GameUtils"),o=e("TeenPattiUser"),s=e("FacebookIcon"),r=e("TableDealerCasinoWar"),l=e("UIInfo"),c=e("LanguageData");cc.Class({extends:r,properties:{tableController:{get:function(){return this._tableController},set:function(e){this._tableController=e,this.updateBankerState()},override:!0},cardsDeal:cc.Node,disbandingTip:cc.Node,banker:cc.Node,bankerNameLabel:cc.Label,bankerMark:cc.Node,balanceBar:cc.Node,balanceLabel:cc.Label,balanceBuyBtn:cc.Node,bankerBalanceBar:cc.Node,bankerWinsLabel:cc.Label,btnGift:cc.Node,bankerIcon:s,objGiftSender:cc.Node,objGiftReceiver:cc.Node},onLoad:function(){this._super(),this.seatId=100,this.disbandingTip.active=!1,this.balanceLabel.string="",this.bankerWinsLabel.string=""},initComplete:function(){this._super(),this.refreshBankerInfo(),ITeenPatti.addListener(n.SERVER_CMD_USER_UPDATE,this,this.onUserUpdate),this.gameCore.uiMng.addListener(n.SERVER_CMD_PVP_DISBAND,this,this.onDisband)},dealBegin:function(){this.dealing=!0},dealEnd:function(){this.dealing=!1},playDealAnima:function(){this.commonCard.node.getComponent(cc.Animation).play(this.tableController.isBanker()?"cws_anim_dealer_card_to_common1":"cws_anim_dealer_card_to_common")},getBalanceVarKey:function(){return"cp"},onUserUpdate:function(e,t){var i=ITeenPatti.getCurTable();if(i&&t&&t.user.name==i.playerBankerID&&t.changedVars)for(var n in t.changedVars)t.changedVars[n]!=this.getBalanceVarKey()||this.dealing||(this.balanceLabel.string=c.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(t.user.variables[this.getBalanceVarKey()].value)}))},updateBalance:function(){this.balanceLabel.string=c.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.table.playerBankerChips)}),this.bankerWinsLabel.node.color=this.table.playerBankerWins>=0?new cc.Color(255,255,255):new cc.Color(255,0,0),this.bankerWinsLabel.string=c.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.table.playerBankerWins)})},onDisband:function(e){this.disbandingTip.active=!e.errorcode},refreshBankerInfo:function(){if(this.table){this.bankerNameLabel.string=this.table.playerBankerName;var e=new o;e.tpProfile.strTPID=this.table.playerBankerID,e.tpProfile.strIconID=this.table.playerBankerIcon,e.fbProfile.strFBID=this.table.playerBankerFacebookID,this.bankerIcon.initWithTeenPattiUser(e),this.updateBalance()}},setBtnTipsActive:function(e){},onTableDealerLoad:function(){this.table=ITeenPatti.getCurTable(),this.commonCard.node.active=!1},onStartTime:function(e){this._super(e),this.updateBetPool(),this.updateBalance()},onStartWar:function(e){this._super(e),this.updateBetPool()},onBet:function(e){this.updateBetPool()},updateBetPool:function(){},updateBankerState:function(){this.updateBetPool(),this.tableController.isBanker()||(this.balanceBuyBtn.active=!1,this.bankerNameLabel.node.active=!0,this.banker.scale=.72,this.banker.y=4,this.bankerMark.y=100,this.bankerMark.scale=1.389,this.objGiftSender.y=-26,this.objGiftReceiver.y=4,this.commonCard.node.setPosition(-12,-138),this.cardsDeal.setPosition(-97,-115.4),this.balanceBar.setPosition(cc.v2(-207,6)),this.bankerBalanceBar.setPosition(cc.v2(207,6)),this.disbandingTip.setPosition(cc.v2(207,49)),this.btnGift.setPosition(cc.v2(68,-37)),this.gameCore.userMng.myself.role.isWatcher()&&this.updateGiftBtnActive(!1))},onHeadClk:function(){this.table&&(this.gameCore.uiMng.addListener(n.SERVER_CMD_PROFILE,this,this.onUserProfileGet),ITeenPatti.sendMsg(n.SERVER_CMD_PROFILE,{i:parseInt(this.table.playerBankerID)}))},onUserProfileGet:function(e,t){this.gameCore&&this.gameCore.uiMng&&(this.gameCore.uiMng.removeListener(n.SERVER_CMD_PROFILE,this,this.onUserProfileGet),t.errorcode||this.gameCore.uiMng.openUI(this.gameCore.uiMng.inGamePlayerInfoUIData,function(e){e&&e.initWithMsgGetUserInfo(t)}))},onBtnGiftClicked:function(){this.gameCore.uiMng.openUI(l.GIFTS,handler(this,function(e){e&&this.table&&e.setReceiverID(this.table.playerBankerID)}))},onUserStandUp:function(e,t){t.user.isItMe&&this.updateGiftBtnActive(!1)},onUserSitDown:function(e,t){t.user.isItMe&&this.updateGiftBtnActive(!0)},getGiftSendPostion:function(e,t){return this.node.convertToWorldSpaceAR(this.objGiftSender.getPosition())},getGiftReceivePostion:function(e,t){return 12==t||15==t||23==t?this.node.convertToWorldSpaceAR(this.tableController.isBanker()?cc.v2(0,-422):cc.v2(0,0)):19==t?this.node.convertToWorldSpaceAR(this.tableController.isBanker()?cc.v2(-60,-452):cc.v2(-50,-20)):20==t?this.node.convertToWorldSpaceAR(this.tableController.isBanker()?cc.v2(0,-411):cc.v2(0,11)):25==t||27==t?this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(30,30))):5!=t||this.tableController.isBanker()?this.node.convertToWorldSpaceAR(this.btnGift.getPosition()):this.node.convertToWorldSpaceAR(this.btnGift.getPosition().add(cc.v2(-10,10)))},updateGiftBtnActive:function(e){this.btnGift.active=e},onGiftAccept:function(e){for(var t=0;t<e.length;t++){var i=e[t].getComponent("ReceiveGift");i.setClickCb(handler(this.partner?this.partner:this,this.partner?this.partner.onBtnGiftClicked:this.onBtnGiftClicked)),t==e.length-1&&i.setFinishCb(handler(this,this.giftFinishCb)),e[t].runAction(cc.sequence(cc.toggleVisibility(),cc.delayTime(.3*t),cc.toggleVisibility(),cc.callFunc(function(e){e.active=!0,e.isValid&&e.getComponent("ReceiveGift").startSent()},this)))}if(this.objGift)for(t=0;t<this.objGift.length;t++)this.objGift[t].stopAllActions(),this.objGift[t].removeFromParent();this.objGift=e,this.updateGiftBtnActive(!1)},giftFinishCb:function(){this.objGift=null,this.updateGiftBtnActive(!0)},onUserExitRoom:function(e,t){}}),cc._RF.pop()},{Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TableDealerCasinoWar:"TableDealerCasinoWar",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],TableDealerCasinoWar:[function(e,t,i){"use strict";cc._RF.push(t,"f1258weeo5F3o9Hvtley5qV","TableDealerCasinoWar");e("Command");var n=e("TableDealer");cc.Class({extends:n,properties:{tableController:{get:function(){return this._tableController},set:function(e){this._tableController=e}},commonCardValue:-1},onLoad:function(){this._super()},initComplete:function(){this._super()},onEnterForeground:function(){this._super(),this.node.stopAllActions(),this.updateCard()},onTableDealerLoad:function(){this.table=ITeenPatti.getCurTable(),this.btnTips.node.active=!ITeenPatti.getCurPlayer().role.isWatcher(),this.dealerCache=cc.director.getScene().getChildByName("Canvas").getComponent("DealerCache"),this.commonCard.node.active=!1,ITeenPatti.addListener("tip",this,this.onTipSuccess),ITeenPatti.addListener("switchdealer",this,this.onSwitchDealer)},onStartWar:function(e){this.commonCard.node.active=!1},onStartTime:function(e){this.commonCard.node.active=!1,this.commonCardValue=-1},updateCard:function(){if(-1!=this.commonCardValue){var e=cc.director.getScene().getChildByName("Canvas").getComponent("CardFrameCache");this.commonCard.node.active=!0,this.commonCard.spriteFrame=e.getCardFrameWithID(this.commonCardValue)}else this.commonCard.node.active=!1},onAllCard:function(e,t){if(-1!=e.commonCard){for(var i in this.myCardValue=null,e.user)if(e.user[i].userId==this.gameCore.userMng.myself.strTPID){this.myCardValue=e.user[i].card;break}this.commonCardValue=e.commonCard,this.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){-1!=this.commonCardValue&&(this.updateCard(),this.playDealAnima(),this.gameCore.gameMng.playAudioEffect("deal"),(2==this.tableController.roomStatus&&this.myCardValue&&Math.floor(this.commonCardValue/4)!=Math.floor(this.myCardValue/4)||3==this.tableController.roomStatus)&&this.gameCore.userMng.pauseMissionCompleteRemind(!1))},this)))}},playDealAnima:function(){this.commonCard.node.getComponent(cc.Animation).play()},onCommonCardShowUp:function(){this.tableController.onCommonCardShowUp(),this.dealEnd()},onBtnSwitchDealer:function(){},dealBegin:function(){},dealEnd:function(){}}),cc._RF.pop()},{Command:"Command",TableDealer:"TableDealer"}],TableDealerTour:[function(e,t,i){"use strict";cc._RF.push(t,"b8bf8jXnkxACJFol+L/v1Y6","TableDealerTour");var n=e("TableDealer"),a=e("Command");cc.Class({extends:n,properties:{},dealerLoadAddListener:function(){ITeenPatti.addListener(a.SERVER_CMD_TOUR_START,this,this.onRoundStart),ITeenPatti.addListener(a.SERVER_CMD_TOUR_GAMBLE,this,this.onUserAction)},isChipsEnoughToSit:function(){return!0},shouldAutoStandUp:function(){return!1}}),cc._RF.pop()},{Command:"Command",TableDealer:"TableDealer"}],TableDealer:[function(e,t,i){"use strict";cc._RF.push(t,"c7ea8sFwrtGO6hrjazruDSI","TableDealer");var n=e("TablePoolBar"),a=e("TableHintBar"),o=e("UIInfo"),s=e("Command"),r=e("GameData"),l=e("DataAnalysisKey"),c=e("BaseTable"),h=e("GameUtils"),u=e("TableStakeCollector"),d=e("TableTipsCollector"),m=e("TablePokerBox"),g=e("DealerHintBar"),p=e("LanguageData"),C=e("ClassicRoom"),f=e("JokerRoom"),b=e("MuflisRoom"),I=e("HukamRoom"),_=e("AK47Room"),S=e("ABRoom"),P=e("PotBlindRoom"),T=e("BaseComponent");cc.Class({extends:T,properties:{curRoundID:0,table:c,tableCTR:T,imgDealer:cc.Sprite,btnTips:cc.Button,btnSwitch:cc.Button,hintBar:a,dealHint:g,pokerBox:m,tablePool:n,tipsCollector:d,stakeCollector:u,commonCard:cc.Sprite,commonCardNum:cc.Sprite,jokerNumberFrame:[cc.SpriteFrame],commonCards:[],dealerCache:{visible:!1,default:null}},onLoad:function(){this._super(),this.onTableDealerLoad()},setBtnTipsActive:function(e){this.btnTips.node.active=e},onTableDealerLoad:function(){this.table=ITeenPatti.getCurTable(),this.table&&(this.tableCTR=this.table.contrller,this.setBtnTipsActive(!ITeenPatti.getCurPlayer().role.isWatcher()),this.dealerCache=cc.director.getScene().getChildByName("Canvas").getComponent("DealerCache"),this.commonCard.node.active=!1,ITeenPatti.addListener("RoomUpdate",this,this.onRoomUpdate),ITeenPatti.addListener("tip",this,this.onTipSuccess),ITeenPatti.addListener("switchdealer",this,this.onSwitchDealer),this.dealerLoadAddListener())},dealerLoadAddListener:function(){ITeenPatti.addListener("start",this,this.onRoundStart),ITeenPatti.addListener("gamble",this,this.onUserAction)},initComplete:function(){this._super(),this.initDealer()},initDealer:function(){this.gameCore.uiMng.addListener(s.UI_CMD_SWITCHING_DEALER,this,this.onSwitchDealerClk);var e=ITeenPatti.getCurRoom();e&&(e.isTournament?1==e.profile.city?this.changeDealerSpriteFrame(15):2==e.profile.city?this.changeDealerSpriteFrame(16):3==e.profile.city?this.changeDealerSpriteFrame(17):4==e.profile.city&&this.changeDealerSpriteFrame(18):e.isNoLimit?this.changeDealerSpriteFrame(11):e.isDeluxe?this.changeDealerSpriteFrame(10):this.gameCore.gameMng.isPrivateRoom()?this.changeDealerSpriteFrame(4):e instanceof P?this.changeDealerSpriteFrame(11):e instanceof C?this.changeDealerSpriteFrame(1):e instanceof f||e instanceof b||e instanceof I?this.changeDealerSpriteFrame(2):e instanceof _?this.changeDealerSpriteFrame(12):e instanceof S&&this.changeDealerSpriteFrame(13))},onDestroy:function(){ITeenPatti.removeListenerWithTarget(this)},onSwitchDealerClk:function(){this.showNetworkDelayLoading()},showDelayLoading:function(){this.btnSwitch.interactable=!1,this._super(cc.v2(0,20),this.btnSwitch.node,.7)},clearTable:function(){},isStakeCollecting:function(){return this.TableStakeCollector.isStakeCollecting()},onBtnSwitchDealer:function(){this.gameCore.uiMng.openUI(o.SWITCH_DEALER_POPUP)},getBalance:function(){return ITeenPatti.getCurPlayer().nChips},onBtnSendTip:function(){var e=ITeenPatti.getCurPlayer();if(e&&e.role&&ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile){var t=this.getBalance();if(ITeenPatti.getCurRoom().profile.nBootAmount>t)return this.gameCore.gameMng.hasEnoughChips2(ITeenPatti.getCurRoom().profile.nBootAmount),void this.gameCore.dataAnalysisMng.sendData(l.POPUP_CHIPSOUT_TIPS,this.gameCore.dataAnalysisMng.gameBaseData);this.gameCore.dataAnalysisMng.sendData(l.CLICK_DEALER_TIPS,this.gameCore.dataAnalysisMng.gameBaseData),this.tipsAmount=ITeenPatti.getCurRoom().profile.tipAmount,ITeenPatti.sendMsg("tip",{i:this.tipsAmount})}},collectBoot:function(e,t,i,n){var a=this;this.stakeCollector.setPoolUpdateCb(function(e,t){a.tablePool.onStakeCollected(i)}),this.stakeCollector.collectStake(e,t,i,n)},collectStake:function(e,t,i,n){var a=this;this.stakeCollector.setPoolUpdateCb(function(e,t){a.tablePool.onStakeCollected(t)}),this.stakeCollector.collectStake(e,t,i,n)},sendAwardsToSeat:function(e,t){this.tablePool.sendAwardToSeat(e,t)},startDealCard:function(e,t,i){this.pokerBox.startDealCard(e,t,i)},onRoomUpdate:function(e,t){this.tablePool.onRoomUpdate(e,t)},onRoundRefresh:function(e,t){this.tablePool.onRoundRefresh(e,t),this.commonCard.node.active=!1,this.table.arrComCardID.length>0&&(this.commonCards=this.table.arrComCardID,this.commonCard.node.active=!0,this.commonCardNum.spriteFrame=this.jokerNumberFrame[this.commonCards[0]])},onUserExitRoom:function(e,t){t.user.isItMe&&ITeenPatti.removeListenerWithTarget(this)},onUserStandUp:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().getUserWithUserID(t.user.name);i&&this.dealHint&&this.dealHint.addHint(p.t("label_text.sit_then_stand",{name:h.formatName(i.getTeenPattiProfile().strTPName)})),this.setBtnTipsActive(!ITeenPatti.getCurPlayer().role.isWatcher()),this.table.getSitUserCount()<2&&this.tableCTR.state==UI_TABLE_STATE.READY&&this.hintBar.clearHint()}},onUserSitDown:function(e,t){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=ITeenPatti.getCurTable().getUserWithUserID(t.user.name);i&&this.dealHint&&this.dealHint.addHint(p.t("label_text.join_game",{name:h.formatName(i.getTeenPattiProfile().strTPName)})),this.setBtnTipsActive(!ITeenPatti.getCurPlayer().role.isWatcher())}},isChipsEnoughToSit:function(){ITeenPatti.getCurPlayer();var e=ITeenPatti.getCurRoom().profile.nCompareChaalLimit;return this.getBalance()>=.25*e},shouldAutoStandUp:function(){var e=ITeenPatti.getCurPlayer();return e&&e.role&&!e.role.isWatcher()&&!this.isChipsEnoughToSit()},onRoundReady:function(e,t){if(this.hintBar.clearHint(),this.commonCard.node.active=!1,this.tablePool.onRoundReady(e,t),ITeenPatti.getCurTable().cdTime<2){ITeenPatti.getCurPlayer();var i=ITeenPatti.getCurRoom().profile.nCompareChaalLimit;if(this.shouldAutoStandUp()){var n=ITeenPatti.gameCore.uiMng.getUIByUIKey(o.GAME_SCENE.name);n&&ITeenPatti.removeListener("UserStandUp",n),ITeenPatti.sendMsg("standup",null),ITeenPatti.gameCore.gameMng.hasEnoughChips2(.25*i),ITeenPatti.gameCore.dataAnalysisMng.sendData(l.POPUP_CHIPSOUT_GAMEEND,this.gameCore.dataAnalysisMng.gameBaseData)}this.hintBar.addHint(p.t("label_text.starting_game"),1),ITeenPatti.gameCore.dataAnalysisMng.sendData(l.START_GAME,this.gameCore.dataAnalysisMng.gameBaseData)}else for(var a=ITeenPatti.getCurTable(),s=0;s<a.cdTime;s++)this.hintBar.addHint(p.t("label_text.game_starting",{time:a.cdTime-s}),1,a.cdStart+1e3*s)},onRoundStart:function(e,t){this.hintBar.clearHint(),this.hintBar.addHint(p.t("label_text.collecting_boot")),ITeenPatti.gameCore.dataAnalysisMng.sendData(l.COLLECT_BOOT_CLIENT,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData),this.commonCards=this.table.arrComCardID},onRoundRunning:function(){this.commonCards.length>0&&(this.commonCard.node.active=!0,this.commonCardNum.spriteFrame=this.jokerNumberFrame[this.commonCards[0]])},onUserAction:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().getUserWithPlayerID(t.playerId);if(i&&i.role){var n=cutString(i.strTPName);if(t.action==USER_ACTION.BET){var a=i.role.isCardSeen()?p.t("label_text.player_operation2",{name:h.formatName(n),chips:p.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(t.num)})}):p.t("label_text.player_operation3",{name:h.formatName(n),chips:p.t("label_text.chips_with_symbol",{number:h.formatNumberWithRules(t.num)})});this.hintBar.addHint(a,2)}else if(t.action==USER_ACTION.SIDE_SHOW){var o=ITeenPatti.getCurTable().getEarlyHandOfPlayer(t.playerId);if(!o||!o.role)return;var s=this.tableCTR.getDisplayNameWithPlayerId(o.role.playerId);this.hintBar.addHint(p.t("label_text.side_show_request",{name:h.formatName(n),name1:s}))}else t.action==USER_ACTION.SIDE_SHOW_ACCEPT||(t.action==USER_ACTION.SIDE_SHOW_REFUSE?this.hintBar.addHint(p.t("label_text.side_show_tip2",{name:h.formatName(n)})):t.action==USER_ACTION.PACK?this.hintBar.addHint(p.t("label_text.player_operation4",{name:h.formatName(n)})):(t.action,USER_ACTION.SEEN))}}},onUserSideShow:function(e,t){if(!(t&&t.errorcode||ITeenPatti.getCurTable().isRoundOver())){var i=ITeenPatti.getCurTable(),n=this.tableCTR.getDisplayNameWithPlayerId(i.arrWinerID[0]);this.hintBar.addHint(p.t("label_text.side_show_tip1",{name:h.formatName(n)}))}},onRoundResult:function(e,t){for(var i=ITeenPatti.getCurTable(),n=t.arrWinerID?t.arrWinerID:i.arrWinerID,a=0;a<n.length;a++){var o=n[a],s=this.tableCTR.getDisplayNameWithPlayerId(o);this.hintBar.addHint(p.t("label_text.won_game",{name:h.formatName(s)}))}},onRoundAwards:function(e,t){this.tablePool.onRoundAwards(e,t)},onRoundReset:function(){},onRoundAwardsFinish:function(){},onAnimResetFinish:function(){this.commonCard.node.active=!1},noPlayerOnTable:function(){this.commonCard.node.active=!1},onTipSuccess:function(e,t){var i=this.tableCTR.getSeatWithUserId(t.id);i&&this.tipsCollector.collectTips(i.seatId,t.chip)},onSwitchDealer:function(e,t){this.btnSwitch.interactable=!0,this.hideNetworkDelayLoading(),this.changeDealerSpriteFrame(t.i),this.dealHint&&this.dealHint.addHint(p.t("label_text.change_dealer_tip",{name:h.formatName(ITeenPatti.getCurPlayer().getTeenPattiProfile().strTPName),name1:r.arrDealerName[t.i-1]}))},changeDealerSpriteFrame:function(e){this.dealerCache.isDealerLoad(e)&&(this.table.dealerID=e,this.imgDealer.spriteFrame=this.dealerCache.getTableFrame(e))}}),cc._RF.pop()},{ABRoom:"ABRoom",AK47Room:"AK47Room",BaseComponent:"BaseComponent",BaseTable:"BaseTable",ClassicRoom:"ClassicRoom",Command:"Command",DataAnalysisKey:"DataAnalysisKey",DealerHintBar:"DealerHintBar",GameData:"GameData",GameUtils:"GameUtils",HukamRoom:"HukamRoom",JokerRoom:"JokerRoom",LanguageData:"LanguageData",MuflisRoom:"MuflisRoom",PotBlindRoom:"PotBlindRoom",TableHintBar:"TableHintBar",TablePokerBox:"TablePokerBox",TablePoolBar:"TablePoolBar",TableStakeCollector:"TableStakeCollector",TableTipsCollector:"TableTipsCollector",UIInfo:"UIInfo"}],TableFullPopUp:[function(e,t,i){"use strict";cc._RF.push(t,"5308dBIdo5IloNkNGAd78Fo","TableFullPopUp");var n=e("BaseUI"),a=(e("UIInfo"),e("Command")),o=e("DataAnalysisKey");cc.Class({extends:n,properties:{lblTitle:cc.Label,lblDesc:cc.Label,lblCancle:cc.Label,lblAccept:cc.Label,btnMask:cc.Button,pnlMask:cc.Node,pnlPopUp:cc.Node,roomName:{default:null,visible:!1}},onLoad:function(){this._super(),this.btnMask.node.active=!1,this.btnMask.interactable=!1,ITeenPatti.addListener(a.SERVER_CMD_ROOM_JOIN,this,handler(this,this.onRoomJoin))},initComplete:function(){this._super(),ITeenPatti.addListener(a.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_IN_ROOM,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_DELUXE,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_CASINO_WAR,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_AB,this,this.onPlayResponse),ITeenPatti.addListener(a.SERVER_CMD_PLAY_TEXAS_HOLDEM,this,this.onPlayResponse)},onPlayResponse:function(e,t){"error"==t.cmd&&this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo)},onDestroy:function(){this._super(),ITeenPatti.removeListenerWithTarget(this)},setShowText:function(e){this.lblDesc.string=e},onBtnCancelClicked:function(e){this.onBlackBgTouchEnd(e)},onBtnAcceptClicked:function(e){if(ITeenPatti.getCurRoom()){this.canClose=!1,this.lastRoom=ITeenPatti.getCurRoom(),this.lastRoomName=ITeenPatti.getCurRoom().roomName,this.btnMask.interactable=!0,this.btnMask.node.active=!0,this.pnlMask.active=!0,this.pnlPopUp.active=!1;var t=cc.director.getScene().getChildByName("Canvas").getComponent(this.gameCore.uiMng.curSceneKey);ITeenPatti.removeListener(a.SERVER_CMD_USER_EXIT_ROOM,t),ITeenPatti.addListener("UserExitRoom",this,this.onRoomExit),ITeenPatti.sendMsg("leaveroom",null),this.gameCore.dataAnalysisMng.sendData(o.CLICK_SWITCHTABLE_SWITCH,this.gameCore.dataAnalysisMng.gameBaseData),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)}},onRoomExit:function(e,t){t.user.isItMe&&(this.roomName?(this.gameCore.gameMng.isMeCreatedPrivateRoom=!1,ITeenPatti.sendMsg(a.SERVER_CMD_PLAY_IN_ROOM,{i:this.roomName}),this.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY_IN_ROOM,this.gameCore.userMng,this.gameCore.userMng.onPlayInRoom)):this.lastRoom&&this.lastRoom.isNoLimit?this.gameCore.userMng.play(a.SERVER_CMD_PLAY_NOLIMIT,ROOM_TYPE.NOLIMIT,!1,this.lastRoomName,this.lastRoom.profile.nBootAmount):this.lastRoom&&this.lastRoom.isDeluxe?this.gameCore.userMng.play(a.SERVER_CMD_PLAY_DELUXE,ITeenPatti.roomType,!1,this.lastRoomName):this.lastRoom&&this.lastRoom.isCasinoWar?this.gameCore.userMng.playCasinoWar(!1,this.lastRoomName):this.lastRoom&&this.lastRoom.isAB?this.gameCore.userMng.playAB(!1,this.lastRoomName):this.lastRoom&&this.lastRoom.roomType==ROOM_TYPE.TEXAS_HOLDEM?this.gameCore.userMng.playTexasHoldem(!1,this.lastRoomName):this.gameCore.userMng.play(a.SERVER_CMD_PLAY,ITeenPatti.roomType,!1,this.lastRoomName))},onRoomJoin:function(e,t){this.gameCore.gameMng.openGameScene(),this.gameCore.dataAnalysisMng.sendData(o.JOIN_TABLE_SUCCESS,this.gameCore.dataAnalysisMng.gameBaseData)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",UIInfo:"UIInfo"}],TableHintBarAB:[function(e,t,i){"use strict";cc._RF.push(t,"a06bbM7EjhM8Zy4gQFpd6+6","TableHintBarAB");var n=e("TableHintBar");cc.Class({extends:n,properties:{bgOriWidth:0},onLoad:function(){this.showHintBar(!1),this.bgOriWidth=this.imgHintBg.node.width},updateHintBgWidth:function(e){this.imgHintBg.node.width=e||this.bgOriWidth}}),cc._RF.pop()},{TableHintBar:"TableHintBar"}],TableHintBar:[function(e,t,i){"use strict";cc._RF.push(t,"e6b05HScqdNL6NC3hoWDlHv","TableHintBar"),cc.Class({extends:cc.Component,properties:{lblHint:cc.Label,imgHintBg:cc.Sprite,showTime:0,arrHintList:[]},onLoad:function(){var e=this;this.showHintBar(!1),this.lblHint.node.on("size-changed",function(t,i){e.imgHintBg.node.width=Math.max(e.lblHint.node.width+25,308)})},showHintBar:function(e){this.lblHint.node.active=e,this.imgHintBg.node.active=e},clearHint:function(){this.arrHintList=[]},addHint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!i&&this.arrHintList.length>0&&(this.arrHintList[this.arrHintList.length-1].duration=.5),this.arrHintList.push({text:e,start:i,duration:t,color:n,pos:a,bgWidth:o})},update:function(e){if(this.arrHintList.length<1)this.showHintBar(!1);else{var t=(new Date).getTime();if(this.arrHintList[0].start)return this.arrHintList[0].start+1e3*this.arrHintList[0].duration<=t?(this.arrHintList.splice(0,1),void(this.showTime=0)):this.arrHintList[0].start<t&&this.arrHintList[0].start+1e3*this.arrHintList[0].duration>t?(this.lblHint.string=this.arrHintList[0].text,this.arrHintList[0].color&&(this.lblHint.node.color=this.arrHintList[0].color),this.arrHintList[0].pos&&this.node.setPosition(this.arrHintList[0].pos.x,this.arrHintList[0].pos.y),this.updateHintBgWidth(this.arrHintList[0].bgWidth),void this.showHintBar(!0)):void 0;this.showTime+=e,this.showHintBar(!0),this.lblHint.string=this.arrHintList[0].text,this.showTime<this.arrHintList[0].duration||(this.showTime=0,this.arrHintList.splice(0,1))}},updateHintBgWidth:function(e){}}),cc._RF.pop()},{}],TablePokerBoxTour:[function(e,t,i){"use strict";cc._RF.push(t,"fc24fTtQBtCO770TTB+xHRZ","TablePokerBoxTour");var n=e("TablePokerBox");cc.Class({extends:n,properties:{},getCardScriptName:function(){return"TablePokerCardTour"}}),cc._RF.pop()},{TablePokerBox:"TablePokerBox"}],TablePokerBox:[function(e,t,i){"use strict";cc._RF.push(t,"a2999+NVW9B8IS903+3lHgS","TablePokerBox");var n=e("BaseComponent");cc.Class({extends:n,properties:{curRoundID:0,dealInterval:.3,arrPfbPokerCard:[cc.Prefab],imgCard:cc.Sprite},onLoad:function(){this.table=ITeenPatti.getCurTable(),this.tableCTR=this.table.contrller},update:function(e){if(!((new Date).getTime()<this.dealStart+1e3*this.dealInterval||null==this.curSeatID||this.arrDealCard[this.curSeatID]>=3)){for(var t=this.tableCTR.arrSeat[this.curSeatID];!t.tpUser||t.tpUser&&!this.table.isRoundPartner(t.tpUser.userId);){this.arrDealCard[this.curSeatID]+=1;var i=this.curSeatID;if(this.curSeatID=this.getNextDealSeat(this.curSeatID),null==this.curSeatID||this.arrDealCard[this.curSeatID]>=3)return this.enabled=!1,this.imgCard.node.active=!1,void(0==this.nDealCardCount&&this.onCardArriveSeat(i,3));t=this.tableCTR.arrSeat[this.curSeatID]}this.dealStart+=1e3*this.dealInterval,this.dealCardToSeat(this.curSeatID,this.arrDealCard[this.curSeatID]),this.curSeatID=this.getNextDealSeat(this.curSeatID),this.isDealComplete()&&(this.enabled=!1,this.imgCard.node.active=!1)}},isDealComplete:function(){return null==this.curSeatID||this.arrDealCard[this.curSeatID]>=3},startDealCard:function(e,t,i){this.enabled=!0,this.node.active=!0,this.hCardArriveCb=t,this.hDealFinishCb=i;ITeenPatti.getCurTable();this.curSeatID=e[0],this.arrDealSeat=e,this.dealStart=(new Date).getTime(),this.arrDealCard=[0,0,0,0,0,0],this.arrSortCard=[0,0,0,0,0,0],this.nDealCardCount=0,this.imgCard.node.active=!0},getCardScriptName:function(){return"TablePokerCard"},dealCardToSeat:function(e,t){this.nDealCardCount+=1,this.arrDealCard[e]+=1;var i=cc.instantiate(this.arrPfbPokerCard[e]);this.node.addChild(i);var n=i.getComponent(this.getCardScriptName());n.gameCore=this.gameCore,n.playAnimDeal(e,t,handler(this,this.onCardArriveSeat))},getNextDealSeat:function(e){for(var t=0;t<this.arrDealSeat.length;t++)if(e==this.arrDealSeat[t])return t>=this.arrDealSeat.length-1?this.arrDealSeat[0]:this.arrDealSeat[t+1];return null},isAllCardArriveSeat:function(){for(var e=0;e<this.arrDealSeat.length;e++){var t=this.arrDealSeat[e],i=this.tableCTR.arrSeat[t];if(i.tpUser&&this.table.isRoundPartner(i.tpUser.userId)&&this.arrSortCard[t]<3)return!1}return!0},onCardArriveSeat:function(e,t){ITeenPatti.getCurRoom()&&(this.arrSortCard[e]+=1,this.hCardArriveCb&&this.hCardArriveCb(e,this.arrSortCard[e]),this.isAllCardArriveSeat()&&(this.node.active=!1,this.hDealFinishCb&&this.hDealFinishCb(e)))}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],TablePokerCardTour:[function(e,t,i){"use strict";cc._RF.push(t,"e1206FomENPX4tusW4+IwSV","TablePokerCardTour");var n=e("TablePokerCard");cc.Class({extends:n,properties:{},getDealAnimNamePrefix:function(){return"gstour_anim_dealer_card_to_seat_"}}),cc._RF.pop()},{TablePokerCard:"TablePokerCard"}],TablePokerCard:[function(e,t,i){"use strict";cc._RF.push(t,"147c8eKNXBJ2pIdYmGbPLvn","TablePokerCard");var n=e("TableDealer"),a=e("BaseComponent"),o=e("AudioUtils");cc.Class({extends:a,properties:{imgCard:cc.Sprite,objSound:{type:cc.AudioClip,default:null},objDealer:n},onLoad:function(){},getDealAnimNamePrefix:function(){return"gs_anim_dealer_card_to_seat_"},playAnimDeal:function(e,t,i){if(ITeenPatti.getCurRoom()){var n=this;if(this.seatID=e,this.cardIndex=t,this.hFinishCb=i,0==t&&ITeenPatti.getCurRoom().roomType==ROOM_TYPE.JOKER){var a=cc.director.getScene().getChildByName("Canvas").getComponent("CardFrameCache");this.imgCard.spriteFrame=a.getJokerFrame()}this.node.getComponent(cc.Animation).playAdditive(this.getDealAnimNamePrefix()+e+"_"+t),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){n.objSound&&o.playEffect(n.objSound)})))}},onAnimDealFinish:function(e){this.node.removeFromParent(),ITeenPatti.getCurRoom()&&ITeenPatti.getCurTable().contrller&&this.hFinishCb&&this.hFinishCb(this.seatID,this.cardIndex)}}),cc._RF.pop()},{AudioUtils:"AudioUtils",BaseComponent:"BaseComponent",TableDealer:"TableDealer"}],TablePoolBar:[function(e,t,i){"use strict";cc._RF.push(t,"dafdbGWrexCfKWoAv9pk6Wj","TablePoolBar");var n=e("GameUtils"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{curPool:0,lblPool:cc.Label,pfbAward:cc.Prefab},onLoad:function(){this.curPool=ITeenPatti.getCurRoom().profile.nPool,this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)})},onDestroy:function(){ITeenPatti.removeListenerWithTarget(this)},onRoomUpdate:function(e,t){this.lblPool},onRoundReady:function(e,t){this.curPool=0,this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)})},onRoundRefresh:function(e,t){this.curPool=ITeenPatti.getCurRoom().profile.nPool,this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)})},onRoundAwards:function(e,t){if(t.num instanceof Object)for(var i in this.curPool=0,t.num)this.curPool+=t.num[i];else this.curPool=Object.keys(t.playerId).length*t.num;this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)})},onStakeCollected:function(e){this.curPool=e,this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)})},sendAwardToSeat:function(e,t){this.curPool-=t,this.lblPool.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.curPool)});var i=cc.instantiate(this.pfbAward);this.node.addChild(i);ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&ITeenPatti.getCurRoom().profile.commissionPercent;var o=i.getComponent("TableAwardsView");return o.gameCore=ITeenPatti.gameCore,o.playAnimAwards(e,t),o}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TablePotLimitAction:[function(e,t,i){"use strict";cc._RF.push(t,"0592aQMCJhHVoQvFJezfzZy","TablePotLimitAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){ITeenPatti.getCurTable();ITeenPatti.getCurTable().contrller.potLimitBar.onUserShow(this.strCmd,this.objData);var t=this;this.nActionID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.onFinish(e)})))},cancel:function(){},stop:function(){},onFinish:function(e){this.isValid&&ITeenPatti.onMsgReceived("potlimitfinish",this.objData),this.isValid&&this.node.emit("potlimitfinish",this.objData),e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],TableRefreshAction:[function(e,t,i){"use strict";cc._RF.push(t,"26b2fHm3RRBYrV8iRlBqyoA","TableRefreshAction");cc.Class({extends:cc.Component,properties:{},play:function(e){var t=this,i=ITeenPatti.getCurTable();ITeenPatti.getCurTable().contrller;this.node.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(){i.state==TABLE_STATE.RUNNING&&t.onRoundRunning(),e.onActionFinish(t)})))},onRoundRunning:function(){if(this.isValid){LogUtil.debug("TableRefreshAction","Round Refresh When User Pack ");ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().contrller;e.state=UI_TABLE_STATE.RUNNING;for(var t=0;t<e.arrSeat.length;t++)e.arrSeat[t].tpUser&&7==e.arrSeat[t].tpUser.role.refreshstate&&e.arrSeat[t].onUserPack(e.arrSeat[t].tpUser)}}}),cc._RF.pop()},{}],TableResetAction:[function(e,t,i){"use strict";cc._RF.push(t,"9c3e81CdhtDYI3pIgN9ONhc","TableResetAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){LogUtil.info(TAG,"Round Reset Table! "+(this.objData?this.objData.roundID:""));ITeenPatti.getCurTable();ITeenPatti.getCurTable().contrller.dealer.onRoundReset(),e.onActionFinish(this)},cancel:function(){}}),cc._RF.pop()},{}],TableSetAction:[function(e,t,i){"use strict";cc._RF.push(t,"c79c1yyT4lP+Y0T308EMaKr","TableSetAction");var n="TableSetAction";cc.Class({extends:cc.Component,properties:{},play:function(e){var t=ITeenPatti.getCurTable();ITeenPatti.getCurTable().contrller;t.state==TABLE_STATE.WAIT?this.onRoundWait():t.state==TABLE_STATE.READY?this.onRoundReady():t.state==TABLE_STATE.START?this.onRoundStart():t.state==TABLE_STATE.RUNNING?this.onRoundRunning():t.state==TABLE_STATE.FINISH&&this.onRoundFinish(),e.onActionFinish(this)},onRoundWait:function(){var e=ITeenPatti.getCurTable().contrller;e.tableLowBar.active=ITeenPatti.getCurPlayer().role.isWatcher(),e.dealer.onRoundRefresh();for(var t=0;t<e.arrSeat.length;t++)e.arrSeat[t].onUserRefresh();e.updateLowTipsLabel()},onRoundReady:function(){LogUtil.debug(n,"Round Is Ready ");var e=ITeenPatti.getCurTable().contrller;e.dealer.onRoundRefresh(),e.onRoundReady("starttime",{i:5});for(var t=0;t<e.arrSeat.length;t++)e.arrSeat[t].onUserRefresh();e.tableLowBar.active=ITeenPatti.getCurPlayer().role.isWatcher(),e.updateLowTipsLabel()},onRoundStart:function(){LogUtil.debug(n,"Round Is Start ");ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().contrller;e.dealer.onRoundRefresh();for(var t=0;t<e.arrSeat.length;t++)e.arrSeat[t].onUserRefresh();e.tableLowBar.active=ITeenPatti.getCurPlayer().role.isWatcher(),e.updateLowTipsLabel()},onRoundRunning:function(){LogUtil.debug(n,"Round Is Running ");var e=ITeenPatti.getCurTable(),t=ITeenPatti.getCurTable().contrller;t.state=UI_TABLE_STATE.RUNNING,LogUtil.info(n,"----------------------------------------------------------"),LogUtil.info(n,"Pool : "+ITeenPatti.getCurRoom().profile.nPool),LogUtil.info(n,"SelfID : "+ITeenPatti.getCurPlayer().role.playerId),LogUtil.info(n,"Table Info:-----------------------"),LogUtil.info(n,"Seat \t 0 \t 1 \t 2 \t 3 \t 4 \t 5");for(var i="User ",a=0;a<6;a++){i+="\t "+(t.arrSeat[a].tpUser?t.arrSeat[a].tpUser.role.playerId:" ")}LogUtil.info(n,i),LogUtil.info(n,"Round Info:---------------------------"),LogUtil.info(n,"Seat   \t 0 \t 1 \t 2 \t 3 \t 4 \t 5"),i="Player ";for(a=0;a<6;a++){i+="\t "+(t.arrSeat[a].tpUser&&e.isRoundPartner(t.arrSeat[a].tpUser.strTPID)?t.arrSeat[a].tpUser.role.playerId:" ")}LogUtil.info(n,i),i="Status ";for(a=0;a<6;a++){i+="\t "+(t.arrSeat[a].tpUser&&e.isRoundPartner(t.arrSeat[a].tpUser.strTPID)?t.arrSeat[a].tpUser.role.refreshstate:" ")}LogUtil.info(n,i),i="Active ";for(a=0;a<6;a++){var o=" ";t.arrSeat[a].tpUser&&e.isRoundPartner(t.arrSeat[a].tpUser.strTPID)&&t.arrSeat[a].tpUser.role.playerId==e.nextID&&(o="C"),i+="\t "+o}if(LogUtil.info(n,i),e.sshowID>0){i="SShow  ";for(a=0;a<6;a++){var s=" ";t.arrSeat[a].tpUser&&t.arrSeat[a].tpUser.role.playerId==e.sshowID?s="S":t.arrSeat[a].tpUser&&t.arrSeat[a].tpUser.role.playerId==e.ssideID&&(s="R"),i+="\t "+s}LogUtil.info(n,i)}i=e.lastID!=e.nextID?"RoundStatus: User Next ":e.sshowID>0?"RoundStatus: User SideShow ":"RoundStatus: User Wait ",LogUtil.info(n,i),LogUtil.info(n,"----------------------------------------------------------"),t.dealer.onRoundRefresh();for(var r=0;r<t.arrSeat.length;r++){var l=t.arrSeat[r];l.playerId==e.nextID&&e.nextID!=e.lastID?l.onUserActive():(LogUtil.debug(n,"onUserSilent:"+l.playerId),l.onUserSilent())}for(r=0;r<t.arrSeat.length;r++)t.arrSeat[r].onRoundRefresh(),t.arrSeat[r].updateGameCrown();for(r=0;r<t.arrSeat.length;r++)t.arrSeat[r].onUserRefresh();if(e.sshowID>0)for(r=0;r<t.arrSeat.length;r++)t.arrSeat[r].tpUser&&(t.arrSeat[r].tpUser.role.playerId!=e.sshowID&&t.arrSeat[r].tpUser.role.playerId!=e.ssideID||t.arrSeat[r].onUserSide());t.tableLowBar.active=ITeenPatti.getCurPlayer().role.isWatcher(),t.updateLowTipsLabel()},onRoundFinish:function(){LogUtil.debug(n,"Round Is Finish ");var e=ITeenPatti.getCurTable().contrller;e.dealer.onRoundRefresh(),e.dealer.onRoundReset(),e.dealer.tablePool.onRoundReady();for(var t=0;t<e.arrSeat.length;t++)e.arrSeat[t].updateGameCrown(),e.arrSeat[t].onUserRefresh();e.tableLowBar.active=ITeenPatti.getCurPlayer().role.isWatcher(),e.updateLowTipsLabel()}}),cc._RF.pop()},{}],TableShowAwardsAction:[function(e,t,i){"use strict";cc._RF.push(t,"00ec0WEBu1BFLthj8yQ5+pz","TableShowAwardsAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},onDestroy:function(){this.node.off("resultfinish",this.onShowResultFinish,this)},play:function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.RESULT?this.playAnim(e):this.node.on("resultfinish",this.onShowResultFinish,this)},cancel:function(){},onShowResultFinish:function(e){e.type,e.detail;this.playAnim(this.objActionPool)},playAnim:function(e){LogUtil.info("TableSHowAwardsAction","Round Awards! "+(this.objData?this.objData.roundID:""));var t=ITeenPatti.getCurTable();if(t){var i=ITeenPatti.getCurTable().contrller;i.dealer.onRoundAwards(this.strCmd,this.objData);for(var n=0;n<t.arrAwardID.length;n++){var a=i.getSeatWithPlayerId(t.arrAwardID[n]);a&&i.dealer.sendAwardsToSeat(a.seatId,t.awardAmount[t.arrAwardID[n]]),a&&a.onUserAwards()}var o=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){o.isValid&&ITeenPatti.onMsgReceived("awardsfinish",o.objData),o.isValid&&o.node.emit("awardsfinish",o.objData),e.onActionFinish(o),o.destroy()})))}}}),cc._RF.pop()},{}],TableShowResultAction:[function(e,t,i){"use strict";var n;function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}cc._RF.push(t,"e9337zPafBN2YTewm9sypik","TableShowResultAction"),cc.Class((a(n={extends:cc.Component,properties:{}},"properties",{strCmd:null,objData:null,bWaitShow:!1}),a(n,"onDestroy",function(){this.node.off("seefinish",this.onSeeFinish,this)}),a(n,"play",function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state!=UI_TABLE_STATE.SHOW&&this.bWaitShow?this.node.on("seefinish",this.onSeeFinish,this):this.playAnim(e)}),a(n,"cancel",function(){}),a(n,"onSeeFinish",function(e){e.type,e.detail;this.playAnim(this.objActionPool)}),a(n,"playAnim",function(e){var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller;i.dealer.onRoundResult(this.strCmd,this.objData);for(var n=this.objData.arrWinerID?this.objData.arrWinerID:t.arrWinerID,a=0;a<n.length;a++){(s=i.getSeatWithPlayerId(n[a]))&&(ITeenPatti.gameCore.gameMng.playAudioEffect("win"),s.onUserWin())}var o=this.objData.arrLoserID?this.objData.arrLoserID:t.arrLoserID;for(a=0;a<o.length;a++){var s;(s=i.getSeatWithPlayerId(o[a]))&&s.onUserLose()}var r=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){r.isValid&&ITeenPatti.onMsgReceived("resultfinish",r.objData),r.isValid&&r.node.emit("resultfinish",r.objData),e.onActionFinish(r),r.destroy()})))}),n)),cc._RF.pop()},{}],TableStakeCollector:[function(e,t,i){"use strict";cc._RF.push(t,"dd8097EtpZIZZt3wE2OjQBc","TableStakeCollector");e("GameUtils");var n=e("BaseComponent"),a="TableStakeCollector";cc.Class({extends:n,properties:{pfbStake:cc.Prefab,arrStakeCb:{default:{}}},onLoad:function(){this.node.removeAllChildren()},isStakeCollecting:function(){return this.node.childrenCount>0},setPoolUpdateCb:function(e){this.hPoolUpdateCb=e},collectBoot:function(e,t,i,n){LogUtil.debug(a,"Dealer Collect Stake Of Seat "+e);var o=cc.instantiate(this.pfbStake);this.node.addChild(o);var s=o.getComponent("TableStakeView");s.gameCore=ITeenPatti.gameCore,s.playAnimBoot(e,t,i,handler(this,this.onAnimCollectFinish)),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.gameCore.gameMng.playAudioEffect("bet")},this))),this.arrStakeCb=this.arrStakeCb||{},n&&(this.arrStakeCb[e]=n)},collectStake:function(e,t,i,n){LogUtil.debug(a,"Dealer Collect Stake Of Seat "+e);var o=cc.instantiate(this.pfbStake);this.node.addChild(o);var s=o.getComponent("TableStakeView");s.gameCore=ITeenPatti.gameCore,s.playAnimCollect(e,t,i,handler(this,this.onAnimCollectFinish)),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.gameCore.gameMng.playAudioEffect("bet")},this))),this.arrStakeCb=this.arrStakeCb||{},n&&(this.arrStakeCb[e]=n)},onAnimCollectFinish:function(e,t,i,n){if(ITeenPatti.getCurRoom()&&ITeenPatti.getCurTable().contrller&&e==ITeenPatti.getCurTable().roundID){LogUtil.debug(a,"Dealer Collect Stake Of Seat "+t+" Finish!");var o=this.arrStakeCb[t];o&&o(t),this.arrStakeCb[t]=null,this.hPoolUpdateCb&&this.hPoolUpdateCb(i,n)}}}),cc._RF.pop()},{BaseComponent:"BaseComponent",GameUtils:"GameUtils"}],TableStakeViewAB:[function(e,t,i){"use strict";cc._RF.push(t,"7a781Y/N85H/4SLotlx7TCd","TableStakeViewAB");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{betBg:cc.Node,tieBg:cc.Node,lblStake:cc.Label,seat:{default:null,visible:!1},callBack:{default:null,visible:!1},amount:{default:0,visible:!1}},onLoad:function(){this._super()},onEnterForeground:function(){this._super(),this.seat&&5!=this.seat.roomStatus&&this.clear()},clear:function(){this.node.getComponent(cc.Animation).stop(),this.node.stopAllActions(),this.node.removeFromParent()},playAnima:function(e,t,i,o){this.seat=e,this.amount=t,this.betBg.active=1==o,this.tieBg.active=2==o,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive(i)},onAnimaAndarFinish:function(){this.seat.onAnimaAndarFinish(this.amount),this.node.removeFromParent()},onAnimaBaharFinish:function(){this.seat.onAnimaBaharFinish(this.amount),this.node.removeFromParent()},playAnima1:function(e,t,i,o,s,r){var l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;this.callBack=r,this.amount=e,this.betBg.active=1==o,this.tieBg.active=2==o,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(e)}),this.node.setPosition(t),this.node.runAction(cc.sequence(cc.hide(),cc.delayTime(s),cc.show(),cc.callFunc(function(){l&&this.gameCore.gameMng.playAudioEffect("bet")}.bind(this)),cc.moveTo(.6,i),cc.delayTime(.25),cc.delayTime(c),cc.callFunc(function(){this.callBack&&this.callBack()}.bind(this)),cc.fadeTo(0,0),cc.delayTime(.2),cc.callFunc(function(){this.node.removeFromParent()}.bind(this))))}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TableStakeViewCasinoWar:[function(e,t,i){"use strict";cc._RF.push(t,"6ee4dAJtwtGhJR0OW2qBZIZ","TableStakeViewCasinoWar");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{betBg:cc.Node,tieBg:cc.Node,lblStake:cc.Label,seat:{default:null,visible:!1},callBack:{default:null,visible:!1},amount:{default:0,visible:!1}},onLoad:function(){this._super(),this.node.opacity=0},playAnima:function(e,t,i,o){this.seat=e,this.amount=t,this.betBg.active=1==o,this.tieBg.active=2==o,this.node.opacity=255,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive(i)},onAnimaBetFinish:function(){this.seat.onAnimaBetFinish(this.amount),this.node.removeFromParent()},onAnimaTieFinish:function(){this.seat.onAnimaTieFinish(this.amount),this.node.removeFromParent()},playAnima1:function(e,t,i,o,s,r){var l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this.callBack=r,this.amount=e,this.betBg.active=1==o,this.tieBg.active=2==o,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(e)}),this.node.setPosition(t),this.node.runAction(cc.sequence(cc.callFunc(function(){this.node.opacity=0},this),cc.delayTime(s),cc.callFunc(function(){this.node.opacity=255},this),cc.callFunc(function(){l&&this.gameCore.gameMng.playAudioEffect("bet")}.bind(this)),cc.moveTo(.6,i),cc.delayTime(.25),cc.callFunc(function(){this.callBack&&this.callBack()}.bind(this)),cc.fadeTo(0,0),cc.delayTime(.2),cc.callFunc(function(){this.node.removeFromParent()}.bind(this))))}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TableStakeViewTour:[function(e,t,i){"use strict";cc._RF.push(t,"96d8eclTzhNhKyDBUtWpcVK","TableStakeViewTour");var n=e("TableStakeView");cc.Class({extends:n,properties:{},getBootAnimNamePrefix:function(){return"gstour_anim_dealer_boot_seat_"},getStakeAnimNamePrefix:function(){return"gstour_anim_dealer_stake_seat_"}}),cc._RF.pop()},{TableStakeView:"TableStakeView"}],TableStakeView:[function(e,t,i){"use strict";cc._RF.push(t,"2de72ditLBMWZJCXITSHmHv","TableStakeView");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{lblStake:cc.Label,seatID:0,curRoundID:0,amount:0,hFinishCb:null},onLoad:function(){this._super()},playAnimBoot:function(e,t,i,o){this.hFinishCb=o,this.seatID=e,this.amount=t,this.pool=i,this.curRoundID=ITeenPatti.getCurTable().roundID,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive(this.getBootAnimNamePrefix()+e)},getBootAnimNamePrefix:function(){return"gs_anim_dealer_boot_seat_"},playAnimCollect:function(e,t,i,o){this.hFinishCb=o,this.seatID=e,this.amount=t,this.pool=i,this.curRoundID=ITeenPatti.getCurTable().roundID,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive(this.getStakeAnimNamePrefix()+e)},getStakeAnimNamePrefix:function(){return"gs_anim_dealer_stake_seat_"},onAnimBootFinish:function(e,t,i){this.node.removeFromParent(),ITeenPatti.getCurRoom()&&this.curRoundID==ITeenPatti.getCurTable().roundID&&this.hFinishCb&&this.hFinishCb(this.curRoundID,this.seatID,this.amount,this.pool)},onAnimStakeFinish:function(e){this.node.removeFromParent(),ITeenPatti.getCurRoom()&&ITeenPatti.getCurTable().contrller&&this.curRoundID==ITeenPatti.getCurTable().roundID&&this.hFinishCb&&this.hFinishCb(this.curRoundID,this.seatID,this.amount,this.pool)},onAnimBetRefresh:function(){this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.amount)})}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TableTipsCollectorAB:[function(e,t,i){"use strict";cc._RF.push(t,"d80faj6J/pCb6MmXEb6os9j","TableTipsCollectorAB");e("TableTipsPopView");var n=e("TableTipsCollector");e("LanguageData");cc.Class({extends:n,properties:{tipsViewName:{default:"TableTipsViewAB",override:!0}},onLoad:function(){}}),cc._RF.pop()},{LanguageData:"LanguageData",TableTipsCollector:"TableTipsCollector",TableTipsPopView:"TableTipsPopView"}],TableTipsCollectorCasinoWar:[function(e,t,i){"use strict";cc._RF.push(t,"514b5rjujlMh6VmmQQaj+MP","TableTipsCollectorCasinoWar");e("TableTipsPopView");var n=e("TableTipsCollector");e("LanguageData");cc.Class({extends:n,properties:{tipsViewName:{default:"TableTipsViewCasinoWar",override:!0}},onLoad:function(){}}),cc._RF.pop()},{LanguageData:"LanguageData",TableTipsCollector:"TableTipsCollector",TableTipsPopView:"TableTipsPopView"}],TableTipsCollector:[function(e,t,i){"use strict";cc._RF.push(t,"e86b1df1DBCNY7rjQJEYWQd","TableTipsCollector");var n=e("TableTipsPopView"),a=e("BaseComponent"),o=e("LanguageData");cc.Class({extends:a,properties:{tipsViewName:"TableTipsView",pfbTips:cc.Prefab,objPopView:n},collectTips:function(e,t){LogUtil.debug("TableTipsCollector","Dealer Collect Tips Of Seat "+e),this.gameCore&&this.gameCore.gameMng.playAudioEffect("tip");var i=cc.instantiate(this.pfbTips);this.node.addChild(i);var n=i.getComponent(this.tipsViewName);n.gameCore=this.gameCore,n.playAnimCollect(e,t,handler(this,this.onAnimCollectFinish))},onAnimCollectFinish:function(){var e=[o.t("label_text.dealer_tip_message1"),o.t("label_text.dealer_tip_message2"),o.t("label_text.dealer_tip_message3"),o.t("label_text.dealer_tip_message4")],t=Math.floor(Math.random()*e.length);this.objPopView.showText(e[t])}}),cc._RF.pop()},{BaseComponent:"BaseComponent",LanguageData:"LanguageData",TableTipsPopView:"TableTipsPopView"}],TableTipsPopView:[function(e,t,i){"use strict";cc._RF.push(t,"4cc85oAnpVFW711WAXbUX1D","TableTipsPopView"),cc.Class({extends:cc.Component,properties:{lblText:cc.Label,imgBg:cc.Sprite},onLoad:function(){},showText:function(e){this.lblText.string=e;var t=this.node.getComponent(cc.Animation);t.stop(),t.play("gs_anim_dealer_tips_thanks")},onAnimThanksFinish:function(){}}),cc._RF.pop()},{}],TableTipsViewAB:[function(e,t,i){"use strict";cc._RF.push(t,"d82eaMU9cpLzJH8d22PACP+","TableTipsViewAB");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{lblAmount:cc.Label},playAnimCollect:function(e,t,i){this.hFinishCb=i,this.lblAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive("abs_anim_dealer_tips_seat_"+e)},onAnimTipsArriv:function(e){this.hFinishCb&&this.hFinishCb()},onAnimFinish:function(){this.node.removeFromParent()}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TableTipsViewCasinoWar:[function(e,t,i){"use strict";cc._RF.push(t,"62e09TSr8dDNZRnhCcVbpUy","TableTipsViewCasinoWar");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{lblAmount:cc.Label},playAnimCollect:function(e,t,i){this.hFinishCb=i,this.lblAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive("cws_anim_dealer_tips_seat_"+e)},onAnimTipsArriv:function(e){this.hFinishCb&&this.hFinishCb()},onAnimFinish:function(){this.node.removeFromParent()}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TableTipsView:[function(e,t,i){"use strict";cc._RF.push(t,"4cc32UCXzBEkb7wtkZZBNCi","TableTipsView");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{lblAmount:cc.Label},onLoad:function(){this._super()},playAnimCollect:function(e,t,i){this.hFinishCb=i,this.lblAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive("gs_anim_dealer_tips_seat_"+e)},onAnimTipsArriv:function(e){this.hFinishCb&&this.hFinishCb()},onAnimFinish:function(){this.node.removeFromParent()}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TableUtil:[function(e,t,i){"use strict";cc._RF.push(t,"9b089K+T2lLgoqz40d1Tov5","TableUtil");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.table={},table.keys=function(e){var t=[];for(var i in e)t[t.length]=i;return t},table.insert=function(e,t,i){if("object"==(void 0===e?"undefined":n(e))){null==i&&(i=t,t=Object.keys(e).length+1);var a=table.createToArray(e);a.splice(t-1,0,i);for(var o=0;o<a.length;o++)e[o+1]=a[o]}},table.length=function(e,t){if("object"==(void 0===e?"undefined":n(e))){if(1==t){var i=Object.keys(e),a=0;for(var o in i)isNaN(Number(i[o]))||(a+=1);return a}return Object.keys(e).length}if("array"==typeof e)return e.length},table.getn=function(e){if("object"==(void 0===e?"undefined":n(e)))return Object.keys(e).length},table.remove=function(e,t){if("object"==(void 0===e?"undefined":n(e))){if(null!=t&&null!=e[t]){var i=-1;null==e[0]&&null!=e[table.length(e)]&&(i=0);for(var a=e[t],o=parseInt(t);o<table.length(e)+i;o++)e[o]=e[o+1];e[table.length(e)+i]=a,delete e[table.length(e)+i]}}else"array"==typeof e&&e.splice(t,1)},table.createFromArray=function(e){for(var t={},i=0;i<e.length;i++)t[i+1]=e[i];return t},table.createToArray=function(e){for(var t=[],i=1;i<=table.length(e);i++)t.push(e[i]);return t},table.sort=function(e,t){if(null==t&&(t=function(e,t){return e<t}),"object"==(void 0===e?"undefined":n(e)))if(isArray(e))e.sort(t);else for(var i=1;i<=table.length(e);i++)for(var a=i+1;a<=table.length(e);a++)if(0==t(e[i],e[a])){var o=e[i];e[i]=e[a],e[a]=o}},cc._RF.pop()},{}],TeenPattiABRoler:[function(e,t,i){"use strict";cc._RF.push(t,"7a3ace/ERhEAblGo4Ft0V+c","TeenPattiABRoler");e("LanguageData");var n=e("TeenPattiRoler");cc.Class({extends:n,name:"TeenPattiABRoler",properties:{lastTotalAndarAmount:0,totalAndarAmount:{get:function(){return this._totalAndarAmount},set:function(e){this.lastTotalAndarAmount=this._totalAndarAmount,this._totalAndarAmount=e}},lastTotalBaharAmount:0,totalBaharAmount:{get:function(){return this._totalBaharAmount},set:function(e){this.lastTotalBaharAmount=this._totalBaharAmount,this._totalBaharAmount=e}},ready:!1},ctor:function(){this.totalAndarAmount=0,this.lastTotalAndarAmount=0,this.totalBaharAmount=0,this.lastTotalBaharAmount=0},reset:function(){this.totalAndarAmount=0,this.lastTotalAndarAmount=0,this.totalBaharAmount=0,this.lastTotalBaharAmount=0,this.ready=!1}});cc._RF.pop()},{LanguageData:"LanguageData",TeenPattiRoler:"TeenPattiRoler"}],TeenPattiCasinoWarRoler:[function(e,t,i){"use strict";cc._RF.push(t,"1e4a3FKd6RHb6uTf8fIAUR5","TeenPattiCasinoWarRoler");e("LanguageData");var n=e("TeenPattiRoler");cc.Class({extends:n,name:"TeenPattiCasinoWarRoler",properties:{lastTotalBetAmount:0,totalBetAmount:{get:function(){return this._totalBetAmount},set:function(e){this.lastTotalBetAmount=this._totalBetAmount,this._totalBetAmount=e}},lastTotalTieAmount:0,totalTieAmount:{get:function(){return this._totalTieAmount},set:function(e){this.lastTotalTieAmount=this._totalTieAmount,this._totalTieAmount=e}},ready:!1,card:-1,inWar:!1,isSurrender:!1},ctor:function(){this.totalBetAmount=0,this.lastTotalBetAmount=0,this.totalTieAmount=0,this.lastTotalTieAmount=0},reset:function(){this.totalBetAmount=0,this.lastTotalBetAmount=0,this.totalTieAmount=0,this.lastTotalTieAmount=0,this.ready=!1,this.card=-1}});cc._RF.pop()},{LanguageData:"LanguageData",TeenPattiRoler:"TeenPattiRoler"}],TeenPattiDecoder:[function(e,t,i){"use strict";cc._RF.push(t,"f71aajecZFFCKkRy/ly+0h5","TeenPattiDecoder");var n=e("Command"),a=e("CustomerSupportHistory"),o=e("ClassicRoom"),s=e("ClassicGoldRoom"),r=e("NoLimitRoom"),l=e("WingoLotteryRoom"),c=e("JokerRoom"),h=e("MuflisRoom"),u=e("HukamRoom"),d=e("AK47Room"),m=e("PotBlindRoom"),g=e("MatchCricketRoom"),p=e("CasinoWarRoom"),C=e("CasinoWarGoldRoom"),f=e("CasinoWarPVPGoldRoom"),b=e("MatchFootballRoom"),I=e("ABRoom"),_=e("ABGoldRoom"),S=e("ABPVPRoom"),P=e("ABPVPGoldRoom"),T=e("PattiWarRoom"),R=e("TexasHoldemRoom"),v=e("TexasHoldemGoldRoom"),y=e("RummyRoom"),A=e("DeluxeRoom"),L="ITeenPatti";cc.Class({extends:cc.Component,properties:{},decode:function(e,t){if("ConnectionRetry"==e&&(ITeenPatti.isReconnecting=!0),"ConnectionResume"!=e&&"ConnectionLost"!=e||(ITeenPatti.isReconnecting=!1),"keepconnection"==e&&(ITeenPatti.delayMilliseconds=(new Date).getTime()-ITeenPatti.getLastHeartBeatTime(),ITeenPatti.gameCore.uiMng.dispatch(n.UI_CMD_NETWORK_DELAY_TIME,ITeenPatti.delayMilliseconds)),"UserExitRoom"==e&&t.user.name==ITeenPatti.player.userId&&(ITeenPatti.lastRoom=ITeenPatti.room,ITeenPatti.room=null,ITeenPatti.gameCore.userMng&&(ITeenPatti.gameCore.userMng.isJoining=!1)),"Logout"!=e&&"logined"!=e||(ITeenPatti.room=null,ITeenPatti.lastRoom=null,"logined"==e&&(ITeenPatti.cstmMsgHistory=new a)),"RoomJoin"==e&&!ITeenPatti.room){ITeenPatti.msgID=0,ITeenPatti.rroundID=ITeenPatti.rroundID||1;var i=t.room.groupId,B=string.sub(i,0,-1==string.find(i,"@")?i.length:string.find(i,"@"));switch(ITeenPatti.roomType=ROOM_TYPE.CLASSIC,"NoLimit"==B?ITeenPatti.roomType=ROOM_TYPE.NOLIMIT:"Joker"==B?ITeenPatti.roomType=ROOM_TYPE.JOKER:"Muflis"==B?ITeenPatti.roomType=ROOM_TYPE.MUFLIS:"HuKam"==B?ITeenPatti.roomType=ROOM_TYPE.HUKAM:"AK47"==B?ITeenPatti.roomType=ROOM_TYPE.AK47:"PotBlind"==B?ITeenPatti.roomType=ROOM_TYPE.POTBLIND:"war"==B?ITeenPatti.roomType=ROOM_TYPE.CASINO_WAR:"NAB"==B?ITeenPatti.roomType=ROOM_TYPE.AB:"poker"==B?ITeenPatti.roomType=ROOM_TYPE.TEXAS_HOLDEM:"Deluxe"==B?ITeenPatti.roomType=ROOM_TYPE.DELUXE:"BAB"==B?ITeenPatti.roomType=ROOM_TYPE.AB_PVP:"GoldPVCAB"==B?ITeenPatti.roomType=ROOM_TYPE.AB_GOLD:"GoldPVPAB"==B?ITeenPatti.roomType=ROOM_TYPE.AB_PVP_GOLD:"GoldPVCWar"==B?ITeenPatti.roomType=ROOM_TYPE.CASINO_WAR_GOLD:"Goldpoker"==B?ITeenPatti.roomType=ROOM_TYPE.TEXAS_HOLDEM_GOLD:"GoldPVPWar"==B?ITeenPatti.roomType=ROOM_TYPE.CASINO_WAR_PVP_GOLD:"Gold"==B?ITeenPatti.roomType=ROOM_TYPE.CLASSIC_GOLD:"wingo"==B&&(ITeenPatti.roomType=ROOM_TYPE.WINGO_LOTTERY),"Football"==t.room.name.substring(0,8)?ITeenPatti.roomType=ROOM_TYPE.MATCH_FOOTBALL:"Cricket"==t.room.name.substring(0,7)?ITeenPatti.roomType=ROOM_TYPE.MATCH_CRICKET:"rummy"==B?ITeenPatti.roomType=ROOM_TYPE.RUMMY:"pattiwar"==t.room.name.substring(0,8)&&(ITeenPatti.roomType=ROOM_TYPE.PATTI_WAR),ITeenPatti.roomType){case ROOM_TYPE.NOLIMIT:ITeenPatti.room=new r;break;case ROOM_TYPE.JOKER:ITeenPatti.room=new c;break;case ROOM_TYPE.MUFLIS:ITeenPatti.room=new h;break;case ROOM_TYPE.HUKAM:ITeenPatti.room=new u;break;case ROOM_TYPE.AK47:ITeenPatti.room=new d;break;case ROOM_TYPE.POTBLIND:ITeenPatti.room=new m;break;case ROOM_TYPE.CASINO_WAR:ITeenPatti.room=new p;break;case ROOM_TYPE.CASINO_WAR_GOLD:ITeenPatti.room=new C;break;case ROOM_TYPE.CASINO_WAR_PVP_GOLD:ITeenPatti.room=new f;break;case ROOM_TYPE.MATCH_CRICKET:ITeenPatti.room=new g;break;case ROOM_TYPE.MATCH_FOOTBALL:ITeenPatti.room=new b;break;case ROOM_TYPE.AB:ITeenPatti.room=new I;break;case ROOM_TYPE.AB_GOLD:ITeenPatti.room=new _;break;case ROOM_TYPE.AB_PVP:ITeenPatti.room=new S;break;case ROOM_TYPE.AB_PVP_GOLD:ITeenPatti.room=new P;break;case ROOM_TYPE.PATTI_WAR:ITeenPatti.room=new T;break;case ROOM_TYPE.TEXAS_HOLDEM:ITeenPatti.room=new R;break;case ROOM_TYPE.TEXAS_HOLDEM_GOLD:ITeenPatti.room=new v;break;case ROOM_TYPE.RUMMY:ITeenPatti.room=new y;break;case ROOM_TYPE.DELUXE:ITeenPatti.room=new A;break;case ROOM_TYPE.CLASSIC_GOLD:ITeenPatti.room=new s;break;case ROOM_TYPE.WINGO_LOTTERY:ITeenPatti.room=new l;break;default:ITeenPatti.room=new o}ITeenPatti.roundType=ITeenPatti.roomType}if("RoomJoin"==e){ITeenPatti.gameCore.userMng&&(ITeenPatti.gameCore.userMng.isJoining=!1),LogUtil.info(L,"Table Info:---------------------------"),ITeenPatti.roomType===ROOM_TYPE.RUMMY?LogUtil.info(L,"Self: ID: "+ITeenPatti.getCurPlayer().rummyrole.playerId+" Name: "+ITeenPatti.getCurPlayer().strTPName):LogUtil.info(L,"Self: ID: "+ITeenPatti.getCurPlayer().role.playerId+" Name: "+ITeenPatti.getCurPlayer().strTPName),LogUtil.info(L,"User: 1    2    3    4    5");for(var D="Name: ",E=ITeenPatti.getCurRoomSFSUserList(),U=1;U<6;U++){for(var M="    ",N=0;N<E.length;N++){var w=E[N];U==w.playerId&&(M=void 0!==w.variables.n?w.variables.n.value:"",M=(M+="     ").substring(0,4))}D+=M+" "}LogUtil.info(L,D),LogUtil.info(L,"Table Info:---------------------------")}if("starttime"!=e||t.roundId||(ITeenPatti.rroundID=ITeenPatti.rroundID>1e3?1:ITeenPatti.rroundID+1,t.rroundId=ITeenPatti.rroundID),ITeenPatti.room&&(t.rroundId=ITeenPatti.rroundID,ITeenPatti.room.onMsgReceived(e,t),t&&(t.roundID=ITeenPatti.room.table?ITeenPatti.room.table.roundID:0,t.roundID=t.roundId?t.roundId:t.roundID,t.msgID=ITeenPatti.msgID++)),"success"!=e&&"error"!=e||("error"==e&&ITeenPatti.gameCore&&(-1!=[n.SERVER_CMD_PLAY,n.SERVER_CMD_PLAY_DELUXE,n.SERVER_CMD_PLAY_NOLIMIT,n.SERVER_CMD_PLAY_CASINO_WAR,n.SERVER_CMD_PLAY_AB,n.SERVER_CMD_PLAY_PATTI_WAR,n.SERVER_CMD_SPORT,n.SERVER_CMD_PLAY_IN_ROOM,n.SERVER_CMD_PLAY_TEXAS_HOLDEM,n.SERVER_CMD_CREATE_PRIVATE_ROOM,n.SERVER_CMD_CREATE_PRIVATE_POKER_ROOM,n.SERVER_CMD_BANNED_USER,n.SERVER_CMD_AB_PVP_CREATE_ROOM,n.SERVER_CMD_AB_PVP_PLAY_IN_ROOM].indexOf(t.stage)&&ITeenPatti.gameCore.userMng&&(ITeenPatti.gameCore.userMng.isJoining=!1),ITeenPatti.gameCore.gameMng.receiveErrorCmd(t)),t.cmd=e,e=t.stage),e==n.SERVER_CMD_PLAY_NOLIMIT&&ITeenPatti.gameCore.userMng&&(ITeenPatti.gameCore.userMng.isJoining=!1),"start"!=e&&e!=n.SERVER_CMD_TOUR_START||!ITeenPatti.room||(t.arrPartnerID=ITeenPatti.room.table.getPartnerIDList()),("gamble"==e||e==n.SERVER_CMD_TOUR_GAMBLE)&&t.action==USER_ACTION.SIDE_SHOW&&ITeenPatti.room){var k=ITeenPatti.room.table.getEarlyHandOfPlayer(t.playerId);k&&(t.earlyId=k.role.playerId)}if(("cpool"==e||e==n.SERVER_CMD_TOUR_CPOOL)&&ITeenPatti.room){for(var F in t.finish=!ITeenPatti.room.table.isRoundPartner(ITeenPatti.player.userId),t.arrWinerID=[],t.playerId)t.arrWinerID.push(t.playerId[F]);if(t.arrLoserID=[],ITeenPatti.room&&ITeenPatti.room.table&&ITeenPatti.room.table.arrLoserID)for(var O=0;O<ITeenPatti.room.table.arrLoserID.length;O++)t.arrLoserID[O]=ITeenPatti.room.table.arrLoserID[O]}if("show"==e||e==n.SERVER_CMD_TOUR_SHOW){for(var F in t.arrWinerID=[],t.win_id)t.arrWinerID.push(t.win_id[F]);for(var F in t.arrLoserID=[],t.looser_id)t.arrLoserID.push(t.looser_id[F])}return e==n.SERVER_CMD_AB_DEAL||e==n.SERVER_CMD_START_PATTI_WAR?t.startTime=(new Date).getTime():"getWinGoRoomInfo"!=e&&"winGoChangeStatus"!=e||(t.endTimeStamp=1e3*t.endTime+(new Date).getTime()),"getZoneMessage"==e&&(t.bankaccount&&ITeenPatti.onMsgReceived("bankaccount",t.bankaccount),t.bannedbuy&&ITeenPatti.onMsgReceived("bannedbuy",t.bannedbuy),t.getchipstobank&&ITeenPatti.onMsgReceived("getchipstobank",t.getchipstobank),t.invitecode&&ITeenPatti.onMsgReceived("invitecode",t.invitecode),t.modelimit&&ITeenPatti.onMsgReceived("modelimit",t.modelimit),t.notificationlist&&ITeenPatti.onMsgReceived("notificationlist",t.notificationlist),t.rummymin&&ITeenPatti.onMsgReceived("rummymin",t.rummymin),t.sportaccess&&ITeenPatti.onMsgReceived("sportaccess",t.sportaccess),t.tasklist&&(t.tasklist.refreshTime=(new Date).getTime(),ITeenPatti.onMsgReceived("tasklist",t.tasklist)),t.versioncontrol&&ITeenPatti.onMsgReceived("versioncontrol",t.versioncontrol)),{cmd:e,data:t}}}),cc._RF.pop()},{ABGoldRoom:"ABGoldRoom",ABPVPGoldRoom:"ABPVPGoldRoom",ABPVPRoom:"ABPVPRoom",ABRoom:"ABRoom",AK47Room:"AK47Room",CasinoWarGoldRoom:"CasinoWarGoldRoom",CasinoWarPVPGoldRoom:"CasinoWarPVPGoldRoom",CasinoWarRoom:"CasinoWarRoom",ClassicGoldRoom:"ClassicGoldRoom",ClassicRoom:"ClassicRoom",Command:"Command",CustomerSupportHistory:"CustomerSupportHistory",DeluxeRoom:"DeluxeRoom",HukamRoom:"HukamRoom",JokerRoom:"JokerRoom",MatchCricketRoom:"MatchCricketRoom",MatchFootballRoom:"MatchFootballRoom",MuflisRoom:"MuflisRoom",NoLimitRoom:"NoLimitRoom",PattiWarRoom:"PattiWarRoom",PotBlindRoom:"PotBlindRoom",RummyRoom:"RummyRoom",TexasHoldemGoldRoom:"TexasHoldemGoldRoom",TexasHoldemRoom:"TexasHoldemRoom",WingoLotteryRoom:"WingoLotteryRoom"}],TeenPattiEmailBox:[function(e,t,i){"use strict";cc._RF.push(t,"acac5bwqe5C8Y1XArmiRz95","TeenPattiEmailBox");cc.Class({name:"TeenPattiEmailBox",properties:{nUnReadCount:0,arrEmailList:[],arrCmdHandler:{default:{}}},ctor:function(){this.arrCmdHandler.notificationlist=handler(this,this.onEmailListGet),this.arrCmdHandler.acceptnotification=handler(this,this.onEmailRead),this.arrCmdHandler.deletenotification=handler(this,this.onEmailDelete)},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onEmailListGet:function(e,t){for(var i in this.nUnReadCount=0,this.arrEmailList=[],t.notifications){var n=t.notifications[i];n.isread||this.nUnReadCount++,this.arrEmailList.push(n)}},onEmailRead:function(e,t){for(var i in t.is)for(var n=t.is[i],a=0;a<this.arrEmailList.length;a++)if(this.arrEmailList[a].id==n){this.arrEmailList[a].isread=!0;break}this.nUnReadCount=0;for(a=0;a<this.arrEmailList.length;a++)this.arrEmailList[a].isread||this.nUnReadCount++},onEmailDelete:function(e,t){},getUnreadEmailCount:function(){return this.nUnReadCount},getAllEmail:function(){return this.arrEmailList},getEmailInfoWithID:function(e){for(var t=0;t<this.arrEmailList.length;t++)if(this.arrEmailList[t].id==e)return this.arrEmailList[t];return null}});cc._RF.pop()},{}],TeenPattiEncoder:[function(e,t,i){"use strict";cc._RF.push(t,"fa72dVJgQRA9bwFRjuN5re7","TeenPattiEncoder"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],TeenPattiIcon:[function(e,t,i){"use strict";cc._RF.push(t,"aeb60qDMQ5NH4exkQ09qUQ5","TeenPattiIcon");cc.Class({extends:cc.Component,properties:{nIconID:null,tpProfile:null,iconSprite:cc.Sprite,arrIconFrame:[cc.SpriteFrame]},onLoad:function(){this.iconSprite||(this.iconSprite=this.node.getComponent(cc.Sprite))},setTeanPattiProfile:function(e){this.iconSprite||this.onLoad(),this.nIconID=0,this.tpProfile=e,this.refreshIconFrame()},setIconIndex:function(e){this.nIconID=e},refreshIconFrame:function(){var e=cc.director.getScene().getChildByName("Canvas").getComponent("IconFrameCache").getIconFrameWithID(this.nIconID);e&&(this.iconSprite.spriteFrame=e),this.iconSprite.node.setContentSize(174,174)}}),cc._RF.pop()},{}],TeenPattiPlayer:[function(e,t,i){"use strict";cc._RF.push(t,"f10f8rJLjVNM61J6g4uJssD","TeenPattiPlayer");var n=e("PromotionProfile"),a=e("TeenPattiUser"),o=e("GamePlayState"),s=e("TeenPattiRoler"),r=e("TeenPattiTourRoler"),l=e("EventProfile"),c=e("SubscriptionProfile"),h=e("RummyRoler"),u=e("Command"),d=(e("UIInfo"),e("GameUtils")),m=e("LanguageData");cc.Class({extends:a,name:"TeenPattiPlayer",properties:{gameCore:{get:function(){return this._gameCore},set:function(e){this._gameCore=e,this.tpProfile.gameCore=e}},playState:o,arrFriends:[a],arrInviteFriends:[a],isHandStrengthMeter:{get:function(){return this.tpProfile.isHandStrengthMeter}},isNotification:{get:function(){return this.tpProfile.isNotification}},handStrengthMeterFreeTime:{get:function(){return this.tpProfile.handStrengthMeterFreeTime}},freezeChipsStr:{get:function(){return this.nFreezeChips>0?m.t("label_text.freeze",{chips:d.formatNumberWithRules(this.nFreezeChips)}):""}},eventProfile:l,subsProfile:c},ctor:function(){this.ptProfile=new n,this.eventProfile=new l,this.subsProfile=new c,this.arrCmdHandler[u.SERVER_CMD_FRIEND_LIST]=handler(this,this.onMsgFriendListReceived),this.arrCmdHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrCmdHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrCmdHandler.UserExitRoom=handler(this,this.onUserExitRoom),this.arrCmdHandler[u.SERVER_CMD_MY_GOLD_VIP]=handler(this,this.onMyGoldVIP),this.arrCmdHandler.jis=handler(this,this.onRoomRefresh)},initWithFBData:function(e){this.fbProfile.init(e),isInstantGame&&(this.fbProfile.strIconUrl=FBInstant.player.getPhoto())},isExistFriend:function(e){},addTPFriend:function(e,t){var i=new a;i.online=t,i.roomName=e.roomName,i.getTeenPattiProfile().onMsgFriendListReceived(e),i.getFacebookProfile().onMsgFriendListReceived(e),isInstantGame&&(i.strIconUrl=this.gameCore.friendsMng.getStrIconUrl(e.userinfo.facebookID)),this.arrFriends[this.arrFriends.length]=i},addFBFriend:function(e,t){(new a).getFacebookProfile().setFBInfo(e,t)},addFBInviteFriend:function(e){var t=new a;t.getFacebookProfile().setFBInviteInfo(e.id,e.name,e.picture.data.url),this.arrInviteFriends[this.arrInviteFriends.length]=t},getFriendList:function(){return this.arrFriends},getFBFriendList:function(){return this.arrFriends},getFBInviteFriendList:function(){return this.arrInviteFriends},onMsgFriendListReceived:function(e,t){if(t){this.arrFriends=[];for(var i=t.onlinefriend,n=1;n<=table.length(i);n++)this.addTPFriend(i[n],!0);var a=t.offlinefriend;for(n=1;n<=table.length(a);n++)this.addTPFriend(a[n],!1)}},onRoomJoin:function(e,t){var i=t.room.groupId,n=string.sub(i,0,string.find(i,"@"));-1!=t.room.name.indexOf("#tou")?this.role=new r(t.user):"rummy"==n?this.rummyrole=new h(t.user):this.role=new s(t.user)},onUserStandUp:function(e,t){t.user.name==this.userId&&(ITeenPatti.requestedSUNR=!1)},onUserExitRoom:function(e,t){t.user.name==this.userId&&(ITeenPatti.requestedSUNR=!1,this.gameCore&&(this.gameCore.gameMng.lastGameEarn=this.curRoomWinChips),this.gameCore&&(this.gameCore.gameMng.lastGameEarnGold=this.curRoomWinGold),this.role=null)},onRoomRefresh:function(e,t){if(this.role&&0!=t.status&&1!=t.status)for(var i in t.user_cards){var n=t.user_cards[i];this.role.setUserCard(n)}},onMsgReceived:function(e,t){this.gameCore&&this.gameCore.userMng&&(-1!=[u.SERVER_CMD_START_TIME,"rummystarttime","pokerstarttime"].indexOf(e)?this.gameCore.userMng.pauseMissionCompleteRemind(!0):-1==[u.SERVER_CMD_FINISH,"rummyfinish","pokerend"].indexOf(e)||this.gameCore.uiMng.isInCasinoWarGame||this.gameCore.userMng.pauseMissionCompleteRemind(!1)),this.role&&this.role.onMsgReceived(e,t),this.rummyrole&&this.rummyrole.onMsgReceived(e,t),this.tpProfile&&this.tpProfile.onMsgReceived(e,t),this.fbProfile&&this.fbProfile.onMsgReceived(e,t),this.ptProfile&&this.ptProfile.onMsgReceived(e,t),this.eventProfile&&this.eventProfile.onMsgReceived(e,t),this.subsProfile&&this.subsProfile.onMsgReceived(e,t),this.userId=this.tpProfile.strTPID;var i=this.arrCmdHandler[e];i&&i(e,t)},onMyGoldVIP:function(e,t){t.errorcode||(this.tpProfile.nGold=t.gold,this.tpProfile.goldVIP=t.level,this.tpProfile.goldVIPType=t.type,this.tpProfile.goldVIPBuys=t.buys,this.tpProfile.goldVIPExp=(new Date).getTime()+1e3*t.exp,this.tpProfile.goldTransFreeLeft=t.freeleft)}});cc._RF.pop()},{Command:"Command",EventProfile:"EventProfile",GamePlayState:"GamePlayState",GameUtils:"GameUtils",LanguageData:"LanguageData",PromotionProfile:"PromotionProfile",RummyRoler:"RummyRoler",SubscriptionProfile:"SubscriptionProfile",TeenPattiRoler:"TeenPattiRoler",TeenPattiTourRoler:"TeenPattiTourRoler",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],TeenPattiProfile:[function(e,t,i){"use strict";cc._RF.push(t,"a2c04TCSGpJiIayB583Coao","TeenPattiProfile");var n=e("Command"),a=e("UIInfo");cc.Class({name:"TeenPattiProfile",properties:{isItMe:!1,gameCore:null,strTPID:{set:function(e){this._strTPID=e},get:function(){return this._strTPID}},nFrameID:0,strCountry:{set:function(e){this._strCountry=e},get:function(){return this._strCountry}},goldVIPType:{set:function(e){this._goldVIPType=e},get:function(){return this._goldVIPType}},goldVIP:{set:function(e){this._goldVIP=e},get:function(){return this._goldVIP}},goldVIPBuys:{set:function(e){this._goldVIPBuys=e},get:function(){return this._goldVIPBuys}},goldVIPExp:{set:function(e){this._goldVIPExp=e},get:function(){return this._goldVIPExp}},goldTransFreeLeft:{set:function(e){this._goldTransFreeLeft=Math.max(0,e)},get:function(){return this._goldTransFreeLeft}},isHandStrengthMeter:!1,isNotification:!1,handStrengthMeterFreeTime:0,strIconID:{set:function(e){this._strIconID=e},get:function(){return this._strIconID}},newIcon:null,strTPName:"",nChips:{set:function(e){this._nChips=e},get:function(){return this._nChips}},nGold:{set:function(e){this._nGold=e},get:function(){return this._nGold}},nFreezeChips:{set:function(e){this._nFreezeChips=e},get:function(){return this._nFreezeChips}},curRoomWinChips:{set:function(e){this._curRoomWinChips=e},get:function(){return this._curRoomWinChips}},curRoomWinGold:{set:function(e){this._curRoomWinGold=e},get:function(){return this._curRoomWinGold}},nChipsLastChange:0,nGoldLastChange:0,tournamentChips:0,nCredit:0,nLevel:1,curExp:0,nextExp:1,handsWin:0,chipsWin:0,advNum:0,friendsCount:0,bankChips:0,diamond:0,storeBanned:!1,arrCmdHandler:{default:{}}},ctor:function(){this.curRoomWinChips=0,this.curRoomWinGold=0,this.nFreezeChips=0,this._goldVIPType=-1,this._goldVIP=0,this._goldVIPExp=0,this._goldTransFreeLeft=0,this.arrCmdHandler[n.SERVER_CMD_LOGIN]=handler(this,this.onMsgLoginReceived),this.arrCmdHandler[n.SERVER_CMD_GET_USER_INFO]=handler(this,this.onMsgUserInfoReceived),this.arrCmdHandler[n.SERVER_CMD_USER_UPDATE]=handler(this,this.onUserUpdate),this.arrCmdHandler[n.SERVER_CMD_BANK_ACCOUNT]=handler(this,this.onUserBankProfile),this.arrCmdHandler[n.SERVER_CMD_DIAMOND_ACCOUNT]=handler(this,this.onUserDiamondProfile),this.arrCmdHandler[n.SERVER_CMD_BANK_TO_CHIPS]=handler(this,this.onUserBankUpdate),this.arrCmdHandler[n.SERVER_CMD_BANK_TO_BANK]=handler(this,this.onUserBankUpdate),this.arrCmdHandler[n.SERVER_CMD_DIAMOND_TO_BANK]=handler(this,this.onUserDiamondToBank),this.arrCmdHandler[n.SERVER_CMD_ADD_DIAMONDS]=handler(this,this.onUserAddDiamonds),this.arrCmdHandler.chipstobank=handler(this,this.onUserChipsExchange),this.arrCmdHandler.advnum=handler(this,this.onUserAdInfoGet),this.arrCmdHandler.profile=handler(this,this.onUserProfile),this.arrCmdHandler.bannedbuy=handler(this,this.onStoreBanGet)},init:function(){},initWithSFSPlayer:function(e){e&&(this.strTPID=e.name,this.nFrameID=void 0!==e.variables.frame?e.variables.frame.value:0,this.strCountry=void 0!==e.variables.c?e.variables.c.value:"",this.strIconID=void 0!==e.variables.i?e.variables.i.value:-1,this.newIcon=void 0!==e.variables.ni?e.variables.ni.value:null,VIDEO_RECORD&&ITeenPatti.gameCore.userMng.myself&&ITeenPatti.gameCore.userMng.myself.strTPID==this.strTPID?this.strTPName=ITeenPatti.gameCore.userMng.myself.strTPName:this.strTPName=void 0!==e.variables.n?e.variables.n.value:"",this.nChips=void 0!==e.variables.cp?e.variables.cp.value:0,this.nGold=void 0!==e.variables.gold?e.variables.gold.value:0,this.curRoomWinChips=void 0!==e.variables.wc?e.variables.wc.value:0,this.curRoomWinGold=void 0!==e.variables.gwc?e.variables.gwc.value:0,void 0!==e.variables.vc&&(this.tournamentChips=e.variables.vc.value))},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onUserUpdate:function(e,t){t.user.name==this.strTPID&&(this.nFrameID=void 0!==t.user.variables.frame?t.user.variables.frame.value:0,this.strCountry=void 0!==t.user.variables.c?t.user.variables.c.value:"",this.strIconID=void 0!==t.user.variables.i?t.user.variables.i.value:-1,this.newIcon=void 0!==t.user.variables.ni?t.user.variables.ni.value:null,this.isNotification=void 0!==t.user.variables.ino&&t.user.variables.ino.value,VIDEO_RECORD&&ITeenPatti.gameCore.userMng&&ITeenPatti.gameCore.userMng.myself&&ITeenPatti.gameCore.userMng.myself.strTPID==this.strTPID?this.strTPName=ITeenPatti.gameCore.userMng.myself.strTPName:this.strTPName=void 0!==t.user.variables.n?t.user.variables.n.value:"",-1!=t.changedVars.indexOf("idg")&&(this.isHandStrengthMeter=void 0!==t.user.variables.idg&&t.user.variables.idg.value),this.nChipsLastChange=0,void 0!==t.user.variables.cp&&(t.user.variables.cp.value!=this.nChips&&(this.nChipsLastChange=t.user.variables.cp.value-this.nChips),this.nChips=t.user.variables.cp.value),this.nGoldLastChange=0,void 0!==t.user.variables.gold&&(t.user.variables.gold.value!=this.nGold&&(this.nGoldLastChange=t.user.variables.gold.value-this.nGold),this.nGold=t.user.variables.gold.value),void 0!==t.user.variables.wc&&(this.curRoomWinChips=t.user.variables.wc.value),void 0!==t.user.variables.gwc&&(this.curRoomWinGold=t.user.variables.gwc.value),void 0!==t.user.variables.vc&&(this.tournamentChips=t.user.variables.vc.value))},onMsgLoginReceived:function(e,t){t&&t.user&&(this.isItMe=!0,this.strTPID=t.user.name,this.nFrameID=void 0!==t.user.variables.frame?t.user.variables.frame.value:0,this.strCountry=void 0!==t.user.variables.c?t.user.variables.c.value:"",this.strIconID=void 0!==t.user.variables.i?t.user.variables.i.value:-1,this.newIcon=void 0!==t.user.variables.ni?t.user.variables.ni.value:null,this.strTPName=void 0!==t.user.variables.n?t.user.variables.n.value:"",void 0!==t.user.variables.cp&&(this.nChips=t.user.variables.cp.value),void 0!==t.user.variables.gold&&(this.nGold=t.user.variables.gold.value))},onMsgUserInfoReceived:function(e,t){t.id==this.strTPID&&(this.strTPName=t.name,this.strIconID=t.icon,t.newicon&&(this.newIcon=t.newicon),this.nChips=t.chips,this.nFreezeChips=t.freeze?t.freeze:0,this.nLevel=t.level,this.curExp=t.exp1,this.nextExp=t.exp2,this.friendsCount=t.friendsCount,this.chipsWin=t.newchipsWin?t.newchipsWin:t.chipsWin,this.handsWin=t.handsWin,this.strCountry=t.country,t.gold&&(this.nGold=t.gold),t.goldvip&&(this.goldVIP=t.goldvip),t.goldvipexp&&(this.goldVIPExp=(new Date).getTime()+1e3*t.goldvipexp),this.isHandStrengthMeter=t.isDegree,this.handStrengthMeterFreeTime=(new Date).getTime()+1e3*t.degreeFreeTime)},onMsgFriendListReceived:function(e){this.strTPID=""+e.userinfo.id,this.nChips=e.userinfo.chips,this.strTPName=""+e.userinfo.name,this.strIconID=e.userinfo.icon,this.handsWin=e.userinfo.handsWin,this.chipsWin=e.userinfo.newchipsWin?e.userinfo.newchipsWin:e.userinfo.chipsWin,this.relation=e.userinfo.relation},onUserProfile:function(e,t){t.user_id==this.strTPID&&(VIDEO_RECORD&&ITeenPatti.gameCore.userMng.myself&&ITeenPatti.gameCore.userMng.myself.strTPID==t.user_id?this.strTPName=ITeenPatti.gameCore.userMng.myself.strTPName:this.strTPName=t.name,this.strIconID=t.icon,(!this.gameCore||this.gameCore&&this.gameCore.uiMng.curSceneKey!=a.TEXAS_HOLDEM_SCENE.name)&&(this.nChips=t.chips),this.gameCore&&this.gameCore.uiMng.curSceneKey==a.TEXAS_HOLDEM_SCENE.name&&(this.realChips=t.chips),this.nLevel=t.level,this.friendsCount=t.friends,t.newicon&&(this.newIcon=t.newicon))},onStoreBanGet:function(e,t){this.isItMe&&(this.storeBanned=t.i)},onUserAdInfoGet:function(e,t){this.advNum=t.i},onUserBankProfile:function(e,t){this.isItMe&&(this.bankChips=t.i)},onUserDiamondProfile:function(e,t){this.isItMe&&(this.diamond=t.diamond)},onUserBankUpdate:function(e,t){this.isItMe&&(this.bankChips=t.bankChips)},onUserDiamondToBank:function(e,t){this.isItMe&&t.success&&(this.bankChips=t.bank,this.diamond-=t.diamond)},onUserAddDiamonds:function(e,t){this.isItMe&&(this.diamond=t.diamonds)},onUserChipsExchange:function(e,t){this.isItMe&&(this.bankChips=t.bankchips)}});cc._RF.pop()},{Command:"Command",UIInfo:"UIInfo"}],TeenPattiRoler:[function(e,t,i){"use strict";cc._RF.push(t,"9ac54dggflAbZPst5ie1PgW","TeenPattiRoler");var n=1,a=2,o=e("LanguageData"),s="TeenPattiRoler";cc.Class({name:"TeenPattiRoler",properties:{role:0,userId:null,playerId:null,state:{get:function(){return this._state},set:function(e){this._state=e}},curRoundStake:0,lastBetStake:0,totalStake:0,arrCard:[],arrCard2:[],chipsWin:0,handsNum:0,handsWin:0,arrCmdHandler:{default:{}}},ctor:function(){var e=arguments[0];this.userId=e.name,this.playerId=e.playerId,this.role=e.playerId>0?a:n,this.state=e.variables.st?e.variables.st.value:USER_STATE.WAIT,this.arrCmdHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrCmdHandler.UserSitDown=handler(this,this.onUserSitDown),this.arrCmdHandler.UserUpdate=handler(this,this.onUserUpdate),this.arrCmdHandler.profile=handler(this,this.onUserProfile)},isWatcher:function(){return this.role==n},isRoundPartner:function(){return this.state!=USER_STATE.WAIT},isActivePartner:function(){return this.state!=USER_STATE.WAIT&&this.state!=USER_STATE.PACKED},isAlivePartner:function(){return this.state==USER_STATE.BLIND||this.state==USER_STATE.CHAAL||this.state==USER_STATE.SSHOW||this.state==USER_STATE.SEEN},isCardSeen:function(){return this.arrCard.length>0||(this.state==USER_STATE.CHAAL||this.state==USER_STATE.SEEN||this.state==USER_STATE.SHOW||this.state==USER_STATE.SSHOW)},isCardPack:function(){return this.state==USER_STATE.PACKED},setUserCard:function(e){if(e.id==this.playerId){this.arrCard=[];for(var t=0;t<3;t++)LogUtil.debug("Roler","usercards"+(2-t)+":"+e.cards[t+1]),this.arrCard[2-t]=e.cards[t+1];this.sortArrCard2(e.cards),LogUtil.debug("Roler","usercards length "+this.arrCard.length)}},getUserCard:function(){return this.arrCard},getUserCard2:function(){return this.arrCard2},getStateText:function(){var e={1:o.t("label_text.chaal"),2:o.t("label_text.blind"),3:o.t("label_text.seen"),4:o.t("label_text.packed"),5:o.t("label_text.show"),6:o.t("label_text.s_show"),7:""};return null!=this.state&&e[this.state]?e[this.state]:""},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onUserStandUp:function(e,t){this.userId==t.user.name&&(this.role=n,this.playerId=t.user.playerId,this.state=USER_STATE.WAIT,LogUtil.debug(s,"onUserStandUp:userId="+this.userId+"state="+this.state))},onUserSitDown:function(e,t){this.userId==t.user.name&&(this.role=a,this.playerId=t.user.playerId,this.state=t.user.variables.st?t.user.variables.st.value:USER_STATE.WAIT,LogUtil.debug(s,"onUserSitDown:userId="+this.userId+"state="+this.state))},onUserUpdate:function(e,t){if(this.userId==t.user.name)for(var i in t.changedVars)"st"==t.changedVars[i]&&t.user.variables.st&&(this.state=t.user.variables.st.value,LogUtil.debug(s,"onUserUpdate:userId="+this.userId+"state="+this.state))},onUserLevelUp:function(e,t){this.chipsWin+=t.i},onRoundReady:function(e,t){this.curRoundStake=0,this.lastBetStake=0,this.arrCard=[],this.arrCard2=[],LogUtil.debug("Roler","onRoundReady:"+e)},onRoundStart:function(e,t){this.state=USER_STATE.BLIND,this.curRoundStake=0,this.arrCard=[],this.arrCard2=[],LogUtil.debug(s,"onRoundStart:userId="+this.userId+"state="+this.state)},onRoundNext:function(e,t){},onRoundAwards:function(e,t){for(var i in t.playerId)if(t.playerId.hasOwnProperty(i)&&t.playerId[i]==this.playerId)return void(t.num instanceof Object?this.chipsWin+=t.num[i]:this.chipsWin+=t.num)},onRoundFinish:function(e,t){this.curRoundStake=0,this.lastBetStake=0},onUserAction:function(e,t){this.playerId==t.playerId&&(t.action==USER_ACTION.BET?(this.chipsWin-=t.num,this.lastBetStake=t.num,this.curRoundStake+=t.num):t.action==USER_ACTION.SEEN?(this.state=USER_STATE.SEEN,LogUtil.debug(s,"onUserAction:userId="+this.userId+"state="+this.state)):t.action==USER_ACTION.INIT_BET||t.action==USER_ACTION.SHOW||t.action==USER_ACTION.SIDE_SHOW?(this.chipsWin-=t.num,this.lastBetStake=t.num,this.curRoundStake+=t.num):t.action==USER_ACTION.PACK&&(this.state=USER_STATE.PACKED,LogUtil.debug(s,"onUserAction:userId="+this.userId+"state="+this.state)))},onUserSee:function(e,t){if(this.playerId==t.id){this.arrCard=[];for(var i=0;i<3;i++)LogUtil.debug("Roler","1:usercards"+(2-i)+":"+t.cards[i+1]),this.arrCard[2-i]=t.cards[i+1];this.sortArrCard2(t.cards)}},sortArrCard2:function(e){this.arrCard2=[];for(var t=3;t<6;t++)null!=e[t+1]&&(this.arrCard2[t-3]=e[t+1],LogUtil.debug("Roler","2:usercards"+(t-3)+":"+e[t+1]));if(this.arrCard2.length>0){for(var i=[],n=this.arrCard.length-1;n>=0;n--){-1!=(t=this.arrCard2.indexOf(this.arrCard[n]))?(i.unshift(this.arrCard[n]),this.arrCard2.splice(t,1)):i.unshift(-1)}for(n=0;n<i.length;n++)-1==i[n]&&this.arrCard2.length>0&&(i[n]=this.arrCard2.pop());this.arrCard2=i}},onUserShow:function(e,t){},onUserProfile:function(e,t){t.user_id==this.userId&&(this.chipsWin=t.new_chips_win?t.new_chips_win:t.chips_win,this.handsNum=t.hands_num,this.handsWin=t.hands_win)}});cc._RF.pop()},{LanguageData:"LanguageData"}],TeenPattiTourRoler:[function(e,t,i){"use strict";cc._RF.push(t,"9fc48QpqrpCGq1Z9ms8TBpq","TeenPattiTourRoler");var n=e("TeenPattiRoler");cc.Class({extends:n,name:"TeenPattiTourRoler",properties:{}}),cc._RF.pop()},{TeenPattiRoler:"TeenPattiRoler"}],TeenPattiUser:[function(e,t,i){"use strict";cc._RF.push(t,"831d1vup49AJr2kVTK/Hkg/","TeenPattiUser");var n=e("FacebookProfile"),a=e("TeenPattiProfile"),o=e("PromotionProfile"),s=e("TeenPattiRoler"),r=e("RummyRoler");cc.Class({name:"TeenPattiUser",properties:{userId:"0",role:s,rummyrole:r,fbProfile:n,tpProfile:a,ptProfile:o,arrCmdHandler:{default:{}},online:!1,roomName:null,strTPID:{get:function(){return this.tpProfile.strTPID}},fakeName:{get:function(){return""!=this._fakeName&&this._fakeName?this._fakeName:this.tpProfile.strTPName},set:function(e){this._fakeName=e}},strTPName:{get:function(){return VIDEO_RECORD?this.fakeName:this.tpProfile.strTPName}},nChips:{get:function(){return this.tpProfile.nChips}},nGold:{get:function(){return this.tpProfile.nGold}},nFreezeChips:{get:function(){return this.tpProfile.nFreezeChips}},nChipsLastChange:{get:function(){return this.tpProfile.nChipsLastChange}},nGoldLastChange:{get:function(){return this.tpProfile.nGoldLastChange}},curRoomWinChips:{get:function(){return this.tpProfile.curRoomWinChips}},curRoomWinGold:{get:function(){return this.tpProfile.curRoomWinGold}},chipsWin:{get:function(){return this.tpProfile.chipsWin}},handsWin:{get:function(){return this.tpProfile.handsWin}},strIconID:{get:function(){return this.tpProfile.strIconID},set:function(e){this.tpProfile.strIconID=e}},newIcon:{get:function(){return this.tpProfile.newIcon}},nLevel:{get:function(){return this.tpProfile.nLevel}},curExp:{get:function(){return this.tpProfile.curExp},set:function(e){this.tpProfile.curExp=e}},nextExp:{get:function(){return this.tpProfile.nextExp},set:function(e){this.tpProfile.nextExp=e}},expProgress:{get:function(){return this.tpProfile.curExp/this.tpProfile.nextExp}},friendsCount:{get:function(){return this.tpProfile.friendsCount}},strCountry:{get:function(){return this.tpProfile.strCountry}},goldVIPType:{get:function(){return this.tpProfile.goldVIPType}},goldVIP:{get:function(){return this.tpProfile.goldVIP}},goldVIPBuys:{get:function(){return this.tpProfile.goldVIPBuys}},goldVIPExp:{get:function(){return this.tpProfile.goldVIPExp}},isVIPExpired:{get:function(){return this.goldVIPExp<=(new Date).getTime()}},goldTransFreeLeft:{get:function(){return this.tpProfile.goldTransFreeLeft}},strIconUrl:{get:function(){return this.fbProfile.strIconUrl},set:function(e){this.fbProfile.strIconUrl=e}},strFBID:{get:function(){return this.fbProfile.strFBID}},strIToken:{get:function(){return this.fbProfile.strIToken}}},ctor:function(){this.fbProfile=new n,this.tpProfile=new a},initWithRankingTourInfo:function(e){this.tpProfile.strIconID=e.icon,this.tpProfile.newIcon=e.newicon,this.fbProfile.strFBID=e.facebookID},initWithChipsWinRankInfo:function(e){this.initWithRankInfo(e),this.tpProfile.chipsWin=e.wins},initWithHandsWinRankInfo:function(e){this.initWithRankInfo(e),this.tpProfile.handsWin=e.wins},initWithRankInfo:function(e){this.tpProfile.strTPName=e.name,this.tpProfile.strIconID=e.icon,this.tpProfile.newIcon=e.newicon,this.fbProfile.strFBID=e.facebookID},initWithSFSPlayer:function(e){this.userId=e.name,this.fbProfile.initWithSFSPlayer(e),this.tpProfile.initWithSFSPlayer(e)},initWithUserinfoData:function(e){this.tpProfile.strTPName=e.name,this.tpProfile.strTPID=e.id,this.tpProfile.strIconID=e.icon,this.tpProfile.nChips=e.chips,this.tpProfile.nGold=e.gold,this.tpProfile.nLevel=e.level,this.tpProfile.friendsCount=e.friendsCount,this.tpProfile.chipsWin=e.newchipsWin?e.newchipsWin:e.chipsWin,this.tpProfile.handsWin=e.handsWin,this.tpProfile.newicon=e.newicon,this.fbProfile.strFBID=e.facebookID},hasPlayedGame:function(){return""!=this.fbProfile.strFBID},isFacebookLogin:function(){return this.fbProfile.isLogin()},isFacebookInviteFriend:function(){return this.fbProfile.isFacebookInviteFriend()},getTeenPattiProfile:function(){return this.tpProfile},getFacebookProfile:function(){return this.fbProfile},setRole:function(e){this.role=e},setRummyRole:function(e){this.rummyrole=e},onMsgReceived:function(e,t){if(t.user&&!(this.userId.length>1&&t.user.name!=this.userId)){this.rummyrole&&this.rummyrole.onMsgReceived(e,t),this.tpProfile&&this.tpProfile.onMsgReceived(e,t),this.fbProfile&&this.fbProfile.onMsgReceived(e,t),this.userId=this.tpProfile.strTPID;var i=this.arrCmdHandler[e];i&&i(e,t)}},updateUserInfo:function(e){this.tpProfile.nChips=e.chips,this.tpProfile.chipsWin=e.newchipsWin?e.newchipsWin:e.chipsWin,this.tpProfile.friendsCount=e.friendsCount,this.tpProfile.handsWin=e.handsWin,this.tpProfile.strIconID=e.icon,this.tpProfile.nLevel=e.level,this.tpProfile.strTPName=e.name,this.roomName=e.roomName}});cc._RF.pop()},{FacebookProfile:"FacebookProfile",PromotionProfile:"PromotionProfile",RummyRoler:"RummyRoler",TeenPattiProfile:"TeenPattiProfile",TeenPattiRoler:"TeenPattiRoler"}],TeenPattiWarRoler:[function(e,t,i){"use strict";cc._RF.push(t,"ccc99e8rQxC1YIitKtUBkiM","TeenPattiWarRoler");e("LanguageData");var n=e("TeenPattiRoler");cc.Class({extends:n,name:"TeenPattiWarRoler",properties:{},ctor:function(){},reset:function(){}});cc._RF.pop()},{LanguageData:"LanguageData",TeenPattiRoler:"TeenPattiRoler"}],TexasHoldemActionPool:[function(e,t,i){"use strict";cc._RF.push(t,"dca48trvzdLlJKjLG1ZQwTK","TexasHoldemActionPool");cc.Class({extends:cc.Component,properties:{arrAction:{default:[],visible:!1}},removeAll:function(){LogUtil.info("TexasHoldemActionPool","Texas Holdem Action Pool Clear");for(var e=this.arrAction.length-1;e>=0;--e)this.arrAction[e].onDestroy&&this.arrAction[e].onDestroy(),this.arrAction[e].destroy();this.arrAction=[]},runAction:function(e,t,i){e.strCmd=t,e.objData=i,this.arrAction.push(e),e.play(this)},onActionFinish:function(e){for(var t=this.arrAction.length-1;t>=0;--t)if(this.arrAction[t]==e)return void this.arrAction.splice(t,1)}}),cc._RF.pop()},{}],TexasHoldemControlBarStateActive:[function(e,t,i){"use strict";cc._RF.push(t,"5fb7bzpYQlLzomSruHU8sk+","TexasHoldemControlBarStateActive");var n=e("GameUtils"),a=e("LanguageData"),o="TexasHoldemControlBarStateActive";cc.Class({extends:cc.Component,properties:{foldBtn:cc.Node,checkBtn:cc.Node,callBtn:cc.Node,raiseBtn:cc.Node,allinBtn:cc.Node,allinOnlyBtn:cc.Node,raiseBar:cc.Node,lblCallAmount:cc.Label,lblRaiseAmount:cc.Label,lblAllinAmount:cc.Label,lblAllinOnlyAmount:cc.Label,loadingMask:cc.Prefab},init:function(){this.node.active=!1,this.isShow=!1},onLoad:function(){this.arrBtn=[this.foldBtn,this.checkBtn,this.callBtn,this.raiseBtn,this.allinBtn,this.allinOnlyBtn],this.raiseBar.on("ae_texas_raise_slide",this.onSlideRaise,this)},hide:function(){LogUtil.info(o,"-------------- Hide -----------------"),this.addMask();var e=this;this.isShow=!1,this.node.active=!0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){e.node.active=!1})))},show:function(e){LogUtil.info(o,"-------------- Show -----------------"),this.clearMask(),this.isShow=!0,this.node.active=!0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(e),cc.show(),cc.fadeIn(.1)))},clearMask:function(){for(var e in this.arrBtn){var t=this.arrBtn[e],i=t.getChildByName("loading");i&&i.removeFromParent(),t.getComponent(cc.Button).interactable=!0,t.color=new cc.Color(255,255,255),t.children.forEach(function(e){e.color=new cc.Color(255,255,255)}.bind(this))}},addMask:function(){for(var e in this.arrBtn){var t=this.arrBtn[e];t.getComponent(cc.Button).interactable=!1,t.color=new cc.Color(200,200,200),t.children.forEach(function(e){e.color=new cc.Color(200,200,200)}.bind(this))}},addLoadingMask:function(e){var t=cc.instantiate(this.loadingMask);t.scaleX=t.scaleY=.5,e.addChild(t,1,"loading")},onBtnFoldClk:function(){this.isShow&&(this.addLoadingMask(this.foldBtn),ITeenPatti.sendMsg("pokerfold",null),this.addMask())},onBtnCheckClk:function(){this.isShow&&(this.addLoadingMask(this.checkBtn),ITeenPatti.sendMsg("pokercall",null),this.addMask())},onBtnCallClk:function(){this.isShow&&(this.addLoadingMask(this.callBtn),ITeenPatti.sendMsg("pokercall",null),this.addMask())},onBtnRaiseClik:function(){this.isShow&&(0!=this.raiseBar.active?(this.addLoadingMask(this.raiseBtn),ITeenPatti.sendMsg("pokerraise",{i:this.raiseAmount}),this.addMask()):this.raiseBar.active=!0)},onBtnAllinClk:function(){this.isShow&&(this.addLoadingMask(this.allinBtn),ITeenPatti.sendMsg("pokerallin",null),this.addMask())},onBtnAllinOnlyClk:function(){this.isShow&&(this.addLoadingMask(this.allinOnlyBtn),ITeenPatti.sendMsg("pokerallin",null),this.addMask())},onSlideRaise:function(e){this.raiseAmount=e.amount;var t=ITeenPatti.getCurPlayer().role;this.raiseBtn.active=t.chips>this.raiseAmount,this.allinBtn.active=t.chips<=this.raiseAmount,this.lblRaiseAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.raiseAmount)})},onUserAuto:function(){},onUserAction:function(){var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurPlayer().role,i=e.maxStake-t.totalStake;this.raiseAmount=e.raiseStake+i,this.lblCallAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(i)}),this.lblRaiseAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(e.raiseStake+i)})},onUserNext:function(e,t){this.clearMask();var i=ITeenPatti.getCurTable().round,o=ITeenPatti.getCurPlayer().role,s=i.maxStake-o.totalStake;this.raiseAmount=i.raiseStake+s,this.checkBtn.active=s<=0,this.callBtn.active=s>0&&o.chips>s,this.allinOnlyBtn.active=s>0&&o.chips<=s,this.raiseBtn.active=o.chips>s&&o.chips>i.raiseStake+s,this.allinBtn.active=o.chips>s&&o.chips<=i.raiseStake+s,this.raiseBar.active=!1,this.lblCallAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(s)}),this.lblRaiseAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(i.raiseStake+s)}),this.lblAllinAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(o.chips)}),this.lblAllinOnlyAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(o.chips)})}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemControlBarStateSilent:[function(e,t,i){"use strict";cc._RF.push(t,"7a58amqDI1DnIlkjFyl/TKx","TexasHoldemControlBarStateSilent");var n=e("GameUtils"),a=e("LanguageData"),o="TexasHoldemControlBarStateSilent";cc.Class({extends:cc.Component,properties:{foldBtn:cc.Node,checkBtn:cc.Node,callBtn:cc.Node,callAnyBtn:cc.Node,allinBtn:cc.Node,allinOnlyBtn:cc.Node,imgFoldSelect:cc.Node,imgCheckSelect:cc.Node,imgCallSelect:cc.Node,imgCallAnySelect:cc.Node,imgAllinSelect:cc.Node,imgAllinOnlySelect:cc.Node,lblCallAmount:cc.Label,loadingMask:cc.Prefab},init:function(){this.node.active=!1,this.clearMask(),this.cancelOtherBtn()},onLoad:function(){this.lastCallStake=0,this.arrBtn=[this.foldBtn,this.checkBtn,this.callBtn,this.callAnyBtn,this.allinBtn,this.allinOnlyBtn]},hide:function(){LogUtil.info(o,"-------------- Hide -----------------"),this.addMask();var e=this;this.node.active=!0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){e.node.active=!1})))},show:function(e){LogUtil.info(o,"-------------- Show -----------------"),this.clearMask(),this.node.active=!0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(e),cc.show(),cc.fadeIn(.1)))},onBtnFoldClk:function(){var e=this.imgFoldSelect.active;this.cancelOtherBtn(this.imgFoldSelect),this.imgFoldSelect.active=!e,this.turnId=ITeenPatti.getCurTable().round.turnId},onBtnCheckClk:function(){var e=this.imgCheckSelect.active;this.cancelOtherBtn(this.imgCheckSelect),this.imgCheckSelect.active=!e,this.turnId=ITeenPatti.getCurTable().round.turnId},onBtnCallClk:function(){if(ITeenPatti.getCurTable()){var e=this.imgCallSelect.active;this.cancelOtherBtn(this.imgCallSelect),this.imgCallSelect.active=!e,this.turnId=ITeenPatti.getCurTable().round.turnId}},onBtnCallAnyClk:function(){var e=this.imgCallAnySelect.active;this.cancelOtherBtn(this.imgCallAnySelect),this.imgCallAnySelect.active=!e,this.turnId=ITeenPatti.getCurTable().round.turnId},onBtnAllinClk:function(){var e=this.imgAllinSelect.active;this.cancelOtherBtn(this.imgAllinSelect),this.imgAllinSelect.active=!e,this.turnId=ITeenPatti.getCurTable().round.turnId},onBtnAllinOnlyClk:function(){var e=this.imgAllinOnlySelect.active;this.cancelOtherBtn(this.imgAllinOnlySelect),this.imgAllinOnlySelect.active=!e,this.turnId=ITeenPatti.getCurTable().round.turnId},cancelOtherBtn:function(e){this.imgFoldSelect.active=!1,this.imgCheckSelect.active=!1,this.imgCallSelect.active=!1,this.imgCallAnySelect.active=!1,this.imgAllinSelect.active=!1,this.imgAllinOnlySelect.active=!1},clearMask:function(){for(var e in this.arrBtn){var t=this.arrBtn[e],i=t.getChildByName("loading");i&&i.removeFromParent(),t.getComponent(cc.Button).interactable=!0,t.color=new cc.Color(255,255,255),t.children.forEach(function(e){e.color=new cc.Color(255,255,255)}.bind(this))}this.cancelOtherBtn(),this.turnId=-1},addMask:function(){for(var e in this.arrBtn){var t=this.arrBtn[e];t.getComponent(cc.Button).interactable=!1,t.color=new cc.Color(200,200,200),t.children.forEach(function(e){e.color=new cc.Color(200,200,200)}.bind(this))}},addLoadingMask:function(e){var t=cc.instantiate(this.loadingMask);t.scaleX=t.scaleY=.5,this.foldBtn.addChild(t,1,"loading")},isUserAuto:function(){var e=ITeenPatti.getCurTable().round;ITeenPatti.getCurPlayer().role;return!(1e3*e.cdTime+e.cdStart<(new Date).getTime())&&(!(this.turnId<0)&&(this.imgFoldSelect.active||this.imgCheckSelect.active||this.imgCallSelect.active||this.imgCallAnySelect.active||this.imgAllinSelect.active||this.imgAllinOnlySelect.active))},onUserAuto:function(){return this.node.active=!0,this.isAutoAction=!0,LogUtil.info(o,"------------------- AUTO Control Begin --------------------------"),this.imgFoldSelect.active?(this.addLoadingMask(this.foldBtn),this.addMask(),ITeenPatti.sendMsg("pokerfold",null),!0):this.imgCheckSelect.active?(this.addLoadingMask(this.checkBtn),this.addMask(),ITeenPatti.sendMsg("pokercall",null),!0):this.imgCallSelect.active?(this.addLoadingMask(this.callBtn),this.addMask(),ITeenPatti.sendMsg("pokercall",null),!0):this.imgCallAnySelect.active?(this.addLoadingMask(this.callAnyBtn),this.addMask(),ITeenPatti.sendMsg("pokercall",null),!0):this.imgAllinSelect.active?(this.addLoadingMask(this.allinBtn),this.addMask(),ITeenPatti.sendMsg("pokerallin",null),!0):this.imgAllinOnlySelect.active?(this.addLoadingMask(this.allinOnlyBtn),this.addMask(),ITeenPatti.sendMsg("pokerallin",null),!0):(LogUtil.info(o,"------------------- AUTO Control Finish --------------------------"),!1)},onUserNext:function(){var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurPlayer().role;e.lastId==t.playerId&&e.nextId!=t.playerId&&this.clearMask();var i=e.maxStake-t.totalStake;this.raiseAmount=e.raiseStake+i,this.checkBtn.active=i<=0,this.callBtn.active=i>0&&t.chips>=i,this.allinOnlyBtn.active=i>0&&t.chips<i,this.callAnyBtn.active=t.chips>i&&t.chips>e.raiseStake,this.allinBtn.active=t.chips>i&&t.chips<=e.raiseStake,this.lastCallStake!=i&&(this.imgCallSelect.active=!1),this.lblCallAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(i)}),this.lastCallStake=i},onUserAction:function(){var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurPlayer().role;e.isAllUserAllIn()&&(this.node.active=!1);var i=e.maxStake-t.totalStake;i>0&&(this.imgCheckSelect.active=!1),this.lastCallStake!=i&&(this.imgCallSelect.active=!1),this.lblCallAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(i)}),this.lastCallStake=i}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemControlBar:[function(e,t,i){"use strict";cc._RF.push(t,"c20e6ytsp1MBYnn9LebGiMH","TexasHoldemControlBar");e("GameUtils");var n=e("TexasHoldemControlBarStateActive"),a=e("TexasHoldemControlBarStateSilent");cc.Class({extends:cc.Component,properties:{stateActive:n,stateSilent:a},init:function(){this.interval=0,this.curState&&this.curState.hide(),this.curState=null,this.node.active=!1,this.stateActive.init(),this.stateSilent.init()},update:function(e){if(this.interval+=e,!(this.interval<.2)&&ITeenPatti.getCurTable()){this.interval=0;var t=ITeenPatti.getCurTable().round,i=ITeenPatti.getCurPlayer().role;t&&i&&t.isPlayer(i.playerId)&&t.nextId==i.playerId&&(1e3*t.cdTime+t.cdStart>(new Date).getTime()||this.curState&&this.curState==this.stateActive&&(this.curState&&this.curState.hide(),this.curState=null))}},onUserSitDown:function(){this.node.active=!1},onUserStandUp:function(){this.node.active=!1},onUserNext:function(e,t){var i=ITeenPatti.getCurTable().round,n=ITeenPatti.getCurPlayer().role;if(this.node.active=!1,i&&i.isPlayer(n.playerId)&&t){this.node.active=!0;var a=ITeenPatti.gameCore.gameMng.precontrolBarBan;if(!a&&t.nextId==n.playerId&&this.stateSilent.isUserAuto())return this.stateSilent.onUserAuto(),this.stateActive.onUserAuto(),void(this.curState=this.stateSilent);this.stateActive.onUserNext(e,t),this.stateSilent.onUserNext(e,t);var o=this.curState;this.curState=t.nextId==n.playerId?this.stateActive:null,this.curState=t.nextId!=n.playerId&&n.chips>0&&!n.isfold&&!a?this.stateSilent:this.curState,this.curState!=o&&(o&&o.hide(),this.curState&&this.curState.show(o?.1:.01))}},onUserAction:function(e,t){var i=ITeenPatti.getCurTable().round,n=ITeenPatti.getCurPlayer().role;if(i&&i.isPlayer(n.playerId)){if(t&&n.playerId==t.playId)return this.curState&&this.curState.hide(),void(this.curState=null);this.stateActive.onUserAction(),this.stateSilent.onUserAction()}else this.node.active=!1},onRoundReady:function(){this.init()},onRoundRunning:function(e,t){this.onUserNext(e,t)},onRoundCompare:function(){this.curState&&this.curState.hide(),this.curState=null},onRoundCollect:function(){this.stateSilent.init(),this.curState&&this.curState.hide(),this.curState=null},onRoundEnd:function(){this.curState&&this.curState.hide(),this.curState=null},onRoundClear:function(){this.node.active=!1,this.stateActive.init(),this.stateSilent.init(),this.curState=null}}),cc._RF.pop()},{GameUtils:"GameUtils",TexasHoldemControlBarStateActive:"TexasHoldemControlBarStateActive",TexasHoldemControlBarStateSilent:"TexasHoldemControlBarStateSilent"}],TexasHoldemControlHintBar:[function(e,t,i){"use strict";cc._RF.push(t,"b1d463dzHNHyLr86sGUFdv7","TexasHoldemControlHintBar"),cc.Class({extends:cc.Component,properties:{lblHint:cc.Label},init:function(){var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurPlayer().role;this.node.active=t.playerId>0&&(!e||!e.isPlayer(t.playerId))},onUserSitDown:function(){var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurPlayer().role;this.node.active=t.playerId>0&&(!e||!e.isPlayer(t.playerId))},onUserStandUp:function(){var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurPlayer().role;this.node.active=t.playerId>0&&(!e||!e.isPlayer(t.playerId))},onRoundStart:function(){this.node.active=!1},onRoundRunning:function(){var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurPlayer().role;this.node.active=t.playerId>0&&(!e||!e.isPlayer(t.playerId))}}),cc._RF.pop()},{}],TexasHoldemGoldRoom:[function(e,t,i){"use strict";cc._RF.push(t,"56d0d0XwbtAbaWlNq43c+Lc","TexasHoldemGoldRoom");var n=e("TexasHoldemRoom"),a=e("TexasHoldemTable"),o=e("UIInfo");n=cc.Class({name:"TexasHoldemGoldRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.TEXAS_HOLDEM_GOLD,this.table=new a,this.tableRulesUIInfo=o.TEXAS_HOLDEM_HELP}});cc._RF.pop()},{TexasHoldemRoom:"TexasHoldemRoom",TexasHoldemTable:"TexasHoldemTable",UIInfo:"UIInfo"}],TexasHoldemGoldScene:[function(e,t,i){"use strict";cc._RF.push(t,"49d2fGHh6lB0ZOexxMuUiRs","TexasHoldemGoldScene");var n=e("TexasHoldemScene"),a=e("UIInfo");cc.Class({extends:n,properties:{},getRoomInfoUIData:function(){return a.GAME_ROOM_INFO_TEXAS_HOLDEM_GOLD}}),cc._RF.pop()},{TexasHoldemScene:"TexasHoldemScene",UIInfo:"UIInfo"}],TexasHoldemGoldSeat:[function(e,t,i){"use strict";cc._RF.push(t,"671a0G1dXlGb4A8K5ola0Wo","TexasHoldemGoldSeat");var n=e("TexasHoldemSeat");cc.Class({extends:n,properties:{},initSeat:function(e,t){this._super(e,t),this.node.active=this.btnSit&&this.btnSit.node.active&&ITeenPatti.gameCore&&!ITeenPatti.gameCore.userMng.isSpectator},onUserStandUp:function(){this._super(),this.btnSit&&this.btnSit.node.active&&this.gameCore&&!this.gameCore.userMng.isSpectator&&(this.node.active=!0)},onUserSitDown:function(e){this.node.active=this._super(e)||this.btnSit.node.active,!this.tpUser&&this.gameCore&&this.gameCore.userMng.isSpectator&&(this.node.active=!1)},onOtherStandUp:function(){this.node.active=!this._super()||this.btnSit.node.active,!this.tpUser&&this.gameCore&&this.gameCore.userMng.isSpectator&&(this.node.active=!1)},onOtherSitDown:function(){this.node.active=!this._super()||this.btnSit.node.active,!this.tpUser&&this.gameCore&&this.gameCore.userMng.isSpectator&&(this.node.active=!1)},myBalance:function(){return ITeenPatti.getCurPlayer().nGold}}),cc._RF.pop()},{TexasHoldemSeat:"TexasHoldemSeat"}],TexasHoldemHelp:[function(e,t,i){"use strict";cc._RF.push(t,"d10f7zqCY5JN6biMBVitZ1l","TexasHoldemHelp");var n=e("BaseEdgePopup");cc.Class({extends:n,properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup"}],TexasHoldemLevelCache:[function(e,t,i){"use strict";cc._RF.push(t,"2afdd8qLcFAhY9EKFnn51QL","TexasHoldemLevelCache");var n=e("SpriteFrameSet");cc.Class({extends:cc.Component,properties:{level1:[n],level2:[n],level3:[n],level4:[n],level5:[n],level6:[n],level7:[n],level8:[n],level9:[n],level10:[n]},onLoad:function(){window.CardLevelCache=this,this.arrLevel=[this.level1,this.level2,this.level3,this.level4,this.level5,this.level6,this.level7,this.level8,this.level9,this.level10]},onDestroy:function(){window.CardLevelCache=null},getLevelFrame:function(e){var t=this.arrLevel[e-1];t=null!=t?t:this.level1;for(var i=0;i<t.length;++i)if(t[i].language===window.i18n.curLang)return t[i].spriteFrame;return t[0].spriteFrame}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],TexasHoldemLocalRefreshAction:[function(e,t,i){"use strict";cc._RF.push(t,"060036I7Z1GQZ6QTtZMgtXV","TexasHoldemLocalRefreshAction");var n=e("LanguageData");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){LogUtil.debug("TexasHoldemLocalRefreshAction","Table Refresh With Local Data");var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller,a=t.round,o=(new Date).getTime();if(t.cdStart+1e3*t.cdTime>o)if(t.cdTime<2)i.tableHintBar.addHint(n.t("label_text.starting_game"),1),ITeenPatti.gameCore.dataAnalysisMng.sendData(DataAnalysisKey.START_GAME,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData);else for(var s=0;s<t.cdTime;s++)i.tableHintBar.addHint(n.t("label_text.game_starting",{time:t.cdTime-s}),1,t.cdStart+1e3*s);if(a&&a.isRunning){i.controlBar.onRoundRunning(this.strCmd,this.objData),i.tablePoolBar.onRoundRunning(this.strCmd,this.objData),i.tableCardBar.onRoundRunning(this.strCmd,this.objData),i.tableLevelBar.onRoundRunning(this.strCmd,this.objData),i.controlHintBar.onRoundRunning(this.strCmd,this.objData),i.roomHintBar.onRoundRunning(this.strCmd,this.objData),i.tipCollector.onRoundRunning(this.strCmd,this.objData);for(s=0;s<i.arrSeat.length;s++)if(a.isPlayer(i.arrSeat[s].playerId)){var r=a.getPlayer(i.arrSeat[s].playerId);i.arrSeat[s].onRoundRunning(this.strCmd,this.objData),r&&r.isfold&&i.arrSeat[s].onUserFold(this.strCmd,{roundId:a.roundId,playId:r.playerId,bet:0,chips:r.chips}),i.arrSeat[s].playerId==a.nextId&&i.arrSeat[s].onUserActive()}this.onFinish(e)}else this.onFinish(e)},onFinish:function(e){e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{LanguageData:"LanguageData"}],TexasHoldemPlayerView:[function(e,t,i){"use strict";cc._RF.push(t,"8cd7dpOh7dLQrcJ6GsJQezj","TexasHoldemPlayerView"),cc.Class({extends:cc.Component,properties:{lblName:cc.Label,imgIcon:cc.Sprite,imgFrame:cc.Node,imgBank:cc.Node,giftSender:cc.Node,giftReceiver:cc.Node,msgSender:cc.Node,arrWinner:[cc.Node],arrEffect:[cc.Prefab],ActiveEffect:cc.Node,ActiveEffect1:sp.Skeleton,ActiveEffect2:sp.Skeleton},init:function(e,t){this.seatId=e,this.playerId=t,this.node.active=!0,this.imgBank.active=!1,this.lblName.node.color=new cc.Color(255,255,255),this.imgIcon.node.color=new cc.Color(255,255,255),this.imgFrame.color=new cc.Color(255,255,255),!this.imgFrameDefault&&(this.imgFrameDefault=this.imgIcon.spriteFrame);for(var i=0;i<this.arrWinner.length;i++)this.arrWinner[i].removeAllChildren()},getGiftSendPostion:function(){return this.giftSender.convertToWorldSpaceAR(cc.v2(0,0))},getGiftReceivePostion:function(e){return 12==e||15==e||23==e?this.node.convertToWorldSpaceAR(cc.v2(0,0)):19==e?this.node.convertToWorldSpaceAR(cc.v2(-60,-40)):20==e?this.node.convertToWorldSpaceAR(cc.v2(0,3)):25==e||27==e?this.giftReceiver.convertToWorldSpaceAR(cc.v2(25,0)):this.giftReceiver.convertToWorldSpaceAR(cc.v2(0,0))},getMessagePostion:function(){return this.msgSender.convertToWorldSpaceAR(cc.v2(0,0))},onUserStandUp:function(){this.tpUser=null,this.lblName.string="",this.imgIcon.spriteFrame=this.imgFrameDefault},onUserSitDown:function(e){this.tpUser;this.tpUser=e,this.lblName.string=this.tpUser.strTPName,this.imgIcon.spriteFrame=this.imgFrameDefault,this.imgIcon.node.getComponent("FacebookIcon").initWithTeenPattiUser(this.tpUser)},onRoundReady:function(e,t){this.init(this.seatId,this.playerId),this.imgBank.active=ITeenPatti.getCurTable().round.bankId==this.playerId},onRoundStart:function(e,t){this.init(this.seatId,this.playerId),this.imgBank.active=ITeenPatti.getCurTable().round.bankId==this.playerId},onRoundRunning:function(){this.imgBank.active=ITeenPatti.getCurTable().round.bankId==this.playerId},onRoundWin:function(e,t){for(var i=0;i<this.arrWinner.length;i++){var n=cc.instantiate(this.arrEffect[i]);this.arrWinner[i].addChild(n),n.runAction(cc.sequence(cc.delayTime(2),cc.removeSelf()))}},onRoundClear:function(e,t){this.imgBank.active=ITeenPatti.getCurTable().round.bankId==this.playerId},showActiveEffect:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.ActiveEffect&&(this.ActiveEffect.active=!0,this.ActiveEffect1.clearTracks(),this.ActiveEffect2.clearTracks(),this.ActiveEffect1.setAnimation(0,"animation",!1),this.ActiveEffect2.setAnimation(1,"animation2",!1))},hideActiveEffect:function(){this.ActiveEffect&&(this.ActiveEffect.active=!1,this.ActiveEffect1.clearTracks(),this.ActiveEffect2.clearTracks())}}),cc._RF.pop()},{}],TexasHoldemRaiseBar:[function(e,t,i){"use strict";cc._RF.push(t,"31d02it71VBzLkfOcjmIV45","TexasHoldemRaiseBar");var n=e("LanguageData"),a=e("GameUtils");cc.Class({extends:cc.Component,properties:{stakeSlider:cc.Slider,lblAmount:cc.Label,lblTotal:cc.Label,imgScroll:cc.Node,arrItem:[cc.Node]},onLoad:function(){var e=this;this.stakeSlider.node.on("slide",function(t,i){e.onBarAmountSlide()})},onEnable:function(){var e=ITeenPatti.getCurPlayer().role,t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().round,o=i.maxStake-e.totalStake,s=e.chips;this.stakeSlider.progress=0,this.amount=o+i.raiseStake,this.arrScale=this.sortChipScale(o+i.raiseStake,s,t.maxBlind),(this.arrScale.length>80||this.arrScale[this.arrScale.length-1]<s)&&this.arrScale.push(s);var r=this.arrScale[this.arrScale.length-1];this.lblTotal.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(r)});for(var l=0;l<this.arrItem.length;l++)this.arrItem[l].active=!1;this.onBarAmountSlide()},onBtnRaiseAddClk:function(){ITeenPatti.gameCore.gameMng.playAudioEffect("addbet");for(var e=ITeenPatti.getCurPlayer().role,t=ITeenPatti.getCurTable(),i=(ITeenPatti.getCurTable().round,this.arrScale[0],e.chips),n=Math.min(this.amount+t.maxBlind,i),a=1,o=this.arrScale.length-1;o>=0;o--)if(!(n<this.arrScale[o])){a=o/(this.arrScale.length-1);break}this.stakeSlider.progress=a,this.onBarAmountSlide(n)},onBtnRaiseDecClk:function(){ITeenPatti.gameCore.gameMng.playAudioEffect("addbet");for(var e=ITeenPatti.getCurPlayer().role,t=ITeenPatti.getCurTable(),i=(ITeenPatti.getCurTable().round,this.arrScale[0]),n=(e.chips,Math.max(this.amount-t.maxBlind,i)),a=1,o=this.arrScale.length-1;o>=0;o--)if(!(n<this.arrScale[o])){a=o/(this.arrScale.length-1);break}this.stakeSlider.progress=a,this.onBarAmountSlide(n)},sortChipScale:function(e,t,i){for(var n=i,a=e,o=[];a<=t;)o.push(a),a=Math.round(a+n);return o},onBarAmountSlide:function(e){var t=ITeenPatti.getCurPlayer().role,i=(ITeenPatti.getCurTable(),ITeenPatti.getCurTable().round),o=i.maxStake-t.totalStake;t.chips,t.chips,i.raiseStake;if(this.imgScroll.y=417*this.stakeSlider.progress,e)this.amount=e;else for(var s=this.arrScale.length-1;s>=0;s--)if(!(this.stakeSlider.progress<s/(this.arrScale.length-1))){this.stakeSlider.progress=s/(this.arrScale.length-1),this.amount=this.arrScale[s];break}this.lblAmount.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(this.amount)}),this.node.emit("ae_texas_raise_slide",{amount:this.amount});for(var r=0;r<this.arrItem.length;r++)this.arrItem[r].active=this.arrItem[r].y<this.stakeSlider.handle.node.y}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemRoler:[function(e,t,i){"use strict";cc._RF.push(t,"dededL3Rk5OJpmWQbEBFVw4","TexasHoldemRoler");var n=e("UIInfo"),a=1,o=2;cc.Class({name:"TexasHoldemRoler",properties:{userId:"",playerId:0,arrCard:[],arrMax:[],chips:0,lastStake:0,totalStake:0,lastTotal:0,winAmount:0,arrWins:[],isfold:!1,isallin:!1,isOverTime:!1,isItMe:!1,state:0,chipsWin:0,handsWin:0,handsNum:0,arrCmdHandler:{default:{}}},ctor:function(){var e=arguments[0];this.userId=e.name,this.playerId=e.playerId,this.isItMe=e.isItMe,this.role=e.playerId>0?o:a,this.chipsNotEnoughView1ShowCount=0,this.arrCmdHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrCmdHandler.UserSitDown=handler(this,this.onUserSitDown),this.arrCmdHandler.pokerbuyin=handler(this,this.onUserBuyChips),this.arrCmdHandler.pokerovertime=handler(this,this.onUserOverTime),this.arrCmdHandler.profile=handler(this,this.onUserProfile),this.arrCmdHandler.pokerstatus=handler(this,this.onRoundRefresh)},isWatcher:function(){return this.playerId<1},onMsgReceived:function(e,t){var i=this.arrCmdHandler[e];i&&i(e,t)},onUserStandUp:function(e,t){this.userId==t.user.name&&(this.role=a,this.playerId=t.user.playerId,this.lastChips=this.chips)},onUserSitDown:function(e,t){this.userId==t.user.name&&(this.role=o,this.playerId=t.user.playerId,this.chips=0,this.winAmount=0,this.isOverTime=!1)},onUserBuyChips:function(e,t){this.userId==""+t.is[2]&&(this.chips=t.is[1],this.isItMe&&(this.chipsNotEnoughView1ShowCount=0))},onUserOverTime:function(e,t){this.isItMe&&(this.isOverTime=!0)},onUserProfile:function(e,t){this.userId==""+t.user_id&&(this.chipsWin=t.new_chips_win?t.new_chips_win:t.chips_win,this.handsNum=t.hands_num,this.handsWin=t.hands_win)},onRoundRefresh:function(e,t){for(var i in t.ps){var n=t.ps[i];this.playerId==n.playerId&&(this.isfold=n.isFold,this.chips=n.chips,this.totalStake=n.totalbet,this.state=n.status,this.lastStake=0,this.winAmount=0,this.arrCard=[])}if(this.isItMe)for(var a in this.arrCard=[],t.usercards)this.arrCard.push(t.usercards[a])},onRoundStart:function(e,t){for(var i in t.ps){var n=t.ps[i];this.playerId==n.playerId&&(this.isfold=!1,this.isallin=!1,this.chips=n.chips,this.lastStake=n.bet,this.totalStake=n.bet,this.lastTotal=0,this.winAmount=0,this.arrCard=[],this.state=0)}if(this.userId==ITeenPatti.getCurPlayer().role.userId)for(var a in this.arrCard=[],t.cards)this.arrCard.push(t.cards[a])},onUserAction:function(e,t){this.playerId==t.playId&&(this.chips=t.chips,this.lastStake=t.nbet?t.nbet:0,this.totalStake+=t.nbet,"pokerfold"==e&&(this.isfold=!0),0==this.chips&&this.lastStake>0&&(this.isallin=!0),ITeenPatti.getCurTable()&&ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().getTeenPattiProfile()&&this.isItMe&&this.chipsNotEnoughView1ShowCount<1&&(LogUtil.debug("TexasHoldemRoler","check chips enough: \u5f53\u524d\u4f59\u989d = "+ITeenPatti.getCurPlayer().getTeenPattiProfile().nChips+"\uff1b \u5f53\u524d\u5e26\u5165\u7b79\u7801 = "+this.chips+"; \u6700\u4f4e\u5e26\u5165\u7b79\u7801 = "+ITeenPatti.getCurTable().minChips),ITeenPatti.getCurPlayer().getTeenPattiProfile().nChips+this.chips<ITeenPatti.getCurTable().minChips&&(ITeenPatti.gameCore.uiMng.isPopUpByUIKey(n.CHIPS_NOT_ENOUGH_1.name)||(ITeenPatti.gameCore.gameMng.openChipsNotEnough1(),this.chipsNotEnoughView1ShowCount+=1))))},onRoundCompare:function(e,t){for(var i in t.ps){var n=t.ps[i];if(this.playerId==n.playerId){for(var a in this.arrCard=[],n.cards)this.arrCard.push(n.cards[a]);for(var a in this.arrMax=[],n.group)this.arrMax.push(n.group[a]);break}}},onRoundPerflop:function(e,t){this.lastStake=this.totalStake,this.lastTotal=this.totalStake,this.totalStake=0},onRoundCollect:function(e,t){this.lastStake=this.totalStake,this.lastTotal=this.totalStake,this.totalStake=0},onRoundEnd:function(e,t){for(var i in t.ps){var n=t.ps[i];if(this.playerId==n.playerId){for(var a in this.chips=n.chips,this.arrWins=[],this.winAmount=0,n.nwins)this.arrWins.push(n.nwins[a]),this.winAmount+=n.nwins[a];for(var a in this.arrCard=[],n.cards)this.arrCard.push(n.cards[a]);break}}}});cc._RF.pop()},{UIInfo:"UIInfo"}],TexasHoldemRoomHintBar:[function(e,t,i){"use strict";cc._RF.push(t,"0fbeday0MdED4dNm64/bpSx","TexasHoldemRoomHintBar");e("BaseComponent");var n=e("ITeenPatti"),a=e("LanguageData");e("Command"),e("DataAnalysisKey");cc.Class({extends:cc.Component,properties:{hintLabel:cc.Label},updateActive:function(e){if(this.node.active=e,this.hintLabel){var t=n.gameCore&&n.gameCore.userMng.isSpectator,i=this.node.getComponent(cc.Widget);i&&(i.right=t?cc.visibleRect.width/2-this.node.width/2:-15),this.hintLabel.string=t?void 0===n.gameCore.userMng.watchFriendName?a.t("label_text.watch_the_game"):a.t("label_text.watch_game_from",{name:n.gameCore.userMng.watchFriendName}):a.t("label_text.tap_to_sit")}},onUserSitDown:function(){var e=n.getCurTable().round,t=n.getCurPlayer().role;this.updateActive(!e||t.playerId<1)},onUserStandUp:function(){var e=n.getCurTable().round,t=n.getCurPlayer().role;this.updateActive(!e||t.playerId<1)},onRoundStart:function(){var e=n.getCurTable().round,t=n.getCurPlayer().role;this.updateActive(!e||t.playerId<1)},onRoundRunning:function(){var e=n.getCurTable().round,t=n.getCurPlayer().role;this.updateActive(!e||t.playerId<1)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData"}],TexasHoldemRoom:[function(e,t,i){"use strict";cc._RF.push(t,"20ad7DbL6pPgJTx1hlIg9pl","TexasHoldemRoom");var n=e("BaseRoom"),a=e("TexasHoldemTable"),o=e("UIInfo");cc.Class({name:"TexasHoldemRoom",extends:n,properties:{},ctor:function(){this.roomType=ROOM_TYPE.TEXAS_HOLDEM,this.table=new a,this.tableRulesUIInfo=o.TEXAS_HOLDEM_HELP},onRoomJoin:function(e,t){this.roomId=t.room.id,this.roomName=t.room.name,this.table.initCallback(),t.room&&this.profile.onRoomJoin(e,t)},onRoomUpdate:function(e,t){t.room&&this.profile.onRoomUpdate(e,t)}});cc._RF.pop()},{BaseRoom:"BaseRoom",TexasHoldemTable:"TexasHoldemTable",UIInfo:"UIInfo"}],TexasHoldemRoundAwardAction:[function(e,t,i){"use strict";cc._RF.push(t,"774f5NyI2VDhbUx57Hri8SM","TexasHoldemRoundAwardAction");e("LanguageData");var n="TexasHoldemRoundAwardAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("winfinish",this.onUserAward,this),this.node.off("roundaward",this.onAwardRunning,this)},play:function(e){this.awardID=0,this.objActionPool=e,this.trigger="winfinish",this.node.on("winfinish",this.onUserAward,this),this.node.on("roundaward",this.onAwardRunning,this),LogUtil.info(n,"Wait For Event: "+this.trigger)},onAwardRunning:function(){},onUserAward:function(){if(this.isValid&&ITeenPatti.getCurTable()){LogUtil.debug(n,"Round Award");ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurTable().contrller,i=this.getNextAward();this.awardID++,i&&(t.awardsSender.onRoundAward(this.strCmd,i),t.tablePoolBar.onRoundAward(this.strCmd,i)),e.arrWinner.length>this.awardID||this.onAwardFinish()}},getNextAward:function(){var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurTable().contrller,i=e.arrWinner[this.awardID];return i?{seatId:t.getSeatWithPlayerId(i.playerId).seatId,amount:i.win}:null},onAwardFinish:function(){var e=this;this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.onActionFinish(e.objActionPool)})))},onActionFinish:function(e){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(n,"Event Finish"),this.node.emit("awardfinish",this.objData),e.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{LanguageData:"LanguageData"}],TexasHoldemRoundBlindAction:[function(e,t,i){"use strict";cc._RF.push(t,"9823dP3prRPgK13oQWoqt2c","TexasHoldemRoundBlindAction");var n=e("LanguageData"),a="TexasHoldemRoundBlindAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){LogUtil.debug(a,"Round Blind");var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller;t.round;for(var o in i.tablePoolBar.onRoundStart(this.strCmd,this.objData),i.tableCardBar.onRoundStart(this.strCmd,this.objData),i.tableLevelBar.onRoundStart(this.strCmd,this.objData),i.controlHintBar.onRoundStart(this.strCmd,this.objData),i.roundHintBar.addHint(n.t("label_text.collecting_blinds"),2),this.objData.ps){var s=this.objData.ps[o],r=i.getSeatWithPlayerId(s.playerId);r&&r.onRoundStart(this.strCmd,this.objData),s.bet<=0||r&&r.onRoundBlind(this.strCmd,this.objData)}var l=this;this.objActionPool=e,this.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){l.onFinish(l.objActionPool)})))},onFinish:function(e){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(a,"Event Finish"),this.node.emit("blindfinish",this.objData),e.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{LanguageData:"LanguageData"}],TexasHoldemRoundClearAction:[function(e,t,i){"use strict";cc._RF.push(t,"7e0a7Y3el5Cdahiug0D1aZu","TexasHoldemRoundClearAction");var n="TexasHoldemRoundClearAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("expfinish",this.onRoundClear,this)},play:function(e){this.trigger="expfinish",this.objActionPool=e,this.node.on("expfinish",this.onRoundClear,this),LogUtil.info(n,"Wait For Event: "+this.trigger)},onRoundClear:function(){if(this.isValid&&ITeenPatti.getCurTable()){LogUtil.debug(n,"Round Clear");ITeenPatti.getCurTable();for(var e=ITeenPatti.getCurTable().contrller,t=0;t<e.arrSeat.length;t++)e.arrSeat[t].onRoundClear(this.strCmd,this.objData);e.controlBar.onRoundClear(this.strCmd,this.objData),e.tableCardBar.onRoundClear(this.strCmd,this.objData),e.tablePoolBar.onRoundClear(this.strCmd,this.objData),e.tableLevelBar.onRoundClear(this.strCmd,this.objData),e.roundHintBar.clearHint(),this.objActionPool.onActionFinish(this),this.destroy()}}}),cc._RF.pop()},{}],TexasHoldemRoundCollectAction:[function(e,t,i){"use strict";cc._RF.push(t,"d4001FCn1tNZ7AL183ZfrGB","TexasHoldemRoundCollectAction");e("LanguageData");var n="TexasHoldemRoundCollectAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("roundcollect",this.onCollectRunning,this),this.node.off("actionfinish",this.onRoundCollect,this),this.node.off("perflopfinish",this.onRoundCollect,this)},play:function(e){return this.objActionPool=e,this.node.on("roundcollect",this.onCollectRunning,this),this.node.hasEventListener("roundperflop")?(this.trigger="perflopfinish",this.node.on("perflopfinish",this.onRoundCollect,this),void LogUtil.info(n,"Wait For Event: "+this.trigger)):this.node.hasEventListener("useraction")?(this.trigger="actionfinish",this.node.on("actionfinish",this.onRoundCollect,this),void LogUtil.info(n,"Wait For Event: "+this.trigger)):void this.onRoundCollect(e)},onCollectRunning:function(){},onRoundCollect:function(){if(this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round){var e=this;LogUtil.debug(n,"Round Collection!"),this.node.off("actionfinish",this.onRoundCollect,this),this.node.off("perflopfinish",this.onRoundCollect,this);for(var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller,a=t.round,o=0;o<i.arrSeat.length;o++)a.isPlayer(i.arrSeat[o].playerId)&&i.arrSeat[o].onRoundCollect(this.strCmd,this.objData);i.controlBar.onRoundCollect(this.strCmd,this.objData),i.stakeCollector.onRoundCollect(this.strCmd,this.objData),this.node.runAction(cc.sequence(cc.delayTime(.6),cc.callFunc(function(){if(e.isValid&&ITeenPatti.getCurTable()){var t=ITeenPatti.getCurTable().contrller;t&&t.tablePoolBar.onRoundCollect(this.objData&&this.objData.now?this.objData.now:void 0)}},this))),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.onFinish(e.objActionPool)})))}},onFinish:function(e){this.isValid&&(ITeenPatti.getCurTable()&&(LogUtil.info(n,"Event Finish"),ITeenPatti.getCurTable().contrller.tablePoolBar.onRoundCollect(),this.node.emit("collectfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy()))}}),cc._RF.pop()},{LanguageData:"LanguageData"}],TexasHoldemRoundCompareAction:[function(e,t,i){"use strict";cc._RF.push(t,"964e3Qu981FhLOQT0j6jhzs","TexasHoldemRoundCompareAction");var n="TexasHoldemRoundCompareAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},play:function(e){LogUtil.debug(n,"Round Compare");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller;t.controlBar.onRoundCompare(this.strCmd,this.objData);var i=.01,a=this;for(var o in a.index=1,this.objData.ps){this.objData.ps[o];this.showMaxUser(i,1),i+=1.5}a=this;this.node.runAction(cc.sequence(cc.delayTime(i+1),cc.callFunc(function(){t.tableCardBar.hideCardLight(),a.onActionFinish(e)})))},showMaxUser:function(e,t){var i=this;this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().contrller;if(i.isValid){var t=i.objData.ps[i.index];if(t){var a=e.getSeatWithPlayerId(t.playerId);a&&a.onRoundCompare(i.strCmd,i.objData),e.tableCardBar.onRoundCompare(i.strCmd,i.objData,t.playerId),e.tableLevelBar.onRoundShowMax(i.strCmd,i.objData,t.playerId),LogUtil.debug(n,"Round Show Card Seat : "+a.seatId),i.lastPlayerId=t?t.playerId:0,i.index++}}}),cc.delayTime(t),cc.callFunc(function(){var e=ITeenPatti.getCurTable().contrller,t=e.getSeatWithPlayerId(i.lastPlayerId);t&&t.hideCardLight(),e.tableCardBar.hideCardLight()})))},onActionFinish:function(e){e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],TexasHoldemRoundDealAction:[function(e,t,i){"use strict";cc._RF.push(t,"7dd20R0lqFL0rwOwakYFmGz","TexasHoldemRoundDealAction");var n=e("LanguageData"),a="TexasHoldemRoundDealAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},onDestroy:function(){this.node.off("blindfinish",this.onRoundDeal,this),this.node.off("rounddeal",this.onRunning,this)},play:function(e){this.objActionPool=e,this.trigger="rounddeal",this.node.on("rounddeal",this.onRunning,this),this.node.on("blindfinish",this.onRoundDeal,this),LogUtil.info(a,"Wait For Event: "+this.trigger)},onRunning:function(){},onRoundDeal:function(e){if(this.isValid&&ITeenPatti.getCurTable()){LogUtil.debug(a,"Round Deal"),this.node.off("blindfinish",this.onRoundDeal,this);var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller,o=(t.round,[]);for(var s in this.objData.ps){var r=this.objData.ps[s],l=i.getSeatWithPlayerId(r.playerId);l&&o.push(l.seatId)}var c=this;i.roundHintBar.addHint(n.t("label_text.dealing_cards"),2),i.tablePokerBox.startDealCard(o,function(e,t){if(c.isValid){var i=ITeenPatti.getCurTable().contrller.arrSeat[e];i&&i.onRoundDeal(t)}},function(){c.onFinish(c.objActionPool)})}},onFinish:function(e){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(a,"Event Finish"),this.node.emit("dealfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{LanguageData:"LanguageData"}],TexasHoldemRoundEndAction:[function(e,t,i){"use strict";cc._RF.push(t,"9b6b3NTLoxLUrNxSJmW0TIV","TexasHoldemRoundEndAction");var n="TexasHoldemRoundEndAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},play:function(e){LogUtil.debug(n,"Round End");var t=this,i=(ITeenPatti.getCurTable(),ITeenPatti.getCurTable().contrller);i.controlBar.onRoundEnd(this.strCmd,this.objData),i.tablePoolBar.onRoundEnd(t.strCmd,t.objData);var a=.3;for(var o in t.index=1,this.objData.ps){var s=this.objData.ps[o];this.showMaxUser(a,s),a+=1.5}t=this;this.node.runAction(cc.sequence(cc.delayTime(a+1),cc.callFunc(function(){t.isValid&&t.node.emit("roundclear",t.objData),t.onActionFinish(e)})))},showMaxUser:function(e,t){var i=this;this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){if(ITeenPatti.getCurTable()){ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().contrller;if(i.isValid){var t=i.objData.ps[i.index];if(t){var a=e.getSeatWithPlayerId(t.playerId);a&&a.onRoundEnd(i.strCmd,i.objData),e.tablePoolBar.onRoundEnd(i.strCmd,i.objData,t.playerId),e.awardsSender.onRoundEnd(i.strCmd,i.objData,t.playerId),LogUtil.debug(n,"Round Show End Seat : "+a.seatId),i.index++}else i.index++}}})))},onActionFinish:function(e){LogUtil.info(n,"Event Finish"),e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],TexasHoldemRoundExpAction:[function(e,t,i){"use strict";cc._RF.push(t,"1ccc1fEz5JGc5g5XwzScYQj","TexasHoldemRoundExpAction"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],TexasHoldemRoundMaxAction:[function(e,t,i){"use strict";cc._RF.push(t,"27759MpAlNPk6av+EPpTgau","TexasHoldemRoundMaxAction");e("LanguageData");var n="TexasHoldemRoundMaxAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("showfinish",this.onRoundMax,this),this.node.off("roundmax",this.onRunning,this)},play:function(e){this.objActionPool=e,this.trigger="showfinish",this.node.on("showfinish",this.onRoundMax,this),this.node.on("roundmax",this.onRunning,this),LogUtil.info(n,"Wait For Event: "+this.trigger)},onRunning:function(){},onRoundMax:function(){if(this.isValid&&ITeenPatti.getCurTable()){LogUtil.debug(n,"Round Max"),this.node.off("showfinish",this.onRoundMax,this);ITeenPatti.getCurTable();var e=ITeenPatti.getCurTable().contrller,t=ITeenPatti.getCurTable().round,i=e.getSeatWithPlayerId(t.arrMaxer[0].playerId);i&&i.onUserMax(this.strCmd,this.objData),e.tableCardBar.onRoundMax(this.strCmd,this.objData),e.tableLevelBar.onRoundMax(this.strCmd,this.objData),e.arrSeat[0].onRoundMax(this.strCmd,this.objData);var a=this;this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){a.isValid&&a.onFinish(a.objActionPool)})))}},onFinish:function(e){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(n,"Event Finish"),this.node.off("roundmax",this.onRunning,this),this.node.emit("maxfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{LanguageData:"LanguageData"}],TexasHoldemRoundPerflopAction:[function(e,t,i){"use strict";cc._RF.push(t,"bf79aar0DJNp7o7QojYdFdU","TexasHoldemRoundPerflopAction");var n=e("LanguageData"),a="TexasHoldemRoundPerflopAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("roundperflop",this.onPerflopRunning,this),this.node.off("collectfinish",this.onRoundPerflop,this),this.node.off("seefinish",this.onRoundPerflop,this),this.node.off("perflopfinish",this.onRoundPerflop,this)},play:function(e){this.awardID=0,this.objActionPool=e,this.node.hasEventListener("roundperflop")?(this.trigger="perflopfinish",this.node.on("perflopfinish",this.onRoundPerflop,this),LogUtil.info(a,"Wait For Event: "+this.trigger)):this.node.hasEventListener("roundcollect")?(this.trigger="collectfinish",this.node.on("collectfinish",this.onRoundPerflop,this),LogUtil.info(a,"Wait For Event: "+this.trigger)):(this.trigger="seefinish",this.node.on("seefinish",this.onRoundPerflop,this),LogUtil.info(a,"Wait For Event: "+this.trigger)),this.node.on("roundperflop",this.onPerflopRunning,this)},onPerflopRunning:function(){},onRoundPerflop:function(){if(this.isValid&&ITeenPatti.getCurTable()){LogUtil.debug(a,"Round Perflop"),this.node.off("collectfinish",this.onRoundPerflop,this),this.node.off("seefinish",this.onRoundPerflop,this),this.node.off("perflopfinish",this.onRoundPerflop,this);for(var e=ITeenPatti.getCurTable(),t=ITeenPatti.getCurTable().contrller,i=e.round,o=0;o<t.arrSeat.length;o++)i.isPlayer(t.arrSeat[o].playerId)&&t.arrSeat[o].onRoundPerflop(this.strCmd,this.objData);t.tablePoolBar.onRoundPerflop(this.strCmd,this.objData),t.stakeCollector.onRoundPerflop(this.strCmd,this.objData);var s=1.2;if(1==i.turnId&&5==i.arrCard.length){t.tableCardBar.onRoundAllflop(this.strCmd,this.objData);s=2}else t.tableCardBar.onRoundPerflop(this.strCmd,this.objData);3==i.arrCard.length?t.roundHintBar.addHint(n.t("label_text.dealing_flop"),1.5):4==i.arrCard.length?t.roundHintBar.addHint(n.t("label_text.dealing_turn"),1.5):5==i.arrCard.length&&t.roundHintBar.addHint(n.t("label_text.dealing_river"),1.5);var r=this;this.node.runAction(cc.sequence(cc.delayTime(s),cc.callFunc(function(){r.onFinish(r.objActionPool)})))}},onFinish:function(e){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(a,"Event Finish"),this.node.off("roundperflop",this.onPerflopRunning,this),this.node.off("collectfinish",this.onRoundPerflop,this),this.node.off("seefinish",this.onRoundPerflop,this),this.node.off("perflopfinish",this.onRoundPerflop,this),this.node.emit("perflopfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{LanguageData:"LanguageData"}],TexasHoldemRoundReadyAction:[function(e,t,i){"use strict";cc._RF.push(t,"39557F8SOVOYLBURlvj8JSJ","TexasHoldemRoundReadyAction");var n=e("DataAnalysisKey"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},play:function(e){this.objActionPool=e,LogUtil.debug("TexasHoldemRoundReadyAction","Round Ready");var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller;if(i.roundHintBar.clearHint(),t.cdTime<2)i.tableHintBar.addHint(a.t("label_text.starting_game"),1),ITeenPatti.gameCore.dataAnalysisMng.sendData(n.START_GAME,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData);else for(var o=0;o<t.cdTime;o++)i.tableHintBar.addHint(a.t("label_text.game_starting",{time:t.cdTime-o}),1,t.cdStart+1e3*o);i.tableCardBar.onRoundReady(this.strCmd,this.objData),i.tablePoolBar.onRoundReady(this.strCmd,this.objData),i.tableLevelBar.onRoundReady(this.strCmd,this.objData),i.controlBar.onRoundReady(this.strCmd,this.objData);for(o=0;o<i.arrSeat.length;o++)i.arrSeat[o].onRoundReady(this.strCmd,this.objData);this.objActionPool.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData"}],TexasHoldemRoundResultAction:[function(e,t,i){"use strict";cc._RF.push(t,"7af24Zhsd5DEpuEChhZbPu4","TexasHoldemRoundResultAction");var n="TexasHoldemRoundResultAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("collectfinish",this.onRoundResult,this),this.node.off("perflopfinish",this.onRoundResult,this),this.node.off("roundResult",this.onRunning,this)},play:function(e){LogUtil.debug(n,"Round Result"),this.objActionPool=e,this.node.on("roundResult",this.onRunning,this)},onRoundResult:function(){},onRunning:function(){},onFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(n,"Event Finish"),this.node.off("roundResult",this.onRunning,this),this.node.emit("resultfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{}],TexasHoldemRoundShowAction:[function(e,t,i){"use strict";cc._RF.push(t,"a30d2RLXAVIm7d0sH81mYXB","TexasHoldemRoundShowAction");var n=e("LanguageData"),a=e("GameUtils"),o="TexasHoldemRoundShowAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("collectfinish",this.onRoundShow,this),this.node.off("perflopfinish",this.onRoundShow,this),this.node.off("roundshow",this.onRunning,this)},play:function(e){return this.objActionPool=e,this.node.on("roundshow",this.onRunning,this),this.node.hasEventListener("roundResult")?(this.trigger="resultfinish",this.node.on("resultfinish",this.onRoundShow,this),void LogUtil.info(o,"Wait For Event: "+this.trigger)):this.node.hasEventListener("roundperflop")?(this.trigger="perflopfinish",this.node.on("perflopfinish",this.onRoundShow,this),void LogUtil.info(o,"Wait For Event: "+this.trigger)):this.node.hasEventListener("roundcollect")?(this.trigger="collectfinish",this.node.on("collectfinish",this.onRoundShow,this),void LogUtil.info(o,"Wait For Event: "+this.trigger)):void this.onRoundShow(e)},onRunning:function(){},onRoundShow:function(){if(this.isValid&&ITeenPatti.getCurTable()){LogUtil.debug(o,"Round Show"),this.node.off("collectfinish",this.onRoundShow,this),this.node.off("perflopfinish",this.onRoundShow,this),this.node.off("resultfinish",this.onRoundShow,this);var e=ITeenPatti.getCurTable().contrller,t=ITeenPatti.getCurTable().round;if(t){e.controlBar.onRoundCompare(this.strCmd,this.objData);for(var i=0;i<e.arrSeat.length;i++)t.isPlayer(e.arrSeat[i].playerId)&&e.arrSeat[i].onRoundShow(this.strCmd,this.objData);var n=this;this.node.runAction(cc.sequence(cc.delayTime(.6),cc.callFunc(function(){n.showWinHint(),n.onFinish()})))}}},onFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(o,"Event Finish"),this.node.off("roundshow",this.onRunning,this),this.node.emit("showfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())},showWinHint:function(){var e=ITeenPatti.getCurTable();if(e){for(var t=ITeenPatti.getCurTable().contrller,i=ITeenPatti.getCurTable().round,o="",s=[],r=0;r<i.arrMaxer.length&&!(i.arrMaxer[r].rankId>0);r++){var l=i.getPlayer(i.arrMaxer[0].playerId);l&&(l=e.getUserWithUserId(l.userId))&&l.strTPName&&s.push(l)}if(s.length>0){var c=a.formatName(s[0].strTPName),h=this.getWinLevelName(s[0]);if(1==s.length){var u=s[0].role?s[0].role.winAmount:0;if(u<=0)o=n.t("label_text.player_won",{name:c});else{ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile&&ITeenPatti.getCurRoom().profile.commissionPercent;var d=a.formatNumberWithRules(u);o=""==h?n.t(ITeenPatti.gameCore&&ITeenPatti.gameCore.uiMng.isInGoldScene?"label_text.win_vip_points":"label_text.win_chips",{name:c,chips:d}):n.t(ITeenPatti.gameCore&&ITeenPatti.gameCore.uiMng.isInGoldScene?"label_text.player_won_vip_points":"label_text.player_won_chips",{name:c,chips:d,hand:h})}}else if(2==s.length){var m=a.formatName(s[1].strTPName);o=""==h?n.t("label_text.ab_won",{name1:c,name2:m}):n.t("label_text.ab_won_hands",{name1:c,name2:m,hand:h})}else if(s.length>2){m=a.formatName(s[1].strTPName);var g=a.formatName(s[2].strTPName);o=""==h?n.t("label_text.players_won",{name1:c,name2:m,name3:g}):n.t("label_text.players_won_hands",{name1:c,name2:m,name3:g,hand:h})}}s.length>0&&t.roundHintBar.addHint(o,20)}},getWinLevelName:function(e){var t="";if(!e||!e.role)return t;if(e.role.arrCard.length<1)return t;if(!ITeenPatti.getCurTable())return t;for(var i=[],a=[],o=ITeenPatti.getCurTable().round,s=0;s<e.role.arrCard.length;s++)i.push(e.role.arrCard[s]);for(var r=0;r<o.arrCard.length;r++)i.push(o.arrCard[r]),a.push(o.arrCard[r]);var l=["high_hand","pair","two_pairs","three_of_kind","straight","flush","full_house","four_of_kind","straight_flush","royal_flush"],c=TexasUtil.maxCardLevel(i);return c&&l[c-1]&&(t=l[c-1]),""!=t&&(t=n.t("label_text."+t)),t}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemRoundStartAction:[function(e,t,i){"use strict";cc._RF.push(t,"afc64DuRzpMsonEeEHGPCF6","TexasHoldemRoundStartAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},play:function(e){LogUtil.debug("TexasHoldemRoundStartAction","Round Start");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller;for(var i in t.tablePoolBar.onRoundStart(this.strCmd,this.objData),t.tableCardBar.onRoundStart(this.strCmd,this.objData),t.tableLevelBar.onRoundStart(this.strCmd,this.objData),t.controlHintBar.onRoundStart(this.strCmd,this.objData),this.objData.ps){var n=this.objData.ps[i],a=t.getSeatWithPlayerId(n.playerId);a&&a.onRoundStart(this.strCmd,this.objData)}e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],TexasHoldemRoundWinAction:[function(e,t,i){"use strict";cc._RF.push(t,"71353LpL0ZLyoCt2TABUueP","TexasHoldemRoundWinAction");var n=e("LanguageData"),a=e("GameUtils"),o="TexasHoldemRoundWinAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("maxfinish",this.onRoundWin,this),this.node.off("collectfinish",this.onRoundWin,this)},play:function(e){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round){var t=ITeenPatti.getCurTable().round;return this.objActionPool=e,this.roundId=t.roundId,this.node.hasEventListener("roundmax")?(this.trigger="maxfinish",this.node.on("maxfinish",this.onRoundWin,this),void LogUtil.info(o,"Wait For Event: "+this.trigger)):this.node.hasEventListener("roundcollect")?(this.trigger="collectfinish",this.node.on("collectfinish",this.onRoundWin,this),void LogUtil.info(o,"Wait For Event: "+this.trigger)):void this.onRoundWin(e)}},onRoundWin:function(){if(this.isValid&&ITeenPatti.getCurTable()){LogUtil.debug(o,"Round Win"),this.node.off("maxfinish",this.onRoundWin,this),this.node.off("collectfinish",this.onRoundWin,this);var e=this,t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().round,s=ITeenPatti.getCurTable().contrller;if(s.controlBar.onRoundEnd(this.strCmd,this.objData),s.tablePoolBar.onRoundWin(e.strCmd,e.objData),!e.showID&&i.arrMaxer.length<1&&i.arrWinner[0]){var r=i.getPlayer(i.arrWinner[0].playerId);if(r){r=t.getUserWithUserId(r.userId);var l="",c=a.formatName(r.strTPName),h=r.role?r.role.winAmount:0;if(h<=0)l=n.t("label_text.player_won",{name:c});else{var u=a.formatNumberWithRules(h);l=n.t(ITeenPatti.gameCore&&ITeenPatti.gameCore.uiMng.isInGoldScene?"label_text.win_vip_points":"label_text.win_chips",{name:c,chips:u})}s.roundHintBar.addHint(l,20)}}var d=.3;e.showID=0,e.clearID=0;for(var m=0;m<i.arrWinner.length;m++)i.arrWinner[m].win<=0||(this.node.runAction(cc.sequence(cc.delayTime(d),cc.callFunc(function(){e.showWinUser()}))),d=i.arrMaxer[m]&&i.arrMaxer[m].rankId>0?d+1.5:d);this.node.runAction(cc.sequence(cc.delayTime(d+2),cc.callFunc(function(){e.onActionFinish(e.objActionPool)})))}},getWinLevelName:function(e){var t="";if(!e||!e.role)return t;if(e.role.arrCard.length<1)return t;if(!ITeenPatti.getCurTable())return t;for(var i=[],a=[],o=ITeenPatti.getCurTable().round,s=0;s<e.role.arrCard.length;s++)i.push(e.role.arrCard[s]);for(var r=0;r<o.arrCard.length;r++)i.push(o.arrCard[r]),a.push(o.arrCard[r]);var l=["high_hand","pair","two_pairs","three_of_kind","straight","flush","full_house","four_of_kind","straight_flush","royal_flush"],c=TexasUtil.maxCardLevel(i);return c&&l[c-1]&&(t=l[c-1]),""!=t&&(t=n.t("label_text."+t)),t},showWinUser:function(e,t){var i=this;if(this.showID++,this.isValid&&ITeenPatti.getCurTable()){ITeenPatti.getCurTable();var n=ITeenPatti.getCurTable().round,a=ITeenPatti.getCurTable().contrller;if(this.roundId==n.roundId)if(n.arrMaxer[i.showID-1]&&n.arrMaxer[i.showID-1].rankId>0)this.node.emit("winfinish",i.objData);else{var o=a.getSeatWithPlayerId(n.arrWinner[i.showID-1].playerId);o&&o.onRoundWin(this.strCmd,this.objData),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){i.isValid&&i.node.emit("winfinish",i.objData)})))}}},onActionFinish:function(e){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(o,"Event Finish"),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemRound:[function(e,t,i){"use strict";cc._RF.push(t,"411c0Ar8bhJL4w76AC4eHjY","TexasHoldemRound");var n=e("UIInfo");cc.Class({name:"TexasHoldemRound",properties:{arrHandler:{default:{}},roundId:0,turnId:0,isRunning:!1,pools:0,bankId:0,arrCard:[],arrPlayer:[],arrMaxer:[],arrWinner:[],maxStake:0,raiseStake:0,nextId:0,cdTime:0,cdStart:0},initRound:function(){this.arrHandler={},this.maxStake=0,this.tableRulesUIInfo=n.TEXAS_HOLDEM_HELP,this.arrHandler.pokerstart=handler(this,this.onRoundStart),this.arrHandler.pokercall=handler(this,this.onUserAction),this.arrHandler.pokerraise=handler(this,this.onUserAction),this.arrHandler.pokerallin=handler(this,this.onUserAction),this.arrHandler.pokerfold=handler(this,this.onUserAction),this.arrHandler.pokernext=handler(this,this.onUserNext),this.arrHandler.pokerperflop=handler(this,this.onRoundPerflop),this.arrHandler.pokerpool=handler(this,this.onRoundCollect),this.arrHandler.pokercompare=handler(this,this.onRoundCompare),this.arrHandler.pokerend=handler(this,this.onRoundEnd)},getPlayer:function(e){for(var t=this.arrPlayer.length-1;t>=0;t--)if(e==this.arrPlayer[t].playerId)return this.arrPlayer[t];return null},removePlayer:function(e){if("string"!=typeof e){for(var t=this.arrPlayer.length-1;t>=0;t--)if(e==this.arrPlayer[t])return void this.arrPlayer.splice(t,1)}else for(var i=this.arrPlayer.length-1;i>=0;i--)if(e==this.arrPlayer[i].userId)return void this.arrPlayer.splice(i,1)},isPlayer:function(e){for(var t=this.arrPlayer.length-1;t>=0;t--)if(e==this.arrPlayer[t].playerId)return!0;return!1},isAllUserAllIn:function(){for(var e=this.arrPlayer.length-1;e>=0;e--)if(this.arrPlayer[e].chips>0)return!1;return!0},onMsgReceived:function(e,t){var i=this.arrHandler[e];i&&i(e,t)},onUserStandUp:function(e){this.removePlayer(e)},onUserAction:function(e,t){for(var i=0;i<this.arrPlayer.length;i++)this.arrPlayer[i].onUserAction(e,t),this.maxStake<this.arrPlayer[i].totalStake&&(this.arrPlayer[i].totalStake>=this.maxStake+this.raiseStake&&(this.raiseStake=this.arrPlayer[i].totalStake-this.maxStake),this.maxStake=this.arrPlayer[i].totalStake)},onUserNext:function(e,t){this.roundId==t.roundId&&(this.lastId=this.nextId,this.nextId=t.nextId,this.cdTime=t.waitTime,this.cdStart=(new Date).getTime())},onRoundRefresh:function(e,t){this.roundId=t.roundId,this.isRunning=t.isStart,this.nextId=t.nextId,this.cdTime=t.remainTime,this.cdStart=(new Date).getTime(),this.arrCard=[],this.arrPlayer=[],this.arrMaxer=[],this.pools=0,this.turnId=0,this.maxStake=0,this.raiseStake=t.currentraise;var i=ITeenPatti.getCurTable();for(var n in t.cards)this.arrCard.push(t.cards[n]);for(var n in this.turnId=Math.max(this.arrCard.length-3,0),t.pools)this.pools+=t.pools[n];for(var n in this.arrCard.length<1&&(this.pools=0),t.ps)this.maxStake=Math.max(this.maxStake,t.ps[n].totalbet);for(var a in t.ps){var o=t.ps[a];if(o.isIngame){var s=i.getUserWithPlayerId(o.playerId);s&&this.arrPlayer.push(s.role)}}},onRoundStart:function(e,t){var i=ITeenPatti.getCurTable();for(var n in this.roundId=t.roundId,this.turnId=0,this.isRunning=!0,this.arrPlayer=[],this.arrMaxer=[],this.arrCard=[],this.lastId=0,this.nextId=0,this.cdTime=0,this.maxStake=0,this.pools=0,this.raiseStake=i.maxBlind,t.ps){var a=t.ps[n];this.bankId=a.playerId;var o=i.getUserWithPlayerId(a.playerId);o&&this.arrPlayer.push(o.role)}for(var s=0;s<this.arrPlayer.length;s++)this.arrPlayer[s].onRoundStart(e,t),this.maxStake<this.arrPlayer[s].totalStake&&(this.maxStake=this.arrPlayer[s].totalStake)},onRoundPerflop:function(e,t){var i=ITeenPatti.getCurTable();for(var n in this.maxStake=0,this.turnId++,this.lastId=0,this.raiseStake=i.maxBlind,this.pools=0,t.pools)this.pools+=t.pools[n];for(var n in this.arrCard=[],t.cards)this.arrCard.push(t.cards[n]);for(var a=0;a<this.arrPlayer.length;a++)this.arrPlayer[a].onRoundPerflop(e,t)},onRoundCollect:function(e,t){var i=this.pools;for(var n in this.pools=0,t.is)this.pools+=t.is[n];t.last=i,t.now=this.pools;for(var a=0;a<this.arrPlayer.length;a++)this.arrPlayer[a].onRoundCollect(e,t)},onRoundCompare:function(e,t){if(this.roundId==t.roundId){this.isRunning=!1;for(var i=0;i<this.arrPlayer.length;i++)this.arrPlayer[i].onRoundCompare(e,t);for(var n in this.arrMaxer=[],t.ps)this.arrMaxer.push(t.ps[n]);this.arrMaxer.sort(o),this.arrMaxer[0].rankId=0;for(var a=1;a<this.arrMaxer.length;a++)0!=o(this.arrMaxer[a-1],this.arrMaxer[a])||this.arrMaxer[a].isfold?this.arrMaxer[a].rankId=this.arrMaxer[a-1].rankId+1:this.arrMaxer[a].rankId=this.arrMaxer[a-1].rankId}function o(e,t){if(e.isfold&&!t.isfold)return 1;if(!e.isfold&&t.isfold)return-1;if(e.isfold&&t.isfold)return 0;if(e.group[6]>t.group[6])return-1;if(e.group[6]<t.group[6])return 1;for(var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=1;a<=5;a++)i[Math.floor(e.group[a]/4)]++,n[Math.floor(t.group[a]/4)]++;var o=[1,2,2,3,1,1,3,4,1,1][e.group[6]-1];do{if(5==e.group[6]||9==e.group[6]){if(i[12]>n[12])return-1;if(i[12]<n[12])return 1;if(1==i[12]&&i[12]==n[12])return 0}for(var s=13;s>0;s--)if(i[s-1]==o||n[s-1]==o){if(i[s-1]>n[s-1])return-1;if(i[s-1]<n[s-1])return 1}o--}while(o>0);return 0}},onRoundEnd:function(e,t){if(this.roundId==t.roundId){this.isRunning=!1,this.pools=0;for(var i=0;i<this.arrPlayer.length;i++)this.arrPlayer[i].onRoundEnd(e,t);for(var n in t.ps)for(var a in t.ps[n].nwins)this.pools+=t.ps[n].nwins[a];if(this.arrWinner=[],this.arrMaxer.length>0){for(var o=0;o<this.arrMaxer.length;o++)for(var n in t.ps)if(t.ps[n].playerId==this.arrMaxer[o].playerId){var s=0;for(var a in t.ps[n].nwins)s+=t.ps[n].nwins[a];s<=0||this.arrWinner.push({playerId:this.arrMaxer[o].playerId,win:s})}}else for(var n in t.ps){s=0;for(var a in t.ps[n].nwins)s+=t.ps[n].nwins[a];s<=0||this.arrWinner.push({playerId:t.ps[n].playerId,win:s})}}}});cc._RF.pop()},{UIInfo:"UIInfo"}],TexasHoldemScenePopup:[function(e,t,i){"use strict";cc._RF.push(t,"7789fWcJe5E0LLQWRm7kLc4","TexasHoldemScenePopup"),cc.Class({extends:cc.Component,properties:{prefabs:[cc.Prefab]}}),cc._RF.pop()},{}],TexasHoldemScene:[function(e,t,i){"use strict";cc._RF.push(t,"08b18GpFolJUpU3zdzvYRNg","TexasHoldemScene");var n=e("BaseGameScene"),a=e("ITeenPatti"),o=e("UIInfo"),s=(e("Command"),e("GameData")),r=e("DataAnalysisKey"),l=e("LanguageData");cc.Class({extends:n,properties:{connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,texasBuyIntoTablePopUpPrefab:cc.Prefab},initPreloadData:function(){this.preloadPrefabs=this.preloadPrefabs.concat(s.TEXASHOLDEM_SCENE_PRELOAD_POPUP()),this._super()},onLoad:function(){LogUtil.info("TexasHoldemScene","----------------------------------- Texas Holdem Scene -----------------------------"),this.interval=0,this._super()},initComplete:function(){this._super(),this.gameCore.uiMng.openUI(this.getRoomInfoUIData()),a.addListener("pokerempty",this,this.onRoomEmpty),a.addListener("pokerbuyin",this,this.onUserJoinError),a.addListener("pokerexpchange",this,this.onUserExp),a.addListener("ConnectionResume",this,this.onConnectResume),a.addListener("pokerstatus",this,this.updateGameIdValue),a.addListener("pokerstarttime",this,this.updateGameIdValue),a.addListener("pokerstart",this,this.updateGameIdValue),a.getCurTable().isModeEmpty&&this.onRoomEmpty()},onEnable:function(){a.isReconnecting&&!a.gameCore.uiMng.isPopUpByUIKey(o.RECONNECTING.name)&&a.gameCore.uiMng.openUI(o.RECONNECTING)},getRoomInfoUIData:function(){return o.GAME_ROOM_INFO_TEXAS_HOLDEM},update:function(e){this.interval+=e,a.getCurTable()&&(a.getCurTable().getUserList().length>1?this.interval=0:this.interval<5||(this.gameCore.uiMng.isPopUpByUIKey(o.SWITCH_TABLE_POPUP.name)?this.interval=0:this.interval<180||(this.interval=0,this.onUserAlone())))},onConnectResume:function(e,t){a.sendMsg("pokerstatus",null)},onRoomInfoBtnClk:function(e){this.gameCore.dataAnalysisMng.sendData(r.CLICK_TABLEINFO,this.gameCore.dataAnalysisMng.gameBaseData),this.gameCore.uiMng.openUI(this.getRoomInfoUIData())},onRoomEmpty:function(e,t){this.gameCore.uiMng.isInLobby||this.gameCore.uiMng.isInGoldScene||this.gameCore.uiMng.openUI(o.SWITCH_MODE_POPUP)},onUserAlone:function(e,t){this.gameCore.uiMng.isInGoldScene||this.gameCore.uiMng.isPopUpByUIKey(o.SWITCH_TABLE_POPUP.name)||this.gameCore.uiMng.openUI(o.SWITCH_TABLE_POPUP,function(e){e.setShowText(l.t("label_text.switch_table_msg"))})},onUserJoinError:function(e,t){if("error"==t.cmd)return"chips not enough error"==t.mess?(this.gameCore.gameMng.hasEnoughChips2(0),void this.gameCore.dataAnalysisMng.sendData(r.POPUP_CHIPSOUT_SIT,this.gameCore.dataAnalysisMng.gameBaseData)):void this.gameCore.uiMng.openUI(o.SWITCH_TABLE_POPUP,function(e){e.setShowText(l.t("label_text.table_full_msg"))})},onUserExp:function(e,t){this.gameCore.userMng.myself.curExp=t.expbar.exp1,this.gameCore.userMng.myself.nextExp=t.expbar.exp2},onUserStandUp:function(e,t){if(a.getCurPlayer().role&&t.user.isItMe){var i=a.getCurTable();if(a.gameCore.gameMng.hasEnoughChips2(i.minChips)){var n=a.getCurPlayer().role;n.isOverTime?this.gameCore.uiMng.openUI(o.WATCH_MODE_POPUP):n.lastChips<i.minChips?a.gameCore.uiMng.openUI(o.TEXAS_BUY_INTO_TABLE,function(e){e.setInitData({playerId:n.playerId,chips:a.getCurPlayer().nChips,blind:.5*i.maxBlind,minChips:i.minChips,isAuto:n.isAuto})}):this.gameCore.uiMng.openUI(o.WATCH_MODE_POPUP)}}},onUserProfileGet:function(e,t){if(!t.errorcode&&this.gameCore&&this.gameCore.uiMng){t.user_id;this.gameCore.uiMng.openUI(this.gameCore.uiMng.inGamePlayerInfoUIData,function(e){e&&e.initWithMsgGetUserInfo(t)})}}}),cc._RF.pop()},{BaseGameScene:"BaseGameScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",UIInfo:"UIInfo"}],TexasHoldemSeatCardBar:[function(e,t,i){"use strict";cc._RF.push(t,"b2b17v5quNOJpqN3MD1eMoz","TexasHoldemSeatCardBar");var n="TexasHoldemSeatCardBar";cc.Class({extends:cc.Component,properties:{arrCard:[cc.Sprite],arrLight:[cc.Sprite]},init:function(e,t){this.seatId=e,this.playerId=t,this.node.active=!1,!this.initPos&&(this.initPos=this.node.position),this.arrInitPos=[cc.v2(0,0),cc.v2(16.3,0)],this.arrShowPos=[cc.v2(8,0),cc.v2(41.7,0)],this.cardFrameCache=cc.director.getScene().getChildByName("Canvas").getComponent("CardFrameCache"),this.node.position=this.initPos;var i=this.node.getComponent(cc.Animation);i&&i.stop();for(var n=0;n<this.arrCard.length;n++)this.arrLight[n].node.active=!1,this.arrCard[n].node.opacity=255,this.arrCard[n].node.color=new cc.Color(255,255,255),this.arrCard[n].spriteFrame=this.cardFrameCache.getCardBackFrame(),this.arrCard[n].node.active=!1,this.seatId>0&&(this.arrCard[n].node.scale=.3,this.arrCard[n].node.position=this.arrInitPos[n])},showCardLight:function(e){if(e){this.node.active=!0;for(var t=0;t<this.arrCard.length;t++){var i=!1;for(var n in e)if(6!=n&&(i=this.arrCard[t].spriteFrame==this.cardFrameCache.getCardFrameWithID(e[n])))break;this.arrLight[t].node.active=i,this.arrCard[t].node.color=i?new cc.Color(255,255,255):new cc.Color(50,50,50)}}},hideCardLight:function(){this.node.active=!0;for(var e=0;e<this.arrCard.length;e++)this.arrLight[e].node.active=!1,this.arrCard[e].node.color=new cc.Color(255,255,255)},onRoundReady:function(e,t){this.node.active=!1,this.node.position=this.initPos,this.node.getComponent(cc.Animation).stop();for(var i=0;i<this.arrCard.length;i++)this.arrLight[i].node.active=!1,this.arrCard[i].node.active=!1,this.arrCard[i].node.opacity=255,this.arrCard[i].node.color=new cc.Color(255,255,255),this.arrCard[i].spriteFrame=this.cardFrameCache.getCardBackFrame(),this.seatId>0&&(this.arrCard[i].node.scale=.3,this.arrCard[i].node.position=this.arrInitPos[i])},onRoundStart:function(e,t){this.node.active=!0,this.node.position=this.initPos,this.node.getComponent(cc.Animation).stop();for(var i=0;i<this.arrCard.length;i++)this.arrLight[i].node.active=!1,this.arrCard[i].node.active=!1,this.arrCard[i].spriteFrame=this.cardFrameCache.getCardBackFrame(),this.seatId>0&&(this.arrCard[i].node.scale=.3,this.arrCard[i].node.position=this.arrInitPos[i])},onRoundRunning:function(){this.node.active=!0,this.node.position=this.initPos,this.node.getComponent(cc.Animation).stop();for(var e=0;e<this.arrCard.length;e++)this.arrLight[e].node.active=!1,this.arrCard[e].node.active=!0,this.arrCard[e].node.opacity=255,this.arrCard[e].node.scale=.823,this.arrCard[e].node.color=new cc.Color(255,255,255),this.arrCard[e].spriteFrame=this.cardFrameCache.getCardBackFrame(),this.seatId>0&&(this.arrCard[e].node.scale=.3,this.arrCard[e].node.position=this.arrInitPos[e]);if(!(this.seatId>0))for(var t=ITeenPatti.getCurPlayer().role,i=0;i<this.arrCard.length;i++)this.arrCard[i].spriteFrame=this.cardFrameCache.getCardFrameWithID(t.arrCard[i])},onRoundDeal:function(e){this.isValid&&this.arrCard[e]&&(this.node.active=!0,this.node.position=this.initPos,this.arrCard[e].node.active=!0,this.arrCard[e].spriteFrame=this.cardFrameCache.getCardBackFrame())},onRoundSee:function(){this.node.getComponent(cc.Animation).play("ths_anim_seat_see")},onRoundPerflop:function(){this.node.active=!0,this.node.position=this.initPos},onRoundCompare:function(e,t){this.node.active=!0,this.node.position=this.initPos;var i=null;for(var n in t.ps)if(i=t.ps[n].playerId==this.playerId?t.ps[n]:null)break;if(i){for(var a=0;a<this.arrCard.length;a++)this.arrCard[a].spriteFrame=this.cardFrameCache.getCardFrameWithID(i.cards[a+1]),this.seatId>0&&(this.arrCard[a].node.scale=.66,this.arrCard[a].node.position=this.arrShowPos[a]);this.showCardLight(i?i.group:null)}},onRoundShow:function(e,t){this.node.active=!0,this.node.position=this.initPos,this.node.getComponent(cc.Animation).play("ths_anim_seat_show_"+this.seatId)},onRoundMax:function(e,t){var i=ITeenPatti.getCurTable().round;LogUtil.info(n,"Show Max : "+JSON.stringify(i.arrMaxer[0].group)),this.showCardLight(i.arrMaxer[0].group)},onRoundEnd:function(){this.node.active=!0},onRoundClear:function(e,t){this.init(this.seatId,this.playerId)},onAnimCardFaceUp:function(e){if(ITeenPatti.getCurTable()&&this.isValid){var t=ITeenPatti.getCurPlayer().role.arrCard[e];this.arrCard[e].spriteFrame=this.cardFrameCache.getCardFrameWithID(t),LogUtil.info(n,"Show Seat: "+this.seatId+" Card : "+t)}},onAnimShowCard:function(){if(ITeenPatti.getCurTable()&&this.isValid){var e=ITeenPatti.getCurTable().round.getPlayer(this.playerId);if(e)for(var t=0;t<this.arrCard.length;t++)this.arrCard[t].spriteFrame=this.cardFrameCache.getCardFrameWithID(e.arrCard[t])}}}),cc._RF.pop()},{}],TexasHoldemSeatCardLevelBar:[function(e,t,i){"use strict";cc._RF.push(t,"55173aganxLTo/IXYpbE/ZW","TexasHoldemSeatCardLevelBar");cc.Class({extends:cc.Component,properties:{stateLevelEnable:cc.Node,stateLevelDisable:cc.Node,arrLevelName:[cc.Sprite],arrLevelFlag:[cc.Node],arrLevelFrame:[cc.SpriteFrame]},init:function(){this.node.active=!1,this.stateLevelEnable.active=ITeenPatti.gameCore.gameMng.handStrengthMeter,this.stateLevelDisable.active=!1,this.node.getComponent(cc.Animation).stop()},updateLevel:function(){var e=ITeenPatti.getCurTable().round,t=ITeenPatti.getCurPlayer().role;if(e&&t&&(this.node.active=t.arrCard&&t.arrCard.length>1,t.arrCard&&!(t.arrCard.length<1))){for(var i=[],n=[],a=0;a<t.arrCard.length;a++)i.push(t.arrCard[a]);for(var o=0;o<e.arrCard.length;o++)i.push(e.arrCard[o]),n.push(e.arrCard[o]);for(var s=TexasUtil.maxCardLevel(i),r=window.CardLevelCache.getLevelFrame(s),l=0;l<this.arrLevelName.length;l++)this.arrLevelName[l].spriteFrame=r;s=TexasUtil.getLevel(i,n);for(var c=0;c<this.arrLevelFlag.length;c++)this.arrLevelFlag[c].active=c<s}},onRoundReady:function(e,t){this.node.active=!1,this.stateLevelDisable.active=!1,this.node.getComponent(cc.Animation).stop()},onRoundStart:function(){this.stateLevelDisable.active=!1},onRoundRunning:function(){this.stateLevelDisable.active=!1,this.updateLevel()},onRoundSee:function(){this.updateLevel()},onRoundPerflop:function(){},onRoundNext:function(){this.updateLevel()},onRoundCompare:function(e,t){this.updateLevel()},onRoundShow:function(e,t){this.updateLevel()},onRoundMax:function(e,t){this.stateLevelDisable.active=!this.stateLevelEnable.active,this.node.getComponent(cc.Animation).play("ths_anim_seat_level")},onRoundEnd:function(e,t){this.node.active=!1,this.stateLevelDisable.active=!1}}),cc._RF.pop()},{}],TexasHoldemSeatChipsBar:[function(e,t,i){"use strict";cc._RF.push(t,"9534b/pBW9Je6U95/j5dwvT","TexasHoldemSeatChipsBar");var n=e("LanguageData"),a=e("GameUtils");cc.Class({extends:cc.Component,properties:{lblChips:cc.Label},init:function(e,t){this.seatId=e,this.playerId=t,this.node.active=!1},resetChildColor:function(){for(var e=0;e<this.node.children.length;++e)this.node.children[e].color=new cc.Color(255,255,255)},onUserStandUp:function(){this.lblChips.string=""},onUserSitDown:function(e){this.node.active=!0,this.lblChips.string=e?n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(e.chips)}):"",this.resetChildColor()},onUserCall:function(e,t){this.node.active=!0,this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(t.chips)})},onUserRaise:function(e,t){this.node.active=!0,this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(t.chips)})},onUserAllin:function(e,t){this.node.active=!0,this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(t.chips)})},onUserFold:function(e,t){this.node.active=!0,this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(t.chips)})},onRoundReady:function(e){this.node.active=!0,this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(e.chips)}),this.resetChildColor()},onRoundStart:function(e,t){for(var i in this.node.active=!0,this.resetChildColor(),t.ps){var o=t.ps[i];this.playerId==o.playerId&&o.bet&&(this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(o.chips)}))}},onRoundBlind:function(e){this.node.active=!0,this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(e.chips)})},onRoundRunning:function(e){this.node.active=!0,this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(e.chips)})},onRoundAward:function(e){this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(e.chips)})},onRoundEnd:function(e,t){for(var i in this.node.active=!0,t.ps){var o=t.ps[i];this.playerId==this.playerId&&o.nbet&&(this.lblChips.string=n.t("label_text.chips_with_symbol",{number:a.formatNumberWithRules(o.chips)}))}}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemSeatExpBar:[function(e,t,i){"use strict";cc._RF.push(t,"7e012sF2VdIA644fmaFwdTm","TexasHoldemSeatExpBar");e("GameUtils");cc.Class({extends:cc.Component,properties:{lblExps:cc.Label},init:function(e,t){this.seatId=e,this.playerId=t,this.node.active=!0},onUserExp:function(e,t){this.lblExps.string="+ "+t.exp+"XP",this.node.getComponent(cc.Animation).playAdditive("ths_anim_seat_exp")}}),cc._RF.pop()},{GameUtils:"GameUtils"}],TexasHoldemSeatPlaceAction:[function(e,t,i){"use strict";cc._RF.push(t,"e45d8k/1kRGQr73H5b2c0ih","TexasHoldemSeatPlaceAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},play:function(e){LogUtil.debug("TexasHoldemSeatPlaceAction","Seat "+this.objSeat.seatId+" Place By User "+this.objTPUser.strTPID+" Player "+this.objSeat.playerId);ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller;if(t.tipCollector.onUserSitDown(this.strCmd,this.objData),t.controlHintBar.onUserSitDown(this.strCmd,this.objData),t.roomHintBar.onUserSitDown(this.strCmd,this.objData),this.objSeat.onUserSitDown(this.objTPUser),0==this.objSeat.seatId)for(var i=0;i<t.arrSeat.length;i++)t.arrSeat[i].onOtherSitDown();e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],TexasHoldemSeatStakeBar:[function(e,t,i){"use strict";cc._RF.push(t,"bd0b15pL9FEcKYvZx391xok","TexasHoldemSeatStakeBar");var n=e("GameUtils"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{lblStake:cc.Label},init:function(e,t){this.seatId=e,this.playerId=t,this.node.active=!1},getLastStake:function(){var e=ITeenPatti.getCurTable().round;if(!e)return 0;var t=e.getPlayer(this.playerId);return t?t.lastStake:0},onUserCall:function(e,t){var i=ITeenPatti.getCurTable().round.getPlayer(this.playerId);if(i){var o=i.totalStake;this.node.active=o>0,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(o)})}},onUserRaise:function(e,t){this.node.active=!0;var i=ITeenPatti.getCurTable().round.getPlayer(this.playerId);i&&(this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(i.totalStake)}))},onUserAllin:function(e,t){this.node.active=!0;var i=ITeenPatti.getCurTable().round.getPlayer(this.playerId);i&&(this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(i.totalStake)}))},onUserFold:function(e,t){this.node.active=!1},onUserStake:function(){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round){this.node.active=!1;var e=ITeenPatti.getCurTable().round.getPlayer(this.playerId);e&&(this.node.active=!0,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(e.totalStake)}))}},onRoundReady:function(e){this.node.active=!1},onRoundStart:function(e,t){for(var i in this.node.active=!1,t.ps){var o=t.ps[i];if(this.playerId==o.playerId&&o.bet){this.node.active=!0,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(o.bet)});break}}},onRoundRunning:function(e){this.node.active=e.totalStake>0,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(e.totalStake)})},onRoundCollect:function(){this.node.active=!1}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemSeatStakeView:[function(e,t,i){"use strict";cc._RF.push(t,"f8168XHYTFPkpeFvdqD0f7x","TexasHoldemSeatStakeView");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{lblStake:cc.Label},playAnim:function(e,t){this.seatId=e,this.lblStake.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).play("ths_anim_seat_stake_"+this.seatId)},onAnimFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&(ITeenPatti.getCurTable().contrller.arrSeat[this.seatId].onUserStake(),this.node.removeFromParent())}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemSeatStateBar:[function(e,t,i){"use strict";cc._RF.push(t,"0cd59WmQaJGgZ/qYreQKhdX","TexasHoldemSeatStateBar");var n=e("LanguageData");cc.Class({extends:cc.Component,properties:{lblStake:cc.Label,imgBg:cc.Sprite,arrBgFrame:[cc.SpriteFrame]},init:function(e,t){this.seatId=e,this.playerId=t,this.node.active=!1,this.node.getComponent(cc.Animation).stop()},onUserSBlind:function(){this.node.active=!0,this.node.getComponent(cc.Animation).play("ths_anim_seat_state_show"),this.lblStake.string=n.t("label_text.s_blind")},onUserBBlind:function(){this.node.active=!0,this.node.getComponent(cc.Animation).play("ths_anim_seat_state_show"),this.lblStake.string=n.t("label_text.b_blind")},onUserCheck:function(e,t){this.lblStake.string=n.t("label_text.check_c"),this.node.active=!0,this.imgBg.spriteFrame=this.arrBgFrame[1],this.node.getComponent(cc.Animation).play("ths_anim_seat_state_show")},onUserCall:function(e,t){this.lblStake.string=n.t("label_text.call_c"),this.node.active=!0,this.imgBg.spriteFrame=this.arrBgFrame[1],this.node.getComponent(cc.Animation).play("ths_anim_seat_state_show")},onUserRaise:function(e,t){this.lblStake.string=n.t("label_text.raise_c"),this.node.active=!0,this.imgBg.spriteFrame=this.arrBgFrame[1],this.node.getComponent(cc.Animation).play("ths_anim_seat_state_show")},onUserAllin:function(e,t){this.lblStake.string=n.t("label_text.allin_c"),this.node.active=!0,this.imgBg.spriteFrame=this.arrBgFrame[2],this.node.getComponent(cc.Animation).play("ths_anim_seat_state_show")},onUserFold:function(e,t){this.lblStake.string=n.t("label_text.fold_c"),this.node.active=!1},onRoundReady:function(e){this.node.active=!1},onRoundStart:function(e,t){this.node.active=!1;var i=ITeenPatti.getCurTable();for(var a in t.ps){var o=t.ps[a];this.playerId==o.playerId&&o.bet&&(this.node.active=!0,this.lblStake.string=o.bet>=i.maxBlind?n.t("label_text.b_blind"):n.t("label_text.s_blind"))}},onRoundBlind:function(e,t){var i=ITeenPatti.getCurTable();for(var a in t.ps){var o=t.ps[a];this.playerId==o.playerId&&o.bet&&(this.node.active=!0,this.node.getComponent(cc.Animation).play("ths_anim_seat_state_show"),this.lblStake.string=o.bet>=i.maxBlind?n.t("label_text.b_blind"):n.t("label_text.s_blind"))}this.imgBg.spriteFrame=this.arrBgFrame[0]},onRoundRunning:function(e){switch(this.node.active=e.state!=USER_STATE_TEXAS.WAIT&&e.state!=USER_STATE_TEXAS.FOLD,e.state){case USER_STATE_TEXAS.SBLIND:this.onUserSBlind();break;case USER_STATE_TEXAS.BBLIND:this.onUserBBlind();break;case USER_STATE_TEXAS.CALL:this.onUserCall();break;case USER_STATE_TEXAS.CHCECK:this.onUserCheck();break;case USER_STATE_TEXAS.RAISE:this.onUserRaise();break;case USER_STATE_TEXAS.ALLIN:this.onUserAllin()}}}),cc._RF.pop()},{LanguageData:"LanguageData"}],TexasHoldemSeat:[function(e,t,i){"use strict";cc._RF.push(t,"05ce7KgAa9FwJCsTOf3g2bM","TexasHoldemSeat");var n=e("DataAnalysisKey"),a=e("UIInfo"),o=e("CDTimeBar"),s=e("TexasHoldemSeatCardBar"),r=e("TexasHoldemSeatChipsBar"),l=e("TexasHoldemSeatStakeBar"),c=e("TexasHoldemSeatStateBar"),h=e("TexasHoldemPlayerView"),u=e("TexasHoldemSeatCardLevelBar"),d=e("TexasHoldemSeatExpBar"),m=e("GameBaseSeat");cc.Class({extends:m,properties:{btnInvite:cc.Button,btnSit:cc.Button,btnGift:cc.Button,imgCrown:cc.Node,stateNotEmpty:cc.Node,seatId:{default:0,visible:!1},playerId:{default:0,visible:!1},tpUser:{default:null,visible:!1},playerView:h,cdTimeBar:o,chipsBar:r,stakeBar:l,stateBar:c,cardBar:s,levelBar:u,expBar:d,stakePrefab:cc.Prefab},initSeat:function(e,t){this.seatId=e,this.playerId=t,this.tpUser=null,this.node.active=!0,this.btnSit&&(this.btnSit.node.active=!0),this.btnInvite&&(this.btnInvite.node.active=!1),this.btnGift&&(this.btnGift.node.active=!ITeenPatti.getCurPlayer().role.isWatcher()),this.imgCrown.active=!1,this.imgCrown.color=new cc.Color(255,255,255),this._super(e,t),this.stateNotEmpty.active=!1,this.stateNotEmpty.scaleX=this.stateNotEmpty.scaleY=1,this.node.getComponent(cc.Animation).stop(),this.stateBar.init(e,t),this.chipsBar.init(e,t),this.stakeBar.init(e,t),this.cardBar.init(e,t),this.levelBar&&this.levelBar.init(e,t),this.playerView.init(e,t),this.cdTimeBar.hide(),this.cdTimeBar.isMe=0==this.seatId,this.playerView.hideActiveEffect()},getGiftSendPostion:function(){return this.playerView.getGiftSendPostion()},getGiftReceivePostion:function(e,t){return this.playerView.getGiftReceivePostion(t)},getMessagePostion:function(){return this.playerView.getMessagePostion()},onBtnInviteClk:function(){ITeenPatti.gameCore.dataAnalysisMng.sendData(n.OPEN_TOTABLE_TABLE),ITeenPatti.gameCore.gameMng.openFriendsUI(0)},myBalance:function(){return ITeenPatti.getCurPlayer().nChips},onBtnSitDownClk:function(){var e=ITeenPatti.getCurTable(),t=(ITeenPatti.getCurTable().round,ITeenPatti.getCurPlayer());ITeenPatti.gameCore.gameMng.hasEnoughChips2(e.minChips)&&ITeenPatti.gameCore.uiMng.openUI(a.TEXAS_BUY_INTO_TABLE,handler(this,function(i){i.setInitData({playerId:this.playerId,chips:this.myBalance(),blind:.5*e.maxBlind,minChips:e.minChips,isAuto:t.role.isAuto})}))},onBtnGiftClk:function(){ITeenPatti.getCurPlayer().role&&!ITeenPatti.getCurPlayer().role.isWatcher()&&ITeenPatti.gameCore.uiMng.openUI(a.GIFTS,handler(this,function(e){e&&e.setReceiverID(this.tpUser.userId)}))},onBtnGiftClicked:function(){this.onBtnGiftClk()},onBtnProfileClk:function(){var e=cc.director.getScene().getChildByName("Canvas").getComponent("TexasHoldemScene");ITeenPatti.removeListener("profile",e),ITeenPatti.addListener("profile",e,e.onUserProfileGet),ITeenPatti.sendMsg("profile",{i:parseInt(this.tpUser.userId)})},onUserStandUp:function(){this.initSeat(this.seatId,this.playerId),this.seatId<1||(this.imgCrown.active=!1,this.btnSit.node.active=ITeenPatti.getCurPlayer().role.isWatcher(),this.btnInvite.node.active=!this.btnSit.node.active,this.playerView.onUserStandUp())},onUserSitDown:function(e){return!!e&&(this.tpUser=e,this.btnSit&&(this.btnSit.node.active=!1),this.btnInvite&&(this.btnInvite.node.active=!1),this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID),this.stateNotEmpty.active=!0,this.playerView.onUserSitDown(this.tpUser),this.chipsBar.onUserSitDown(this.tpUser.role),!0)},onOtherStandUp:function(){var e=!ITeenPatti.getCurPlayer().role.isWatcher();return this.btnGift.node.active=!this.objGift&&e,this.tpUser&&(this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID)),!(this.tpUser||this.seatId<1)&&(1==this.seatId&&(this.node.active=!e),this.btnSit.node.active=!e,this.btnInvite.node.active=e,!0)},onOtherSitDown:function(){var e=!ITeenPatti.getCurPlayer().role.isWatcher();return this.btnGift.node.active=!this.objGift&&e,this.tpUser&&(this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID)),!(this.seatId<1||this.tpUser)&&(1==this.seatId&&(this.node.active=!e),this.btnSit.node.active=!e,this.btnInvite.node.active=e,!0)},onUserSlient:function(){this.tpUser&&ITeenPatti.getCurTable().round.isPlayer(this.playerId)&&(this.cdTimeBar.hide(),this.playerView.hideActiveEffect())},onUserActive:function(){if(this.tpUser){var e=ITeenPatti.getCurTable().round;this.cdTimeBar.startCountDown(e.cdStart,e.cdTime),0==this.seatId&&ITeenPatti.gameCore.gameMng.playAudioEffect("myturn"),this.playerView.showActiveEffect(0==this.seatId)}},onUserSee:function(){this.tpUser&&this.cardBar.onRoundSee()},onUserCall:function(e,t){if(this.tpUser)if(this.cdTimeBar.hide(),this.playerView.hideActiveEffect(),this.chipsBar.onUserCall(e,t),t.nbet>0?this.stateBar.onUserCall(e,t):this.stateBar.onUserCheck(e,t),this.stakeBar.getLastStake()<1)ITeenPatti.gameCore.gameMng.playAudioEffect("texasbet");else{ITeenPatti.gameCore.gameMng.playAudioEffect("bet");var i=cc.instantiate(this.stakePrefab);this.node.addChild(i),i.getComponent("TexasHoldemSeatStakeView").gameCore=this.gameCore,i.getComponent("TexasHoldemSeatStakeView").playAnim(this.seatId,this.stakeBar.getLastStake())}},onUserRaise:function(e,t){if(this.tpUser){this.cdTimeBar.hide(),this.playerView.hideActiveEffect(),this.chipsBar.onUserRaise(e,t),this.stateBar.onUserRaise(e,t);var i=cc.instantiate(this.stakePrefab);this.node.addChild(i),i.getComponent("TexasHoldemSeatStakeView").gameCore=this.gameCore,i.getComponent("TexasHoldemSeatStakeView").playAnim(this.seatId,this.stakeBar.getLastStake()),ITeenPatti.gameCore.gameMng.playAudioEffect("bet")}},onUserAllin:function(e,t){if(this.tpUser){this.cdTimeBar.hide(),this.playerView.hideActiveEffect(),this.chipsBar.onUserAllin(e,t),this.stateBar.onUserAllin(e,t);var i=cc.instantiate(this.stakePrefab);this.node.addChild(i),i.getComponent("TexasHoldemSeatStakeView").gameCore=this.gameCore,i.getComponent("TexasHoldemSeatStakeView").playAnim(this.seatId,this.stakeBar.getLastStake()),ITeenPatti.gameCore.gameMng.playAudioEffect("bet")}},onUserFold:function(e,t){this.tpUser&&(this.cdTimeBar.hide(),this.playerView.hideActiveEffect(),this.chipsBar.onUserFold(e,t),this.stateBar.onUserFold(e,t),this.node.getComponent(cc.Animation).play("ths_anim_seat_fold_"+this.seatId),ITeenPatti.gameCore.gameMng.playAudioEffect("pack"))},onUserStake:function(){this.stakeBar.onUserStake()},onUserMax:function(e,t){this.cardBar.onRoundMax(e,t)},onUserExp:function(e,t){this.tpUser&&this.expBar.onUserExp(e,t)},updateGiftBtnActive:function(e){this.btnGift.node.active=e},onRoundReady:function(e,t){this.tpUser&&(this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID),this.imgCrown.color=new cc.Color(255,255,255),this.stateNotEmpty.scaleX=this.stateNotEmpty.scaleY=1,this.node.getComponent(cc.Animation).stop(),this.playerView.onRoundReady(e,t),this.cardBar.onRoundReady(e,t),this.stakeBar.onRoundReady(e,t),this.stateBar.onRoundReady(e,t),this.chipsBar.onRoundReady(this.tpUser.role),this.levelBar&&this.levelBar.onRoundReady())},onRoundStart:function(e,t){this.tpUser&&(this.stateBar.node.active=!1,this.playerView.onRoundStart(e,t),this.cardBar.onRoundStart(e,0==this.seatId?t:null),this.stakeBar.onRoundStart(e,t),this.stateBar.onRoundStart(e,t),this.chipsBar.onRoundStart(e,t),this.levelBar&&this.levelBar.onRoundStart(e,t))},onRoundBlind:function(e,t){if(this.tpUser&&!(this.stakeBar.getLastStake()<1)){this.chipsBar.onRoundBlind(this.tpUser.role),this.stateBar.onRoundBlind(e,t);var i=cc.instantiate(this.stakePrefab);this.node.addChild(i),i.getComponent("TexasHoldemSeatStakeView").gameCore=this.gameCore,i.getComponent("TexasHoldemSeatStakeView").playAnim(this.seatId,this.stakeBar.getLastStake()),ITeenPatti.gameCore.gameMng.playAudioEffect("bet")}},onRoundRunning:function(){this.tpUser&&(this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID),this.playerView.onRoundRunning(this.tpUser.role),this.cardBar.onRoundRunning(this.tpUser.role),this.stakeBar.onRoundRunning(this.tpUser.role),this.stateBar.onRoundRunning(this.tpUser.role),this.chipsBar.onRoundRunning(this.tpUser.role),this.levelBar&&this.levelBar.onRoundRunning(this.tpUser.role))},onRoundDeal:function(e){this.tpUser&&this.cardBar.onRoundDeal(e)},onRoundNext:function(){this.tpUser&&this.levelBar&&this.levelBar.onRoundNext()},onRoundCollect:function(){this.tpUser&&(this.cdTimeBar.hide(),this.playerView.hideActiveEffect(),this.stakeBar.onRoundCollect())},onRoundPerflop:function(){this.tpUser&&(this.cdTimeBar.hide(),this.playerView.hideActiveEffect(),this.stakeBar.node.active=!1,this.stateBar.node.active=!1,this.cardBar.node.active=!0,this.levelBar&&this.levelBar.onRoundPerflop())},onRoundCompare:function(e,t){this.cdTimeBar.hide(),this.playerView.hideActiveEffect(),this.stakeBar.node.active=!1,this.stateBar.node.active=!1,this.cardBar.onRoundCompare(e,t),this.levelBar&&this.levelBar.onRoundCompare(e,t)},onRoundShow:function(e,t){this.tpUser&&!this.tpUser.role.isfold&&(this.cdTimeBar.hide(),this.playerView.hideActiveEffect(),this.stakeBar.node.active=!1,this.stateBar.node.active=!1,this.cardBar.onRoundShow(e,t),this.levelBar&&this.levelBar.onRoundShow(e,t))},onRoundMax:function(e,t){this.levelBar&&this.levelBar.onRoundMax(e,t)},onRoundWin:function(e,t){this.cdTimeBar.hide(),this.playerView.hideActiveEffect(),this.stakeBar.node.active=!1,this.stateBar.node.active=!1,this.playerView.onRoundWin(e,t),ITeenPatti.gameCore.gameMng.playAudioEffect("win")},onRoundAward:function(){this.tpUser&&this.chipsBar.onRoundAward(this.tpUser.role)},onRoundEnd:function(e,t){this.cdTimeBar.hide(),this.playerView.hideActiveEffect(),this.stakeBar.node.active=!1,this.stateBar.node.active=!1,this.cardBar.onRoundEnd(e,t),this.chipsBar.onRoundEnd(e,t)},onRoundClear:function(e,t){if(!this.tpUser)return this.initSeat(this.seatId,this.playerId),void this.onOtherSitDown();this.node.active=!0,this.node.getComponent(cc.Animation).stop(),this.imgCrown.active=!1,this.stateNotEmpty.active=!1,this.stateNotEmpty.scaleX=this.stateNotEmpty.scaleY=1,this.stateBar.init(this.seatId,this.playerId),this.chipsBar.init(this.seatId,this.playerId),this.stakeBar.init(this.seatId,this.playerId),this.cardBar.init(this.seatId,this.playerId),this.levelBar&&this.levelBar.init(this.seatId,this.playerId),this.playerView.init(this.seatId,this.playerId),this.cdTimeBar.hide(),this.cdTimeBar.isMe=0==this.seatId,this.playerView.hideActiveEffect(),this.btnSit&&(this.btnSit.node.active=!1),this.btnInvite&&(this.btnInvite.node.active=!1),this.stateNotEmpty.active=!0,this.imgCrown.active=ITeenPatti.getCurTable().isCurRoomWinBiggest(this.tpUser.strTPID),this.chipsBar.onUserSitDown(this.tpUser.role),this.playerView.onRoundClear(this.tpUser.role)},hideCardLight:function(){this.cardBar.hideCardLight()}}),cc._RF.pop()},{CDTimeBar:"CDTimeBar",DataAnalysisKey:"DataAnalysisKey",GameBaseSeat:"GameBaseSeat",TexasHoldemPlayerView:"TexasHoldemPlayerView",TexasHoldemSeatCardBar:"TexasHoldemSeatCardBar",TexasHoldemSeatCardLevelBar:"TexasHoldemSeatCardLevelBar",TexasHoldemSeatChipsBar:"TexasHoldemSeatChipsBar",TexasHoldemSeatExpBar:"TexasHoldemSeatExpBar",TexasHoldemSeatStakeBar:"TexasHoldemSeatStakeBar",TexasHoldemSeatStateBar:"TexasHoldemSeatStateBar",UIInfo:"UIInfo"}],TexasHoldemTableAwardsSender:[function(e,t,i){"use strict";cc._RF.push(t,"0a0afARLwlD05SMobKupyHL","TexasHoldemTableAwardsSender");var n=e("BaseComponent");cc.Class({extends:n,properties:{awardsPrefab:cc.Prefab},onRoundEnd:function(e,t,i){var n=ITeenPatti.getCurTable().round,a=ITeenPatti.getCurTable().contrller.getSeatWithPlayerId(i),o=n.getPlayer(i);if(o)for(var s=.01,r=0;r<o.arrWins.length;r++){var l=cc.instantiate(this.awardsPrefab);this.node.addChild(l),l.getComponent("TexasHoldemTableAwardsView").gameCore=this.gameCore,l.getComponent("TexasHoldemTableAwardsView").playAnim(a.seatId,o.arrWins[r],s),s+=.1}},onRoundAward:function(e,t){var i=cc.instantiate(this.awardsPrefab);this.node.addChild(i),i.getComponent("TexasHoldemTableAwardsView").gameCore=this.gameCore,i.getComponent("TexasHoldemTableAwardsView").playAnim(t.seatId,t.amount,.01)}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],TexasHoldemTableAwardsView:[function(e,t,i){"use strict";cc._RF.push(t,"c8a8bPFeKpIUqqKfLaj2qNU","TexasHoldemTableAwardsView");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{lblAmount:cc.Label},playAnim:function(e,t,i){var o=this;this.seatId=e,this.lblAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.opacity=0,this.roundId=ITeenPatti.getCurTable().round.roundId,performWithDelay(this.node,i,function(){o.node.opacity=255,o.node.getComponent(cc.Animation).play("ths_anim_table_awards_"+o.seatId)})},onAnimFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round&&(this.roundId==ITeenPatti.getCurTable().round.roundId&&(ITeenPatti.getCurTable().contrller.arrSeat[this.seatId].onRoundAward(),this.node.removeFromParent()))}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemTableCardBar:[function(e,t,i){"use strict";cc._RF.push(t,"3254d1+G9ROBp85rm7xeQ6b","TexasHoldemTableCardBar");cc.Class({extends:cc.Component,properties:{arrCard:[cc.Sprite],arrLight:[cc.Sprite]},init:function(){this.arrInitPos||(this.arrInitPos=[],this.arrInitScale=[]),this.cardFrameCache=cc.director.getScene().getChildByName("Canvas").getComponent("CardFrameCache"),this.node.active=!1,this.node.getComponent(cc.Animation).stop();for(var e=0;e<this.arrCard.length;e++)this.arrCard[e].node.active=!1,this.arrCard[e].node.color=new cc.Color(255,255,255),this.arrCard[e].spriteFrame=this.cardFrameCache.getCardBackFrame(),this.arrInitPos.length>e||(this.arrInitPos[e]=new cc.Vec2(this.arrCard[e].node.x,this.arrCard[e].node.y),this.arrInitScale[e]=this.arrCard[e].node.scaleX)},showCardLight:function(e){if(e&&(this.node.active=!0,ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round))for(var t=ITeenPatti.getCurTable().round,i=0;i<this.arrCard.length;i++){var n=!1;for(var a in e)if(6!=a&&(n=t.arrCard[i]==e[a]))break;this.arrLight[i].node.active=n,this.arrCard[i].node.color=n?new cc.Color(255,255,255):new cc.Color(50,50,50)}},hideCardLight:function(){this.node.active=!0;for(var e=0;e<this.arrCard.length;e++)this.arrLight[e].node.active=!1,this.arrCard[e].node.color=new cc.Color(255,255,255)},onCardDeal:function(){ITeenPatti.gameCore.gameMng.playAudioEffect("deal")},onAnimFlop:function(e){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round){var t=ITeenPatti.getCurTable().round.arrCard[e];this.arrCard[e].spriteFrame=this.cardFrameCache.getCardFrameWithID(t),LogUtil.info("TexasHoldemTableCardBar","Show Table Card: "+t)}},onAnimFlopAll:function(){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().round)for(var e=ITeenPatti.getCurTable().round,t=0;t<5;t++){var i=e.arrCard[t];this.arrCard[t].spriteFrame=this.cardFrameCache.getCardFrameWithID(i)}},onRoundReady:function(){this.onRoundClear()},onRoundStart:function(){this.node.active=!1},onRoundRunning:function(){var e=ITeenPatti.getCurTable().round;this.node.active=!0;for(var t=0;t<this.arrCard.length;t++)this.arrCard[t].node.active=e.arrCard.length>t,this.arrCard[t].node.opacity=255,this.arrCard[t].node.position=this.arrInitPos[t],this.arrCard[t].node.scaleX=this.arrCard[t].node.scaleY=this.arrInitScale[t],this.arrCard[t].spriteFrame=this.cardFrameCache.getCardFrameWithID(e.arrCard[t]),this.arrLight[t].node.active=!1},onRoundPerflop:function(e,t){this.node.active=!0;for(var i=5,n=0;n<this.arrCard.length;n++){var a=t.cards[n+1];if(this.arrLight[n].node.active=!1,null==a)return;this.arrCard[n].node.active||(i=Math.min(n,i),this.arrCard[n].node.active=!0,this.node.getComponent(cc.Animation).playAdditive("ths_anim_table_flop_"+n))}},onRoundAllflop:function(e,t){this.node.active=!0;for(var i=0;i<this.arrCard.length;i++){t.cards[i+1];this.arrLight[i].node.active=!1,this.arrCard[i].node.active=!0}this.node.getComponent(cc.Animation).playAdditive("ths_anim_table_flop_6")},onRoundCompare:function(e,t,i){this.node.active=!0;var n=null;for(var a in t.ps)if(n=t.ps[a].playerId==i?t.ps[a]:null)break;this.showCardLight(n?n.group:null)},onRoundMax:function(e,t){var i=ITeenPatti.getCurTable().round;this.showCardLight(i.arrMaxer[0].group)},onRoundEnd:function(){},onRoundClear:function(){this.node.active=!1,this.node.getComponent(cc.Animation).stop();for(var e=0;e<this.arrCard.length;e++)this.arrCard[e].node.active=!1,this.arrCard[e].node.color=new cc.Color(255,255,255),this.arrCard[e].spriteFrame=this.cardFrameCache.getCardBackFrame()}}),cc._RF.pop()},{}],TexasHoldemTableCardLevelBar:[function(e,t,i){"use strict";cc._RF.push(t,"62635ZWxqJKIriw7aAKlcPj","TexasHoldemTableCardLevelBar");cc.Class({extends:cc.Component,properties:{imgBg:cc.Node,imgLevelName:cc.Sprite},onLoad:function(){var e=this;this.imgLevelName.node.on("size-changed",function(t,i){e.imgBg.width=e.imgLevelName.node.width+150})},init:function(){this.node.active=!1,this.node.getComponent(cc.Animation).stop()},onRoundReady:function(){this.node.active=!1},onRoundStart:function(){this.node.active=!1},onRoundRunning:function(){this.node.active=!1},onRoundShowMax:function(e,t,i){ITeenPatti.getCurTable();var n=ITeenPatti.getCurTable().round,a=(ITeenPatti.getCurTable().contrller.getSeatWithPlayerId(i),n.getPlayer(i));if(a){var o=a.arrMax[5];this.imgLevelName.spriteFrame=window.CardLevelCache.getLevelFrame(o);this.node.active=!0}},onRoundMax:function(e,t){var i=ITeenPatti.getCurTable().round.arrMaxer[0].group[6];this.imgLevelName.spriteFrame=window.CardLevelCache.getLevelFrame(i);this.node.active=!0,this.node.getComponent(cc.Animation).play("ths_anim_table_max")},onRoundClear:function(e,t){this.node.active=!1}}),cc._RF.pop()},{}],TexasHoldemTableDealer:[function(e,t,i){"use strict";cc._RF.push(t,"816b9cYusxAZKzpjuA5gLoq","TexasHoldemTableDealer");var n=e("UIInfo"),a=e("GameData"),o=e("Command"),s=e("GameUtils"),r=e("BaseComponent"),l=e("DealerHintBar"),c=(e("DataAnalysisKey"),e("LanguageData"));cc.Class({extends:r,properties:{imgDealer:cc.Sprite,btnSwitch:cc.Button,dealHint:l,pfbLoading:cc.Prefab,btnTip:cc.Node},onLoad:function(){this._super(),this.btnTip.active=!1},init:function(){this.table=ITeenPatti.getCurTable(),this.table.dealerID=14,this.dealerCache=cc.director.getScene().getChildByName("Canvas").getComponent("DealerCache")},onBtnSwitchClk:function(){ITeenPatti.gameCore.uiMng.openUI(n.SWITCH_DEALER_POPUP),ITeenPatti.gameCore.uiMng.removeListener(o.UI_CMD_SWITCHING_DEALER,this,this.onSwitchDealerClk),ITeenPatti.gameCore.uiMng.addListener(o.UI_CMD_SWITCHING_DEALER,this,this.onSwitchDealerClk)},onSwitchDealerClk:function(e,t){this.btnSwitch.interactable=!1,this.loading=cc.instantiate(this.pfbLoading),this.node.addChild(this.loading)},onDealerSwitch:function(e,t){if(this.btnSwitch.interactable=!0,this.loading&&this.loading.removeFromParent(),this.loading=null,this.changeDealerSpriteFrame(t.i),this.dealHint){var i=s.formatName(ITeenPatti.getCurPlayer().getTeenPattiProfile().strTPName);this.dealHint.addHint(c.t("label_text.change_dealer_tip",{name:i,name1:a.arrDealerName[t.i-1]}))}},onUserStandUp:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().getUserWithUserID(t.user.name);i&&this.dealHint&&this.dealHint.addHint(c.t("label_text.sit_then_stand",{name:s.formatName(i.getTeenPattiProfile().strTPName)})),this.updateTipBtnActive()}},onUserSitDown:function(e,t){if(ITeenPatti.getCurTable()&&ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=ITeenPatti.getCurTable().getUserWithUserID(t.user.name);i&&this.dealHint&&this.dealHint.addHint(c.t("label_text.join_game",{name:s.formatName(i.getTeenPattiProfile().strTPName)})),this.updateTipBtnActive()}},updateTipBtnActive:function(){this.btnTip.active=ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&!ITeenPatti.getCurPlayer().role.isWatcher()},changeDealerSpriteFrame:function(e){this.dealerCache.isDealerLoad(e)&&(this.table.dealerID=e,this.imgDealer.spriteFrame=this.dealerCache.getTableFrame(e))}}),cc._RF.pop()},{BaseComponent:"BaseComponent",Command:"Command",DataAnalysisKey:"DataAnalysisKey",DealerHintBar:"DealerHintBar",GameData:"GameData",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],TexasHoldemTableHintBar:[function(e,t,i){"use strict";cc._RF.push(t,"f448bx0SdtHRLHnDQcqfmDr","TexasHoldemTableHintBar"),cc.Class({extends:cc.Component,properties:{lblHint:cc.Label,imgHintBg:cc.Sprite,showTime:0,arrHintList:[]},onLoad:function(){this.bgOriHeight=this.imgHintBg.node.height,this.bgOriWidth=this.imgHintBg.node.width,this.showHintBar(!1)},showHintBar:function(e){this.lblHint.node.active=e,this.imgHintBg.node.active=e},clearHint:function(){this.showTime=0,this.arrHintList=[]},addHint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!i&&this.arrHintList.length>0&&(this.arrHintList[this.arrHintList.length-1].duration=.5),this.arrHintList.push({text:e,start:i,duration:t})},update:function(e){if(this.arrHintList.length<1)this.showHintBar(!1);else{var t=(new Date).getTime();if(this.arrHintList[0].start)return this.arrHintList[0].start+1e3*this.arrHintList[0].duration<=t?(this.arrHintList.splice(0,1),void(this.showTime=0)):this.arrHintList[0].start<t&&this.arrHintList[0].start+1e3*this.arrHintList[0].duration>t?(this.lblHint.string=this.arrHintList[0].text,this.lblHint.overflow=cc.Label.Overflow.NONE,this.lblHint.node.width>=this.bgOriWidth-10&&(this.lblHint.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.lblHint.node.width=this.bgOriWidth-10),this.imgHintBg.node.width=Math.min(this.lblHint.node.width+100,480),this.imgHintBg.node.height=this.bgOriHeight,this.imgHintBg.node.height<this.lblHint.node.height+7&&(this.imgHintBg.node.height=this.lblHint.node.height+7),void this.showHintBar(!0)):void 0;this.showTime+=e,this.showHintBar(!0),this.lblHint.string=this.arrHintList[0].text,this.lblHint.overflow=cc.Label.Overflow.NONE,this.lblHint.node.width>=this.bgOriWidth-10&&(this.lblHint.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.lblHint.node.width=this.bgOriWidth-10),this.imgHintBg.node.width=Math.min(this.lblHint.node.width+100,480),this.imgHintBg.node.height=this.bgOriHeight,this.imgHintBg.node.height<this.lblHint.node.height+7&&(this.imgHintBg.node.height=this.lblHint.node.height+7),this.showTime<this.arrHintList[0].duration||(this.showTime=0,this.arrHintList.splice(0,1))}}}),cc._RF.pop()},{}],TexasHoldemTablePokerBox:[function(e,t,i){"use strict";cc._RF.push(t,"ec8be3uo1VFWJB6jJNHt/LL","TexasHoldemTablePokerBox"),cc.Class({extends:cc.Component,properties:{dealInterval:.3,imgCard:cc.Sprite,objSender:cc.Node,pokerCard:cc.Prefab},init:function(){this.imgCard.node.active=!1},update:function(e){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&(!((new Date).getTime()<this.dealStart+1e3*this.dealInterval)&&!(null==this.curSeatID||this.arrDealCard[this.curSeatID]>=3)&&ITeenPatti.getCurTable()&&ITeenPatti.getCurTable().contrller&&ITeenPatti.getCurTable().contrller.arrSeat&&ITeenPatti.getCurTable().contrller.arrSeat[this.curSeatID])){for(var t=ITeenPatti.getCurTable().contrller.arrSeat[this.curSeatID];!t.tpUser||t.tpUser&&!ITeenPatti.getCurTable().round.isPlayer(t.playerId);){this.arrDealCard[this.curSeatID]+=1;var i=this.curSeatID;if(this.curSeatID=this.getNextDealSeat(this.curSeatID),null==this.curSeatID||this.arrDealCard[this.curSeatID]>=2)return this.enabled=!1,this.imgCard.node.active=!1,void(0==this.nDealCardCount&&this.onCardArriveSeat(i,2));t=ITeenPatti.getCurTable().contrller.arrSeat[this.curSeatID]}this.dealStart+=1e3*this.dealInterval,this.dealCardToSeat(this.curSeatID,this.arrDealCard[this.curSeatID]),this.curSeatID=this.getNextDealSeat(this.curSeatID),this.isDealComplete()&&(this.enabled=!1,this.imgCard.node.active=!1)}},isDealComplete:function(){return null==this.curSeatID||this.arrDealCard[this.curSeatID]>=2},startDealCard:function(e,t,i){this.enabled=!0,this.node.active=!0,this.hCardArriveCb=t,this.hDealFinishCb=i,this.curSeatID=e[0],this.arrDealSeat=e,this.dealStart=(new Date).getTime(),this.arrDealCard=[0,0,0,0,0,0],this.arrSortCard=[0,0,0,0,0,0],this.nDealCardCount=0,this.imgCard.node.active=!0},dealCardToSeat:function(e,t){this.nDealCardCount+=1,this.arrDealCard[e]+=1;var i=cc.instantiate(this.pokerCard);this.objSender.addChild(i),i.getComponent("TexasHoldemTablePokerCard").playAnimDeal(e,t,handler(this,this.onCardArriveSeat))},getNextDealSeat:function(e){for(var t=0;t<this.arrDealSeat.length;t++)if(e==this.arrDealSeat[t])return t>=this.arrDealSeat.length-1?this.arrDealSeat[0]:this.arrDealSeat[t+1];return null},isAllCardArriveSeat:function(){for(var e=0;e<this.arrDealSeat.length;e++){var t=this.arrDealSeat[e],i=ITeenPatti.getCurTable().contrller.arrSeat[t];if(i.tpUser&&ITeenPatti.getCurTable().round.isPlayer(i.playerId)&&this.arrSortCard[t]<2)return!1}return!0},onCardArriveSeat:function(e,t){ITeenPatti.getCurRoom()&&(this.arrSortCard[e]+=1,this.hCardArriveCb&&this.hCardArriveCb(e,this.arrSortCard[e]-1),this.isAllCardArriveSeat()&&(this.node.active=!1,this.objSender.removeAllChildren(),this.hDealFinishCb&&this.hDealFinishCb()))}}),cc._RF.pop()},{}],TexasHoldemTablePokerCard:[function(e,t,i){"use strict";cc._RF.push(t,"43fd9aRGMdPU4tS5RPkfp/r","TexasHoldemTablePokerCard");e("TableDealer"),e("AudioUtils");cc.Class({extends:cc.Component,properties:{imgCard:cc.Sprite},playAnimDeal:function(e,t,i){if(ITeenPatti.getCurRoom()){this.seatID=e,this.cardIndex=t,this.hFinishCb=i,this.node.getComponent(cc.Animation).playAdditive("ths_anim_deal_seat_"+e+"_"+t),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){ITeenPatti.gameCore.gameMng.playAudioEffect("deal")})))}},onAnimDealFinish:function(){this.isValid&&(this.node.removeFromParent(),ITeenPatti.getCurRoom()&&ITeenPatti.getCurTable().contrller&&this.hFinishCb&&this.hFinishCb(this.seatID,this.cardIndex))}}),cc._RF.pop()},{AudioUtils:"AudioUtils",TableDealer:"TableDealer"}],TexasHoldemTablePoolBar:[function(e,t,i){"use strict";cc._RF.push(t,"10fadtz/JxJILcxtkstrhFu","TexasHoldemTablePoolBar");var n=e("GameUtils"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{lblPools:cc.Label},init:function(){this.node.active=!0,this.onRoundClear()},onRoundReady:function(e,t){this.pools=0,this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(0)})},onRoundStart:function(e,t){this.pools=0,this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(0)})},onRoundRunning:function(e,t){this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(ITeenPatti.getCurTable().round.pools)})},onRoundCollect:function(e){void 0!=e&&(this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(e)}))},onRoundPerflop:function(e,t){var i=0;for(var o in t.pools)i+=t.pools[o];this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(i)})},onRoundWin:function(e,t,i){for(var n in this.pools=0,t.ps)for(var a in t.ps[n].nwins)this.pools+=t.ps[n].nwins[a]},onRoundAward:function(e,t){this.pools-=t.amount;this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.pools/1)})},onRoundClear:function(){this.pools=0,this.lblPools.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(this.pools)})}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemTableRefreshAction:[function(e,t,i){"use strict";cc._RF.push(t,"cc1fdhOfb9CDpxNnDXMbjF6","TexasHoldemTableRefreshAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){LogUtil.debug("TexasHoldemTableRefreshAction","Table Refresh With Net Data");ITeenPatti.getCurTable(),ITeenPatti.getCurTable().contrller;e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],TexasHoldemTableStakeCollector:[function(e,t,i){"use strict";cc._RF.push(t,"afc4elH7phE6ZDewHH3WSRM","TexasHoldemTableStakeCollector");var n=e("BaseComponent");cc.Class({extends:n,properties:{pfbStakeView:cc.Prefab},onRoundCollect:function(e,t){for(var i=ITeenPatti.getCurTable().round,n=ITeenPatti.getCurTable().contrller,a=0,o=0;o<n.arrSeat.length;o++){var s=n.arrSeat[o].playerId,r=i.getPlayer(s);if(r&&n.arrSeat[o].tpUser&&!(r.lastTotal<=0)){a++;var l=cc.instantiate(this.pfbStakeView);this.node.addChild(l),l.getComponent("TexasHoldemTableStakeView").gameCore=this.gameCore,l.getComponent("TexasHoldemTableStakeView").playAnim(o,r.lastTotal)}}a>0&&ITeenPatti.gameCore.gameMng.playAudioEffect("collectbet")},onRoundPerflop:function(e,t){}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],TexasHoldemTableStakeView:[function(e,t,i){"use strict";cc._RF.push(t,"32205zIWg5DqJEab+5TQdNb","TexasHoldemTableStakeView");var n=e("GameUtils"),a=e("LanguageData"),o=e("BaseComponentGold");cc.Class({extends:o,properties:{lblAmount:cc.Label},playAnim:function(e,t){this.seatId=e,this.lblAmount.string=a.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).play("ths_anim_table_stake_"+this.seatId)},onAnimFinish:function(){this.isValid&&this.node.removeFromParent()}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemTableTipsCollector:[function(e,t,i){"use strict";cc._RF.push(t,"5d9d3LSVepIdLrpW8IfRw/X","TexasHoldemTableTipsCollector");var n=e("TableTipsPopView"),a=e("BaseComponent"),o=e("LanguageData"),s=(e("UIInfo"),e("DataAnalysisKey"));cc.Class({extends:a,properties:{btnTips:cc.Node,pfbTips:cc.Prefab,objPopView:n},onBtnSendTip:function(){var e=ITeenPatti.getCurPlayer();if(e&&e.role&&ITeenPatti.getCurRoom()&&ITeenPatti.getCurRoom().profile){if(ITeenPatti.getCurRoom().profile.nBootAmount>e.getTeenPattiProfile().nChips)return ITeenPatti.gameCore.gameMng.openChipsNotEnoughTwoItem(ITeenPatti.getCurRoom().profile.nBootAmount),void ITeenPatti.gameCore.dataAnalysisMng.sendData(s.POPUP_CHIPSOUT_TIPS,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData);ITeenPatti.gameCore.dataAnalysisMng.sendData(s.CLICK_DEALER_TIPS,ITeenPatti.gameCore.dataAnalysisMng.gameBaseData),this.tipsAmount=ITeenPatti.getCurRoom().profile.tipAmount,ITeenPatti.sendMsg("tip",{i:this.tipsAmount})}},onUserStandUp:function(){this.btnTips.active=!ITeenPatti.getCurPlayer().role.isWatcher()},onUserSitDown:function(){this.btnTips.active=!ITeenPatti.getCurPlayer().role.isWatcher()},onRoundRunning:function(){this.btnTips.active=!ITeenPatti.getCurPlayer().role.isWatcher()},onUserTip:function(e,t){if(ITeenPatti.getCurTable()){var i=ITeenPatti.getCurTable().contrller.getSeatWithUserId(t.id);if(i){LogUtil.debug("TexasHoldemTableTipsCollector","Dealer Collect Tips Of Seat "+i.seatId),ITeenPatti.gameCore&&ITeenPatti.gameCore.gameMng.playAudioEffect("tip");var n=cc.instantiate(this.pfbTips);this.node.addChild(n);var a=n.getComponent("TexasHoldemTableTipsView");a.gameCore=this.gameCore,a.playAnimCollect(i.seatId,t.chip,handler(this,this.onAnimCollectFinish))}}},onAnimCollectFinish:function(){var e=[o.t("label_text.dealer_tip_message1"),o.t("label_text.dealer_tip_message2"),o.t("label_text.dealer_tip_message3"),o.t("label_text.dealer_tip_message4")],t=Math.floor(Math.random()*e.length);this.objPopView.showText(e[t])}}),cc._RF.pop()},{BaseComponent:"BaseComponent",DataAnalysisKey:"DataAnalysisKey",LanguageData:"LanguageData",TableTipsPopView:"TableTipsPopView",UIInfo:"UIInfo"}],TexasHoldemTableTipsView:[function(e,t,i){"use strict";cc._RF.push(t,"b911eXQnGhHRoohd7PGkeIf","TexasHoldemTableTipsView");var n=e("GameUtils"),a=e("BaseComponentGold"),o=e("LanguageData");cc.Class({extends:a,properties:{lblAmount:cc.Label},onLoad:function(){this._super()},playAnimCollect:function(e,t,i){this.hFinishCb=i,this.lblAmount.string=o.t("label_text.chips_with_symbol",{number:n.formatNumberWithRules(t)}),this.node.getComponent(cc.Animation).playAdditive("ths_anim_dealer_tips_seat_"+e)},onAnimTipsArriv:function(e){this.isValid&&ITeenPatti.getCurTable()&&this.hFinishCb&&this.hFinishCb()},onAnimFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&this.node.removeFromParent()}}),cc._RF.pop()},{BaseComponentGold:"BaseComponentGold",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemTableView:[function(e,t,i){"use strict";cc._RF.push(t,"d8936KDIodJn6/jAxQAN+j4","TexasHoldemTableView");var n=e("BaseTable"),a=e("BaseComponent"),o=e("TexasHoldemTableHintBar"),s=e("TexasHoldemControlHintBar"),r=e("TexasHoldemRoomHintBar"),l=e("TexasHoldemSeat"),c=e("TexasHoldemTableDealer"),h=e("TexasHoldemControlBar"),u=e("TexasHoldemTablePoolBar"),d=e("TexasHoldemTablePokerBox"),m=e("TexasHoldemTableCardBar"),g=e("TexasHoldemTableCardLevelBar"),p=e("TexasHoldemTableAwardsSender"),C=e("TexasHoldemTableStakeCollector"),f=e("TexasHoldemTableTipsCollector"),b=e("TexasHoldemActionPool"),I=e("TexasHoldemLocalRefreshAction"),_=(e("TexasHoldemTableRefreshAction"),e("TexasHoldemUserRoomEnterAction")),S=e("TexasHoldemUserRoomExitAction"),P=e("TexasHoldemUserSitDownAction"),T=e("TexasHoldemUserStandUpAction"),R=e("TexasHoldemSeatPlaceAction"),v=e("TexasHoldemUserNextAction"),y=e("TexasHoldemUserAllinAction"),A=e("TexasHoldemUserCallAction"),L=e("TexasHoldemUserFoldAction"),B=e("TexasHoldemUserRaiseAction"),D=e("TexasHoldemRoundReadyAction"),E=(e("TexasHoldemRoundStartAction"),e("TexasHoldemRoundBlindAction")),U=e("TexasHoldemRoundDealAction"),M=e("TexasHoldemUserSeeAction"),N=e("TexasHoldemRoundCollectAction"),w=e("TexasHoldemRoundPerflopAction"),k=(e("TexasHoldemRoundCompareAction"),e("TexasHoldemRoundShowAction")),F=e("TexasHoldemRoundMaxAction"),O=e("TexasHoldemRoundWinAction"),x=e("TexasHoldemRoundAwardAction"),G=(e("TexasHoldemRoundExpAction"),e("TexasHoldemRoundEndAction"),e("TexasHoldemRoundClearAction")),W=e("TexasHoldemUserExpAction"),H=e("TexasHoldemUserGiftAction"),V=e("TexasHoldemUserMessageAction"),j=e("TexasHoldemRoundResultAction"),K=e("GameData");cc.Class({extends:a,properties:{table:{type:n,default:null,visible:!1},arrSeat:[l],tablePokerBox:d,tableCardBar:m,tableLevelBar:g,controlBar:h,controlHintBar:s,tablePoolBar:u,stakeCollector:C,awardsSender:p,tipCollector:f,tableDealer:c,tableHintBar:o,roundHintBar:o,roomHintBar:r,actionPool:b,pfbMsg:cc.Prefab,arrPfbGift:[cc.Prefab]},onLoad:function(){this._super(),cc.sys.isBrowser&&(Window.TableController=this),ITeenPatti.getCurTable()&&(this.table=ITeenPatti.getCurTable(),this.table.contrller=this,this.initTable(),this.initTableStateOnLoad(),this.initEventHandler(),this.roundResultAction=null)},initEventHandler:function(){ITeenPatti.addListener("pokerstatus",this,this.onTableRefresh),ITeenPatti.addListener("UserEnterRoom",this,this.onUserEnterRoom),ITeenPatti.addListener("UserExitRoom",this,this.onUserExitRoom),ITeenPatti.addListener("UserStandUp",this,this.onUserStandUp),ITeenPatti.addListener("UserSitDown",this,this.onUserSitDown),ITeenPatti.addListener("pokerbuyin",this,this.onUserBuyChips),ITeenPatti.addListener("pokercall",this,this.onUserAction),ITeenPatti.addListener("pokerraise",this,this.onUserAction),ITeenPatti.addListener("pokerallin",this,this.onUserAction),ITeenPatti.addListener("pokerfold",this,this.onUserAction),ITeenPatti.addListener("pokernext",this,this.onUserNext),ITeenPatti.addListener("pokerstarttime",this,this.onRoundReady),ITeenPatti.addListener("pokerstart",this,this.onRoundStart),ITeenPatti.addListener("pokerperflop",this,this.onRoundPerflop),ITeenPatti.addListener("pokerpool",this,this.onRoundCollect),ITeenPatti.addListener("pokercompare",this,this.onRoundCompare),ITeenPatti.addListener("pokerend",this,this.onRoundEnd),ITeenPatti.addListener("pokerexpchange",this,this.onUserExp),ITeenPatti.addListener("sendgift",this,this.onUserSendGift),ITeenPatti.addListener("PublicMessage",this,this.onMessageReceive),ITeenPatti.addListener("sendmessage",this,this.onMessageReceive),ITeenPatti.addListener("tip",this,this.onUserTip),ITeenPatti.addListener("switchdealer",this,this.onDealerSwitch)},initTable:function(){this.controlHintBar.init(),this.tablePokerBox.init(),this.tableCardBar.init(),this.tableLevelBar.init(),this.controlBar.init(),this.tablePoolBar.init(),this.tableDealer.init();for(var e=this.table.getBeginPlayerID(),t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t],n=t<2?e:(e+t-1)%5;i.initSeat(t,0==n?5:n)}for(t=0;t<this.arrSeat.length;t++){this.arrSeat[t].onUserStandUp()}for(var a=this.table.getUserList(),o=0;o<a.length;o++){var s=a[o].role.playerId,r=this.getSeatWithPlayerId(s);if(r){var l=this.node.addComponent(R);l.objSeat=r,l.objTPUser=a[o],this.actionPool.runAction(l)}}},initTableStateOnLoad:function(){var e=this.node.addComponent(I);this.actionPool.runAction(e)},getSeatWithPlayerId:function(e){if(!ITeenPatti.getCurPlayer().role)return null;for(var t=!ITeenPatti.getCurPlayer().role.isWatcher()?0:1;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.playerId==e)return i}return null},getSeatWithUserId:function(e){for(var t=0;t<this.arrSeat.length;t++){var i=this.arrSeat[t];if(i.tpUser&&i.tpUser.userId==e)return i}return null},refreshTableWithLocal:function(){this.actionPool.removeAll(),this.initTable();var e=this.node.addComponent(I);this.actionPool.runAction(e)},onTableRefresh:function(e,t){this.actionPool.removeAll(),this.initTable();var i=this.node.addComponent(I);this.actionPool.runAction(i,e,t)},onUserEnterRoom:function(e,t){if(ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(_);this.actionPool.runAction(i,e,t)}},onUserExitRoom:function(e,t){if(t.user.isItMe)ITeenPatti.removeListenerWithTarget(this);else if(ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(S);this.actionPool.runAction(i,e,t)}},onUserStandUp:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){this.tableDealer.onUserStandUp(e,t);var i=this.node.addComponent(T);this.actionPool.runAction(i,e,t)}},onUserSitDown:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){this.tableDealer.onUserSitDown(e,t);var i=this.node.addComponent(P);this.actionPool.runAction(i,e,t)}},onUserBuyChips:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&"error"!=t.cmd){var i=this.getSeatWithUserId(""+t.is[2]);i&&i.onUserSitDown(i.tpUser)}},onUserAction:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=null;switch(e){case"pokercall":if(0==t.chips&&t.nbet>0){i=this.node.addComponent(y);break}i=this.node.addComponent(A);break;case"pokerraise":if(0==t.chips&&t.nbet>0){i=this.node.addComponent(y);break}i=this.node.addComponent(B);break;case"pokerallin":i=this.node.addComponent(y);break;case"pokerfold":i=this.node.addComponent(L)}i&&this.actionPool.runAction(i,e,t)}},onUserNext:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(v);this.actionPool.runAction(i,e,t)}},onRoundReady:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){this.actionPool.removeAll();var i=this.node.addComponent(D);this.actionPool.runAction(i,e,t)}},onRoundStart:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){this.actionPool.removeAll();var i=this.node.addComponent(E);this.actionPool.runAction(i,e,t),i=this.node.addComponent(U),this.actionPool.runAction(i,e,t),i=this.node.addComponent(M),this.actionPool.runAction(i,e,t)}},onRoundPerflop:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(N);this.actionPool.runAction(i,e,t),i=this.node.addComponent(w),this.actionPool.runAction(i,e,t)}},onRoundCollect:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&!(t.last>=t.now)){var i=this.node.addComponent(N);this.actionPool.runAction(i,e,t)}},onRoundCompare:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){this.roundResultAction=this.node.addComponent(j),this.actionPool.runAction(this.roundResultAction,e,t);var i=this.node.addComponent(k);this.actionPool.runAction(i,e,t),i=this.node.addComponent(F),this.actionPool.runAction(i,e,t)}},onRoundEnd:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(O);if(this.actionPool.runAction(i,e,t),i=this.node.addComponent(x),this.actionPool.runAction(i,e,t),i=this.node.addComponent(G),this.actionPool.runAction(i,e,t),this.roundResultAction)for(var n=0;n<this.actionPool.arrAction.length;n++)if(this.actionPool.arrAction[n]==this.roundResultAction){this.roundResultAction.onFinish(),this.roundResultAction=null;break}}},onUserExp:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(W);this.actionPool.runAction(i,e,t)}},onUserSendGift:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&!(t.gift_id>K.giftCount)){var i=this.node.addComponent(H);this.actionPool.runAction(i,e,t)}},onMessageReceive:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){var i=this.node.addComponent(V);i.pfbMsg=this.pfbMsg,this.actionPool.runAction(i,e,t)}},onUserTip:function(e,t){this.tipCollector.onUserTip(e,t)},onDealerSwitch:function(e,t){this.tableDealer.onDealerSwitch(e,t)}}),cc._RF.pop()},{BaseComponent:"BaseComponent",BaseTable:"BaseTable",GameData:"GameData",TexasHoldemActionPool:"TexasHoldemActionPool",TexasHoldemControlBar:"TexasHoldemControlBar",TexasHoldemControlHintBar:"TexasHoldemControlHintBar",TexasHoldemLocalRefreshAction:"TexasHoldemLocalRefreshAction",TexasHoldemRoomHintBar:"TexasHoldemRoomHintBar",TexasHoldemRoundAwardAction:"TexasHoldemRoundAwardAction",TexasHoldemRoundBlindAction:"TexasHoldemRoundBlindAction",TexasHoldemRoundClearAction:"TexasHoldemRoundClearAction",TexasHoldemRoundCollectAction:"TexasHoldemRoundCollectAction",TexasHoldemRoundCompareAction:"TexasHoldemRoundCompareAction",TexasHoldemRoundDealAction:"TexasHoldemRoundDealAction",TexasHoldemRoundEndAction:"TexasHoldemRoundEndAction",TexasHoldemRoundExpAction:"TexasHoldemRoundExpAction",TexasHoldemRoundMaxAction:"TexasHoldemRoundMaxAction",TexasHoldemRoundPerflopAction:"TexasHoldemRoundPerflopAction",TexasHoldemRoundReadyAction:"TexasHoldemRoundReadyAction",TexasHoldemRoundResultAction:"TexasHoldemRoundResultAction",TexasHoldemRoundShowAction:"TexasHoldemRoundShowAction",TexasHoldemRoundStartAction:"TexasHoldemRoundStartAction",TexasHoldemRoundWinAction:"TexasHoldemRoundWinAction",TexasHoldemSeat:"TexasHoldemSeat",TexasHoldemSeatPlaceAction:"TexasHoldemSeatPlaceAction",TexasHoldemTableAwardsSender:"TexasHoldemTableAwardsSender",TexasHoldemTableCardBar:"TexasHoldemTableCardBar",TexasHoldemTableCardLevelBar:"TexasHoldemTableCardLevelBar",TexasHoldemTableDealer:"TexasHoldemTableDealer",TexasHoldemTableHintBar:"TexasHoldemTableHintBar",TexasHoldemTablePokerBox:"TexasHoldemTablePokerBox",TexasHoldemTablePoolBar:"TexasHoldemTablePoolBar",TexasHoldemTableRefreshAction:"TexasHoldemTableRefreshAction",TexasHoldemTableStakeCollector:"TexasHoldemTableStakeCollector",TexasHoldemTableTipsCollector:"TexasHoldemTableTipsCollector",TexasHoldemUserAllinAction:"TexasHoldemUserAllinAction",TexasHoldemUserCallAction:"TexasHoldemUserCallAction",TexasHoldemUserExpAction:"TexasHoldemUserExpAction",TexasHoldemUserFoldAction:"TexasHoldemUserFoldAction",TexasHoldemUserGiftAction:"TexasHoldemUserGiftAction",TexasHoldemUserMessageAction:"TexasHoldemUserMessageAction",TexasHoldemUserNextAction:"TexasHoldemUserNextAction",TexasHoldemUserRaiseAction:"TexasHoldemUserRaiseAction",TexasHoldemUserRoomEnterAction:"TexasHoldemUserRoomEnterAction",TexasHoldemUserRoomExitAction:"TexasHoldemUserRoomExitAction",TexasHoldemUserSeeAction:"TexasHoldemUserSeeAction",TexasHoldemUserSitDownAction:"TexasHoldemUserSitDownAction",TexasHoldemUserStandUpAction:"TexasHoldemUserStandUpAction"}],TexasHoldemTable:[function(e,t,i){"use strict";cc._RF.push(t,"20505dXrdhCpoxdg2JbKdwu","TexasHoldemTable");var n=e("TeenPattiUser"),a=e("BaseTable"),o=e("TexasHoldemRound"),s=e("TexasHoldemRoler"),r=e("Command");cc.Class({extends:a,name:"TexasHoldemTable",properties:{isModeEmpty:!1,arrUser:{default:[],override:!0},round:null,maxBlind:0,minChips:0},initCallback:function(){this.arrHandler={},this.arrHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrHandler.pokerstatus=handler(this,this.onRoomRefresh),this.arrHandler.error=handler(this,this.onRoomEmpty),this.arrHandler.UserEnterRoom=handler(this,this.onUserEnterRoom),this.arrHandler.UserExitRoom=handler(this,this.onUserExitRoom),this.arrHandler.UserStandUp=handler(this,this.onUserStandUp),this.arrHandler.pokerstarttime=handler(this,this.onRoundReady),this.arrHandler.pokerstart=handler(this,this.onRoundStart),this.arrHandler.pokerexpchange=handler(this,this.onUserExp),this.arrHandler[r.SERVER_CMD_UPDATE_BONUS]=handler(this,this.onUserLevelUp)},getUserWithUserId:function(e){for(var t=0;t<this.arrUser.length;t++){var i=this.arrUser[t];if(e==i.userId)return i}return null},getUserWithPlayerId:function(e){for(var t=0;t<this.arrUser.length;t++){var i=this.arrUser[t];if(e==i.role.playerId)return i}return null},getUserList:function(){return this.arrUser},onMsgReceived:function(e,t){var i=this.arrHandler[e];i&&i(e,t),this.round&&this.round.onMsgReceived(e,t);var n=ITeenPatti.getCurPlayer();n&&n.onMsgReceived(e,t);var a=this.getUserWithUserId(n.userId);a&&(n.role=a.role);for(var o=0;o<this.arrUser.length;o++){var s=this.arrUser[o];s.role.onMsgReceived(e,t),s.tpProfile.onMsgReceived(e,t)}},onRoomJoin:function(e,t){this.maxBlind=t.room.variables.ba.value,this.minChips=t.room.variables.mc.value,this.arrUser=[];for(var i=ITeenPatti.getCurRoomSFSUserList(),a=0;a<i.length;a++){var o=i[a],r=new n;r.initWithSFSPlayer(o),r.setRole(new s(o)),this.arrUser[this.arrUser.length]=r}},onRoomUpdate:function(e,t){},onRoomRefresh:function(e,t){null==this.round&&(this.round=new o),this.round.initRound(),this.round.onRoundRefresh(e,t)},onRoomEmpty:function(e,t){"pokerempty"==t.stage&&(this.isModeEmpty=!0)},onUserEnterRoom:function(e,t){var i=!1,a=new n;a.initWithSFSPlayer(t.user);for(var o=0;o<this.arrUser.length;o++)if(this.arrUser[o].userId==a.userId){a=this.arrUser[o],i=!0;break}a.initWithSFSPlayer(t.user),a.setRole(new s(t.user)),!i&&(this.arrUser[this.arrUser.length]=a)},onUserExitRoom:function(e,t){for(var i=t.user.name,n=this.arrUser.length-1;n>=0;n--){var a=this.arrUser[n];if(a&&i==a.userId)return this.round&&this.round.removePlayer(a.role),void this.arrUser.splice(n,1)}},onUserStandUp:function(e,t){for(var i=t.user.name,n=this.arrUser.length-1;n>=0;n--){var a=this.arrUser[n];if(a&&i==a.userId){this.round&&this.round.onUserStandUp(a.role);break}}},onUserExp:function(e,t){this.curRoundExp=t.exp,this.curUserLevel=t.expbar.level,null!=t.expbar.levelbonus&&(this.nextLevel=t.expbar.levelbonus.level,this.nextLevelBonus=t.expbar.levelbonus.bonus)},onUserLevelUp:function(e,t){this.curLevelUpBonus=t.i},onRoundReady:function(e,t){this.cdTime=t.i,this.cdStart=(new Date).getTime(),null==this.round&&(this.round=new o),this.round.initRound()},onRoundStart:function(e,t){null==this.round&&(this.round=new o),this.round.initRound()}});cc._RF.pop()},{BaseTable:"BaseTable",Command:"Command",TeenPattiUser:"TeenPattiUser",TexasHoldemRoler:"TexasHoldemRoler",TexasHoldemRound:"TexasHoldemRound"}],TexasHoldemUserAllinAction:[function(e,t,i){"use strict";cc._RF.push(t,"ae221+hvJtGrIIgoKdCEL5i","TexasHoldemUserAllinAction");var n=e("LanguageData"),a=e("GameUtils"),o="TexasHoldemUserAllinAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("useraction",this.onUserAction,this)},play:function(e){LogUtil.debug(o,"User Allin"),this.node.on("useraction",this.onUserAction,this);ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithPlayerId(this.objData.playId);i&&i.onUserAllin(this.strCmd,this.objData),t.controlBar.onUserAction(this.strCmd,this.objData),i&&i.tpUser&&t.roundHintBar.addHint(n.t("label_text.went_allin_chips",{name:a.formatName(i.tpUser.strTPName),chips:a.formatNumberWithRules(this.objData.nbet)}),2);var s=this;this.objActionPool=e,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){s.onFinish()})))},onUserAction:function(){},onFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(o,"Event Finish"),this.node.off("useraction",this.onUserAction,this),this.node.emit("actionfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemUserCallAction:[function(e,t,i){"use strict";cc._RF.push(t,"e2cc1v8eHNOVIROVb8wyttf","TexasHoldemUserCallAction");var n=e("LanguageData"),a=e("GameUtils"),o="TexasHoldemUserCallAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("useraction",this.onUserAction,this)},onUserAction:function(){},play:function(e){LogUtil.debug(o,"User Call"),this.node.on("useraction",this.onUserAction,this);ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithPlayerId(this.objData.playId);i&&i.onUserCall(this.strCmd,this.objData),t.controlBar.onUserAction(this.strCmd,this.objData),i&&i.tpUser&&(this.objData.nbet>0?t.roundHintBar.addHint(n.t("label_text.call_chips",{name:a.formatName(i.tpUser.strTPName),chips:a.formatNumberWithRules(this.objData.nbet)}),2):t.roundHintBar.addHint(n.t("label_text.player_checked",{name:i.tpUser.strTPName}),1));var s=this;this.objActionPool=e,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){s.onFinish()})))},onFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(o,"Event Finish"),this.node.off("useraction",this.onUserAction,this),this.node.emit("actionfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemUserExpAction:[function(e,t,i){"use strict";cc._RF.push(t,"3c5ebz7rNNJvrxwjJiIwseB","TexasHoldemUserExpAction");e("LanguageData");var n="TexasHoldemUserExpAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("awardfinish",this.onUserExp,this)},play:function(e){this.objActionPool=e,this.node.hasEventListener("roundaward")?(this.trigger="awardfinish",this.node.on("awardfinish",this.onUserExp,this),LogUtil.info(n,"Wait For Event: "+this.trigger)):this.onUserExp(e)},onUserExp:function(){if(this.isValid&&ITeenPatti.getCurTable()){LogUtil.debug(n,"Round Exp"),this.node.off("roundaward",this.onUserExp,this);ITeenPatti.getCurTable();ITeenPatti.getCurTable().contrller.arrSeat[0].onUserExp(this.strCmd,this.objData);var e=this;this.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){e.onFinish(e.objActionPool)})))}},onFinish:function(e){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(n,"Event Finish"),this.node.emit("expfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{LanguageData:"LanguageData"}],TexasHoldemUserFoldAction:[function(e,t,i){"use strict";cc._RF.push(t,"2677eUItuRAr6AhEviGECLm","TexasHoldemUserFoldAction");var n=e("LanguageData"),a=e("GameUtils"),o="TexasHoldemUserFoldAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("useraction",this.onUserAction,this)},onUserAction:function(){},play:function(e){LogUtil.debug(o,"User Fold"),this.node.on("useraction",this.onUserAction,this);ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithPlayerId(this.objData.playId);i&&i.onUserFold(this.strCmd,this.objData),t.controlBar.onUserAction(this.strCmd,this.objData),i&&i.tpUser&&t.roundHintBar.addHint(n.t("label_text.player_fold",{name:a.formatName(i.tpUser.strTPName)}),2);var s=this;this.objActionPool=e,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){s.onFinish()})))},onFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(o,"Event Finish"),this.node.off("useraction",this.onUserAction,this),this.node.emit("actionfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemUserGiftAction:[function(e,t,i){"use strict";cc._RF.push(t,"8a84400G4RNMb8msVtqbkpE","TexasHoldemUserGiftAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},play:function(e){LogUtil.debug("TexasHoldemUserGiftAction","User Gift");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=this.objData.gift_id;if(16!=i){var n=this.objData.send_id,a=this.objData.accept_id,o=!0,s=t.getSeatWithUserId(n);if(s){for(var r in a)if(a.hasOwnProperty(r)){var l=""+a[r],c=t.getSeatWithUserId(l);if(c){for(var h=[],u=ITeenPatti.gameCore.gameMng.getGiftSendCount(i),d=0;d<u;d++){var m=cc.instantiate(t.arrPfbGift[i-1]);m.scale=0!=c.seatId?.65:.85,m.getComponent("ReceiveGift").setGiftID(i),m.getComponent("ReceiveGift").setSenderSeat(s),m.getComponent("ReceiveGift").setReceiverSeat(c),m.getComponent("ReceiveGift").setSoundEnable(o),t.node.addChild(m),h.push(m)}c.onGiftAccept(h),o=!1}}e.onActionFinish(this),this.destroy()}}}}),cc._RF.pop()},{}],TexasHoldemUserMessageAction:[function(e,t,i){"use strict";cc._RF.push(t,"5aec3LkdHROPZuHeOBZOC6e","TexasHoldemUserMessageAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},play:function(e){LogUtil.debug("TexasHoldemUserMessageAction","User Message");var t=this,i=(ITeenPatti.getCurTable(),ITeenPatti.getCurTable().contrller),n=""+this.objData.id;if(!ITeenPatti.getCurRoom().msgHistory.isBlocked(n)){var a=i.getSeatWithUserId(n);if(a){var o=cc.instantiate(this.pfbMsg);a.node.addChild(o);var s=a.getMessagePostion();s=a.node.convertToNodeSpaceAR(s),o.setPosition(s),o.getComponent("MsgPop").setPopText(this.objData.msg,"sendmessage"==this.strCmd),o.on("node-removed",function(i){t.onFinish(e)}),this.objMessage=o,e.onActionFinish(this),this.destroy()}else t.onFinish(e)}},onFinish:function(e){e.onActionFinish(this)}}),cc._RF.pop()},{}],TexasHoldemUserNextAction:[function(e,t,i){"use strict";cc._RF.push(t,"5bb2aDZ4ZJNnbyRDYcci1eK","TexasHoldemUserNextAction");var n="TexasHoldemUserNextAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("seefinish",this.onUserNext,this),this.node.off("actionfinish",this.onUserNext,this),this.node.off("perflopfinish",this.onUserNext,this)},play:function(e){return this.objActionPool=e,this.node.hasEventListener("roundperflop")?(this.trigger="perflopfinish",this.node.on("perflopfinish",this.onUserNext,this),void LogUtil.info(n,"Wait For Event: "+this.trigger)):this.node.hasEventListener("usersee")?(this.trigger="seefinish",this.node.on("seefinish",this.onUserNext,this),void LogUtil.info(n,"Wait For Event: "+this.trigger)):this.node.hasEventListener("useraction")?(this.trigger="actionfinish",this.node.on("actionfinish",this.onUserNext,this),void LogUtil.info(n,"Wait For Event: "+this.trigger)):void this.onUserNext()},onUserNext:function(e){if(this.isValid&&ITeenPatti.getCurTable())if("perflopfinish"==this.trigger&&this.node.hasEventListener("roundperflop"))LogUtil.info(n,"Wait For Perflop Finish: "+this.trigger);else{LogUtil.debug(n,"User Next"),this.node.off("seefinish",this.onUserNext,this),this.node.off("actionfinish",this.onUserNext,this),this.node.off("perflopfinish",this.onUserNext,this);var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller,a=t.round;if(a&&a.isRunning){for(var o=0;o<i.arrSeat.length;o++)a.isPlayer(i.arrSeat[o].playerId)&&(i.arrSeat[o].onUserSlient(),i.arrSeat[o].onRoundNext());var s=i.getSeatWithPlayerId(this.objData.nextId);s&&(s.onUserActive(),i.controlBar.onUserNext(this.strCmd,this.objData)),this.onFinish()}else this.onFinish()}},onFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(n,"Event Finish"),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{}],TexasHoldemUserRaiseAction:[function(e,t,i){"use strict";cc._RF.push(t,"e408bGvtwJF979Ly/lJZYu9","TexasHoldemUserRaiseAction");var n=e("LanguageData"),a=e("GameUtils"),o="TexasHoldemUserRaiseAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null,objSeat:null,objTPUser:null},onDestroy:function(){this.node.off("useraction",this.onUserAction,this)},onUserAction:function(){},play:function(e){LogUtil.debug(o,"User Fold"),this.node.on("useraction",this.onUserAction,this);ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithPlayerId(this.objData.playId);i&&i.onUserRaise(this.strCmd,this.objData),t.controlBar.onUserAction(this.strCmd,this.objData),i&&i.tpUser&&t.roundHintBar.addHint(n.t("label_text.raise_chips",{name:a.formatName(i.tpUser.strTPName),chips:a.formatNumberWithRules(this.objData.nbet)}),2);var s=this;this.objActionPool=e,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){s.onFinish()})))},onFinish:function(){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(o,"Event Finish"),this.node.off("useraction",this.onUserAction,this),this.node.emit("actionfinish",this.objData),this.objActionPool.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData"}],TexasHoldemUserRoomEnterAction:[function(e,t,i){"use strict";cc._RF.push(t,"1ba61Hcp2dLF6LXa4qK00y3","TexasHoldemUserRoomEnterAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){LogUtil.debug("TexasHoldemUserRoomEnterAction","User Enter Room");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=this.objData.user.playerId;if(null!=t.getSeatWithPlayerId(i)){t.onUserSitDown(this.strCmd,this.objData);for(var n=0;n<t.arrSeat.length;n++)t.arrSeat[n].onOtherSitDown();t.tipCollector.onUserSitDown(this.strCmd,this.objData),t.controlHintBar.onUserSitDown(this.strCmd,this.objData),t.roomHintBar.onUserSitDown(this.strCmd,this.objData),e.onActionFinish(this),this.destroy()}}}),cc._RF.pop()},{}],TexasHoldemUserRoomExitAction:[function(e,t,i){"use strict";cc._RF.push(t,"4e463eUVWdPC5x7ilpP8LCK","TexasHoldemUserRoomExitAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){LogUtil.debug("TexasHoldemUserRoomExitAction","User Exit Room");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=this.objData.user.name,n=t.getSeatWithUserId(i);n&&n.onUserStandUp();for(var a=0;a<t.arrSeat.length;a++)t.arrSeat[a].onOtherStandUp();this.objData.user.isItMe&&t.controlBar.onUserStandUp(),t.tipCollector.onUserStandUp(this.strCmd,this.objData),t.controlHintBar.onUserStandUp(this.strCmd,this.objData),t.roomHintBar.onUserStandUp(this.strCmd,this.objData),e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],TexasHoldemUserSeeAction:[function(e,t,i){"use strict";cc._RF.push(t,"e647dl9DF1GJqzX7Ejtnzaq","TexasHoldemUserSeeAction");var n="TexasHoldemUserSeeAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},onDestroy:function(){this.node.off("dealfinish",this.onUserSee,this),this.node.off("usersee",this.onRunning,this)},play:function(e){this.objActionPool=e,this.trigger="dealfinish",this.node.on("dealfinish",this.onUserSee,this),this.node.on("usersee",this.onRunning,this),LogUtil.info(n,"Wait For Event: "+this.trigger)},onRunning:function(){},onUserSee:function(e){if(this.isValid&&ITeenPatti.getCurTable()&&ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role){LogUtil.debug(n,"User See"),this.node.off("dealfinish",this.onUserSee,this);var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller,a=ITeenPatti.getCurPlayer().role,o=t.round;if(o&&o.isPlayer(a.playerId)){i.arrSeat[0].onUserSee(this.strCmd,this.objData);var s=this;this.node.runAction(cc.sequence(cc.delayTime(.6),cc.callFunc(function(){s.onFinish(s.objActionPool)})))}else this.onFinish(this.objActionPool)}},onFinish:function(e){this.isValid&&ITeenPatti.getCurTable()&&(LogUtil.info(n,"Event Finish"),this.node.off("usersee",this.onRunning,this),this.node.emit("seefinish",this.objData),e.onActionFinish(this),this.destroy())}}),cc._RF.pop()},{}],TexasHoldemUserSitDownAction:[function(e,t,i){"use strict";cc._RF.push(t,"f6e8bzmGRJKJrk6kSp+G7MR","TexasHoldemUserSitDownAction");var n="TexasHoldemUserSitDownAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){LogUtil.debug(n,"User Sit Down");var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller;if(!(this.objData.user.playerId<0)){if(this.objData.user.isItMe)return LogUtil.info(n,"Player Self Sit Down or Change Seat!"),void i.refreshTableWithLocal();var a=i.getSeatWithUserId(this.objData.user.name);a&&a.onUserStandUp();var o=t.getUserWithPlayerID(this.objData.user.playerId),s=i.getSeatWithPlayerId(this.objData.user.playerId);s?(s.onUserSitDown(o),LogUtil.info(n," User Sit Down : "+this.objData.user.name+" Seat : "+s.seatId+" PlayerId : "+s.playerId)):LogUtil.info(n," User Sit Down : "+this.objData.user.name+" Seat : Not Found!");for(var r=0;r<i.arrSeat.length;r++)i.arrSeat[r].onOtherSitDown();this.objData.user.isItMe&&i.controlBar.onUserSitDown(),i.tipCollector.onUserSitDown(this.strCmd,this.objData),i.controlHintBar.onUserSitDown(this.strCmd,this.objData),i.roomHintBar.onUserSitDown(this.strCmd,this.objData),e.onActionFinish(this),this.destroy()}}}),cc._RF.pop()},{}],TexasHoldemUserStandUpAction:[function(e,t,i){"use strict";cc._RF.push(t,"44680eBr0dFG7f64bUkWtH9","TexasHoldemUserStandUpAction");var n="TexasHoldemUserStandUpAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){LogUtil.debug(n,"User Stand Up");ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=this.objData.user.name,a=t.getSeatWithUserId(i);a||LogUtil.err(n,"Can not found the stand up user"),a&&a.onUserStandUp();for(var o=0;o<t.arrSeat.length;o++)t.arrSeat[o].onOtherStandUp();this.objData.user.isItMe&&t.controlBar.onUserStandUp(),t.tipCollector.onUserStandUp(this.strCmd,this.objData),t.controlHintBar.onUserStandUp(this.strCmd,this.objData),t.roomHintBar.onUserStandUp(this.strCmd,this.objData),e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],TexasSceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"5c1cdNABeNGY5R9/R6tC+d9","TexasSceneAudio");var n=e("BaseSceneAudio");cc.Class({extends:n,properties:{bet:{type:cc.AudioClip,default:null},texasbet:{type:cc.AudioClip,default:null},collectbet:{type:cc.AudioClip,default:null},countdown:{type:cc.AudioClip,default:null},deal:{type:cc.AudioClip,default:null},myturn:{type:cc.AudioClip,default:null},pack:{type:cc.AudioClip,default:null},win:{type:cc.AudioClip,default:null},levelup:{type:cc.AudioClip,default:null},tip:{type:cc.AudioClip,default:null},addbet:{type:cc.AudioClip,default:null}}}),cc._RF.pop()},{BaseSceneAudio:"BaseSceneAudio"}],TexasUtil:[function(e,t,i){"use strict";cc._RF.push(t,"becf62D7ihEFY1Tev7RQGRN","TexasUtil"),window.TexasUtil={};var n={level:10},a={level:9},o={level:8},s={level:7},r={level:6},l={level:5},c={level:4},h={level:3},u={level:2},d={level:1};n.isMatch=function(e){if(e.orgCards.length<5)return!1;var t=function(e){for(var t=0,i=13;i>8;i--)if((t=e[i-1]>0?t+1:0)>=5)return!0;return!1};return!!t(e.rdCard)||(!!t(e.rhCard)||(!!t(e.bcCard)||!!t(e.bsCard)))},n.getID=function(e){if(e.orgCards.length<5)return[0];var t=function(e){for(var t=0,i=13;i>8;i--)if((t=e[i-1]>0?t+1:0)>4)return!0;return!1};return t(e.rdCard)?[1,12,-1]:t(e.rhCard)?[1,12,-1]:t(e.bcCard)?[1,12,-1]:t(e.bsCard)?[1,12,-1]:[0]},n.getMaxID=function(e){if(e.orgCards.length<3)return[0];var t=function(e){for(var t=0,i=13;i>8;i--)if((t=e[i-1]>0?t+1:0)>=3)return!0;return!1};return t(e.rdCard)?[1,12,-1]:t(e.rhCard)?[1,12,-1]:t(e.bcCard)?[1,12,-1]:t(e.bsCard)?[1,12,-1]:[0]},n.getMinID=function(e){return e.orgCards.length<5?[0]:this.getID(e)},a.isMatch=function(e){if(e.orgCards.length<5)return!1;var t=function(e){for(var t=0,i=13;i>0;i--){if((t=e[i-1]>0?t+1:0)>=5)return!0;if(1==i&&e[12]>0&&t>=4)return!0}return!1};return!!t(e.rdCard)||(!!t(e.rhCard)||(!!t(e.bcCard)||!!t(e.bsCard)))},a.getID=function(e){if(e.orgCards.length<5)return[0];var t=function(e){for(var t=0,i=13;i>0;i--){if((t=e[i-1]>0?t+1:0)>4)return!0;if(1==i&&e[12]>0&&t>=4)return!0}return!1},i=function(e){for(var t=0,i=-1,n=13;n>0;n--){if(t=e[n-1]>0?t+1:0,i<0&&t>4){i=n+3;break}if(i<0&&1==n&&e[12]>0&&t>=4){i=n+2;break}}return i<0?[0]:[13-i,i,-1]};return t(e.rdCard)?i(e.rdCard):t(e.rhCard)?i(e.rhCard):t(e.bcCard)?i(e.bcCard):t(e.bsCard)?i(e.bsCard):[0]},a.getMaxID=function(e){if(e.orgCards.length<3)return[0];var t=function(e){var t=[];t[0]=e[12]>0?1:0;for(var i=0;i<13;i++)t[i+1]=e[i]>0?1:0;for(var n=9;n>-1;n--){if(t[n]+t[n+1]+t[n+2]+t[n+3]+t[n+4]>=3)return!0}return!1},i=function(e){var t=[],i=-1;t[0]=e[12]>0?1:0;for(var n=0;n<13;n++)t[n+1]=e[n]>0?1:0;for(var a=9;a>-1;a--){if(t[a]+t[a+1]+t[a+2]+t[a+3]+t[a+4]>=3){i=a+3;break}}return i<0?[0]:[13-i,i,-1]};return t(e.rdCard)?i(e.rdCard):t(e.rhCard)?i(e.rhCard):t(e.bcCard)?i(e.bcCard):t(e.bsCard)?i(e.bsCard):[0]},a.getMinID=function(e){if(e.orgCards.length<5)return[0];var t=function(e){for(var t=0,i=13;i>0;i--){if((t=e[i-1]>0?t+1:0)>=5)return!0;if(1==i&&e[12]>0&&t>=4)return!0}return!1},i=function(e){for(var t=0,i=-1,n=13;n>0;n--)(t=e[n-1]>0?t+1:0)>=5&&(i=n+3),1==n&&e[12]>0&&t>=4&&(i=n+2);return i<0?[0]:[13-i,i,-1]};return t(e.rdCard)?i(e.rdCard):t(e.rhCard)?i(e.rhCard):t(e.bcCard)?i(e.bcCard):t(e.bsCard)?i(e.bsCard):[0]},o.isMatch=function(e){var t=e.orgCards,i=e.arrCard;if(t.length<4)return!1;for(var n=0;n<t.length;n++){if(i[Math.floor(t[n]/4)]>3)return!0}return!1},o.getID=function(e){var t=e.orgCards,i=e.arrCard;if(t.length<5)return[0];for(var n=-1,a=-1,o=13;o>0;o--)n<0&&i[o-1]>3?n=o-1:a<0&&i[o-1]>0&&(a=o-1);return a=a<0?12:a,n<0?[0]:[23-n+(13-a)/13,n,a]},o.getMaxID=function(e){var t=e.orgCards,i=e.arrCard;if(t.length<2)return[0];for(var n=-1,a=-1,o=13;o>0;o--)n<0&&i[o-1]>1&&(n=o-1),a<0&&1==i[o-1]&&(a=o-1);return a=(a=a<0&&12==n&&3==i[12]?11:a)<0?12:a,n<0?[0]:[23-n+(13-a)/13,n,a]},o.getMinID=function(e){if(e.orgCards.length<4)return[0];for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)i<0&&t[a-1]>3?i=a-1:t[a-1]>0&&(n=a-1);return n=(n=n<0&&0==i&&3==t[0]?1:n)<0?0:n,i<0?[0]:[23-i+(13-n)/13,i,n]},s.isMatch=function(e){var t=0,i=0,n=e.orgCards,a=e.arrCard;if(n.length<5)return!1;for(var o=0;o<13;o++)if(a[o]>2&&i++,a[o]<3&&a[o]>1&&t++,i>0&&i+t>1)return!0;return!1},s.getID=function(e){for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(i<0&&t[a-1]>2)i=a-1;else if(n<0&&t[a-1]>1&&(n=a-1),i>=0&&n>=0)break;return i<0||n<0?[0]:[36-i+(13-n)/13,i,n]},s.getMaxID=function(e){return[0]},s.getMinID=function(e){if(e.orgCards.length<5)return[0];for(var t=e.arrCard,i=-1,n=-1,a=0;a<13;a++)if(i<0&&t[a]>2)i=a;else if(t[a]>1&&(n=a),i>=0&&n>=0)break;return i<0||n<0?[0]:[36-i+(13-n)/13,i,n]},r.isMatch=function(e){if(e.orgCards.length<5)return!1;var t=function(e){for(var t=0,i=13;i>0;i--)t+=e[i-1];return t>=5};return!!t(e.rdCard)||(!!t(e.rhCard)||(!!t(e.bcCard)||!!t(e.bsCard)))},r.getID=function(e){if(e.orgCards.length<5)return[0];var t=function(e){for(var t=0,i=13;i>0;i--)t+=e[i-1];return t>=5},i=function(e){for(var t=-1,i=-1,n=13;n>0;n--)if(t<0&&e[n-1]>0)t=n-1;else if(i<0&&e[n-1]>0&&(i=n-1),t>=0&&i>=0)break;return[49-t+(t-(i=i<0?12:i))/(t-3),t,i]};return t(e.rdCard)?i(e.rdCard):t(e.rhCard)?i(e.rhCard):t(e.bcCard)?i(e.bcCard):t(e.bsCard)?i(e.bsCard):[0]},r.getMaxID=function(e){if(e.orgCards.length<3)return[0];var t=function(e){for(var t=0,i=13;i>0;i--)t+=e[i-1];return t>=3},i=function(e,t){for(var i=[],n=0,a=0;a<13;a++)i[a]=e[a],n+=e[a];if(n<5)for(var o=5-n,s=13;s>0;s--)o>0&&i[s-1]<1&&(i[s-1]=1,o--);for(var r=-1,l=-1,c=13;c>0;c--)if(r<0&&i[c-1]>0)r=c-1;else if(l<0&&i[c-1]>0&&(l=c-1),r>=0&&l>=0)break;return[49-r+(r-(l=l<0?12:l))/(r-3),r,l]};return t(e.rdCard)?i(e.rdCard,e.arrCard):t(e.rhCard)?i(e.rhCard,e.arrCard):t(e.bcCard)?i(e.bcCard,e.arrCard):t(e.bsCard)?i(e.bsCard,e.arrCard):[0]},r.getMinID=function(e){if(e.orgCards.length<5)return[0];var t=function(e){for(var t=0,i=13;i>0;i--)t+=e[i-1];return t>=5},i=function(e,t){for(var i=-1,n=-1,a=13;a>0;a--)if(i<0&&e[a-1]>0)i=a-1;else if(n<0&&e[a-1]>0&&(n=a-1),i>=0&&n>=0)break;return[49-i+(i-(n=n<0?0:n))/(i-3),i,n]};return t(e.rdCard)?i(e.rdCard,e.arrCard):t(e.rhCard)?i(e.rhCard,e.arrCard):t(e.bcCard)?i(e.bcCard,e.arrCard):t(e.bsCard)?i(e.bsCard,e.arrCard):[0]},l.isMatch=function(e){var t=0,i=e.arrCard;if(i.length<5)return!1;for(var n=13;n>0;n--){if((t=i[n-1]>0?t+1:0)>=5)return!0;if(1==n&&i[12]>0&&t>=4)return!0}return!1},l.getID=function(e){var t=0,i=e.arrCard;if(i.length<5)return 0;for(var n=-1,a=(t=0,13);a>0;a--){if((t=i[a-1]>0?t+1:0)>4){n=a+3;break}if(1==a&&i[12]>0&&t>=4){n=a+2;break}}return n<0?[0]:[45+(13-n)/11,n,-1]},l.getMaxID=function(e){var t=e.arrCard;if(t.length<3)return[0];var i=-1,n=[];n[0]=t[12]>0?1:0;for(var a=0;a<13;a++)n[a+1]=t[a]>0?1:0;for(var o=9;o>-1;o--){if(n[o]+n[o+1]+n[o+2]+n[o+3]+n[o+4]>=3){i=o+3;break}}return i<0?[0]:[45+(13-i)/11,i,-1]},l.getMinID=function(e){var t=e.orgCards;if(t.length<5)return[0];var i=-1,n=0;t=e.arrCard;for(var a=13;a>0;a--)(n=t[a-1]>0?n+1:0)>=5&&(i=a+3),1==a&&t[12]>0&&n>=4&&(i=a+2);return i<0?[0]:[45+(13-i)/11,i,-1]},c.isMatch=function(e){var t=e.orgCards,i=e.arrCard;if(t.length<3)return!1;for(var n=0;n<t.length;n++){if(i[Math.floor(t[n]/4)]>2)return!0}return!1},c.getID=function(e){for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(t[a-1]>2&&i<0)i=a-1;else if(t[a-1]>0&&n<0&&(n=a-1),i>-1&&n>-1)break;return i<0||n<0?[0]:[46+11*(12-i)+(11-n)+(n>i?1:0),i,n]},c.getMaxID=function(e){if(e.orgCards.length<3)return 0;for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(t[a-1]>0&&i<0)i=a-1;else if(t[a-1]>0&&n<0){n=a-1;break}return[46+11*(12-i)+(11-(n=(n=n<0&&12==i?10:n)<0?12:n))+(n>i?1:0),i,n]},c.getMinID=function(e){for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(i<0&&t[a-1]>2)i=a-1;else if(t[a-1]>0&&n<0&&(n=a-1),i>-1&&n>-1)break;return n=(n=n<0&&0==i?2:n)<0?1:n,i<0?[0]:[46+11*(12-i)+(11-n)+(n>i?1:0),i,n]},h.isMatch=function(e){var t=0,i=e.arrCard,n=e.arrCard;if(i.length<4)return!1;for(var a=0;a<13;a++)if(n[a]>1&&t++,t>1)return!0;return!1},h.getID=function(e){for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(i<0&&t[a-1]>1)i=a-1;else if(n<0&&t[a-1]>1&&(n=a-1),i>-1&&n>-1)break;return n<0?[0]:[189+(13+i)/2*(12-i)+(i-n)-1,i,n]},h.getMaxID=function(e){return[0]},h.getMinID=function(e){for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(i<0&&t[a-1]>1)i=a-1;else if(n<0&&t[a-1]>1&&(n=a-1),i>-1&&n>-1)break;return n<0?[0]:[189+(13+i)/2*(12-i)+(i-n)-1,i,n]},u.isMatch=function(e){for(var t=e.orgCards,i=e.arrCard,n=0;n<t.length;n++){if(i[Math.floor(t[n]/4)]>1)return!0}return!1},u.getID=function(e){if(2==e.orgCards.length){for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(t[a-1]>1){i=a-1;break}return i<0?[0]:[37-3*i,i,n]}t=e.arrCard,i=-1,n=-1;for(var o=13;o>0;o--)if(i<0&&t[o-1]>1)i=o-1;else if(n<0&&t[o-1]>0&&(n=o-1),i>-1&&n>-1)break;return i<0||n<0?[0]:[267+10*(12-i)+(11-n)+(n>i?1:0),i,n]},u.getMaxID=function(e){return[0]},u.getMinID=function(e){for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(i<0&&t[a-1]>1)i=a-1;else if(n<0&&t[a-1]>0&&(n=a-1),i>-1&&n>-1)break;return n=(n=i<3?Math.max(3,n):Math.max(2,n))<0?0:n,i<0?[0]:[267+10*(12-i)+(11-n)+(n>i?1:0),i,n]},d.isMatch=function(e){for(var t=e.arrCard,i=13;i>0;i--)if(t[i-1]>0)return!0;return!1},d.getID=function(e){if(e.orgCards.length>2){for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(i<0&&t[a-1]>0)i=a-1;else if(n<0&&t[a-1]>0){n=a-1;break}return[397+(i+7)/2*(12-i)+i-n-(12==i?1:2),i,n]}t=e.arrCard,i=-1,n=-1;for(var o=13;o>0;o--)if(i<0&&t[o-1]>0)i=o-1;else if(n<0&&t[o-1]>0){n=o-1;break}return[40+.5*(13+i)*(12-i)+(i-n)-1,i,n]},d.getMaxID=function(e){for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(i<0&&t[a-1]>0)i=a-1;else if(n<0&&t[a-1]>0){n=a-1;break}return[397+(i+7)/2*(12-i)+i-n-(12==i?1:2),i,n]},d.getMinID=function(e){for(var t=e.arrCard,i=-1,n=-1,a=13;a>0;a--)if(i<0&&t[a-1]>0)i=a-1;else if(n<0&&t[a-1]>0){n=a-1;break}return[397+((i=Math.max(5,i))+7)/2*(12-i)+i-(n=12==i?Math.max(4,n):Math.max(3,n))-(12==i?1:2),i,n]},TexasUtil.getLevel=function(e,t){var i=TexasUtil.initData(e),m=TexasUtil.initData(t),g=[-1],p=[0],C=[0];if(t.length<1){for(var f=(I=[d,u]).length;f>0;f--)g[0]<1&&(g=I[f-1].getID(i));p[0]=1,C[0]=117,LogUtil.info("TexasUtil","Hands ID: "+g[0]);var b=Math.round(.5+9.9*(g[0]-C[0])/(p[0]-C[0]));return Math.max(Math.min(b,10),1)}for(var I,_=-1,S=(I=[d,u,h,c,l,r,s,o,a,n]).length;S>0;S--)g[0]<1&&(g=I[S-1].getID(i))[0]>0&&LogUtil.info("TexasUtil","Hands Type\uff1a"+S+" ID: "+g[0]),C[0]<1&&(C=I[S-1].getMinID(m))[0]>0&&LogUtil.info("TexasUtil","Mins Type\uff1a"+S+" ID: "+C[0]),p[0]<1&&(p=I[S-1].getMaxID(m))[0]>0&&LogUtil.info("TexasUtil","Maxs Type\uff1a"+S+" ID: "+p[0]),_<0&&g[0]>0&&(_=S);if(C[0]==p[0])return 10;if(t.length>4&&l.isMatch(m))return g[0]==p[0]?10:g[0]==C[0]?2:a.isMatch(i)?8:5;b=Math.round(.5+9.9*(g[0]-C[0])/(p[0]-C[0]));return Math.max(Math.min(b,10),1)},TexasUtil.maxCardLevel=function(e){for(var t=TexasUtil.initData(e),i=[d,u,h,c,l,r,s,o,a,n],m=i.length;m>0;m--)if(i[m-1].isMatch(t))return m},TexasUtil.compareCard=function(e,t){var i=this.maxCardLevel(e),n=this.maxCardLevel(t);if(i>n)return!0;if(i<n)return!1;var a=TexasUtil.initData(e),o=TexasUtil.initData(t);return this.compare(a,o,[1,2,2,3,1,1,3,4,1,1][i-1])},TexasUtil.compare=function(e,t,i){var n=e.arrCard,a=t.arrCard;do{for(var o=13;o>0;o--)if(n[o-1]>=i&&a[o-1]>=i&&n[o-1]>a[o-1])return!0;i--}while(i>0);return!1},TexasUtil.initData=function(e){for(var t={rdCard:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],bcCard:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],rhCard:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],bsCard:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],arrCard:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},i=0;i<e.length;i++){var n=e[i],a=n%4,o=Math.floor(n/4);switch(a){case 0:t.rdCard[o]++;break;case 1:t.bcCard[o]++;break;case 2:t.rhCard[o]++;break;case 3:t.bsCard[o]++}t.arrCard[o]++}return t.orgCards=e,t},cc._RF.pop()},{}],TournamentBaseRound:[function(e,t,i){"use strict";cc._RF.push(t,"5f751jxHMBHkoD2drzWGpUf","TournamentBaseRound");var n=e("BaseUI"),a=e("GameUtils"),o=e("LanguageData"),s=e("Command");cc.Class({extends:n,properties:{titleLabel:cc.Label,modeLabel:cc.Label,entryFeeLabel:cc.Label,prizeLabel:cc.Label,helpNode:cc.Node,helpPopupBg:cc.Node,helpBlackBg:cc.Node,helpNode1:cc.Node,helpPopupBg1:cc.Node,helpBlackBg1:cc.Node,playNowBtn:cc.Button,loadingContainer:cc.Node},onLoad:function(){this._super(),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1,this.helpNode.active=!1,this.helpPopupBg.on(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),this.helpBlackBg.on(cc.Node.EventType.TOUCH_END,this.closeHelp,this),cc.sys.isBrowser&&(this.helpPopupBg.on(cc.Node.EventType.MOUSE_ENTER,this.stopPropagation,this),this.helpPopupBg.on(cc.Node.EventType.MOUSE_MOVE,this.stopPropagation,this),this.helpBlackBg.on(cc.Node.EventType.MOUSE_ENTER,this.stopPropagation,this),this.helpBlackBg.on(cc.Node.EventType.MOUSE_MOVE,this.stopPropagation,this)),this.helpNode1&&this.helpPopupBg1&&this.helpBlackBg1&&(this.helpNode1.active=!1,this.helpPopupBg1.on(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),this.helpBlackBg1.on(cc.Node.EventType.TOUCH_END,this.closeHelp1,this),cc.sys.isBrowser&&(this.helpPopupBg1.on(cc.Node.EventType.MOUSE_ENTER,this.stopPropagation,this),this.helpPopupBg1.on(cc.Node.EventType.MOUSE_MOVE,this.stopPropagation,this),this.helpBlackBg1.on(cc.Node.EventType.MOUSE_ENTER,this.stopPropagation,this),this.helpBlackBg1.on(cc.Node.EventType.MOUSE_MOVE,this.stopPropagation,this)))},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(s.SERVER_CMD_PLAY_TOURNAMENT,this,this.onPlayTour)},onPlayTour:function(e){e.errorcode&&(this.gameCore.userMng.isJoining=!1,this.playNowBtn.interactable=!0)},updateUI:function(e){this.data=e,this.titleLabel.string=e.roomName;var t="";switch(e.mode){case"normal":t=o.t("label_text.normal_c");break;case"allin":t=o.t("label_text.all_in_c");break;case"ranking":t=o.t("label_text.ranking")}this.modeLabel.string=t+"-"+this.gameCore.gameMng.getGameModeStr(e.play),this.entryFeeLabel.string=a.formatNumberWithRules(e.fee[0].fee),this.prizeLabel.string=a.formatNumberWithRules(e.fee[0].award[0].award)},onHelpBtnClk:function(e){"allin"==this.data.mode?this.helpNode1.active=!this.helpNode1.active:this.helpNode.active=!this.helpNode.active},closeHelp:function(e){this.helpNode.active=!1,e.stopPropagation()},closeHelp1:function(e){this.helpNode1.active=!1,e.stopPropagation()},stopPropagation:function(e){e.stopPropagation()},onPlayRound1Clk:function(e){this.data&&this.data.fee&&this.data.fee[0]&&!this.gameCore.gameMng.hasEnoughChips2(this.data.fee[0].fee)||this.gameCore.userMng.playTour(this.data.gameId,this.data.city,1)&&(this.gameCore.uiMng.showLoading(cc.v2(0,0),this.loadingContainer,.8,!1),this.playNowBtn.interactable=!1)},closeUI:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.gameCore.uiMng.hideLoading(),this._super(e,t)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData"}],TournamentFinalRank:[function(e,t,i){"use strict";cc._RF.push(t,"5e71bh459lCOp8BoJdElKZ7","TournamentFinalRank");e("BaseUI");var n=e("FacebookIcon"),a=e("ClampLabel"),o=e("TournamentResult"),s=e("LanguageData"),r=e("GameUtils");cc.Class({extends:o,properties:{newRoundName:cc.Label,entryFeeLabel:cc.Label,ranks:[cc.Node],icons:[n],nameLabels:[a],youTags:[cc.Node]},onLoad:function(){this._super();for(var e=0;e<this.youTags.length;e++)this.youTags[e].active=!1},initUI:function(){this.entryFeeLabel.string=""},initComplete:function(){this._super()},updateUI:function(e,t){var i=table.createToArray(e.result);if(!(this.ranksData&&i.length<=this.ranksData.length)){this.users=t,this.ranksData=i,i.sort(function(e,t){return e.rankNo-t.rankNo}),this.data=i[0];for(var n=0;n<i.length;n++)if(this.gameCore.userMng.myself&&this.gameCore.userMng.myself.strTPID==i[n].userId){this.data=i[n],this.youTags[n].active=!0;break}this.newRoundName.string=this.data.round>1?s.t("label_text.round_number",{number:this.data.round}):s.t("label_text.new_tournament"),this.entryFeeLabel.string=0==this.data.fee?s.t("label_text.free"):s.t("label_text.entry_fee_chips",{chips:r.formatNumberWithRules(this.data.fee)});for(n=0;n<i.length;n++){var a=this.getUserByPlayerId(i[n].userId);this.nameLabels[n]&&(this.nameLabels[n].string="",a&&(this.icons[n].initWithTeenPattiUser(a),this.nameLabels[n].string=a.strTPName))}for(n=i.length;n<this.ranks.length;n++)this.ranks[n].active=!1;this.updateBtnStatus()}},getUserByPlayerId:function(e){for(var t=0;t<this.users.length;t++)if(this.users[t].strTPID==e)return this.users[t];return null}}),cc._RF.pop()},{BaseUI:"BaseUI",ClampLabel:"ClampLabel",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",LanguageData:"LanguageData",TournamentResult:"TournamentResult"}],TournamentRankingRound:[function(e,t,i){"use strict";cc._RF.push(t,"cbd32eTW/NFdZZQRv9BAdeO","TournamentRankingRound");var n=e("TournamentBaseRound"),a=e("GameUtils");cc.Class({extends:n,properties:{helpNode1:{default:null,override:!0,visible:!1},helpPopupBg1:{default:null,override:!0,visible:!1},helpBlackBg1:{default:null,override:!0,visible:!1},roundLabel:cc.Label,prizeLabel2:cc.Label},initComplete:function(){this._super()},updateUI:function(e){this._super(e),this.roundLabel.string=e.fee[0].round,this.prizeLabel2.string=a.formatNumberWithRules(e.fee[0].award[1].award)}}),cc._RF.pop()},{GameUtils:"GameUtils",TournamentBaseRound:"TournamentBaseRound"}],TournamentResult:[function(e,t,i){"use strict";cc._RF.push(t,"6a60fMzLdBJ3ad/u/D4n0u4","TournamentResult");var n=e("BaseUI"),a=e("Command"),o=e("UIInfo"),s=e("LanguageData"),r=e("GameUtils");cc.Class({extends:n,properties:{no1Node:cc.Node,no2Node:cc.Node,noWonRankLabel:cc.Label,betterNextTimeNode:cc.Node,rewardNode:cc.Node,rewardLabel:cc.Label,newRoundName:cc.Label,entryFeeLabel:cc.Label,backBtn:cc.Node,newTourBtn:cc.Node},onLoad:function(){this._super(),this.isForceToLobby=!0,this.initUI()},initUI:function(){this.no1Node.active=!1,this.no2Node.active=!1,this.noWonRankLabel.string="",this.rewardNode.active=!1,this.betterNextTimeNode.active=!1,this.entryFeeLabel.string=""},initComplete:function(){this._super();var e=this.gameCore.uiMng.getUIByUIKey(o.GAME_SCENE_TOUR.name);e&&ITeenPatti.removeListener(a.SERVER_CMD_USER_EXIT_ROOM,e,e.onUserExitRoom),this.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY_TOURNAMENT,this,this.onPlayTour),ITeenPatti.addListener(a.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom)},onPlayTour:function(e){if(e.errorcode&&(this.gameCore.userMng.isJoining=!1,this.gameCore.uiMng.hideLoading(),ITeenPatti.addListener(a.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),3701==e.errorcode)){var t=this.gameCore.uiMng.getUIByUIKey(o.ALERT.name);t&&(t.shouldReaddAfterChangeScene=!0),this.onUserExitRoom()}},updateUI:function(e){var t=ITeenPatti.getCurSFSRoom();this.isAllin=t&&t.variables&&t.variables.mode&&"allin"==t.variables.mode.value,this.data=e,this.no1Node.active=1==e.rankNo,this.no2Node.active=2==e.rankNo&&e.num>0,this.noWonRankLabel.string=0==e.num?s.t("label_text.your_ranked",{rank:e.rankNo}):"",this.rewardNode.active=e.num>0,this.rewardLabel.string=r.formatNumberWithRules(e.num,1e7),this.betterNextTimeNode.active=e.num<=0,this.newRoundName.string=e.round>1?s.t("label_text.play_round",{number:e.round}):s.t("label_text.new_tournament"),this.entryFeeLabel.string=0==e.fee?s.t("label_text.free"):s.t("label_text.entry_fee_chips",{chips:r.formatNumberWithRules(e.fee)}),this.updateBtnStatus()},updateBtnStatus:function(){this.backBtn.active=1==this.data.round},onUserExitRoom:function(e,t){this.isForceToLobby&&this.data&&0==this.data.fee&&(this.gameCore.gameMng.reopenTourGameId=this.data.gameId);var i=ITeenPatti.getCurPlayer();i&&t&&t.user.name!=i.userId?LogUtil.info("TournamentResult","Exit User Is not Player!"):(this.gameCore.uiMng.showLoading(),this.gameCore.uiMng.openUI(this.gameCore.uiMng.lobbySceneUIInfo))},onBackToLobbyBtnClk:function(e){this.isForceToLobby=!1,ITeenPatti.sendMsg("leaveroom",null)},onNewTournamentBtnClk:function(e){this.data&&(this.isForceToLobby=!1,ITeenPatti.removeListener(a.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),this.gameCore.uiMng.showLoading(),ITeenPatti.addListener(a.SERVER_CMD_ROOM_JOIN,this,this.onRoomJoin),this.gameCore.userMng.playTour(this.data.gameId,this.data.city,this.data.round))},onBlackBgTouchEnd:function(e){this._super(e),this.canClose&&this.readdGameSceneListener()},onCloseBtnClk:function(e){this.isAllin?this.onBackToLobbyBtnClk():(this.isForceToLobby=!1,this._super(e),this.canClose&&this.readdGameSceneListener())},readdGameSceneListener:function(){var e=this.gameCore.uiMng.getUIByUIKey(o.GAME_SCENE_TOUR.name);e&&ITeenPatti.addListener(a.SERVER_CMD_USER_EXIT_ROOM,e,e.onUserExitRoom)},closeUI:function(){this._super()},onRoomJoin:function(e,t){this.gameCore.gameMng.openGameScene()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],TournamentSelectItem:[function(e,t,i){"use strict";cc._RF.push(t,"3b9161eZ9NGUqxE//3oLwfr","TournamentSelectItem");var n=e("BaseComponent"),a=e("GameUtils"),o=e("LanguageData");e("UIInfo");cc.Class({extends:n,properties:{arrIcon:[cc.SpriteFrame],icon:cc.Sprite,winCountLabel:cc.Label,timeLimitNode:cc.Node,timeLimitLabel:cc.Label,unlockNode:cc.Node,unlockLevelLabel:cc.Label,entryFeeNode:cc.Node,entryFeeLabel:cc.Label,modeLabel:cc.Label,typeNode:cc.Node,typeLabel:cc.Label,toggleIndex:{get:function(){return this._toggleIndex},set:function(e){this._toggleIndex=e,this.typeNode.active=0==e;var t="";switch(this.data.mode){case"normal":t=o.t("label_text.normal_c");break;case"allin":t=o.t("label_text.all_in_c");break;case"ranking":t=o.t("label_text.ranking")}this.typeLabel.string=t}},data:{get:function(){return this._data},set:function(e){if(this._data=e,this.icon.spriteFrame=this.arrIcon[this.data.city-1],this.timeLimitNode.active=this.data.time&&this.data.time[0]&&this.data.time[1],this.timeLimitNode.active){var t=new Date(1e3*this.data.time[0]),i=new Date(1e3*this.data.time[1]);this.timeLimitLabel.string=stringformatOne(t.getHours(),2)+":"+stringformatOne(t.getMinutes(),2)+"-"+stringformatOne(i.getHours(),2)+":"+stringformatOne(i.getMinutes(),2)}if(this.modeLabel.string=this.gameCore.gameMng.getGameModeStr(this.data.play),this.unlockNode.active=this.gameCore.userMng.myself.nLevel<this.data.level,this.unlockLevelLabel.string=o.t("label_text.lv_level",{level:this.data.level}),this.entryFeeNode.active=this.gameCore.userMng.myself.nLevel>=this.data.level,this.data.fee.length>0){this.entryFeeLabel.string=a.formatNumberWithRules(this.data.fee[0].fee);var n=this.data.fee[this.data.fee.length-1].award;if(this.data.fee[this.data.fee.length-1].award.length>0)for(var s in n)if(1==n[s].rank){this.winCountLabel.string=a.formatNumberWithRules(n[s].award);break}}},visible:!1}},onLoad:function(){this._super(),this.entryFeeLabel.string="",this.winCountLabel.string=""},initComplete:function(){this._super()},onClk:function(e){this.data&&(this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.5),this.gameCore.gameMng.openTourRound(this.data))}}),cc._RF.pop()},{BaseComponent:"BaseComponent",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],TournamentSelect:[function(e,t,i){"use strict";cc._RF.push(t,"dc1a9joimtBOKQoeAypHt9C","TournamentSelect");var n=e("BaseUI"),a=e("Command"),o=e("UIInfo");cc.Class({extends:n,properties:{itemPrefab:cc.Prefab,toggleGroup:cc.ToggleContainer,normalTours:[],allInTours:[],rankingTours:[],scrollView:cc.Node,contentNode:cc.Node,downArrow:cc.Node},onLoad:function(){this._super();var e=cc.visibleRect;e.width<1136&&(this.node.scale=e.width/1136),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1,this.contentNode.removeAllChildren(),this.downArrow.active=!1,this.contentNodeOriY=this.contentNode.y,ITeenPatti.gameCore.uiMng.statesRecover(this)},initComplete:function(){this._super(),this.gameCore.uiMng.showLoading(cc.v2(0,0),this.popupBg,1,!1),this.gameCore.uiMng.addListener(a.SERVER_CMD_TOURNAMENT,this,this.onTournamentList),ITeenPatti.sendMsg(a.SERVER_CMD_TOURNAMENT)},onTournamentList:function(e){if(this.gameCore.uiMng.hideLoading(),this.gameCore.uiMng.removeListener(a.SERVER_CMD_TOURNAMENT,this,this.onTournamentList),!e.errorcode){for(var t=table.createToArray(e.tours),i=0;i<t.length;i++){t[i].time=table.createToArray(t[i].time),t[i].fee=table.createToArray(t[i].fee),t[i].fee.sort(function(e,t){return e.round-t.round});for(var n=0;n<t[i].fee.length;n++)t[i].fee[n].award=table.createToArray(t[i].fee[n].award),t[i].fee[n].award.sort(function(e,t){return t.award-e.award});"normal"==t[i].mode?this.normalTours.push(t[i]):"allin"==t[i].mode?this.allInTours.push(t[i]):"ranking"==t[i].mode&&this.rankingTours.push(t[i])}if(this.updateToursShow(),this.gameCore.gameMng.reopenTourGameId){for(i=0;i<t.length;i++)if(t[i].gameId==this.gameCore.gameMng.reopenTourGameId){this.gameCore.gameMng.openTourRound(t[i]);break}this.gameCore.gameMng.reopenTourGameId=null}}},updateToursShow:function(){var e=[],t=0;this.toggleGroup.toggleItems[0]&&this.toggleGroup.toggleItems[0].isChecked?(e=this.normalTours.concat(this.allInTours).concat(this.rankingTours),t=0):this.toggleGroup.toggleItems[1]&&this.toggleGroup.toggleItems[1].isChecked?(e=this.normalTours,t=1):this.toggleGroup.toggleItems[2]&&this.toggleGroup.toggleItems[2].isChecked?(e=this.allInTours,t=2):this.toggleGroup.toggleItems[3]&&this.toggleGroup.toggleItems[3].isChecked&&(e=this.rankingTours,t=3),this.downArrow.active=e.length>6,this.contentNode.removeAllChildren();for(var i=0;i<e.length;i++){var n=cc.instantiate(this.itemPrefab);this.contentNode.addChild(n),n.getComponent("TournamentSelectItem").gameCore=this.gameCore,n.getComponent("TournamentSelectItem").data=e[i],n.getComponent("TournamentSelectItem").toggleIndex=t}this.gameCore.uiMng.uiStatesPersistence(this)},onDownBtnClk:function(e){this.scrollView.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,this.contentNode.y+this.scrollView.height),.1)},onToggleClk:function(e,t){e&&this.updateToursShow()},onScrolling:function(){this.downArrow.active=this.contentNode.y<=this.contentNodeOriY+(this.contentNode.height-this.scrollView.height)-5&&this.contentNode.height>this.scrollView.height},statesRecoverUpdate:function(){this.toggleGroup._isOnLoadCalled&&(void 0!=this.recoverStates[o.UI_STATE_TOGGLE_INDEX]&&this.toggleGroup.toggleItems.length>this.recoverStates[o.UI_STATE_TOGGLE_INDEX]&&(this.toggleGroup.toggleItems[this.recoverStates[o.UI_STATE_TOGGLE_INDEX]].isChecked?this.onToggleClk(null,this.recoverStates[o.UI_STATE_TOGGLE_INDEX]):this.toggleGroup.toggleItems[this.recoverStates[o.UI_STATE_TOGGLE_INDEX]].check()),this._super())},statesPersistence:function(){for(var e={},t=0;t<this.toggleGroup.toggleItems.length;t++)if(this.toggleGroup.toggleItems[t].isChecked){e[o.UI_STATE_TOGGLE_INDEX]=t;break}return e},closeUI:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.gameCore.uiMng.hideLoading(),this._super(e,t)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",UIInfo:"UIInfo"}],TournamentSingleRound:[function(e,t,i){"use strict";cc._RF.push(t,"84b17pjUAZAOa7jkrJSYytT","TournamentSingleRound");var n=e("TournamentBaseRound"),a=(e("LanguageData"),e("GameUtils"));cc.Class({extends:n,properties:{rewardLabel:cc.Label},updateUI:function(e){this._super(e),this.rewardLabel.string=a.formatNumberWithRules(e.fee[0].award[0].award)}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData",TournamentBaseRound:"TournamentBaseRound"}],TournamentTwoRound:[function(e,t,i){"use strict";cc._RF.push(t,"a08c30t/VhDUaCHD6JYtCo8","TournamentTwoRound");var n=e("TournamentSingleRound"),a=e("GameUtils"),o=e("LanguageData");cc.Class({extends:n,properties:{entryFeeLabel2:cc.Label,prizeLabel2:cc.Label,round1Label:cc.Label,round2Label:cc.Label,round2PlayBtnSkip:cc.Node,round2PlayBtnFree:cc.Node,playNowBtn2:cc.Button},initComplete:function(){this._super(),this.round1Label&&(this.round1Label.string=o.t("label_text.round_number",{number:1})),this.round2Label&&(this.round2Label.string=o.t("label_text.round_number",{number:2}))},updateUI:function(e){this._super(e),this.round2PlayBtnSkip.active=e.fee[1].fee>0,this.round2PlayBtnFree.active=0==e.fee[1].fee,this.rewardLabel.string=a.formatNumberWithRules(e.fee[0].award[0].award+e.fee[1].award[0].award),this.entryFeeLabel2.string=a.formatNumberWithRules(e.fee[1].fee),this.prizeLabel2.string=a.formatNumberWithRules(e.fee[1].award[0].award)},onPlayTour:function(e){e.errorcode&&(this._super(e),this.playNowBtn2.interactable=!0)},onPlayRound1Clk:function(e){this.playNowBtn2.interactable=!1,this._super(e)},onPlayRound2Clk:function(e){this.data&&this.data.fee&&this.data.fee[1]&&!this.gameCore.gameMng.hasEnoughChips2(this.data.fee[1].fee)||this.gameCore.userMng.playTour(this.data.gameId,this.data.city,2)&&(this.gameCore.uiMng.showLoading(cc.v2(0,0),this.loadingContainer,.8,!1),this.playNowBtn.interactable=!1,this.playNowBtn2.interactable=!1)}}),cc._RF.pop()},{GameUtils:"GameUtils",LanguageData:"LanguageData",TournamentSingleRound:"TournamentSingleRound"}],UIInfo:[function(e,t,i){"use strict";cc._RF.push(t,"57534aJCQRGKZaJiMMWd2+8","UIInfo");var n={LOGIN_SCENE:{name:"LoginScene",isPopup:!1},FB_LOGIN_SCENE:{name:"FBLoginScene",isPopup:!1},LOBBY_SCENE:{name:"LobbySceneNew",isPopup:!1},LOBBY_SCENE2:{name:"LobbySceneNew2",isPopup:!1},GAME_SCENE:{name:"GameScene",isPopup:!1},CLASSIC_GOLD_SCENE:{name:"ClassicGoldScene",isPopup:!1},CRICKET_SCENE:{name:"CricketScene",isPopup:!1},CASINO_WAR_SCENE:{name:"CasinoWarScene",isPopup:!1},CASINO_WAR_GOLD_SCENE:{name:"CasinoWarGoldScene",isPopup:!1},CASINO_WAR_PVP_SCENE:{name:"CasinoWarPVPScene",isPopup:!1},CASINO_WAR_PVP_GOLD_SCENE:{name:"CasinoWarPVPGoldScene",isPopup:!1},PATTI_WAR_SCENE:{name:"PattiWarScene",isPopup:!1},AB_SCENE:{name:"ABScene",isPopup:!1},AB_GOLD_SCENE:{name:"ABGoldScene",isPopup:!1},AB_PVP_SCENE:{name:"ABPVPScene",isPopup:!1},AB_PVP_GOLD_SCENE:{name:"ABPVPGoldScene",isPopup:!1},FOOTBALL_SCENE:{name:"FootballScene",isPopup:!1},TEXAS_HOLDEM_SCENE:{name:"TexasHoldemScene",isPopup:!1},TEXAS_HOLDEM_GOLD_SCENE:{name:"TexasHoldemGoldScene",isPopup:!1},EVENTS_SCENE:{name:"EventsScene",isPopup:!1},RUMMY_SCENE:{name:"RummyScene",isPopup:!1},GAME_SCENE_TOUR:{name:"GameSceneTour",isPopup:!1},DELUXE_SCENE:{name:"DeluxeScene",isPopup:!1},WINGO_SCENE:{name:"WingoLotteryScene",isPopup:!1},ALERT:{name:"Alert",isPopup:!0,prefab:"alertPrefab",url:"Alert/Alert",multi:!0,zOrder:15e3},FLOAT_ALERT:{name:"FloatAlert",isPopup:!0,prefab:"floatAlertPrefab",url:"Alert/FloatAlert"},FLOAT_ALERT2:{name:"FloatAlert2",isPopup:!0,prefab:"floatAlert2Prefab",url:"Alert/FloatAlert2"},VERSION_COMPATIBLE_ALERT:{name:"VersionCompatibleAlert",isPopup:!0,prefab:"versionCompatibleAlertPrefab",url:"Alert/VersionCompatibleAlert"},BACK_MENU:{name:"BackMenu",isPopup:!0,prefab:"backMenuPrefab",url:"BackMenu/BackMenu"},BACK_MENU_WITHOUT_SWITCH:{name:"BackMenu",isPopup:!0,prefab:"backMenuWithoutSwitchPrefab",url:"BackMenu/BackMenuWithoutSwitch"},BACK_MENU_ABPVP:{name:"BackMenuABPVP",isPopup:!0,prefab:"backMenuABPVPPrefab",url:"BackMenu/BackMenuABPVP"},BACK_MENU_TOUR:{name:"BackMenuTournament",isPopup:!0,prefab:"backMenuTournamentPrefab",url:"BackMenu/BackMenuTournament"},BACK_MENU_PATTI_WAR:{name:"BackMenuPattiWar",isPopup:!0,prefab:"backMenuPattiWarPrefab",url:"BackMenu/BackMenuPattiWar"},BACK_MENU_WINGO:{name:"BackMenuWingoLottery",isPopup:!0,prefab:"backMenuWingoPrefab",url:"BackMenu/BackMenuWingoLottery"},SETTING:{name:"Setting",isPopup:!0,prefab:"settingPrefab",url:"Setting/Setting"},SETTING_IOS:{name:"Setting",isPopup:!0,prefab:"settingiOSPrefab",url:"Setting/SettingiOS"},DELETE_APPLE_ACCOUNT_VIEW:{name:"DeleteAppleAccountView",url:"Setting/DeleteAppleAccountView.prefab",isPopup:!0,prefab:"deleteAppleAccountPrefab"},SETTING_FB:{name:"Setting",isPopup:!0,prefab:"settingFBPrefab",url:"Setting/SettingFB"},SETTING_HSM_TIPS:{name:"SettingHSMTips",isPopup:!0,prefab:"settingHSMTipsPrefab",url:"Setting/SettingHSMTips"},HSM_TIPS:{name:"HandStrengthMeterTips",isPopup:!0,prefab:"HSMTipsPrefab",url:"HandStrengthMeterTips/HandStrengthMeterTips"},GAME_ROOM_INFO:{name:"GameRoomInfo",isPopup:!0,prefab:"gameRoomInfoPrefab",url:"GameRoomInfo/GameRoomInfo"},GAME_ROOM_INFO_CLASSIC_GOLD:{name:"GameRoomInfoClassicGold",isPopup:!0,prefab:"gameRoomInfoClassicGoldPrefab",url:"GameRoomInfo/GameRoomInfoClassicGold"},GAME_ROOM_INFO_TOUR:{name:"GameRoomInfoTour",isPopup:!0,prefab:"gameRoomInfoTourPrefab",url:"GameRoomInfo/GameRoomInfoTour"},GAME_ROOM_INFO_CASINO_WAR:{name:"GameRoomInfoCasinoWar",isPopup:!0,prefab:"gameRoomInfoCasinoWarPrefab",url:"GameRoomInfo/GameRoomInfoCasinoWar"},GAME_ROOM_INFO_CASINO_WAR_GOLD:{name:"GameRoomInfoCasinoWar",isPopup:!0,prefab:"gameRoomInfoCasinoWarGoldPrefab",url:"GameRoomInfo/GameRoomInfoCasinoWarGold"},GAME_ROOM_INFO_CASINO_WAR_PVP_GOLD:{name:"GameRoomInfoCasinoWarPVPGold",isPopup:!0,prefab:"gameRoomInfoCasinoWarPVPGoldPrefab",url:"GameRoomInfo/GameRoomInfoCasinoWarPVPGold"},GAME_ROOM_INFO_AB:{name:"GameRoomInfoAB",isPopup:!0,prefab:"gameRoomInfoABPrefab",url:"GameRoomInfo/GameRoomInfoAB"},GAME_ROOM_INFO_AB_GOLD:{name:"GameRoomInfoAB",isPopup:!0,prefab:"gameRoomInfoABGoldPrefab",url:"GameRoomInfo/GameRoomInfoABGold"},GAME_ROOM_INFO_AB_PVP:{name:"GameRoomInfoABPVP",isPopup:!0,prefab:"gameRoomInfoABPVPPrefab",url:"GameRoomInfo/GameRoomInfoABPVP"},GAME_ROOM_INFO_AB_PVP_GOLD:{name:"GameRoomInfoABPVP",isPopup:!0,prefab:"gameRoomInfoABPVPGoldPrefab",url:"GameRoomInfo/GameRoomInfoABPVPGold"},GAME_ROOM_INFO_PATTI_WAR:{name:"GameRoomInfoPattiWar",isPopup:!0,prefab:"gameRoomInfoPattiWarPrefab",url:"GameRoomInfo/GameRoomInfoPattiWar"},GAME_ROOM_INFO_WINGO:{name:"GameRoomInfoWingo",isPopup:!0,prefab:"gameRoomInfoWingoPrefab",url:"GameRoomInfo/GameRoomInfoWingo"},GAME_ROOM_INFO_TEXAS_HOLDEM:{name:"GameRoomInfoTexasHoldem",isPopup:!0,prefab:"gameRoomInfoTexasHoldemPrefab",url:"GameRoomInfo/GameRoomInfoTexasHoldem"},GAME_ROOM_INFO_TEXAS_HOLDEM_GOLD:{name:"GameRoomInfoTexasHoldem",isPopup:!0,prefab:"gameRoomInfoTexasHoldemGoldPrefab",url:"GameRoomInfo/GameRoomInfoTexasHoldemGold"},MYSELF_PLAYER_INFO:{name:"MyselfPlayerInfo",isPopup:!0,prefab:"myselfPlayerInfoPrefab",url:"MyselfPlayerInfo/MyselfPlayerInfo"},INGAME_PLAYER_INFO:{name:"InGamePlayerInfo",isPopup:!0,prefab:"inGamePlayerInfoPrefab",url:"InGamePlayerInfo/InGamePlayerInfo"},INVIPGAME_PLAYER_INFO:{name:"InVIPGamePlayerInfo",isPopup:!0,prefab:"inVIPGamePlayerInfoPrefab",url:"InGamePlayerInfo/InVIPGamePlayerInfo"},HELP:{name:"Help",isPopup:!0,prefab:"helpPrefab",url:"Help/Help"},CLASSIC_HELP:{name:"ClassicHelp",isPopup:!0,prefab:"classicHelpPrefab",url:"Help/ClassicHelp"},JOKER_HELP:{name:"JokerHelp",isPopup:!0,prefab:"jokerHelpPrefab",url:"Help/JokerHelp"},MUFLIS_HELP:{name:"MuflisHelp",isPopup:!0,prefab:"muflisHelpPrefab",url:"Help/MuflisHelp"},HUKAM_HELP:{name:"HukamHelp",isPopup:!0,prefab:"hukamHelpPrefab",url:"Help/HukamHelp"},AK47_HELP:{name:"AK47Help",isPopup:!0,prefab:"ak47HelpPrefab",url:"Help/Ak47Help"},POTBLIND_HELP:{name:"PotBlindHelp",isPopup:!0,prefab:"potBlindHelpPrefab",url:"Help/PotBlindHelp"},CASINO_WAR_HELP:{name:"CasinoWarHelp",isPopup:!0,prefab:"casinoWarHelpPrefab",url:"Help/CasinoWarHelp"},CASINO_WAR_GOLD_HELP:{name:"CasinoWarHelp",isPopup:!0,prefab:"casinoWarGoldHelpPrefab",url:"Help/CasinoWarGoldHelp"},CASINO_WAR_PVP_GOLD_HELP:{name:"CasinoWarHelp",isPopup:!0,prefab:"casinoWarPVPGoldHelpPrefab",url:"Help/CasinoWarPVPGoldHelp"},AB_HELP:{name:"ABHelp",isPopup:!0,prefab:"ABHelpPrefab",url:"Help/ABHelp"},AB_GOLD_HELP:{name:"ABGoldHelp",isPopup:!0,prefab:"ABGoldHelpPrefab",url:"Help/ABGoldHelp"},ABPVP_HELP:{name:"ABHelp",isPopup:!0,prefab:"ABPVPHelpPrefab",url:"Help/ABPVPHelp"},ABPVP_GOLD_HELP:{name:"ABPVPGoldHelp",isPopup:!0,prefab:"ABPVPGoldHelpPrefab",url:"Help/ABPVPGoldHelp"},PATTI_WAR_HELP:{name:"PattiWarHelp",isPopup:!0,prefab:"pattiWarHelpPrefab",url:"Help/PattiWarHelp"},WINGO_LOTTERY_HELP:{name:"WingoLotteryHelp",isPopup:!0,prefab:"wingoLotteryHelpPrefab",url:"Help/WingoLotteryHelp"},TEXAS_HOLDEM_HELP:{name:"TexasHoldemHelp",isPopup:!0,prefab:"texasHoldemHelp",url:"Help/TexasHoldemHelp"},RUMMY_HELP:{name:"RummyHelp",isPopup:!0,prefab:"rummyHelpPrefab",url:"Help/RummyHelp"},FRIENDS:{name:"FriendsNew",isPopup:!0,prefab:"friendsPrefab",url:"Friends/FriendsNew"},FRIEND_ONLINE:{name:"FriendOnline",isPopup:!0,prefab:"friendOnlinePrefab",url:"Friends/FriendOnline",multi:!0},GIFTS:{name:"Gifts",isPopup:!0,prefab:"giftsPrefab",url:"Gifts/Gifts"},CHAT:{name:"Chat",isPopup:!0,prefab:"chatPrefab",url:"Chat/Chat"},PRIVATE_ROOM_SETTING:{name:"PrivateRoomSetting",isPopup:!0,prefab:"privateRoomSettingPrefab",url:"PrivateRoomSetting/PrivateRoomSetting"},FRIENDS_ROOM_SETTING:{name:"FriendsRoomSetting",isPopup:!0,prefab:"friendsRoomSettingPrefab"},FRIENDS_ROOM_RESULT:{name:"FriendsRoomResult",isPopup:!0,prefab:"friendsRoomResultPrefab"},FRIENDS_ROOM_SUMMARY:{name:"FriendsRoomSummary",isPopup:!0,prefab:"friendsRoomSummaryPrefab"},INVITATION_MESSAGE:{name:"InvitationMessage",isPopup:!0,prefab:"invitationMessagePrefab",url:"InvitationMessage/InvitationMessage"},INVITATION_ALERT:{name:"InvitationAlert",isPopup:!0,prefab:"invitationAlertPrefab",url:"InvitationMessage/InvitationAlert",multi:!0},STORE:{name:"Store",isPopup:!0,prefab:"storePrefab",url:"Store/Store"},BANK_STORE:{name:"BankStore",isPopup:!0,prefab:"bankStorePrefab",url:"Store/BankStore"},BANK_PASSWORD:{name:"BankPassword",isPopup:!0,prefab:"bankPasswordPrefab",url:"Store/BankPassword"},WITHDRAW_CHIPS:{name:"WithdrawChips",isPopup:!0,prefab:"withdrawChipsPrefab",url:"Store/WithdrawChips"},GIFT_CHIPS:{name:"GiftChips",isPopup:!0,prefab:"giftChipsPrefab",url:"Store/GiftChips"},BANK_TO_BANK:{name:"BankToBank",isPopup:!0,prefab:"bankToBankPrefab",url:"Store/BankToBank"},BANK_HISTORY:{name:"BankHistory",isPopup:!0,prefab:"bankHistoryPrefab",url:"Store/BankHistory"},BANK_ALERT:{name:"BankAlert",isPopup:!0,prefab:"bankAlertPrefab",url:"Store/BankAlert",multi:!0,zOrder:10100},GOLD_STORE:{name:"GoldStore",isPopup:!0,prefab:"goldStorePrefab",url:"Store/GoldStore"},GOLD_HISTORY:{name:"GoldHistory",isPopup:!0,prefab:"goldHistoryPrefab",url:"Store/GoldHistory"},VIP_REDEMPTION:{name:"VIPRedemption",isPopup:!0,prefab:"vipRedemptionPrefab",url:"Store/VIPRedemption"},VARIATION_MODE_SELECT:{name:"VariationModeSelect",isPopup:!0,prefab:"variationModeSelectPrefab",url:"VariationModeSelect/VariationModeSelect"},DELUXE_MODE_SELECT:{name:"DeluxeModeSelect",isPopup:!0,prefab:"deluxeModeSelectPrefab",url:"DeluxeModeSelect/DeluxeModeSelect"},CASINOWAR_MODE_SELECT:{name:"CasinoWarModeSelect",isPopup:!0,prefab:"casinoWarModeSelectPrefab",url:"CasinoWarModeSelect/CasinoWarModeSelect"},HEAD_ICON_CHOOSE:function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({name:"HeadIconChoose",isPopup:!0,prefab:"headIconChoosePrefab",url:"HeadIconChoose/HeadIconChoose"},"url","HeadIconChoose/HeadIconChoose"),RATE:{name:"Rate",isPopup:!0,prefab:"ratePrefab",url:"Rate/Rate"},FB_LOGOUT_CONNECT_REMIND:{name:"FBLogoutConnectRemind",isPopup:!0,prefab:"fbLogoutConnectRemindPrefab",url:"FBLogoutConnectRemind/FBLogoutConnectRemind"},GUEST_LOGIN_REMIND:{name:"GuestLoginRemind",isPopup:!0,prefab:"guestLoginRemindPrefab",url:"GuestLoginRemind/GuestLoginRemind"},SIDE_SHOW_CONFIRM_POPUP:{name:"SideShowConfirmPopUp",isPopup:!0,prefab:"sideShowConfirmPopUp",url:"SideShowConfirmPopUp/SideShowConfirmPopUp"},SWITCH_TABLE_POPUP:{name:"SwitchTablePopUp",isPopup:!0,prefab:"switchTablePopUp",url:"SwitchTable/SwitchTablePopUp"},SWITCH_MODE_POPUP:{name:"SwitchModePopUp",isPopup:!0,prefab:"switchModePopUp",url:"SwitchMode/SwitchModePopUp"},DAILY_SIGN_IN:{name:"DailySignIn",isPopup:!0,prefab:"dailySignInPrefab",url:"DailySignIn/DailySignIn",zOrder:10001},ROOM_SUMMARY:{name:"RoomSummary",isPopup:!0,prefab:"roomSummaryPrefab",url:"RoomSummary/RoomSummary"},ROOM_SUMMARY_GOLD:{name:"RoomSummaryGold",isPopup:!0,prefab:"roomSummaryGoldPrefab",url:"RoomSummary/RoomSummaryGold",zOrder:10100},ROOM_SUMMARY_ABPVP:{name:"RoomSummaryABPVP",isPopup:!0,prefab:"roomSummaryABPVPPrefab",url:"RoomSummary/RoomSummaryABPVP",zOrder:10101},LEVEL_UP_POPUP:{name:"LevelUpPopUp",isPopup:!0,prefab:"levelUpPopUp",url:"LevelUpPopUp/LevelUpPopUp"},WATCH_MODE_POPUP:{name:"WacthModePopUp",isPopup:!0,prefab:"wacthModePopUp",url:"WacthModePopUp/WacthModePopUp"},CONNECTION_LOST:{name:"ConnectionLost",isPopup:!0,prefab:"connectionLostPrefab",url:"Connection/ConnectionLost",zOrder:2e4},RECONNECTING:{name:"Reconnecting",isPopup:!0,prefab:"reconnectingPrefab",url:"Connection/Reconnecting"},CHIPS_NOT_ENOUGH_1:{name:"ChipsNotEnough1",isPopup:!0,prefab:"chipsNotEnough1Prefab",url:"ChipsNotEnough/ChipsNotEnough1"},CHIPS_NOT_ENOUGH_2:{name:"ChipsNotEnough2",isPopup:!0,prefab:"chipsNotEnough2Prefab",url:"ChipsNotEnough/ChipsNotEnough2"},CHIPS_NOT_ENOUGH_3:{name:"ChipsNotEnough3",isPopup:!0,prefab:"chipsNotEnough3Prefab",url:"ChipsNotEnough/ChipsNotEnough3"},CHIPS_NOT_ENOUGH_TWO_ITEM:{name:"ChipsNotEnoughTwoItem",isPopup:!0,prefab:"chipsNotEnoughTwoItemPrefab",url:"ChipsNotEnough/ChipsNotEnoughTwoItem"},GOLD_NOT_ENOUGH_TWO_ITEM:{name:"GoldNotEnoughTwoItem",isPopup:!0,prefab:"goldNotEnoughTwoItemPrefab",url:"ChipsNotEnough/GoldNotEnoughTwoItem"},BLOCK_CONFIRM_POPUP:{name:"BlockConfirmPopUp",isPopup:!0,prefab:"blockConfirmPopUpPrefab",url:"InGamePlayerInfo/BlockConfirmPopUp"},SWITCH_DEALER_POPUP:{name:"SwitchDealer",isPopup:!0,prefab:"switchDealerPrefab",url:"SwitchDealer/SwitchDealer"},QUIT_GAME_POPUP:{name:"QuitGamePopUp",isPopup:!0,prefab:"quitGamePopUpPrefab",url:"QuitGamePopUp/QuitGamePopUp"},CHIPS_FLY_EFFECT:{name:"ChipsFlyEffect",isPopup:!0,prefab:"chipsFlyEffectPrefab",url:"Effect/ChipsFlyEffect",multi:!0,zOrder:3e4},GOLD_FLY_EFFECT:{name:"GoldFlyEffect",isPopup:!0,prefab:"goldFlyEffectPrefab",url:"Effect/GoldFlyEffect",multi:!0,zOrder:3e4},EMAIL_BOX_POPUP:{name:"EmailBoxPopUp",isPopup:!0,prefab:"emailBoxPopUpPrefab",url:"EmailPopUp/EmailBoxPopUp"},EMAIL_DETAIL_POPUP:{name:"EmailDetailPopUp",isPopup:!0,prefab:"emailDetailPopUpPrefab",url:"EmailPopUp/EmailDetailPopUp"},EMAIL_REWARD_POPUP:{name:"EmailRewardPopUp",isPopup:!0,prefab:"emailRewardPopUpPrefab",url:"EmailPopUp/EmailRewardPopUp"},FREE_CHIPS_POPUP:{name:"FreeChips",isPopup:!0,prefab:"freeChipsPopUpPrefab",url:"FreeChips/FreeChips"},LOADING:{name:"Loading",isPopup:!0,prefab:"loadingPrefab",url:"Loading/Loading"},AD_BONUS_POPUP:{name:"AdBonusPopUp",isPopup:!0,prefab:"adBonusPopUpPrefab",url:"AdBonusPopUp/AdBonusPopUp",zOrder:14999},AD_FREE_CHIP_POPUP:{name:"AdFreeChipsPopUp",isPopup:!0,prefab:"adFreeChipsPopUpPrefab",url:"AdBonusPopUp/AdFreeChipsPopUp"},VERSION_UPDATE_POPUP:{name:"VersionUpdatePopUp",isPopup:!0,prefab:"versionUpdatePopUpPrefab",url:"VersionUpdatePopUp/VersionUpdatePopUp"},AD_NATIVE_POPUP:{name:"AdNativePopUp",isPopup:!0,prefab:"adNativePopUpPrefab",url:"AdNativePopUp/AdNativePopUp"},LUCKY_COIN_POPUP:{name:"LuckyCoinPopUp",isPopup:!0,prefab:"luckyCoinPopUpPrefab",url:"AdLuckyPopUp/LuckyCoinPopUp"},PROMOTION_POPUP:{name:"PromotionPupUp",isPopup:!0,prefab:"promotionPopUpPrefab",url:"PromotionPopUp/PromotionPopUp",zOrder:10002},BROKE:{name:"Broke",isPopup:!0,prefab:"brokePrefab",url:"Broke/Broke"},NOLIMIT_BOOT_SELECT:{name:"NoLimitBootSelect",isPopup:!0,prefab:"noLimitBootSelectPrefab",url:"NoLimitBootSelect/NoLimitBootSelect"},NOLIMIT_BOOT_SELECT1:{name:"NoLimitBootSelect1",isPopup:!0,prefab:"noLimitBootSelectPrefab",url:"NoLimitBootSelect1/NoLimitBootSelect1"},WINGO_BOOT_SELECT1:{name:"WingoBootSelect1",isPopup:!0,prefab:"wingoBootSelectPrefab",url:"WingoBootSelect1/WingoBootSelect1"},CRICKET_ROOM_POPUP:{name:"CricketRoomPopUp",isPopup:!0,prefab:"cricketRoomPopUpPrefab"},CRICKET_BET_SESSION_POPUP:{name:"CricketBetSessionPopUp",isPopup:!0,prefab:"cricketBetSessionPopUpPrefab"},CRICKET_BET_WINNER_POPUP:{name:"CricketBetWinnerPopUp",isPopup:!0,prefab:"cricketBetWinnerPopUpPrefab"},CRICKET_BET_SUMMARY_POPUP:{name:"CricketBetSummaryPopUp",isPopup:!0,prefab:"cricketBetSummaryPopUpPrefab"},CRICKET_BET_SUMMARY_REFUND_POPUP:{name:"CricketBetSummaryRefundPopUp",isPopup:!0,prefab:"cricketBetSummaryRefundPopUpPrefab"},CRICKET_MARKET_WINNER_SUMMARY_POPUP:{name:"CricketBetSummaryPopUp",isPopup:!0,prefab:"cricketMarketWinnerSummaryPopUp"},CRICKET_MARKET_SESSION_SUMMARY_POPUP:{name:"CricketBetSummaryPopUp",isPopup:!0,prefab:"cricketMarketSessionSummaryPopUp"},CRICKET_BET_CHEAT_POPUP:{name:"CricketSessionBetCheatPopUp",isPopup:!0,prefab:"cricketSessionBetCheatPopUp"},CRICKET_MARKET_WINNER_CHANGE_POPUP:{name:"CricketWinnerBetChangePopUp",isPopup:!0,prefab:"cricketWinnerBetChangePopUp"},CRICKET_BET_HISTORY_POPUP:{name:"CricketBetHistoryPopUp",isPopup:!0,prefab:"cricketBetHistoryPopUpPrefab"},CRICKET_HELP_POPUP:{name:"CricketHelpPopUp",isPopup:!0,prefab:"cricketHelpPopUp"},REDEEM_CODE:{name:"RedeemCode",isPopup:!0,prefab:"redeemCodePrefab",url:"RedeemCode/RedeemCode"},INVITE_CODE:{name:"InviteCode",isPopup:!0,prefab:"inviteCodePrefab",url:"InviteCode/InviteCode"},FOOTBALL_HELP_POPUP:{name:"FootballHelpPopUp",isPopup:!0,prefab:"footballHelpPopUpPrefab"},FOOTBALL_BET_HISTORY_POPUP:{name:"FootballBetHistoryPopUp",isPopup:!0,prefab:"footballBetHistoryPopUpPrefab"},FOOTBALL_BET_WINNER_POPUP:{name:"FootballBetWinnerPopUp",isPopup:!0,prefab:"footballBetWinnerPopUpPrefab"},FOOTBALL_BET_SUMMARY_POPUP:{name:"FootballBetSummaryPopUp",isPopup:!0,prefab:"fooballBetSummaryPopUpPrefab"},ONLIVE_BET:{name:"OnliveBet",isPopup:!0,prefab:"onliveBetPrefab",url:"OnLiveBet/OnliveBetSelect"},TEXAS_BUY_INTO_TABLE:{name:"BuyIntoTablePopUp",isPopup:!0,prefab:"texasBuyIntoTablePopUpPrefab",url:"TexasHoldemPopUp/BuyIntoTablePopUp"},MODE_NOT_OPEN_POPUP:{name:"ModeNotOpenPopUp",isPopup:!0,prefab:"modeNotOpenPopUpPrefab",url:"ModeNotOpenPopUp/ModeNotOpenPopUp"},MODE_UNLOCK_POPUP:{name:"ModeUnlockPopUp",isPopup:!0,prefab:"modeUnlockPopUpPrefab",url:"ModeUnlockPopUp/ModeUnlockPopUp"},EVENT_ACTIVE_POPUP:{name:"EventActivePopUp",isPopup:!0,prefab:"eventActivePopUpPrefab",url:"EventActivePopUp/EventActivePopUp"},EVENTS_HELP_POPUP:{name:"EventsHelpPopUp",isPopup:!0,prefab:"eventsHelpPopUpPrefab",url:"EventActivePopUp/EventsHelpPopUp"},EVENTS_EXCHANGE_SUCC_POPUP:{name:"ExchangeSuccPopUp",isPopup:!0,prefab:"eventsExchSuccPopUpPrefab",url:"EventActivePopUp/ExchangeSuccPopUp"},CUSTOMER_SUPPORT_POPUP:{name:"CustomerSupportPopUp",isPopup:!0,prefab:"customerSupportPopUpPrefab",url:"CustomerSupportPopUp/CustomerSupportPopUp"},MONTHLY_ELITE_BUY_POPUP:{name:"MonthlyEliteBuyPopUp",isPopup:!0,prefab:"monthlyEliteBuyPopUpPrefab",url:"SubscriptionPopUp/MonthlyEliteBuyPopUp",zOrder:10003},MONTHLY_ELITE_BONUS_GET_POPUP:{name:"MonthlyEliteBonusGetPopUp",isPopup:!0,prefab:"monthlyEliteBonusGetPopUpPrefab",url:"SubscriptionPopUp/MonthlyEliteBonusGetPopUp",zOrder:10004},MONTHLY_ELITE_ERROR_POPUP:{name:"MonthlyErrorPopUp",isPopup:!0,prefab:"monthlyErrorPopUpPrefab",url:"SubscriptionPopUp/MonthlyErrorPopUp",zOrder:10005},MONTHLY_ELITE_IOS:{name:"MonthlyEliteiOS",isPopup:!0,prefab:"monthlyEliteiOSPrefab",url:"SubscriptionPopUp/MonthlyEliteiOS",zOrder:10003},SWITCH_ROUND_MODE_POPUP:{name:"SwitchRoundModePopUp",isPopup:!0,prefab:"switchRoundModePopUpPrefab",url:"SwitchRoundModePopUp/SwitchRoundModePopUp"},PATTI_WAR_SET_POT:{name:"PattiWarSetPot",isPopup:!0,prefab:"pattiWarSetPotPrefab",url:"PattiWarScene/PattiWarSetPot"},WINGO_LOTTERY_RANK:{name:"WingoLotteryRank",isPopup:!0,prefab:"wingoLotteryRankPrefab",url:"WingoLotteryScene/WingoLotteryRank"},TOURNAMENT_SELECT:{name:"TournamentSelect",isPopup:!0,prefab:"tournamentSelectPrefab",url:"TournamentSelect/TournamentSelect"},TOURNAMENT_SINGLE_ROUND:{name:"TournamentSingleRound",isPopup:!0,prefab:"tournamentSingleRoundPrefab",url:"TournamentRound/TournamentSingleRound"},TOURNAMENT_TWO_ROUND:{name:"TournamentTwoRound",isPopup:!0,prefab:"tournamentTwoRoundPrefab",url:"TournamentRound/TournamentTwoRound"},TOURNAMENT_RANKING_ROUND:{name:"TournamentRankingRound",isPopup:!0,prefab:"tournamentRankingRoundPrefab",url:"TournamentRound/TournamentRankingRound"},TOURNAMENT_RESULT:{name:"TournamentResult",isPopup:!0,prefab:"tournamentResultPrefab",url:"TournamentResult/TournamentResult"},TOURNAMENT_FINAL_RANK:{name:"TournamentFinalRank",isPopup:!0,prefab:"tournamentFinalRankPrefab",url:"TournamentFinalRank/TournamentFinalRank"},RUMMY_INTEGRAL_INFO:{name:"RummyIntegral",isPopup:!0,prefab:"rummyIntegralPrefab",url:"RummyScene/rummy_integral"},RUMMY_ROOM_INFO:{name:"RummyRoomInfo",isPopup:!0,prefab:"rummyRoomInfoPrefab",url:"GameRoomInfo/RummyRoomInfo"},READY_TO_DECLARE_POPUP:{name:"ReadyToDeclarePopup",isPopup:!0,prefab:"readyToDeclarePrefab",url:"RummyScene/ReadyToDeclarePopup"},FACK_WIN_ALERT_POPUP:{name:"FackWinAlertPopup",isPopup:!0,prefab:"fackWinAlertPrefab",url:"RummyScene/FackWinAlertPopup"},RUMMY_CHIPS_NOT_ENOUGH_1:{name:"RummyChipsNotEnough1",isPopup:!0,prefab:"rummyChipsNotEnough1Prefab",url:"ChipsNotEnough/RummyChipsNotEnough1"},RUMMY_CHIPS_NOT_ENOUGH_2:{name:"RummyChipsNotEnough2",isPopup:!0,prefab:"rummyChipsNotEnough2Prefab",url:"ChipsNotEnough/RummyChipsNotEnough2"},RUMMY_CHIPS_NOT_ENOUGH_3:{name:"RummyChipsNotEnough3",isPopup:!0,prefab:"rummyChipsNotEnough3Prefab",url:"ChipsNotEnough/RummyChipsNotEnough3"},DAILY_MISSION:{name:"DailyMission",isPopup:!0,prefab:"dailyMissionPrefab",url:"DailyMission/DailyMission",zOrder:1e4},DAILY_MISSION_COMPLETED:{name:"DailyMissionCompleted",isPopup:!0,isRightLayout:!0,prefab:"dailyMissionCompletedPrefab",multi:!0,url:"DailyMission/DailyMissionCompleted"},HIGH_SCORE:{name:"HighScore",isPopup:!0,prefab:"highScorePrefab",url:"HighScore/HighScore"},HIGH_SCORE_REWARD:{name:"HighScoreReward",isPopup:!0,prefab:"highScoreRewardPrefab",url:"HighScore/HighScoreReward"},SWITCH_LOBBY:{name:"SwitchLobby",isPopup:!0,prefab:"switchLobbyPrefab",url:"SwitchLobby/SwitchLobby"},AB_PVP_ROOM_SELECT:{name:"ABPVPRoomSelect",isPopup:!0,prefab:"ABPVPRoomSelectPrefab",url:"ABPVPRoomSelect/ABPVPRoomSelect"},AB_PVP_GOLD_ROOM_SELECT:{name:"ABPVPGoldRoomSelect",isPopup:!0,prefab:"ABPVPGoldRoomSelectPrefab",url:"ABPVPRoomSelect/ABPVPGoldRoomSelect"},CASINO_WAR_PVP_GOLD_ROOM_SELECT:{name:"CasinoWarPVPGoldRoomSelect",isPopup:!0,prefab:"CasinoWarPVPGoldRoomSelectPrefab",url:"CasinoWarPVPRoomSelect/CasinoWarPVPGoldRoomSelect"},VIP_TABLE_SELECT:{name:"VIPTableSelect",isPopup:!0,prefab:"vipTableSelectPrefab",url:"VIPTableSelect/VIPTableSelect"},WEB_VIEW:{name:"WebView",isPopup:!0,prefab:"webViewPrefab",url:"WebView/WebView"},FORCE_UPGRADE:{name:"ForceUpgrade",isPopup:!0,prefab:"forceUpgradePrefab",url:"ForceUpgrade/ForceUpgrade",zOrder:32767},FILM_FESTIVAL:{name:"FilmFestival",isPopup:!0,prefab:"filmFestivalPrefab",url:"FilmFestival/FilmFestival"},FILM_FESTIVAL_GOT_STAR:{name:"FilmFestivalGotStar",isPopup:!0,prefab:"filmFestivalGotStarPrefab",url:"FilmFestival/FilmFestivalGotStar"},FILM_FESTIVAL_PROGRESS:{name:"FilmFestivalProgress",isPopup:!0,prefab:"filmFestivalProgressPrefab",url:"FilmFestival/FilmFestivalProgress"},UI_STATE_TOGGLE_INDEX:"ui_state_toggle_index",UI_STATE_WORDS:"ui_state_words",UI_STATE_SCROLLVIEW_X:"ui_state_scrollview_x"};t.exports=n,cc._RF.pop()},{}],UIManager:[function(e,t,i){"use strict";cc._RF.push(t,"8a0ceKrdzRFfoj35/pNvzw5","UIManager");var n=e("BaseManager"),a=e("ITeenPatti"),o=(e("BaseComponent"),e("BaseUI")),s=e("BaseEdgePopup"),r=e("BaseScene"),l=e("UIInfo"),c=e("GameData"),h=(e("LoadingIndicator"),"UIManager");cc.Class({extends:n,properties:{isInGame:{get:function(){return this.curSceneKey==l.GAME_SCENE.name||this.curSceneKey==l.CASINO_WAR_SCENE.name||this.curSceneKey==l.CASINO_WAR_GOLD_SCENE.name||this.curSceneKey==l.CASINO_WAR_PVP_GOLD_SCENE.name||this.curSceneKey==l.AB_SCENE.name||this.curSceneKey==l.AB_GOLD_SCENE.name||this.curSceneKey==l.AB_PVP_SCENE.name||this.curSceneKey==l.AB_PVP_GOLD_SCENE.name||this.curSceneKey==l.TEXAS_HOLDEM_SCENE.name||this.curSceneKey==l.TEXAS_HOLDEM_GOLD_SCENE.name||this.curSceneKey==l.RUMMY_SCENE.name||this.curSceneKey==l.PATTI_WAR_SCENE.name||this.curSceneKey==l.DELUXE_SCENE.name||this.curSceneKey==l.GAME_SCENE_TOUR.name||this.curSceneKey==l.CLASSIC_GOLD_SCENE.name||this.curSceneKey==l.WINGO_SCENE.name}},isInCasinoWarGame:{get:function(){return this.curSceneKey==l.CASINO_WAR_SCENE.name||this.curSceneKey==l.CASINO_WAR_GOLD_SCENE.name||this.curSceneKey==l.CASINO_WAR_PVP_GOLD_SCENE.name}},isInABGame:{get:function(){return this.curSceneKey==l.AB_SCENE.name||this.curSceneKey==l.AB_PVP_SCENE.name||this.curSceneKey==l.AB_GOLD_SCENE.name||this.curSceneKey==l.AB_PVP_GOLD_SCENE.name}},isInGoldScene:{get:function(){return this.curSceneKey==l.AB_GOLD_SCENE.name||this.curSceneKey==l.AB_PVP_GOLD_SCENE.name||this.curSceneKey==l.CASINO_WAR_GOLD_SCENE.name||this.curSceneKey==l.CASINO_WAR_PVP_GOLD_SCENE.name||this.curSceneKey==l.TEXAS_HOLDEM_GOLD_SCENE.name||this.curSceneKey==l.CLASSIC_GOLD_SCENE.name}},isFromGoldScene:{get:function(){return this.lastSceneKey==l.AB_GOLD_SCENE.name||this.lastSceneKey==l.AB_PVP_GOLD_SCENE.name||this.lastSceneKey==l.CASINO_WAR_GOLD_SCENE.name||this.lastSceneKey==l.CASINO_WAR_PVP_GOLD_SCENE.name||this.lastSceneKey==l.TEXAS_HOLDEM_GOLD_SCENE.name||this.lastSceneKey==l.CLASSIC_GOLD_SCENE.name}},inGamePlayerInfoUIData:{get:function(){return this.isInGoldScene?l.INVIPGAME_PLAYER_INFO:l.INGAME_PLAYER_INFO}},isInLobby:{get:function(){return this.curSceneKey==l.LOBBY_SCENE.name||this.curSceneKey==l.LOBBY_SCENE2.name}},isInLoginScene:{get:function(){return this.curSceneKey==l.LOGIN_SCENE.name||this.curSceneKey==l.FB_LOGIN_SCENE.name}},isBackFromGame:{get:function(){return!(this.lastSceneKey==l.LOBBY_SCENE.name||this.lastSceneKey==l.LOGIN_SCENE.name||this.lastSceneKey==l.FB_LOGIN_SCENE.name||this.lastSceneKey==l.EVENTS_SCENE.name)}},isBackFromPVP:{get:function(){return this.lastSceneKey==l.AB_PVP_SCENE.name}},isBackFromPVPGold:{get:function(){return this.lastSceneKey==l.AB_PVP_GOLD_SCENE.name||this.lastSceneKey==l.CASINO_WAR_PVP_GOLD_SCENE.name}},canCloseUI:{get:function(){return null==this.loadingBg||null==this.loadingBg.parent}},isLoadingScene:!1,curSceneUIInfo:null,curSceneKey:null,lastSceneKey:null,loadingIndicator:null,loadingIndicator1:null,loadingBg:{get:function(){return this._loadingBg},set:function(e){this._loadingBg=e,this._loadingBg.on(cc.Node.EventType.MOUSE_ENTER,function(e){e.stopPropagation()},this)}},loadingBgPrefab:null,loadedGameBg:null,uiStates:{default:{}},openedUIList:{default:{}},cachedUIList:{default:{}},arrListenerMap:{default:{}},changeSceneUIList:{default:[]},lobbySceneUIInfo:{get:function(){var e=l.LOBBY_SCENE;return"2"==this.gameCore.gameMng.curLobbyType&&(e=l.LOBBY_SCENE2),e}}},getCurSceneNode:function(){return cc.director.getScene().getChildByName("Canvas").getComponent(this.curSceneKey).node},getCurSceneScript:function(){return cc.director.getScene().getChildByName("Canvas").getComponent(this.curSceneKey)},getAllRootComponents:function(){var e=[];if(cc.director.getScene()){var t=cc.director.getScene().children;if(t)for(var i=0;i<t.length;++i)if(t[i]){var n=t[i].getComponentsInChildren("RootComponent");Array.prototype.push.apply(e,n)}}return e},onEnterForeground:function(){this._super();for(var e=this.getAllRootComponents(),t=0;t<e.length;++t)e[t].onEnterForeground()},onEnterBackground:function(){this._super();for(var e=this.getAllRootComponents(),t=0;t<e.length;++t)e[t].onEnterBackground()},showLoading1:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.hideLoading();var n=cc.instantiate(this.loadingIndicator1);n.setScale(i),n.setPosition(e||cc.v2(0,0));var a=cc.director.getScene().getChildByName("Canvas").getComponent(this.curSceneKey).node;return(t||a).addChild(n,cc.macro.MAX_ZINDEX-1),n},showLoading:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.hideLoading(),this.loadingIndicator&&(this.loadingIndicator.setScale(i),this.loadingIndicator.setPosition(e||cc.v2(0,0)));var o=cc.director.getScene().getChildByName("Canvas").getComponent(this.curSceneKey).node;n&&this.loadingBg&&null==this.loadingBg.getParent()&&(null!=a?a.addChild(this.loadingBg):o.addChild(this.loadingBg,cc.macro.MAX_ZINDEX-1));var s=t||o;this.loadingIndicator&&null==this.loadingIndicator.getParent()&&s.addChild(this.loadingIndicator,cc.macro.MAX_ZINDEX)},hideLoading1:function(e){e.indicator&&(e.indicator.removeFromParent(!0),e.indicator=null)},hideLoading:function(){this.loadingIndicator.removeFromParent(!1),this.loadingBg.removeFromParent(!1)},i18nRendersUpdate:function(){for(var e in this.openedUIList)this.openedUIList[e].i18nRendersUpdate(),this.openedUIList[e].i18nFontUpdate()},closeUI:function(e){this.openedUIList[e.name]&&this.openedUIList[e.name].closeUI()},openedPopupCount:function(){var e=0;for(var t in this.openedUIList)this.openedUIList[t]instanceof r||e++;return e},hasPopupOpen:function(){for(var e in this.openedUIList)if(!(this.openedUIList[e]instanceof r))return!0;return!1},isPopUpByUIKey:function(e){return null!=this.getUIByUIKey(e)},getUIByUIKey:function(e){return this.openedUIList[e]?this.openedUIList[e]:null},uiLoaded:function(e){this.openedUIList[e.uiKey]=e,this.statesRecover(e)},statesRecover:function(e){this.uiStates[e.uiKey]?e.statesRecover(this.uiStates[e.uiKey]):e.noStatesRecover()},removeCachedUI:function(e){this.cachedUIList[e]&&delete this.cachedUIList[e]},uiRemoved:function(e){this.openedUIList[e.uiKey]==e&&delete this.openedUIList[e.uiKey],e.autoDispose||(this.cachedUIList[e.uiKey]=e),this.rearrangeTopest()},isBackFromTableGameScene:function(){return!!(this.judgeLastScene(l.GAME_SCENE.name)||this.judgeLastScene(l.CASINO_WAR_SCENE.name)||this.judgeLastScene(l.CASINO_WAR_GOLD_SCENE.name)||this.judgeLastScene(l.TEXAS_HOLDEM_SCENE.name)||this.judgeLastScene(l.PATTI_WAR_SCENE.name)||this.judgeLastScene(l.DELUXE_SCENE.name))},judgeLastScene:function(e){return this.lastSceneKey==e},rearrangeTopest:function(){var e=null;for(var t in this.openedUIList)this.openedUIList[t]instanceof r||(this.openedUIList[t].isTopest=!1,(null==e||this.openedUIList[t].node&&e.node&&this.openedUIList[t].node.zIndex>e.node.zIndex)&&(e=this.openedUIList[t]));e&&(e.isTopest=!0)},changeUIStates:function(e,t,i){this.uiStates[e]||(this.uiStates[e]={}),this.uiStates[e][t]=i},uiStatesPersistence:function(e){var t=e.statesPersistence();null!=t&&(this.uiStates[e.uiKey]=t)},closeAllPopup:function(){for(var e in this.openedUIList)this.openedUIList[e]instanceof r||(this.openedUIList[e]instanceof s?this.openedUIList[e].closeUIWithNoAnimation():this.openedUIList[e]instanceof o&&(this.openedUIList[e].canCloseWhileChangeScene?this.openedUIList[e].closeUI(!1):(this.changeSceneUIList.push(this.openedUIList[e]),this.openedUIList[e].shouldReaddAfterChangeScene?this.openedUIList[e].node.removeFromParent(!1):this.openedUIList[e].closeUI(!1,!1))))},needCacheCommandWhileOpening:function(e){return-1!=[l.CASINO_WAR_SCENE.name,l.FOOTBALL_SCENE.name,l.AB_SCENE.name,l.PATTI_WAR_SCENE.name,l.GAME_SCENE_TOUR.name,l.DELUXE_SCENE.name,l.AB_PVP_SCENE.name,l.AB_GOLD_SCENE.name,l.AB_PVP_GOLD_SCENE.name,l.CASINO_WAR_GOLD_SCENE.name,l.CASINO_WAR_PVP_SCENE.name,l.CASINO_WAR_PVP_GOLD_SCENE.name].indexOf(e)},instantiatePopup:function(e,t,i){if(!i||!i.rightLayout||!i.node)return null;var n=cc.instantiate(e),a=n.getComponent(t.name);return a.uiKey=t.name,t.zOrder&&(a.zOrder=t.zOrder),a.gameCore=this.gameCore,t.isRightLayout?i.rightLayout&&i.rightLayout.addChild(n):t.zOrder?i.node.addChild(a.node,t.zOrder):i.node.addChild(n,this.openedPopupCount()),a},openExistUI:function(e,t){var i=this.getUIByUIKey(e.name);return!(e.multi||!i)&&(i&&t&&t(i),!0)},openUI:function(e,t){var i=cc.director.getScene().getChildByName("Canvas");if(i){cc.sys.isBrowser&&(cc.game.canvas.style.cursor="default");var n=i.getComponent(this.curSceneKey);if(n)if(e.isPopup){var a=null;if(this.cachedUIList[e.name])(a=this.cachedUIList[e.name]).gameCore=this.gameCore,a.onLoad(),null==a.node.getParent()&&n.node.addChild(a.node),LogUtil.debug(h,"Load "+e.name+" From Cache Complete."),this.rearrangeTopest(),a&&t&&t(a);else if(!this.openExistUI(e,t))if(n[e.prefab]){a=this.instantiatePopup(n[e.prefab],e,n);LogUtil.debug(h,"Load "+e.name+" Complete."),this.rearrangeTopest(),a&&t&&t(a)}else LogUtil.debug(h,"Load Popup:Prefabs/Popup/"+e.url),cc.loader.loadRes("Prefabs/Popup/"+e.url,cc.Prefab,handler(this,function(e,i,a,o){if(e)LogUtil.debug(h,"Load Popup Error:"+e);else if(LogUtil.debug(h,"Load "+a.name+" Complete."),!this.openExistUI(a,t)&&n&&n.node){var s=this.instantiatePopup(i,a,n);this.rearrangeTopest(),s&&o&&o(s)}},[e,t]))}else{var o=this;n.removeAllListener(),this.uiStatesPersistence(n),this.closeAllPopup(),this.isLoadingScene=!0,this.loadingBgPrefab.isValid&&i.addChild(cc.instantiate(this.loadingBgPrefab),1e4);var s=handler(this,function(){this.loadedGameBg=null,LogUtil.debug(h,"Begin Load "+e.name),cc.director.loadScene(e.name,handler(this,function(i,n){this.lastSceneKey=this.curSceneKey,this.curSceneUIInfo=e,this.curSceneKey=e.name,CommonUtil.putCrashReportUserData("CurSceneKey",this.curSceneKey);var a=n.getChildByName("Canvas").getComponent(e.name);a.uiKey=e.name;for(var o=0;o<this.changeSceneUIList.length;o++)this.changeSceneUIList[o].shouldReaddAfterChangeScene&&a.node.addChild(this.changeSceneUIList[o].node,this.changeSceneUIList[o].zOrder?this.changeSceneUIList[o].zOrder:this.openedPopupCount());this.changeSceneUIList=[],e.name!=l.LOGIN_SCENE.name&&(a.gameCore=this.gameCore),t&&t(a),this.needCacheCommandWhileOpening(e.name)&&(this.gameCore.gameMng.sceneOpening=!1),LogUtil.debug(h,"Load "+e.name+" Complete.")})),o.hideLoading()});if(e.name==l.GAME_SCENE.name){var r=this.gameBgUrl();0,ae.resloader.load(r,s)}else this.needCacheCommandWhileOpening(e.name)&&(this.gameCore.gameMng.sceneOpening=!0),s()}else LogUtil.warn(h,"Current Scene Script is not exist. Open "+this.curSceneKey)}else LogUtil.debug(h,"Current Scene Canvas is not exist. Open "+e.prefab)},tournamentBgUrl:function(e){return 1==e?c.GAME_TOUR_BG_GOA:2==e?c.GAME_TOUR_BG_KUALALUMPUR:3==e?c.GAME_TOUR_BG_SINGAPORE:4==e?c.GAME_TOUR_BG_LASVEGAS:c.GAME_TOUR_BG_GOA},gameBgUrl:function(){var t=c.GAME_BG_CLASSIC,i=a.getCurRoom();if(i){e("ClassicRoom");var n=e("JokerRoom"),o=e("MuflisRoom"),s=e("HukamRoom"),r=e("AK47Room"),l=e("PotBlindRoom");i.isTournament?t=this.tournamentBgUrl(i.city):this.gameCore.gameMng.isPrivateRoom()?t=c.GAME_BG_PRIVATE:i.isNoLimit?t=c.GAME_BG_NOLIMIT:i.isDeluxe?t=c.GAME_BG_DELUXE:i instanceof n||i instanceof o||i instanceof s||i instanceof l?t=c.GAME_BG_VARIATION:i instanceof r&&(t=c.GAME_BG_AK47)}return t},dispatch:function(e,t){for(var i=this.arrListenerMap[e]||[],n=i.length-1;n>=0;n--)!i[n]||!i[n].listener||i[n].target&&!1===i[n].target.isValid?i.splice(n,1):1==i[n].listener.length?i[n].listener.call(i[n].target,t):2==i[n].listener.length?i[n].listener.call(i[n].target,e,t):0==i[n].listener.length&&i[n].listener.call(i[n].target,t)},addListener:function(e,t,i){if(e&&t&&i){0!=e.indexOf("ui")&&a.addListener(e,this,this.dispatch);for(var n=this.arrListenerMap[e]||[],o=0;o<n.length;++o)if(i==n[o].listener&&t==n[o].target)return;n[n.length]={target:t,listener:i},this.arrListenerMap[e]=n}},removeListener:function(e,t,i){if(e&&t){0!=e.indexOf("ui")&&a.removeListener(e,this,this.dispatch);for(var n=this.arrListenerMap[e]||[],o=n.length-1;o>=0;--o)i&&i==n[o].listener&&t==n[o].target?n.splice(o,1):t==n[o].target&&n.splice(o,1);this.arrListenerMap[e]=n}},removeListenerWithTarget:function(e){for(var t in this.arrListenerMap)for(var i=0;i<this.arrListenerMap[t].length;i++)this.arrListenerMap[t][i].target==e&&this.removeListener(t,e);a.removeListenerWithTarget(e)}});cc._RF.pop()},{AK47Room:"AK47Room",BaseComponent:"BaseComponent",BaseEdgePopup:"BaseEdgePopup",BaseManager:"BaseManager",BaseScene:"BaseScene",BaseUI:"BaseUI",ClassicRoom:"ClassicRoom",GameData:"GameData",HukamRoom:"HukamRoom",ITeenPatti:"ITeenPatti",JokerRoom:"JokerRoom",LoadingIndicator:"LoadingIndicator",MuflisRoom:"MuflisRoom",PotBlindRoom:"PotBlindRoom",UIInfo:"UIInfo"}],UserBetAction:[function(e,t,i){"use strict";cc._RF.push(t,"45a058+h6tDVLuMKpLSHGtb","UserBetAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},onDestroy:function(){this.node.off("dealfinish",this.onDealFinish,this)},play:function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.RUNNING?this.playAnim(e):this.node.on("dealfinish",this.onDealFinish,this)},cancel:function(){},onDealFinish:function(e){e.type,e.detail;this.playAnim(this.objActionPool)},playAnim:function(e){ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithPlayerId(this.objData.playerId);i&&i.onUserBet(this.strCmd,this.objData),i&&t.dealer.collectStake(i.seatId,this.objData.num,this.objData.newPool?this.objData.newPool:this.objData.pool);var n=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.onActionFinish(n),n.destroy()})))}}),cc._RF.pop()},{}],UserBetShowAction:[function(e,t,i){"use strict";cc._RF.push(t,"5b3adZPhBRC86/rka+4a3aF","UserBetShowAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.RUNNING?this.playAnim(e):this.node.on("dealfinish",this.onDealFinish,this)},cancel:function(){},onDealFinish:function(e){e.type,e.detail;this.playAnim(this.objActionPool)},onDestroy:function(){this.node.off("dealfinish",this.onDealFinish,this)},playAnim:function(e){ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithPlayerId(this.objData.playerId);i&&t.dealer.collectStake(i.seatId,this.objData.num,this.objData.newPool?this.objData.newPool:this.objData.pool),i&&i.onUserBet(this.strCmd,this.objData);var n=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){e.onActionFinish(n),n.destroy()})))}}),cc._RF.pop()},{}],UserBetSideAction:[function(e,t,i){"use strict";cc._RF.push(t,"24fddjk2mpH5by8tENV0Xi5","UserBetSideAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.RUNNING?this.playAnim(e):this.node.on("dealfinish",this.onDealFinish,this)},cancel:function(){},onDealFinish:function(e){e.type,e.detail;this.playAnim(this.objActionPool)},onDestroy:function(){this.node.off("dealfinish",this.onDealFinish,this)},playAnim:function(e){ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithPlayerId(this.objData.playerId);i&&i.onUserBet(this.strCmd,this.objData),i&&i.onUserSide(this.strCmd,this.objData),i&&t.dealer.collectStake(i.seatId,this.objData.num,this.objData.newPool?this.objData.newPool:this.objData.pool),(i=t.getSeatWithPlayerId(this.objData.earlyId))&&i.onUserSide(this.strCmd,this.objData);var n=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){e.onActionFinish(n),n.destroy()})))}}),cc._RF.pop()},{}],UserExpAction:[function(e,t,i){"use strict";cc._RF.push(t,"48e0bmpqiNLV6VUoM6AGRqG","UserExpAction");cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},onDestroy:function(){this.node.off("awardsfinish",this.onAwardsFinish,this)},play:function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.AWARD?this.playAnim(e):this.node.on("awardsfinish",this.onAwardsFinish,this)},cancel:function(){},onAwardsFinish:function(){this.playAnim()},playAnim:function(){if(LogUtil.info("UserExpAction","Round Finish! "+(this.objData?this.objData.roundID:"")),ITeenPatti.getCurTable()){var e=ITeenPatti.getCurTable().contrller;if("finish"==this.strCmd){var t=e.getSeatWithUserId(ITeenPatti.getCurPlayer().userId);t&&t.onRoundFinish()}var i=this,n="finish"==this.strCmd?3:2;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(n),cc.callFunc(function(){i.isValid&&(ITeenPatti.onMsgReceived("expfinish",i.objData),i.objActionPool.onActionFinish(i),i.destroy())})))}}}),cc._RF.pop()},{}],UserManager:[function(e,t,i){"use strict";cc._RF.push(t,"3519bYcglVARKylqm8oUGSd","UserManager");var n=e("BaseManager"),a=e("Command"),o=e("UIInfo"),s=e("GameData"),r=e("DataAnalysisKey"),l=e("LanguageData"),c=e("ITeenPatti"),h=e("GameUtils"),u=e("TeenPattiUser"),d=e("LocalStorage"),m="UserManager";cc.Class({extends:n,properties:{myself:null,firstSignIn:!0,needAutoPopupSignIn:!1,nextSignInTime:-1,signinContinuesDay:1,invitations:[],invitationCount:{get:function(){return this.invitations.length}},isInDeluxeRoom:{get:function(){var e=c.getCurRoom();return e&&e.roomName&&-1!=e.roomName.indexOf("Deluxe")}},chipsFlyStartPos:null,goldFlyStartPos:null,endPosType:0,endPosY:281,goldEndPosY:281,isJoining:!1,rummyMinChips:8e4,noLimitMinChips:0,remindedTaskList:[],missionRemindCacheList:[],protectStatus:-1,passwordStatus:-1,pinStatus:-1,loginValidationStatus:-1,validationStatus:-1,bankStatus:{set:function(e){this.protectStatus=Math.floor(e/1e4),this.passwordStatus=Math.floor(e%1e4/1e3),this.pinStatus=Math.floor(e%1e3/100),this.loginValidationStatus=Math.floor(e%100/10),this.validationStatus=e%10}},remindSetPIN:!1,oneNotificationList:[]},onEnterForeground:function(){this._super(),this.myself&&(this.getUserInfo(this.myself.strTPID),cc.sys.isBrowser||c.sendMsg("advnum",null))},canJoinGame:function(){return!(this.isJoining||this.gameCore.uiMng.isLoadingScene)},updateRemindedTaskList:function(e){-1==this.remindedTaskList.indexOf(e)&&this.remindedTaskList.push(e)},onFBConnectBtnClk:function(){this.gameCore.gameMng.getFacebookLoginStatus(handler(this,this.onLoginStatusGet)),d.getLocalData(d.keys.IS_FACEBOOK_CONNECTED)||this.gameCore.dataAnalysisMng.sendData(r.CHANGE_DATA_GUESTTOFB)},onLoginStatusGet:function(e,t){e&&t||this.gameCore.gameMng.fbLogin()},setGameCoreComplete:function(){this.myself=c.getCurPlayer(),this.privateBootList=[[],[],[]],this.privateChaalLimitList=[[],[],[]],this.privatePotLimitList=[[],[],[]],this.privateMinChipsList=[[],[],[]],this.gameCore.uiMng.addListener(a.SERVER_CMD_USER_UPDATE,this,this.onUserUpdate),this.gameCore.uiMng.addListener(a.SERVER_CMD_GET_USER_INFO,this,this.userInfoGotten),this.gameCore.uiMng.addListener(a.SERVER_CMD_INVITE_TO_GAME,this,this.onInviteToGame),this.gameCore.uiMng.addListener(a.UI_CMD_SCENE_LOADED,this,this.onSceneLoaded),this.gameCore.uiMng.addListener(a.SERVER_CMD_RUMMY_MIN_CHIPS,this,this.onRummyMinChips),this.gameCore.uiMng.addListener(a.SERVER_CMD_TASK_COMPLETED,this,this.onDailyMissionCompleted),this.gameCore.uiMng.addListener(a.SERVER_CMD_HIGH_SCORE_AWARD,this,this.onHighScoreAward),this.gameCore.uiMng.addListener(a.SERVER_CMD_PRIVATE_BOOT_LIST,this,this.onPrivateBootList),this.gameCore.uiMng.addListener(a.SERVER_CMD_PRIVATE_NOLIMIT_BOOT_LIST,this,this.onPrivateNolimitBootList),this.gameCore.uiMng.addListener(a.SERVER_CMD_PRIVATE_POKER_BOOT_LIST,this,this.onPrivatePokerBootList),this.gameCore.uiMng.addListener(a.SERVER_CMD_NOLIMIT_MIN_CHIPS,this,this.onNolimitMinChips),c.addListener(a.SERVER_CMD_BANK_TO_CHIPS,this,this.onBankTransferComplete),c.addListener(a.SERVER_CMD_BANK_TO_BANK,this,this.onBankTransferComplete),c.addListener(a.SERVER_CMD_GOLD_TRANSFER,this,this.onBankTransferComplete),c.addListener(a.SERVER_CMD_PLAY_PATTI_WAR,this,this.onPlayPattiWarResponse),c.addListener("onenotification",this,this.onOneNotification),c.addListener("goldreceive",this,this.onGoldReceive),c.addListener(a.SERVER_CMD_MY_GOLD_VIP,this,this.onMyGoldVIP),c.addListener(a.SERVER_CMD_BANK_PW_STATUS,this,this.onBankPWStatus),c.addListener(a.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),c.sendMsg(a.SERVER_CMD_PRIVATE_BOOT_LIST,null),c.sendMsg(a.SERVER_CMD_PRIVATE_NOLIMIT_BOOT_LIST,null),c.sendMsg(a.SERVER_CMD_PRIVATE_POKER_BOOT_LIST,null),c.addListener(a.SERVER_CMD_CASINO_WAR_PVP_GOLD_CREATE_ROOM,this,this.onCreateRoom),c.addListener(a.SERVER_CMD_CASINO_WAR_PVP_CREATE_ROOM,this,this.onCreateRoom),c.addListener(a.SERVER_CMD_AB_PVP_GOLD_CREATE_ROOM,this,this.onCreateRoom),c.addListener(a.SERVER_CMD_AB_PVP_CREATE_ROOM,this,this.onCreateRoom),c.addListener(a.SERVER_CMD_PLAY_WINGO,this,this.onCreateRoom)},onCreateRoom:function(e,t){t.errorcode&&(this.isJoining=!1)},onUserExitRoom:function(e,t){t.user.isItMe&&(this.isSpectator=!1)},playInRoomFilter:function(e){-1!=e.indexOf(ROOM_TYPE.TEXAS_HOLDEM_GOLD)||-1!=e.indexOf(ROOM_TYPE.CLASSIC_GOLD+"@")?this.isSpectator=!0:this.isSpectator=!1},onBankPWStatus:function(e,t){this.bankStatus=t.i},onPlayPattiWarResponse:function(e,t){this.isJoining=!1,"error"!=t.cmd&&this.gameCore.gameMng.showCantEnterPattiWarReason(t)},onInviteToGame:function(e){if(!(0==e.roomName.indexOf("ab@")||c.getCurTable()&&c.getCurTable().myselfIsBanker)){this.gameCore.uiMng.closeUI(o.INVITATION_ALERT);for(var t=0;t<this.invitations.length;t++)if(e.userinfo.id==this.invitations[t].inviter.strTPID){this.invitations.splice(t,1);break}var i=new u;i.initWithUserinfoData(e.userinfo);var n={type:"friend_invitation",roomName:e.roomName,inviter:i,expired:(new Date).getTime()/1e3+300,receiveTime:(new Date).getTime()};this.invitations.push(n),this.gameCore.uiMng.dispatch(a.UI_CMD_INVITATION_COUNT,this.invitations.length),this.openInvitationAlert(n),cc.director.getScheduler().isScheduled(this.onInvitationCountDown,this)||cc.director.getScheduler().schedule(this.onInvitationCountDown,this,1,!1)}},openInvitationAlert:function(e){this.isBackground?this.cacheUIData(e):this.gameCore.uiMng.openUI(o.INVITATION_ALERT,handler(this,function(t){t?t.initWithData(e):this.cacheUIData(e)}))},judgeUICache:function(){if(this.uiCacheDataList.length>0){for(var e=0;e<this.uiCacheDataList.length;e++)this.uiCacheDataList[e].expired-(new Date).getTime()/1e3>3&&this.openInvitationAlert(this.uiCacheDataList[e]);this.uiCacheDataList=[]}},onInvitationCountDown:function(){for(var e=this.invitations.length-1;e>=0;e--)(new Date).getTime()/1e3>=this.invitations[e].expired&&(this.invitations.splice(e,1),this.gameCore.uiMng.dispatch(a.UI_CMD_INVITATION_COUNT,this.invitations.length));0==this.invitations.length&&(cc.director.getScheduler().unschedule(this.onInvitationCountDown,this),this.gameCore.uiMng.closeUI(o.INVITATION_MESSAGE))},getUserInfo:function(e){c.sendMsg(a.SERVER_CMD_GET_USER_INFO,{i:e})},signin:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c.sendMsg(a.SERVER_CMD_SIGN_IN,{i:e}),this.gameCore.uiMng.addListener(a.SERVER_CMD_SIGN_IN,this,this.onSignin)},onSignin:function(e){this.signinContinuesDay=e.continues_day,this.nextSignInTime=(new Date).getTime()/1e3+e.signinremain,isInstantGame&&e.signinremain>0&&FBInstant.setSessionData({nextSignInTime:this.nextSignInTime}),this.gameCore.uiMng.removeListener(a.SERVER_CMD_SIGN_IN,this,this.onSignin),this.gameCore.uiMng.dispatch(a.UI_CMD_SIGN_IN,e.chips),0==e.signinremain&&this.firstSignIn?(this.needAutoPopupSignIn=!0,this.gameCore.initPopupMng.openDailySignIn(),this.gameCore.dataAnalysisMng.sendData(r.POPUP_DAILYBONUS)):this.gameCore.initPopupMng.dailySignInComplete=!0,this.firstSignIn=!1},userInfoGotten:function(e){this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.dispatch(a.UI_CMD_USER_INFO_GOTTEN,e)},onUserUpdate:function(e,t){if(t.user.isItMe)for(var i=0;i<t.changedVars.length;i++)if(LogUtil.debug(m,"User variables change,key:"+t.changedVars[i]),"i"==t.changedVars[i])this.gameCore.uiMng.dispatch(a.UI_CMD_HEAD_ICON_CHANGE);else if("idg"==t.changedVars[i])this.gameCore.uiMng.dispatch(a.UI_CMD_HSM_CHANGE);else if("ino"==t.changedVars[i])this.gameCore.uiMng.dispatch(a.UI_CMD_NOTIFICATION_CHANGE);else if("cp"==t.changedVars[i]){if(LogUtil.debug(m,"Current Chips:"+this.myself.nChips+" ChipsLastChange:"+this.myself.nChipsLastChange),this.myself.nChipsLastChange>0||this.myself.nChipsLastChange<0&&!this.gameCore.uiMng.isInGame||this.gameCore.uiMng.isInGame&&(this.gameCore.uiMng.isPopUpByUIKey(o.STORE.name)||this.gameCore.uiMng.isPopUpByUIKey(o.BROKE.name))){var n={final:this.myself.nChips,change:this.myself.nChipsLastChange};this.gameCore.uiMng.dispatch(a.UI_CMD_CHIPS_CHANGE,n)}}else if("gold"==t.changedVars[i]&&(LogUtil.debug(m,"Current Gold:"+this.myself.nGold+" GoldLastChange:"+this.myself.nGoldLastChange),this.myself.nGoldLastChange>0||this.myself.nGoldLastChange<0&&!this.gameCore.uiMng.isInGame||this.gameCore.uiMng.isInGame&&this.gameCore.uiMng.isPopUpByUIKey(o.STORE.name))){var s={final:this.myself.nGold,change:this.myself.nGoldLastChange};this.gameCore.uiMng.dispatch(a.UI_CMD_GOLD_CHANGE,s)}},inviteToGame:function(e){c.sendMsg(a.SERVER_CMD_INVITE_TO_GAME,{is:e})},gameBgUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=s.GAME_BG_CLASSIC;return i?n=s.GAME_BG_PRIVATE:t||e==ROOM_TYPE.DELUXE?n=s.GAME_BG_DELUXE:e==ROOM_TYPE.NOLIMIT||e==ROOM_TYPE.POTBLIND?n=s.GAME_BG_NOLIMIT:e==ROOM_TYPE.JOKER||e==ROOM_TYPE.MUFLIS||e==ROOM_TYPE.HUKAM?n=s.GAME_BG_VARIATION:e==ROOM_TYPE.AK47&&(n=s.GAME_BG_AK47),n},preloadRoomScene:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this,a=function(){var a=t.mode==ROOM_TYPE.DELUXE?o.DELUXE_SCENE.name:o.GAME_SCENE.name;a=t.mode==ROOM_TYPE.DELUXE?o.DELUXE_SCENE.name:"Wingo"==t.mode?o.WINGO_SCENE.name:i?o.CLASSIC_GOLD_SCENE.name:o.GAME_SCENE.name;var r=function(){c.sendMsg(e,t)};cc.director.preloadScene(a,handler(n,function(){if(cc.sys.isBrowser){var e=s.GAME_SCENE_PRELOAD_POPUP();"Wingo"==t.mode&&(e=s.WINGO_SCENE_PRELOAD_POPUP()),n.gameCore.downloadMng.preloadPopup(e,null,function(){r()})}else r()}))};if(t.mode==ROOM_TYPE.DELUXE)if(HAS_SUBPACKAGE){n=this;cc.loader.downloader.loadSubpackage("Deluxe_Poker",function(e){if(e)return console.error(e);console.log("load Deluxe_Poker successfully."),a()})}else a();else a()},play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.SERVER_CMD_PLAY,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!0;var r=this,l={};l.mode=t,l.firsttime=i,l.lastroom=n,null!=o&&(l.boot=o);var c=this.gameBgUrl(t,e==a.SERVER_CMD_PLAY_DELUXE);return ae.resloader.load(c,function(t,i){r.gameBgTex=i,r.preloadRoomScene(e,l,s)}),!0},playPrivate:function(e,t){if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!0;var i=this,n=this.gameBgUrl(e,!1,!0);return ae.resloader.load(n,function(n,s){if(i.gameBgTex=s,i.gameCore.gameMng.isMeCreatedPrivateRoom=!0,i.gameCore.dataAnalysisMng.sendData(r.HOST_PRIVATETABLE,["Table_Gameplay:"+e+",BootAmount:"+t]),"Poker"==e){var l=function(){cc.director.preloadScene(o.TEXAS_HOLDEM_SCENE.name,handler(this,function(){c.sendMsg(a.SERVER_CMD_CREATE_PRIVATE_POKER_ROOM,{i:t})}))};HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("Deluxe_Poker",function(e){if(e)return console.error(e);console.log("load Deluxe_Poker successfully."),l()}):l()}else i.preloadRoomScene(a.SERVER_CMD_CREATE_PRIVATE_ROOM,{bootamount:t,model:e})}),!0},gameBgUrlByRoomName:function(e){var t=s.GAME_BG_CLASSIC;return-1!=e.indexOf("pri")?t=s.GAME_BG_PRIVATE:-1!=e.indexOf("@@")?t=s.GAME_BG_DELUXE:-1!=e.indexOf(ROOM_TYPE.JOKER)||-1!=e.indexOf(ROOM_TYPE.MUFLIS)||-1!=e.indexOf(ROOM_TYPE.HUKAM)?t=s.GAME_BG_VARIATION:-1!=e.indexOf(ROOM_TYPE.AK47)?t=s.GAME_BG_AK47:-1!=e.indexOf(ROOM_TYPE.TEXAS_HOLDEM)&&(t=s.GAME_BG_TEXAS_HOLDEM),t},playInRoom:function(e){if(this.gameCore.gameMng.isGameRoomSupported(e)){if(this.gameCore.uiMng.isInGame)this.gameCore.uiMng.openUI(o.SWITCH_TABLE_POPUP,handler(this,function(e,t){e&&(e.roomName=t)},e));else{if(!this.canJoinGame())return;if(-1!=e.indexOf("pattiwar"))return void this.gameCore.userMng.playPattiWar(e);this.isJoining=!0,this.gameCore.initPopupMng.pause=!0;var t=this;this.gameCore.uiMng.showLoading();var i=this.gameBgUrlByRoomName(e);0,ae.resloader.load(i,function(i,n){t.gameBgTex=n,t.gameCore.gameMng.isMeCreatedPrivateRoom=!1,t.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY_IN_ROOM,t,t.onPlayInRoom),LogUtil.debug(m,a.SERVER_CMD_PLAY_IN_ROOM+":"+e),t.preloadRoomScene(a.SERVER_CMD_PLAY_IN_ROOM,{i:e})})}return!0}this.gameCore.uiMng.openUI(o.VERSION_COMPATIBLE_ALERT)},onPlayInRoom:function(e){this.gameCore.uiMng.removeListener(a.SERVER_CMD_PLAY_IN_ROOM,this,this.onPlayInRoom),e.errorcode&&(LogUtil.debug(m,e.errorcode+":"+e.mess),this.play())},createCasinoWarPVPRoom:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!0;var i=function(){c.sendMsg(t?a.SERVER_CMD_CASINO_WAR_PVP_GOLD_CREATE_ROOM:a.SERVER_CMD_CASINO_WAR_PVP_CREATE_ROOM,{i:e})},n=this,r=function(){ae.resloader.load(s.GAME_BG_CASINO_WAR_PVP_BANKER,handler(n,function(e,a){n.gameBgTex=a,cc.director.preloadScene(t?o.CASINO_WAR_PVP_GOLD_SCENE.name:o.CASINO_WAR_PVP_SCENE.name,handler(n,function(){if(cc.sys.isBrowser){var e=s.CASINOWAR_PVP_SCENE_PRELOAD_POPUP();n.gameCore.downloadMng.preloadPopup(e,null,function(){i()})}else i()}))}))};return HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("TPFWar",function(e){if(e)return console.error(e);console.log("load TPFWar successfully."),r()}):r(),!0},playInCasinoWarPVPRoom:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!0;var i=function(){c.sendMsg(t?a.SERVER_CMD_CASINO_WAR_PVP_GOLD_PLAY_IN_ROOM:a.SERVER_CMD_CASINO_WAR_PVP_PLAY_IN_ROOM,{i:e})},n=this,r=function(){ae.resloader.load(s.GAME_BG_CASINO_WAR_PVP_PLAYER,handler(n,function(e,a){n.gameBgTex=a,cc.director.preloadScene(t?o.CASINO_WAR_PVP_GOLD_SCENE.name:o.CASINO_WAR_PVP_SCENE.name,handler(n,function(e){if(cc.sys.isBrowser){var a=s.CASINOWAR_PVP_SCENE_PRELOAD_POPUP();t&&(a=a.concat([o.GAME_ROOM_INFO_CASINO_WAR_PVP_GOLD])),n.gameCore.downloadMng.preloadPopup(a,null,function(){i()})}else i()}))}))};return HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("TPFWar",function(e){if(e)return console.error(e);console.log("load TPFWar successfully."),r()}):r(),!0},playCasinoWar:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!0;var r={};r.firsttime=e,r.lastroom=t,r.boot=i;var l=function(){c.sendMsg(n?a.SERVER_CMD_PLAY_CASINO_WAR_GOLD:a.SERVER_CMD_PLAY_CASINO_WAR,r)},h=this,u=function(){cc.director.preloadScene(n?o.CASINO_WAR_GOLD_SCENE.name:o.CASINO_WAR_SCENE.name,handler(h,function(){if(cc.sys.isBrowser){var e=s.CASINOWAR_SCENE_PRELOAD_POPUP();n&&(e=e.concat([o.GAME_ROOM_INFO_CASINO_WAR_GOLD,o.CASINO_WAR_GOLD_HELP])),h.gameCore.downloadMng.preloadPopup(s.CASINOWAR_SCENE_PRELOAD_POPUP(),null,function(){l()})}else l()}))};return HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("TPFWar",function(e){if(e)return console.error(e);console.log("load TPFWar successfully."),u()}):u(),!0},createABPVPRoom:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!0;var i=function(){c.sendMsg(t?a.SERVER_CMD_AB_PVP_GOLD_CREATE_ROOM:a.SERVER_CMD_AB_PVP_CREATE_ROOM,{i:e})},n=this,r=function(){ae.resloader.load(s.GAME_BG_AB_PVP_BANKER,handler(n,function(e,a){n.gameBgTex=a,ae.resloader.load("ABPVPScene/img_ab_pvp_bg22",handler(n,function(e,a){cc.director.preloadScene(t?o.AB_PVP_GOLD_SCENE.name:o.AB_PVP_SCENE.name,handler(n,function(){if(cc.sys.isBrowser){var e=s.AB_PVP_SCENE_PRELOAD_POPUP();t&&(e=e.concat([o.GAME_ROOM_INFO_AB_PVP_GOLD,o.ABPVP_GOLD_HELP])),n.gameCore.downloadMng.preloadPopup(e,null,function(){i()})}else i()}))}))}))};return HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("AB",function(e){if(e)return console.error(e);console.log("load AB successfully."),r()}):r(),!0},playInABPVPRoom:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!0;var i=function(){c.sendMsg(t?a.SERVER_CMD_AB_PVP_GOLD_PLAY_IN_ROOM:a.SERVER_CMD_AB_PVP_PLAY_IN_ROOM,{i:e})},n=this,r=function(){ae.resloader.load(s.GAME_BG_AB_PVP_PLAYER,handler(n,function(e,a){n.gameBgTex=a,ae.resloader.load("ABPVPScene/img_ab_pvp_bg11",handler(n,function(e,a){cc.director.preloadScene(t?o.AB_PVP_GOLD_SCENE.name:o.AB_PVP_SCENE.name,handler(n,function(e){if(cc.sys.isBrowser){var a=s.AB_PVP_SCENE_PRELOAD_POPUP();t&&(a=a.concat([o.GAME_ROOM_INFO_AB_PVP_GOLD,o.ABPVP_GOLD_HELP])),n.gameCore.downloadMng.preloadPopup(a,null,function(){i()})}else i()}))}))}))};return HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("AB",function(e){if(e)return console.error(e);console.log("load AB successfully."),r()}):r(),!0},playAB:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!0;var r={};r.firsttime=e,r.lastroom=t,r.boot=i;var l=function(){c.sendMsg(n?a.SERVER_CMD_PLAY_AB_GOLD:a.SERVER_CMD_PLAY_AB,r)},h=this,u=function(){cc.director.preloadScene(n?o.AB_GOLD_SCENE.name:o.AB_SCENE.name,handler(h,function(){cc.sys.isBrowser?h.gameCore.downloadMng.preloadPopup(s.AB_SCENE_PRELOAD_POPUP(),null,function(){l()}):l()}))};return HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("AB",function(e){if(e)return console.error(e);console.log("load AB successfully."),u()}):u(),!0},playPattiWar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!0;var t=function(){c.sendMsg(a.SERVER_CMD_PLAY_PATTI_WAR,e?{roomName:e}:null)},i=this,n=function(){cc.director.preloadScene(o.PATTI_WAR_SCENE.name,handler(i,function(){cc.sys.isBrowser?i.gameCore.downloadMng.preloadPopup(s.PATTIWAR_SCENE_PRELOAD_POPUP(),null,function(){t()}):t()}))};return HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("TPFWar",function(e){if(e)return console.error(e);console.log("load TPFWar successfully."),n()}):n(),!0},playTexasHoldem:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!1;var r={mode:""};r.firsttime=e,r.lastroom=t,r.boot=i;var l=function(){c.sendMsg(n?a.SERVER_CMD_PLAY_TEXAS_HOLDEM_GOLD:a.SERVER_CMD_PLAY_TEXAS_HOLDEM,r)},h=this,u=function(){cc.director.preloadScene(n?o.TEXAS_HOLDEM_GOLD_SCENE.name:o.TEXAS_HOLDEM_SCENE.name,handler(h,function(){cc.sys.isBrowser?h.gameCore.downloadMng.preloadPopup(s.TEXASHOLDEM_SCENE_PRELOAD_POPUP(),null,function(){l()}):l()}))};return HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("Deluxe_Poker",function(e){if(e)return console.error(e);console.log("load Deluxe_Poker successfully."),u()}):u(),!0},showRewardedVideo:function(e){if(isInstantGame){if(this.gameCore.instantGameANMMng)return this.gameCore.instantGameANMMng.showRewardedVideo(e)}else IAds.showVideoAd(e)},playRummy:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.canJoinGame())return!1;this.isJoining=!0,this.gameCore.initPopupMng.pause=!1;var n={mode:""};n.firsttime=e,n.lastroom=t,n.boot=i;var r=function(){c.sendMsg(a.SERVER_CMD_PLAY_RUMMY,n)},l=this,h=function(){cc.director.preloadScene(o.RUMMY_SCENE.name,handler(l,function(){cc.sys.isBrowser?l.gameCore.downloadMng.preloadPopup(s.RUMMY_SCENE_PRELOAD_POPUP(),null,function(){r()}):r()}))};return HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("Rummy",function(e){if(e)return console.error(e);console.log("load Rummy successfully."),h()}):h(),!0},onRummyMinChips:function(e){this.rummyMinChips=e.i},onNolimitMinChips:function(e){this.noLimitMinChips=e.i},playTour:function(e,t,i){if(!this.canJoinGame())return!1;this.isJoining=!0;var n=this,r=this.gameCore.uiMng.tournamentBgUrl(t),l=function(){c.sendMsg(a.SERVER_CMD_PLAY_TOURNAMENT,{gameId:e,round:i})},h=function(){ae.resloader.load(r,function(e,t){n.gameBgTex=t,cc.director.preloadScene(o.GAME_SCENE_TOUR.name,handler(n,function(){cc.sys.isBrowser?n.gameCore.downloadMng.preloadPopup(s.GAME_SCENE_TOUR_PRELOAD_POPUP(),null,function(){l()}):l()}))})};return HAS_SUBPACKAGE?cc.loader.downloader.loadSubpackage("Tour",function(e){if(e)return console.error(e);console.log("load Tour successfully."),h()}):h(),!0},onDailyMissionCompleted:function(e){!this.missionRemindPaused||4!=e.type&&8!=e.type?(this.gameCore.uiMng.dispatch(a.UI_CMD_TASK_COMPLETED),this.gameCore.uiMng.openUI(o.DAILY_MISSION_COMPLETED,function(t){t&&(t.index=e.order)})):this.missionRemindCacheList.push(e)},onHighScoreAward:function(e){e.errorcode||e.rank<0||this.gameCore.uiMng.isPopUpByUIKey(o.HIGH_SCORE_REWARD.name)||this.gameCore.uiMng.openUI(o.HIGH_SCORE_REWARD,function(t){t&&t.receiveData(e)})},pauseMissionCompleteRemind:function(e){if(this.missionRemindPaused=e,!this.missionRemindPaused){for(var t=0;t<this.missionRemindCacheList.length;t++)this.onDailyMissionCompleted(this.missionRemindCacheList[t]);this.missionRemindCacheList=[]}},sendSupportMail:function(){var e=CommonUtil.getDeviceId();if(cc.sys.os==cc.sys.OS_IOS)jsb.reflection.callStaticMethod("DeviceUtil","sendSupportEmail:",this.myself.strTPID+"+"+e);else if(cc.sys.os==cc.sys.OS_ANDROID){var t;t=jsb.reflection.callStaticMethod("com/aemobile/utils/DeviceUtil","getDeviceModel","()Ljava/lang/String;");var i=this.myself.strCountry;cc.sys.openURL("mailto:teenpatti.poker2017@gmail.com?subject=Teen Patti Flush Android "+t+" "+c.gameCore.hotfixVersion+" "+this.myself.strTPID+" Country:"+i+" "+e)}},hasSecurityProtection:function(){return this.protectStatus>=2},securityProtectionClosed:function(){return this.protectStatus>=2&&6==this.loginValidationStatus&&6==this.validationStatus},isPWOrPINValidated:function(e){return 0==this.protectStatus||3==this.validationStatus?(e&&e(),!0):(this.validatePasswordOrPIN(e),!1)},openBankPassword:function(e){this.gameCore.uiMng.openUI(o.BANK_PASSWORD,function(t){e&&e(t)})},validatePasswordOrPIN:function(e,t,i){this.openBankPassword(handler(this,function(n){2==this.passwordStatus?n.setType("accountLocked"):t?n.setType(t,e,i):0==this.passwordStatus?n.setType("setPassword",e,i):1==this.validationStatus?n.setType("enterPIN",e,i):2!=this.validationStatus&&4!=this.validationStatus&&5!=this.validationStatus||n.setType("enterPassword",e,i)}))},setPasswordOrPIN:function(e){this.openBankPassword(handler(this,function(t){2==this.passwordStatus?t.setType("accountLocked"):e?t.setType(e):0==this.passwordStatus?t.setType("setPassword"):2==this.validationStatus||4==this.validationStatus||5==this.validationStatus?t.setType("enterPassword"):0==this.pinStatus?t.setType("setPIN"):1==this.validationStatus?t.setType("enterPIN"):3==this.validationStatus&&t.setType("changePIN")}))},ifNoPassword:function(e){0==this.passwordStatus&&0!=this.protectStatus?this.setPasswordOrPIN():e&&e()},transactionWithPassword:function(e){3==this.validationStatus||0==this.protectStatus||6==this.loginValidationStatus&&6==this.validationStatus?e&&e():this.validatePasswordOrPIN(e)},onBankTransferComplete:function(e,t){!t.errorcode&&0==this.pinStatus&&!this.remindSetPIN&&this.protectStatus>0&&(this.remindSetPIN=!0,this.setPasswordOrPIN())},onGoldReceive:function(e,t){t.type=-99,t.gold=t.change,t.title=l.t("label_text.vip_points_gift"),t.message=l.t("label_text.vip_points_gift_msg",{gold:h.formatNumberWithRules(t.change),name:t.name}),t.isread=!0,this.oneNotificationList.push(t),this.showNotification()},onItemOKClicked:function(e,t){this.notifiShowing=!1,this.showNotification()},onOneNotification:function(e,t){this.oneNotificationList.push(t),this.showNotification()},showNotification:function(){if(!this.notifiShowing&&this.oneNotificationList.length>0){this.notifiShowing=!0;var e=this.oneNotificationList.shift();this.gameCore.uiMng.openUI(o.EMAIL_DETAIL_POPUP,handler(this,function(t){t.setContent(e,!1),-99==e.type?t.setOKCb(handler(this,this.onItemOKClicked)):t.setClaimCb(handler(this,this.onItemClaimClicked))}))}},onItemClaimClicked:function(e,t){this.gameCore.gameMng.pauseChipsRefresh(),this.gameCore.uiMng.addListener("acceptnotification",this,this.onEmailRewardClaimed),c.sendMsg("acceptnotification",{is:[e]})},onEmailRewardClaimed:function(e){this.notifiShowing=!1,this.showNotification(),this.gameCore.uiMng.removeListener("acceptnotification",this,this.onEmailRewardClaimed),!e.errorcode&&e.chips&&e.chips.change>0?this.gameCore.gameMng.playChipsFly(e.chips,null,this.gameCore.uiMng.isInABGame?3:0):this.gameCore.gameMng.resumeChipsRefresh()},onMyGoldVIP:function(e,t){if(!t.errorcode){this.myself.tpProfile.nGold=t.gold,this.myself.tpProfile.goldVIP=t.level,this.myself.tpProfile.goldVIPType=t.type,this.myself.tpProfile.goldVIPBuys=t.buys,this.myself.tpProfile.goldVIPExp=(new Date).getTime()+1e3*t.exp,this.myself.tpProfile.goldTransFreeLeft=t.freeleft,this.gameCore.uiMng.dispatch(a.UI_CMD_UPDATE_VIP_STATUS);var i={final:this.myself.nGold,change:this.myself.nGoldLastChange};this.gameCore.uiMng.dispatch(a.UI_CMD_GOLD_CHANGE,i),this.myVIPDataReceived=!0,this.gameCore.gameMng.handleLaunchQuery()}},onPrivateBootList:function(e){e.errorcode||(this.privateBootList[0]=table.createToArray(e.boot),this.privateChaalLimitList[0]=table.createToArray(e.chaalLimit),this.privatePotLimitList[0]=table.createToArray(e.potLimit),this.privateMinChipsList[0]=table.createToArray(e.minchips))},onPrivateNolimitBootList:function(e){e.errorcode||(this.privateBootList[1]=table.createToArray(e.boot),this.privateChaalLimitList[1]=table.createToArray(e.chaalLimit),this.privatePotLimitList[1]=table.createToArray(e.potLimit),this.privateMinChipsList[1]=table.createToArray(e.minchips))},onPrivatePokerBootList:function(e){e.errorcode||(this.privateBootList[2]=table.createToArray(e.boot),this.privateChaalLimitList[2]=table.createToArray(e.chaalLimit),this.privatePotLimitList[2]=table.createToArray(e.potLimit),this.privateMinChipsList[2]=table.createToArray(e.minchips))}}),cc._RF.pop()},{BaseManager:"BaseManager",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",GameUtils:"GameUtils",ITeenPatti:"ITeenPatti",LanguageData:"LanguageData",LocalStorage:"LocalStorage",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],UserNextAction:[function(e,t,i){"use strict";cc._RF.push(t,"1b73bDU5LlFELc0YLiZjvIJ","UserNextAction");var n="UserNextAction";cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.RUNNING?this.playAnim(e):this.node.on("dealfinish",this.onDealFinish,this)},cancel:function(){},onDealFinish:function(e){e.type,e.detail;this.playAnim(this.objActionPool)},onDestroy:function(){this.node.off("dealfinish",this.onDealFinish,this)},playAnim:function(e){var t=ITeenPatti.getCurTable(),i=ITeenPatti.getCurTable().contrller,a=this.objData?this.objData.next_id:t.nextID;i.dealer.onRoundRunning();var o=i.getSeatWithPlayerId(t.bankerID);o&&o.setBanker(!0);for(var s=0;s<i.arrSeat.length;s++){var r=i.arrSeat[s];r.tpUser&&r.tpUser.role.isAlivePartner()&&t.state!=TABLE_STATE.FINISH&&r.playerId==a?(LogUtil.debug(n,"nextId:"+a+" name:"+r.tpUser.strTPName+" onUserActive"),r.onUserActive()):(LogUtil.debug(n,"onUserSilent:"+r.playerId),r.onUserSilent())}e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],UserPackAction:[function(e,t,i){"use strict";cc._RF.push(t,"43279flMzFNLb99opXo6H62","UserPackAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.RUNNING?this.playAnim(e):this.node.on("dealfinish",this.onDealFinish,this)},cancel:function(){},onDealFinish:function(e){e.type,e.detail;this.playAnim(this.objActionPool)},onDestroy:function(){this.node.off("dealfinish",this.onDealFinish,this)},playAnim:function(e){ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller.getSeatWithPlayerId(this.objData.playerId);t&&t.onUserPack(this.strCmd,this.objData),t&&ITeenPatti.gameCore.gameMng.playAudioEffect("pack");var i=this;this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.onActionFinish(i),i.destroy()})))}}),cc._RF.pop()},{}],UserRoomEnterAction:[function(e,t,i){"use strict";cc._RF.push(t,"b7a21iS+aRLM64qSg5ox6tP","UserRoomEnterAction"),cc.Class({extends:cc.Component,properties:{}}),cc._RF.pop()},{}],UserRoomExitAction:[function(e,t,i){"use strict";cc._RF.push(t,"c71faNir+tBn4kt93aYM1W8","UserRoomExitAction"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],UserSeeCardAction:[function(e,t,i){"use strict";cc._RF.push(t,"d1ad9Q1yyxILrz2J9/PJ7XN","UserSeeCardAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){this.objActionPool=e;ITeenPatti.getCurTable().contrller;this.playAnim(e)},cancel:function(){},playAnim:function(e){ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller.getSeatWithPlayerId(this.objData.id);t&&t.onUserSee(this.strCmd,this.objData),LogUtil.debug("UserSeeCardAction","onUserSee");var i=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){i.isValid&&ITeenPatti.onMsgReceived("seefinish",i.objData),i.isValid&&i.node.emit("seefinish",i.objData),e.onActionFinish(i),i.destroy()})))}}),cc._RF.pop()},{}],UserSeenAction:[function(e,t,i){"use strict";cc._RF.push(t,"97c3ckigA1J6obWM1vk6dIj","UserSeenAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.RUNNING?this.playAnim(e):this.node.on("dealfinish",this.onDealFinish,this)},cancel:function(){},onDealFinish:function(e){e.type,e.detail;this.playAnim(this.objActionPool)},onDestroy:function(){this.node.off("dealfinish",this.onDealFinish,this)},playAnim:function(e){ITeenPatti.getCurTable();var t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithPlayerId(this.objData.playerId);i&&i.onUserSee(this.strCmd,this.objData),LogUtil.debug("UserSeenAction","onUserSee"),t.state==UI_TABLE_STATE.RUNNING&&t.arrSeat[0].onOtherUpdate();var n=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.onActionFinish(n),n.destroy()})))}}),cc._RF.pop()},{}],UserShowCardAction:[function(e,t,i){"use strict";cc._RF.push(t,"075e5KtHkJCZo5OkA/a5qwm","UserShowCardAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){this.objActionPool=e;var t=ITeenPatti.getCurTable();ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.RUNNING?t.bPotLimit?this.node.on("potlimitfinish",this.onPotLimitFinish,this):this.playAnim(e):this.node.on("dealfinish",this.onDealFinish,this)},cancel:function(){},onDealFinish:function(e){e.type,e.detail;this.playAnim(this.objActionPool)},onPotLimitFinish:function(e){this.playAnim(this.objActionPool)},onDestroy:function(){this.node.off("dealfinish",this.onDealFinish,this)},playAnim:function(e){ITeenPatti.getCurTable();for(var t=ITeenPatti.getCurTable().contrller,i=0;i<this.objData.arrWinerID.length;i++){(n=t.getSeatWithPlayerId(this.objData.arrWinerID[i]))&&n.onUserShow()}for(i=0;i<this.objData.arrLoserID.length;i++){var n;(n=t.getSeatWithPlayerId(this.objData.arrLoserID[i]))&&n.onUserShow()}var a=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){a.isValid&&ITeenPatti.onMsgReceived("showfinish",a.objData),e.onActionFinish(a),a.destroy()})))}}),cc._RF.pop()},{}],UserSidePackAction:[function(e,t,i){"use strict";cc._RF.push(t,"2d119YpNe5I7oE7IYGEQYoY","UserSidePackAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.RUNNING?this.playAnim(e):this.node.on("dealfinish",this.onDealFinish,this)},cancel:function(){},onDealFinish:function(e){e.type,e.detail;this.playAnim(this.objActionPool)},onDestroy:function(){this.node.off("dealfinish",this.onDealFinish,this)},playAnim:function(e){ITeenPatti.getCurTable();for(var t=ITeenPatti.getCurTable().contrller,i=0;i<this.objData.arrLoserID.length;i++){var n=t.getSeatWithPlayerId(this.objData.arrLoserID[i]);n&&n.onUserSidePack()}var a=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.onActionFinish(a),a.destroy()})))}}),cc._RF.pop()},{}],UserSideResultAction:[function(e,t,i){"use strict";cc._RF.push(t,"6622bqOjD5LloKo6Nkguylq","UserSideResultAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},play:function(e){ITeenPatti.getCurTable();for(var t=ITeenPatti.getCurTable().contrller,i=0;i<this.objData.arrWinerID.length;i++){(n=t.getSeatWithPlayerId(this.objData.arrWinerID[i]))&&n.onUserSideWin()}for(i=0;i<this.objData.arrLoserID.length;i++){var n;(n=t.getSeatWithPlayerId(this.objData.arrLoserID[i]))&&n.onUserSideLose()}var a=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.onActionFinish(a),a.destroy()})))},cancel:function(){}}),cc._RF.pop()},{}],UserSideShowAction:[function(e,t,i){"use strict";cc._RF.push(t,"f1b81hyLYhMv63KKDGfUatV","UserSideShowAction"),cc.Class({extends:cc.Component,properties:{strCmd:null,objData:null},onDestroy:function(){this.node.off("dealfinish",this.onDealFinish,this)},play:function(e){this.objActionPool=e,ITeenPatti.getCurTable().contrller.state==UI_TABLE_STATE.RUNNING?this.playAnim(e):this.node.on("dealfinish",this.onDealFinish,this)},cancel:function(){},onDealFinish:function(e){e.type,e.detail;this.playAnim(this.objActionPool)},playAnim:function(e){ITeenPatti.getCurTable();for(var t=ITeenPatti.getCurTable().contrller,i=0;i<this.objData.arrWinerID.length;i++){(n=t.getSeatWithPlayerId(this.objData.arrWinerID[i]))&&n.onUserShow()}for(i=0;i<this.objData.arrLoserID.length;i++){var n;(n=t.getSeatWithPlayerId(this.objData.arrLoserID[i]))&&n.onUserShow()}var a=this;this.nActionID,this.objData.roundID;this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){a.isValid&&ITeenPatti.onMsgReceived("sideshowfinish",a.objData),e.onActionFinish(a),a.destroy()})))}}),cc._RF.pop()},{}],UserSitDownAction:[function(e,t,i){"use strict";cc._RF.push(t,"30cf6oOZEdE35ozmnWJraiT","UserSitDownAction");var n="UserSitDownAction";cc.Class({extends:cc.Component,properties:{strCmd:"",objData:null},play:function(e){var t=ITeenPatti.getCurTable().contrller,i=t.getSeatWithUserId(this.objData.user.name);i&&i.onUserStandUp();var a=t.table.getUserWithPlayerID(this.objData.user.playerId),o=t.getSeatWithPlayerId(this.objData.user.playerId);o?(o.onUserSitDown(a),LogUtil.info(n," User Sit Down : "+this.objData.user.name+" Seat : "+o.seatId)):LogUtil.info(n," User Sit Down : "+this.objData.user.name+" Seat : Not Found!"),this.onFinish(e)},cancel:function(){},stop:function(){},onFinish:function(e){e.onActionFinish(this),this.destroy()}}),cc._RF.pop()},{}],UserStandUpAction:[function(e,t,i){"use strict";cc._RF.push(t,"74399V41f5P4pawQAivBcNw","UserStandUpAction"),cc.Class({extends:cc.Component,properties:{}}),cc._RF.pop()},{}],VIPRedemption:[function(e,t,i){"use strict";cc._RF.push(t,"c23f0ImMe1CSJuCPC2v5LBO","VIPRedemption");var n=e("BaseEditboxUI"),a=e("Command");cc.Class({extends:n,properties:{codeEditbox:cc.EditBox},onLoad:function(){this._super(),this.editboxOffsetY=20},onRedeemClk:function(e){""!=this.codeEditbox.string&&(this.gameCore.uiMng.addListener(a.UI_CMD_UPDATE_VIP_STATUS,this,this.onVIPsCode),ITeenPatti.sendMsg("goldvipscode",{i:this.codeEditbox.string}))},onVIPsCode:function(e){this.gameCore.uiMng.removeListener("goldvipscode",this,this.onVIPsCode),this.closeUI()},onBlackBgTouchEnd:function(e){e.stopPropagation()}}),cc._RF.pop()},{BaseEditboxUI:"BaseEditboxUI",Command:"Command"}],VIPTableButton:[function(e,t,i){"use strict";cc._RF.push(t,"e6b591hxtVAUK5msBXzUt5V","VIPTableButton");var n=e("LobbyLayoutButton"),a=e("Command"),o=(e("BaseUI"),e("GameData"),e("UIInfo"));e("DataAnalysisKey");cc.Class({extends:n,properties:{mode:"",blackMask:cc.Node,newStatus:cc.Node,pvpTag:cc.Node},onLoad:function(){this._super(),this.blackMask&&(this.blackMask.active=!1),this.pvpTag&&(this.pvpTag.active=!1)},initComplete:function(){this._super(),this.gameCore.uiMng.addListener(a.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),this.updateNewStatus()},onPlayResponse:function(e){this.gameCore.uiMng.hideLoading(),this.node.interactable=!0,this.blackMask&&(this.blackMask.active=!1)},updateNewStatus:function(){this.newStatus},onButtonClk:function(e){if(LogUtil.debug("VIPTableButton","onButtonClk"),this.gameCore)if("gwar"==this.mode){if(!this.gameCore.userMng.playCasinoWar(!1,null,null,!0))return;this.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY_CASINO_WAR_GOLD,this,this.onPlayResponse),this.blackMask.active=!0,this.node.interactable=!1,this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.7,!1)}else if("gab"==this.mode){if(!this.gameCore.userMng.playAB(!1,null,null,!0))return;this.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY_AB_GOLD,this,this.onPlayResponse),this.blackMask.active=!0,this.node.interactable=!1,this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.7,!0)}else if("abpvpgold"==this.mode)this.gameCore.uiMng.openUI(o.AB_PVP_GOLD_ROOM_SELECT);else if("casinowarpvp"==this.mode)this.gameCore.uiMng.openUI(o.CASINO_WAR_PVP_GOLD_ROOM_SELECT);else if("gpoker"==this.mode){if(!this.gameCore.userMng.playTexasHoldem(!1,null,null,!0))return;this.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY_TEXAS_HOLDEM_GOLD,this,this.onPlayResponse),this.blackMask.active=!0,this.node.interactable=!1,this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.7,!0)}else if("gclassic"==this.mode){if(!this.gameCore.userMng.play(a.SERVER_CMD_PLAY_CLASSIC_GOLD,"",!1,null,null,!0))return;this.gameCore.uiMng.addListener(a.SERVER_CMD_PLAY_CLASSIC_GOLD,this,this.onPlayResponse),this.blackMask.active=!0,this.node.interactable=!1,this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.7,!0)}else void 0!=this.released&&this.gameCore.gameMng.newModeRemind(this.released)}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",LobbyLayoutButton:"LobbyLayoutButton",UIInfo:"UIInfo"}],VIPTableSelect:[function(e,t,i){"use strict";cc._RF.push(t,"f30188vj+lBlJ68LT/H0kaG","VIPTableSelect");var n=e("BaseUI"),a=e("UIInfo"),o=(e("Command"),e("GameData"),e("LobbyLayout"));e("DataAnalysisKey");cc.Class({extends:n,properties:{scrollView:cc.ScrollView,toggleGroup:cc.ToggleGroup,toggleItems:[cc.Node],modeButtonPrefab:cc.Prefab,page:0,totalPage:1,layout:o},onLoad:function(){this.layout.delegate=this,this.layout.level=2,this.layout.startX=150,this.layout.gapX=250,this.layout.defaultLayout=[],this.layout.layout=[{mode:"gpoker",order:100,visible:1},{mode:"gclassic",order:200,visible:1},{mode:"gab",order:300,visible:1},{mode:"gwar",order:400,visible:1},{mode:"abpvpgold",order:500,visible:1},{mode:"casinowarpvp",order:600,visible:1},{mode:"comingsoon",order:700,visible:0}],this._super(),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1},initComplete:function(){this._super()},noStatesRecover:function(){this._super()},statesRecoverUpdate:function(){void 0!=this.recoverStates[a.UI_STATE_SCROLLVIEW_X]&&(this.scrollView.content.x=this.recoverStates[a.UI_STATE_SCROLLVIEW_X]),this._super()},statesPersistence:function(){var e={};return e[a.UI_STATE_SCROLLVIEW_X]=this.scrollView.content.x,e},updateScrollView:function(e){this.totalPage=Math.ceil(e/4),this.scrollView.content.width=this.layout.gapX*e+49},onScrollViewTouchStart:function(e){this.scrollView.node.on(cc.Node.EventType.TOUCH_END,this.onUITouchUp,this),this.scrollView.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this)},onUITouchUp:function(e){this.scrollView.node.off(cc.Node.EventType.TOUCH_END,this.onUITouchUp,this),this.scrollView.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this);var t=this.scrollView.content.x<this.oriContentX,i=Math.max(0,Math.abs((this.scrollView.content.x+135+490)/980)+(t?-.1:.1));this.page=Math.min(this.totalPage-1,Math.max(0,t?Math.ceil(i):Math.floor(i))),this.scrollView.stopAutoScroll(),this.oriContentX=-490-980*this.page-135,this.scrollView.content.runAction(cc.moveTo(.1,cc.v2(this.oriContentX,0))),this.toggleGroup.toggleItems.length>this.page&&this.toggleGroup.toggleItems[this.page].check()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",LobbyLayout:"LobbyLayout",UIInfo:"UIInfo"}],VariationModeButton:[function(e,t,i){"use strict";cc._RF.push(t,"8d66fxvlBRL7LZ5yic0KboO","VariationModeButton");var n=e("LobbyLayoutButton"),a=e("Command"),o=e("BaseUI"),s=(e("GameData"),e("LocalizedSprite"),e("DataAnalysisKey"));cc.Class({extends:n,properties:{mode:"",blackMask:cc.Node,newStatus:cc.Node,interface:o},onLoad:function(){this._super(),this.blackMask.active=!1},initComplete:function(){this._super(),this.updateNewStatus()},updateNewStatus:function(){this.newStatus},onPlayResponse:function(e,t){"error"==t.cmd&&(this.gameCore.uiMng.hideLoading(),this.interface&&(this.interface.canClose=!0),this.blackMask&&(this.blackMask.active=!1))},onButtonClk:function(e){LogUtil.debug("VariationModeButton","onButtonClk");this.gameCore&&(-1!=["Joker","Muflis","HuKam","AK47"].indexOf(this.mode)?(this.gameCore.userMng.play(a.SERVER_CMD_PLAY,this.mode)&&(ITeenPatti.addListener(a.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),this.gameCore.uiMng.showLoading(cc.v2(0,0),this.node,.7,!1),this.node.interactable=!1,this.blackMask.active=!0),this.gameCore.dataAnalysisMng.sendData(s.CLICK_VARIATIONTABLE_BUTTON,["Table_Gameplay:"+this.mode])):void 0!=this.released&&this.gameCore.gameMng.newModeRemind(this.released))}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",LobbyLayoutButton:"LobbyLayoutButton",LocalizedSprite:"LocalizedSprite"}],VariationModeSelect:[function(e,t,i){"use strict";cc._RF.push(t,"a926az3F9JFl6LTZoeuY2/B","VariationModeSelect");var n=e("BaseUI"),a=(e("UIInfo"),e("Command"),e("GameData"),e("LobbyLayout"));e("DataAnalysisKey");cc.Class({extends:n,properties:{scrollView:cc.ScrollView,toggleGroup:cc.ToggleGroup,toggleItems:[cc.Node],modeButtonPrefab:cc.Prefab,page:0,totalPage:1,layout:a},onLoad:function(){this.layout.delegate=this,this.layout.level=2,this.layout.startX=120,this.layout.gapX=240,this.layout.layout=[{mode:"Joker",order:100,visible:1},{mode:"Muflis",order:200,visible:1},{mode:"HuKam",order:300,visible:1},{mode:"AK47",order:400,visible:1},{mode:"comingsoon",order:500,visible:0}],this._super(),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1},initComplete:function(){this._super(),this.oriContentX=this.scrollView.content.x,this.scrollView.node.on(cc.Node.EventType.TOUCH_START,this.onScrollViewTouchStart,this),this.scrollView.node.on("touch-up",this.onUITouchUp,this);for(var e=0;e<this.scrollView.node.children.length;e++)this.scrollView.node.children[e].on(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this)},updateScrollView:function(e){this.totalPage=Math.ceil(e/4);for(var t=0;t<this.toggleItems.length;t++)this.toggleItems[t].active=t<this.totalPage&&this.totalPage>1;this.scrollView.content.width=this.scrollView.node.width*this.totalPage},onScrollViewTouchStart:function(e){this.scrollView.node.on(cc.Node.EventType.TOUCH_END,this.onUITouchUp,this),this.scrollView.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this)},onUITouchUp:function(e){this.scrollView.node.off(cc.Node.EventType.TOUCH_END,this.onUITouchUp,this),this.scrollView.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onUITouchUp,this);var t=this.scrollView.content.x<this.oriContentX,i=Math.max(0,Math.abs((this.scrollView.content.x+480)/960)+(t?-.1:.1));this.page=t?Math.ceil(i):Math.floor(i),this.scrollView.stopAutoScroll(),this.oriContentX=-480-960*this.page,this.scrollView.content.runAction(cc.moveTo(.1,cc.v2(this.oriContentX,0))),this.toggleGroup.toggleItems.length>this.page&&this.toggleGroup.toggleItems[this.page].check()}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",DataAnalysisKey:"DataAnalysisKey",GameData:"GameData",LobbyLayout:"LobbyLayout",UIInfo:"UIInfo"}],VersionCompatibleAlert:[function(e,t,i){"use strict";cc._RF.push(t,"33121ICTYFCOq+KhxCNSMAt","VersionCompatibleAlert");var n=e("BaseUI");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},onConfirmBtnClk:function(e){this.closeUI(),this.gameCore.gameMng.openMarket()},onCancelBtnClk:function(e){this.closeUI()}}),cc._RF.pop()},{BaseUI:"BaseUI"}],VersionManager:[function(e,t,i){"use strict";cc._RF.push(t,"f5e5doYVqRMF4yID5Slerjr","VersionManager");var n=e("AELoader"),a=e("BaseManager"),o=e("LocalStorage"),s="VersionManager";cc.Class({extends:a,properties:{loader:null,versionURL:{get:function(){return cc.sys.os==cc.sys.OS_IOS?"https://stusmiddle.blob.core.windows.net/bubblejourney/patti/versionios/version.json":"https://stusmiddle.blob.core.windows.net/bubblejourney/patti/versionnew/version.json"}}},ctor:function(){this.loader=new n(10,10,".tmp"),this.loader.setOnTaskSuccCb(handler(this,this.onVersionCfgDownSucc)),this.loader.setOnTaskFailCb(handler(this,this.onVersionCfgDownFail))},needCheckVersionUpdate:function(){return!cc.sys.isBrowser},loadVersionCfgFromCache:function(){if(this.needCheckVersionUpdate()){var e=this.loader.cache.getResByKey(this.versionURL);if(!e)return this.gameCore.initPopupMng.versionUpdateComplete=!0,void LogUtil.debug(s,"objVersionCfg is not exist");var t=e.name,i=o.getLocalData("AEMOBILE_PATTI_IGNORE_VERSION_"+t);if(void 0!==i&&1==i)return this.gameCore.initPopupMng.versionUpdateComplete=!0,void LogUtil.debug(s,"version ingnore");if(!ITeenPatti.gameCore)return this.gameCore.initPopupMng.versionUpdateComplete=!0,void LogUtil.debug(s,"!ITeenPatti.gameCore");for(var n=!1,a=string.toArr(t,"."),r=string.toArr(ITeenPatti.gameCore.gameVersion,"."),l=0;l<Math.min(r.length,a.length);l++){if(r[l]>a[l])return this.gameCore.initPopupMng.versionUpdateComplete=!0,void LogUtil.debug(s,"local version is much bigger");if(r[l]<a[l]){n=!0;break}}return!n&&r.length>=a.length?(this.gameCore.initPopupMng.versionUpdateComplete=!0,void LogUtil.debug(s,"\u7248\u672c\u540d\u524d\u6bb5\u76f8\u540c\uff0c\u7248\u672c\u540d\u957f\u5ea6\u5927\u4e8e\u670d\u52a1\u5668\u914d\u7f6e\uff0c\u5219\u672c\u5730\u66f4\u65b0")):this.isVersionResReady(e)?void this.gameCore.initPopupMng.openVersionUpdate(e):(LogUtil.debug(s,"Version Resouce Not Ready"),void this.downloadAllResource(e))}this.gameCore.initPopupMng.versionUpdateComplete=!0},loadVersionCfgFromNet:function(){if(this.needCheckVersionUpdate()){LogUtil.debug(s,"loadVersionCfgFromNet");this.loader.createJsonTask(this.versionURL,null)}else this.gameCore.initPopupMng.versionUpdateComplete=!0},onVersionCfgDownSucc:function(e,t){LogUtil.debug(s,"Version Config Download Succ"),this.loadVersionCfgFromCache()},onVersionCfgDownFail:function(e){LogUtil.debug(s,"Version Config Download Fail"),this.loadVersionCfgFromCache()},isVersionResReady:function(e){for(var t in e.ui){var i=e.ui[t];if(i.image&&!this.loader.cache.isResReady(i.image.en))return!1;if(i.image&&!this.loader.cache.isResReady(i.image.hi))return!1;if(i.spine){if(!this.loader.cache.isResReady(i.spine.atlas)||!this.loader.cache.isResReady(i.spine.json)||!this.loader.cache.isResReady(i.spine.image))return!1;this.loader.createSkeletonTask(i.spine)}}return!0},downloadAllResource:function(e){this.loader.setOnTaskSuccCb(handler(this,this.onResDownSucc)),this.loader.setOnTaskFailCb(null);for(var t in e.ui){var i=e.ui[t];i.image&&(this.loader.createImageTask(i.image.en,null),i.image.hi!=i.image.en&&this.loader.createImageTask(i.image.hi,null)),i.spine&&(this.loader.createImageTask(i.spine.image,null),this.loader.createJsonTask(i.spine.json,null),this.loader.createTextTask(i.spine.atlas,null))}},onResDownSucc:function(){var e=this.loader.cache.getResByKey(this.versionURL);this.isVersionResReady(e)&&this.loadVersionCfgFromCache()}});cc._RF.pop()},{AELoader:"AELoader",BaseManager:"BaseManager",LocalStorage:"LocalStorage"}],VersionUpdatePopUp:[function(e,t,i){"use strict";cc._RF.push(t,"55676VTgBVMw616Ua93aa7g","VersionUpdatePopUp");var n=e("BaseUI"),a=e("LocalStorage");cc.Class({extends:n,properties:{objVersionCfg:{default:{},visible:!1},lblContent:cc.Label,tglIgnore:cc.Toggle,spEffect:sp.Skeleton,imgBg:cc.Sprite,imgClose:cc.Sprite,imgUpdate:cc.Sprite,imgGouIgnore:cc.Sprite,imgBgIgnore:cc.Sprite},onLoad:function(){this._super()},setInitData:function(e){this.strVersion=e.name,this.objVersionCfg=e,this.tglIgnore.isChecked=!1,this.initImage(this.imgBg,e.ui.img_bg),this.initImage(this.imgClose,e.ui.btn_close),this.initImage(this.imgUpdate,e.ui.btn_update),this.initImage(this.imgGouIgnore,e.ui.btn_ignore),this.initImage(this.imgBgIgnore,e.ui.img_bg_ignore)},initImage:function(e,t){null!=t.active&&(e.node.active=t.active),e.node.setPosition(t.pos.x,t.pos.y),t.image&&("hi"==this.gameCore.gameMng.curLanguage?this.loadImage(e,t.image.hi):this.loadImage(e,t.image.en)),t.spine&&(this.spEffect.skeletonData=this.gameCore.versionMng.loader.cache.getResByKey(t.spine.name),this.spEffect.animation=t.spine.animation)},loadImage:function(e,t){var i=this.gameCore.versionMng.loader.cache.getResByKey(t);e.spriteFrame=new cc.SpriteFrame(i)},onBtnIgnoreClk:function(){a.saveLocalData("AEMOBILE_PATTI_IGNORE_VERSION_"+this.objVersionCfg.name,this.tglIgnore.isChecked)},onBtnUpdateClk:function(){this.gameCore.gameMng.openComment(),this.closeUI()},onBtnCloseClk:function(){this.closeUI()},closeUI:function(){this._super(),this.gameCore.initPopupMng.versionUpdateComplete=!0}}),cc._RF.pop()},{BaseUI:"BaseUI",LocalStorage:"LocalStorage"}],WacthModePopUp:[function(e,t,i){"use strict";cc._RF.push(t,"fe64cqFJWNFApHGvUkKmlq2","WacthModePopUp");var n=e("BaseUI");cc.Class({extends:n,properties:{lblTitle:cc.Label,lblDesc:cc.Label,lblOk:cc.Label},onLoad:function(){this._super()}}),cc._RF.pop()},{BaseUI:"BaseUI"}],WebView:[function(e,t,i){"use strict";cc._RF.push(t,"0eae9uKakJL2qHN6EEuKlvE","WebView");var n=e("BaseUI");cc.Class({extends:n,properties:{webView:cc.WebView},initComplete:function(){this._super()},setURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.needGetUserInfo=t,this.webView.url=e},closeUI:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.needGetUserInfo&&this.gameCore.userMng.getUserInfo(this.gameCore.userMng.myself.strTPID),this._super(e,t)},onBlackBgTouchEnd:function(e){e.stopPropagation()}}),cc._RF.pop()},{BaseUI:"BaseUI"}],WingoBootSelect1:[function(e,t,i){"use strict";cc._RF.push(t,"49ac1KBx3NGz4Dxnd/XBV3G","WingoBootSelect1");var n=e("WingoBootSelect"),a=e("UIInfo");cc.Class({extends:n,properties:{maskList:[cc.Node]},onLoad:function(){this._super(),this.canCloseWhileChangeScene=!1,this.shouldReaddAfterChangeScene=!1},initComplete:function(){this._super();var e={};e[a.LOBBY_SCENE.name]=0,e[a.LOBBY_SCENE2.name]=1;for(var t=0;t<this.maskList.length;t++)this.maskList[t].active=t==e[this.gameCore.uiMng.curSceneKey]}}),cc._RF.pop()},{UIInfo:"UIInfo",WingoBootSelect:"WingoBootSelect"}],WingoBootSelect:[function(e,t,i){"use strict";cc._RF.push(t,"b6d36Anav5DqJCzcFta5UDR","WingoBootSelect");var n=e("Command"),a=e("LanguageData"),o=e("GameUtils"),s=(e("UIInfo"),e("BaseUI"));cc.Class({extends:s,properties:{bootSelectList:[cc.Node],labelList:[cc.Label],layout:cc.Node,arrow:cc.Node,popupWidget:cc.Widget},onLoad:function(){this._super()},initComplete:function(){this._super();for(var e=0;e<this.bootSelectList.length;e++)this.bootSelectList[e].active=!1;this.gameCore.uiMng.showLoading(cc.v2(0,-30),this.popupBg,.7),this.layout.active=!1,this.gameCore.uiMng.addListener(n.SERVER_CMD_WINGO_BOOT_LIST,this,this.onBootList),ITeenPatti.sendMsg(n.SERVER_CMD_WINGO_BOOT_LIST,null)},updateSize:function(e,t){var i=cc.visibleRect;this.arrow.x=e-i.width/2,this.popupBg.height=(i.height-t)/2-6},onBootList:function(e){if(!e.errorcode){this.gameCore.uiMng.hideLoading(),this.layout.active=!0,this.bootAmount=[],this.maxBetAmount=[],this.roomTypes=[];for(var t=table.createToArray(e.winGoInfoMsg),i=0;i<t.length;i++)this.bootAmount.push(t[i].minChips),this.maxBetAmount.push(t[i].maxBet),this.roomTypes.push(t[i].roomType);for(i=0;i<this.labelList.length;i++)this.bootSelectList[i].active=!0,this.labelList[i].string=a.t("label_text.chips_with_symbol",{number:o.formatNumberWithRules(this.maxBetAmount[i])})}},reset:function(){this.gameCore.uiMng.hideLoading(),this.gameCore.uiMng.removeListener(n.SERVER_CMD_PLAY_WINGO,this,this.onPlayResponse),ITeenPatti.removeListener(n.SERVER_CMD_BANNED_USER,this,this.onPlayResponse)},onPlayResponse:function(e,t){this.reset(),"error"!=t.cmd&&this.gameCore.gameMng.openChipsNotEnoughTwoItem(t.i-this.gameCore.userMng.myself.nChips,t.i)},onPlayBtnClk:function(e,t){this.gameCore.userMng.myself.nChips<this.bootAmount[t]?this.gameCore.gameMng.openChipsNotEnoughTwoItem(this.bootAmount[t]-this.gameCore.userMng.myself.nChips,this.bootAmount[t]):this.gameCore.userMng.play(n.SERVER_CMD_PLAY_WINGO,"Wingo",!1,null,this.roomTypes[t])&&(this.gameCore.uiMng.addListener(n.SERVER_CMD_PLAY_WINGO,this,this.onPlayResponse),ITeenPatti.addListener(n.SERVER_CMD_BANNED_USER,this,this.onPlayResponse),this.gameCore.uiMng.showLoading())}}),cc._RF.pop()},{BaseUI:"BaseUI",Command:"Command",GameUtils:"GameUtils",LanguageData:"LanguageData",UIInfo:"UIInfo"}],WingoLotteryBaseSeat:[function(e,t,i){"use strict";cc._RF.push(t,"70f97YT3bFFmrOQTZyqu6bI","WingoLotteryBaseSeat");var n=e("GameUtils"),a=e("Command"),o=e("UIInfo"),s=(e("LanguageData"),e("ClampLabel"),e("FacebookIcon")),r=e("TeenPattiUser"),l=e("GameBaseSeat");cc.Class({extends:l,properties:{index:0,winLabel:cc.Label,nameLabel:cc.Label,icon:s,balanceLabel:cc.Label,btnGift:cc.Button,objGiftSender:cc.Node,objGiftReceiver:cc.Node,tableController:{default:null,visible:!1}},initComplete:function(){this._super(),this.winLabel&&(this.winLabel.node.active=!1),this.updateSeatState(),this.gameCore.uiMng.addListener(a.SERVER_CMD_USER_EXIT_ROOM,this,this.onUserExitRoom),ITeenPatti.addListener(a.SERVER_CMD_USER_UPDATE,this,this.onUserUpdate),this.registerChipsPauseResumeListeners()},onResumeChipsRefresh:function(){this._super(),this.updateBalance()},onUserUpdate:function(e,t){if(this.tpUser&&t&&t.user.name==this.tpUser.strTPID&&t.changedVars)for(var i in t.changedVars)"cp"==t.changedVars[i]&&(this.isChipsRefreshPaused||this.updateBalance())},updateBalance:function(){this.tpUser&&(this.balanceLabel.string=n.formatNumberWithRules(this.tpUser.nChips))},updateSeatState:function(e){if(this.index<5)if(e){this.node.active=!0;var t=new r;e instanceof r?t=e:(t.userId=e.userId,t.tpProfile.strTPName=e.name,t.tpProfile.strIconID=e.icon,t.tpProfile.nChips=e.winSum,t.fbProfile.strFBID=e.fbId),this.tpUser=t,this.icon.initWithTeenPattiUser(t),this.nameLabel&&(this.nameLabel.string=t.strTPName.length>10?t.strTPName.slice(0,8)+"..":t.strTPName),this.updateBalance()}else this.node.active=!1},onHeadClk:function(e){if(this.tpUser){var t=cc.director.getScene().getChildByName("Canvas").getComponent("WingoLotteryScene");ITeenPatti.removeListener("profile",t),ITeenPatti.addListener("profile",t,t.onUserProfileGet),ITeenPatti.sendMsg("profile",{i:parseInt(this.tpUser.userId)})}},onGiftBtnClk:function(e){this.gameCore.uiMng.openUI(o.GIFTS,handler(this,function(e){e&&e.setReceiverID(this.tpUser.userId)}))},onBtnGiftClicked:function(){this.onGiftBtnClk()},getGiftSendPostion:function(e,t){return this.node.convertToWorldSpaceAR(this.objGiftSender.getPosition())},getGiftReceivePostion:function(e,t){return 12==t||15==t||23==t?this.node.convertToWorldSpaceAR(cc.v2(0,0)):19==t?this.node.convertToWorldSpaceAR(cc.v2(-45,-20)):20==t?this.node.convertToWorldSpaceAR(cc.v2(-1,7)):25!=t&&27!=t||!this.btnGift?this.btnGift?this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition()):this.node.convertToWorldSpaceAR(this.objGiftReceiver.getPosition()):this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(15,20)))},updateGiftBtnActive:function(e){(!e||null!=this.tpUser&&null==this.objGift)&&this.btnGift&&(this.btnGift.node.active=e)},giftFinishCb:function(){this.objGift=null,this.updateGiftBtnActive(!0)},showWinEffect:function(e){}}),cc._RF.pop()},{ClampLabel:"ClampLabel",Command:"Command",FacebookIcon:"FacebookIcon",GameBaseSeat:"GameBaseSeat",GameUtils:"GameUtils",LanguageData:"LanguageData",TeenPattiUser:"TeenPattiUser",UIInfo:"UIInfo"}],WingoLotteryBetArea:[function(e,t,i){"use strict";cc._RF.push(t,"11831wHWZtGn5WYJ4rPKOo9","WingoLotteryBetArea");var n=e("WingoLotteryMySeat"),a=e("WingoLotteryOtherSeat"),o=e("GameUtils"),s=e("LanguageData"),r=e("BaseComponent");cc.Class({extends:r,properties:{mySeat:n,arrSeat:[a],otherSeat:cc.Node,betChipPrefabs:[cc.Prefab],betAreas:[cc.Node],betLabels:[cc.Label],winImgs:[cc.Node],winMasks:[cc.Node],chipsFlyContainer:cc.Node,rebetBtn:cc.Node,canBet:!1},onLoad:function(){this._super(),this.reset()},initComplete:function(){this._super(),this.rebetBtn.active=!1,this.gameCore.uiMng.addListener("winGoBet",this,this.onBetCallback),this.gameCore.uiMng.addListener("winGoReBet",this,this.onRebetCallback),this.gameCore.uiMng.addListener("winGoBetInfo",this,this.onBetInfoCallback)},reset:function(){this.betList=[],this.betMap={},this.betChipsCount=[];for(var e=0;e<this.winImgs.length;e++)this.winImgs[e].stopAllActions(),this.winImgs[e].active=!1,this.winImgs[e].opacity=255,this.winMasks[e].stopAllActions(),this.winMasks[e].active=!1;this.node.stopAllActions();for(e=0;e<this.betAreas.length;e++){for(var t=this.betAreas[e].children,i=0;i<t.length;i++)t[i].stopAllActions();this.betAreas[e].removeAllChildren(),this.betChipsCount.push(0)}for(t=this.chipsFlyContainer.children,i=0;i<t.length;i++)t[i].stopAllActions();this.chipsFlyContainer.removeAllChildren(),this.rebetBtn.active=!1,this.updateBetLabels()},startBet:function(e){this.gameCore.gameMng.resumeChipsRefresh(),this.reset(),this.rebetBtn.active=this.hasBet&&!e,this.hasBet=!1},stopBet:function(){this.rebetBtn.active=!1},onBetInfoCallback:function(e){if(!e.errorcode){var t=table.createToArray(e.winGoBetInfoMsgList);this.updateBetChips(t)}},updateBetChips:function(e){for(var t=0;t<e.length;t++){var i=e[t].userId;this.gameCore&&this.gameCore.userMng&&i==this.gameCore.userMng.myself.userId&&(this.hasBet=!0),this.betMap[i]||(this.betMap[i]={});for(var n=table.createToArray(e[t].subWinGoBetInfoMsg),a=0;a<n.length;a++){var o=n[a].areaId,s=table.createToArray(n[a].keyValueMsgList);this.betMap[i][o]||(this.betMap[i][o]={});for(var r=0;r<s.length;r++){var l=s[r].key,c=s[r].value,h=c;if(void 0==this.betMap[i][o][l]?this.betMap[i][o][l]={count:0,chips:[]}:h=c-this.betMap[i][o][l].count,this.betMap[i][o][l].count=c,h>0){for(var u=0;u<h;u++)this.betMap[i][o][l].chips.push(this.flyBetChip(o,l,i));this.gameCore.gameMng.playAudioEffect("bet")}}}}this.updateBetLabels()},updateBetLabels:function(){for(var e=[],t=[],i=0;i<13;i++)e.push(0),t.push(0);if(this.betOptions&&this.betOptions.length>=4)for(var n in this.betMap)for(var a in this.betMap[n])for(var s in this.betMap[n][a]){var r=this.betMap[n][a][s].count*this.betOptions[s-1];this.mySeat.tpUser.userId==n&&(t[a]+=r),e[a]+=r}for(i=0;i<this.betLabels.length;i++)this.betLabels[i].string=o.formatNumberWithRules(t[i])+"/"+o.formatNumberWithRules(e[i])},flyBetChip:function(e,t,i){var n=cc.instantiate(this.betChipPrefabs[t-1]),a=e,o=this.betAreas[a],s=o.width-40,r=o.height-40,l=o.parent.convertToWorldSpaceAR(cc.v2(o.x+s*Math.random()-s/2,o.y+r*Math.random()-r/2));this.chipsFlyContainer.addChild(n);var c=this.otherSeat;if(this.mySeat.tpUser.userId==i)c=this.mySeat.icon.node;else for(var h=0;h<this.arrSeat.length;h++)this.arrSeat[h].node.active&&this.arrSeat[h].tpUser&&this.arrSeat[h].tpUser.userId==i&&(c=this.arrSeat[h].icon.node);var u=c.parent.convertToWorldSpaceAR(cc.v2(c.x,c.y));return n.setPosition(u),n.runAction(cc.sequence(cc.moveTo(.3,l),cc.callFunc(function(e,t){var i=this.betAreas[t].convertToNodeSpaceAR(e.getPosition());e.removeFromParent(!1),e.setPosition(i),this.betAreas[t].addChild(e)},this,a))),n},sendRebet:function(){ITeenPatti.sendMsg("winGoReBet")},onRebetCallback:function(e){e.errorcode||(0==e.betStatus?(this.hasBet=!0,this.rebetBtn.active=!1,this.updateBetChips([e.winGoBetInfoMsg])):this.showBetErrorAlert(e.betStatus))},onBetCallback:function(e){if(!e.errorcode){if(0==e.betStatus){this.hasBet=!0,this.rebetBtn.active=!1;for(var t=0;t<this.betList.length;t++)if(this.betList[t].areaId==e.areaId&&this.betList[t].betGear==e.betGear){this.betList.splice(t,1);break}var i=this.gameCore.userMng.myself.userId;this.betMap[i]||(this.betMap[i]={}),this.betMap[i][e.areaId]||(this.betMap[i][e.areaId]={}),void 0==this.betMap[i][e.areaId][e.betGear]&&(this.betMap[i][e.areaId][e.betGear]={count:0,chips:[]}),this.betMap[i][e.areaId][e.betGear].count+=1,this.betMap[i][e.areaId][e.betGear].chips.push(this.flyBetChip(e.areaId,e.betGear,i)),this.gameCore.gameMng.playAudioEffect("bet")}else this.showBetErrorAlert(e.betStatus);this.updateBetLabels()}},showBetErrorAlert:function(e){1==e?this.gameCore.gameMng.showAlert(s.t("label_text.buy_to_bet")):2==e?this.gameCore.gameMng.showAlert(s.t("label_text.not_bet_time")):3==e&&this.gameCore.gameMng.showAlert(s.t("label_text.exceed_bet_limit"))},onBetClk:function(e,t){if(this.canBet&&this.mySeat.curBet>0){if(this.gameCore.userMng.myself.nChips<this.mySeat.curBet)return void this.gameCore.gameMng.openChipsNotEnoughTwoItem(this.mySeat.curBet,null,s.t("label_text.buy_to_bet"));if(!ITeenPatti.getCurTable())return;var i=parseInt(t),n=this.mySeat.selectedIndex;this.betList.push({areaId:i,betGear:n}),ITeenPatti.sendMsg("winGoBet",{areaId:i,betGear:n})}},onResult:function(e,t,i){this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(n){this.handleSettlement(e,t,i)},this)))},handleSettlement:function(e,t,i){for(var n=[[0],[1],[2],[3],[4],[5],[6],[7],[8],[9],[1,3,7,9],[0,5],[2,4,6,8]],a=0,o=0;o<n.length;o++)if(-1==n[o].indexOf(e))for(var s=this.betAreas[o].children.concat(),r=s.length-1;r>=0;r--){var l=s[r].parent.convertToWorldSpaceAR(cc.v2(s[r].x,s[r].y));s[r].removeFromParent(),s[r].setPosition(l),this.chipsFlyContainer.addChild(s[r]);var c=1/s.length*(r+1);c+1.2>a&&(a=c+1.2),s[r].runAction(cc.sequence(cc.delayTime(c),cc.callFunc(function(){this.gameCore.gameMng.playAudioEffect("bonus")},this),cc.moveTo(1,cc.v2(-50,-50)),cc.fadeOut(.2),cc.callFunc(function(e){e.removeFromParent()})))}else this.gameCore.gameMng.playAudioEffect("win"),this.winImgs[o].active=!0,this.winMasks[o].active=!0,this.winImgs[o].runAction(cc.repeat(cc.sequence(cc.callFunc(function(e){e.opacity=255},this.winImgs[o]),cc.delayTime(.3),cc.callFunc(function(e){e.opacity=0},this.winImgs[o]),cc.delayTime(.3),cc.callFunc(function(e){e.opacity=255},this.winImgs[o])),2));for(var h in this.betMap)for(var u in this.betMap[h])if(-1!=n[u].indexOf(e))for(var d in this.betMap[h][u])for(r=0;r<this.betMap[h][u][d].count;r++){var m=cc.instantiate(this.betChipPrefabs[d-1]);this.chipsFlyContainer.addChild(m);var g=this.betAreas[u],p=g.width-40,C=g.height-40,f=g.parent.convertToWorldSpaceAR(cc.v2(g.x+p*Math.random()-p/2,g.y+C*Math.random()-C/2));m.setPosition(cc.v2(-50,-50)),m.runAction(cc.sequence(cc.delayTime(a),cc.callFunc(function(){this.gameCore.gameMng.playAudioEffect("bonus")},this),cc.moveTo(1,f),cc.callFunc(function(e,t){var i=this.betAreas[t[0]].convertToNodeSpaceAR(e.getPosition());e.removeFromParent(!1),e.setPosition(i),this.betAreas[t[0]].addChild(e),t[1].push(e)},this,[u,this.betMap[h][u][d].chips])))}else delete this.betMap[h][u];a+=1.3,this.node.runAction(cc.sequence(cc.delayTime(a),cc.callFunc(function(e){var n=!1,a=!1;for(var o in this.betMap)for(var s in this.betMap[o])for(var r in this.betMap[o][s])for(var l=this.betMap[o][s][r].chips,c=0;c<l.length;c++){var h=l[c],u=h.parent.convertToWorldSpaceAR(cc.v2(h.x,h.y));h.removeFromParent(),h.setPosition(u),this.chipsFlyContainer.addChild(h);var d=this.otherSeat;if(this.mySeat.tpUser.userId==o)d=this.mySeat.icon.node;else for(var m=0;m<this.arrSeat.length;m++)this.arrSeat[m].node.active&&this.arrSeat[m].tpUser&&this.arrSeat[m].tpUser.userId==o&&(d=this.arrSeat[m].icon.node);n=!0;var g=d.parent.convertToWorldSpaceAR(cc.v2(d.x,d.y));h.runAction(cc.sequence(cc.callFunc(function(){this.gameCore.gameMng.playAudioEffect("bonus")},this),cc.moveTo(1,g),cc.callFunc(function(e){if(e.removeFromParent(),!a){a=!0,this.gameCore.gameMng.resumeChipsRefresh(),this.tableController.updateRankSeatsShow(),t>0&&this.mySeat.showWinEffect(t);for(var n=0;n<i.length;n++)i[n]>0&&this.arrSeat[n].showWinEffect(i[n])}},this)))}n||(this.gameCore.gameMng.resumeChipsRefresh(),this.tableController.updateRankSeatsShow())},this)))}}),cc._RF.pop()},{BaseComponent:"BaseComponent",GameUtils:"GameUtils",LanguageData:"LanguageData",WingoLotteryMySeat:"WingoLotteryMySeat",WingoLotteryOtherSeat:"WingoLotteryOtherSeat"}],WingoLotteryHelp:[function(e,t,i){"use strict";cc._RF.push(t,"fadeaWXryhLSZ2H3wi1zuni","WingoLotteryHelp");var n=e("BaseEdgePopup");e("LanguageData");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},initComplete:function(){this._super()}}),cc._RF.pop()},{BaseEdgePopup:"BaseEdgePopup",LanguageData:"LanguageData"}],WingoLotteryMySeat:[function(e,t,i){"use strict";cc._RF.push(t,"a4c48lLtvZIw4M2v+8tDsjX","WingoLotteryMySeat");var n=e("GameUtils"),a=(e("Command"),e("UIInfo"),e("ClampLabel"),e("CDTimeBar")),o=e("WingoLotteryBaseSeat");cc.Class({extends:o,properties:{timeBar:a,betOptionLabels:[cc.Label],betToggles:[cc.Toggle],selectedIndex:1,betOptions:[],curBet:{get:function(){return this.selectedIndex>this.betOptions.length?0:this.betOptions[this.selectedIndex-1]}}},onLoad:function(){this._super(),this.timeBar.hide();for(var e=0;e<this.betOptionLabels.length;e++)this.betOptionLabels[e].string=""},initComplete:function(){this.tpUser=this.gameCore.userMng.myself,this._super(),this.updateSeatState(this.tpUser)},setBetOptions:function(e){this.betOptions=e;for(var t=0;t<this.betOptionLabels.length;t++)this.betOptions[t]&&(this.betOptionLabels[t].string=n.formatNumberWithRules(this.betOptions[t],1e5))},onToggleClk:function(e,t){for(var i=0;i<this.betToggles.length;i++)this.betToggles[i].node.setPosition(cc.v2(this.betToggles[i].node.position.x,0));e.node.runAction(cc.moveTo(.1,cc.v2(e.node.position.x,16))),this.selectedIndex=parseInt(t),this.gameCore.gameMng.playAudioEffect("addbet")},showWinEffect:function(e){this.winLabel.node.active=!0,this.winLabel.node.opacity=255,this.winLabel.string="+"+n.formatNumberWithRules(e),this.winLabel.node.position=cc.v2(this.winLabel.node.position.x,98),this.winLabel.node.runAction(cc.sequence(cc.moveTo(.5,cc.v2(this.winLabel.node.position.x,165)),cc.fadeOut(.3)))},getGiftReceivePostion:function(e,t){return 12==t||15==t||23==t?this.node.convertToWorldSpaceAR(cc.v2(-324,90)):19==t?this.node.convertToWorldSpaceAR(cc.v2(-369,70)):20==t?this.node.convertToWorldSpaceAR(cc.v2(-325,7)):25!=t&&27!=t||!this.btnGift?this.btnGift?this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition()):this.node.convertToWorldSpaceAR(this.objGiftReceiver.getPosition()):this.node.convertToWorldSpaceAR(this.btnGift.node.getPosition().add(cc.v2(15,20)))}}),cc._RF.pop()},{CDTimeBar:"CDTimeBar",ClampLabel:"ClampLabel",Command:"Command",GameUtils:"GameUtils",UIInfo:"UIInfo",WingoLotteryBaseSeat:"WingoLotteryBaseSeat"}],WingoLotteryOtherSeat:[function(e,t,i){"use strict";cc._RF.push(t,"dc05faGwoBGNZHh4E/jbwD4","WingoLotteryOtherSeat");var n=e("GameUtils"),a=(e("Command"),e("UIInfo"),e("ClampLabel"),e("FacebookIcon"),e("WingoLotteryBaseSeat"));cc.Class({extends:a,properties:{},onLoad:function(){this._super()},initComplete:function(){this._super()},showWinEffect:function(e){this.winLabel.node.active=!0,this.winLabel.node.opacity=255,this.winLabel.string="+"+n.formatNumberWithRules(e),this.winLabel.node.position=cc.v2(this.winLabel.node.position.x,-8),this.winLabel.node.runAction(cc.sequence(cc.moveTo(.5,cc.v2(this.winLabel.node.position.x,35)),cc.fadeOut(.3)))}}),cc._RF.pop()},{ClampLabel:"ClampLabel",Command:"Command",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",UIInfo:"UIInfo",WingoLotteryBaseSeat:"WingoLotteryBaseSeat"}],WingoLotteryRankItem:[function(e,t,i){"use strict";cc._RF.push(t,"14f11vVn1xE7br+MzK6TN3F","WingoLotteryRankItem");var n=e("ClampLabel"),a=e("FacebookIcon"),o=e("TeenPattiUser"),s=e("GameUtils"),r=e("BaseComponent");cc.Class({extends:r,properties:{firstThreeRank:cc.Node,rankLabel:cc.Label,icon:a,lblName:n,handsWon:cc.Label,winnings:cc.Label,rankFrames:[cc.SpriteFrame]},setData:function(e,t){var i=new o;i.userId=t.userId,i.tpProfile.strTPName=t.name,i.tpProfile.strIconID=t.icon,i.fbProfile.strFBID=t.fbId,i.tpProfile.nChips=t.winSum,this.icon.initWithTeenPattiUser(i),this.lblName.string=i.strTPName,this.handsWon.string=t.winCount+"/"+t.gameCount,this.winnings.string=s.formatNumberWithRules(t.winSum),this.winnings.node.color=t.winSum>0?new cc.Color(100,255,0):new cc.Color(255,255,255),this.firstThreeRank.active=e<=3,this.firstThreeRank.getComponent(cc.Sprite).spriteFrame=this.rankFrames[Math.min(2,e-1)],this.rankLabel.node.active=e>3,this.rankLabel.string=e}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClampLabel:"ClampLabel",FacebookIcon:"FacebookIcon",GameUtils:"GameUtils",TeenPattiUser:"TeenPattiUser"}],WingoLotteryRank:[function(e,t,i){"use strict";cc._RF.push(t,"99570sH7j5NFYETWhFbk3/+","WingoLotteryRank");var n=e("BaseUI");cc.Class({extends:n,properties:{rankItemPrefab:cc.Prefab,content:cc.Node},initComplete:function(){this._super()},initRankList:function(e){for(var t=0;t<e.length;t++){var i=cc.instantiate(this.rankItemPrefab);this.content.addChild(i),i.getComponent("WingoLotteryRankItem").setData(t+1,e[t])}}}),cc._RF.pop()},{BaseUI:"BaseUI"}],WingoLotteryRoler:[function(e,t,i){"use strict";cc._RF.push(t,"eceab9u079DZIQISv25j+yW","WingoLotteryRoler");e("LanguageData");var n=e("TeenPattiRoler");cc.Class({extends:n,name:"WingoLotteryRoler",properties:{lastTotalBetAmount:0,totalBetAmount:{get:function(){return this._totalBetAmount},set:function(e){this.lastTotalBetAmount=this._totalBetAmount,this._totalBetAmount=e}}},ctor:function(){this.totalBetAmount=0,this.lastTotalBetAmount=0},reset:function(){this.totalBetAmount=0,this.lastTotalBetAmount=0}});cc._RF.pop()},{LanguageData:"LanguageData",TeenPattiRoler:"TeenPattiRoler"}],WingoLotteryRoom:[function(e,t,i){"use strict";cc._RF.push(t,"f45f0QCf4VBnJZ00h0Rx2ws","WingoLotteryRoom");e("Command");var n=e("WingoLotteryTable"),a=e("BaseRoom"),o=e("UIInfo");cc.Class({name:"WingoLotteryRoom",extends:a,properties:{},ctor:function(){this.table=new n,this.roomType=ROOM_TYPE.WINGO_LOTTERY,this.tableRulesUIInfo=o.WINGO_LOTTERY_HELP}}),cc._RF.pop()},{BaseRoom:"BaseRoom",Command:"Command",UIInfo:"UIInfo",WingoLotteryTable:"WingoLotteryTable"}],WingoLotterySceneAudio:[function(e,t,i){"use strict";cc._RF.push(t,"b6b03b30c9NHrqey+qfuUzF","WingoLotterySceneAudio");var n=e("BaseSceneAudio");cc.Class({extends:n,properties:{bet:{type:cc.AudioClip,default:null},addbet:{type:cc.AudioClip,default:null},win:{type:cc.AudioClip,default:null},levelup:{type:cc.AudioClip,default:null},countdown:{type:cc.AudioClip,default:null},bonus:{type:cc.AudioClip,default:null}},onLoad:function(){}}),cc._RF.pop()},{BaseSceneAudio:"BaseSceneAudio"}],WingoLotteryScene:[function(e,t,i){"use strict";cc._RF.push(t,"c198cpdWsZC4q4v1C607I9f","WingoLotteryScene");e("DataAnalysisKey");var n=e("UIInfo"),a=(e("Command"),e("WingoLotteryTableController")),o=e("BaseGameScene");cc.Class({extends:o,properties:{connectionLostPrefab:cc.Prefab,reconnectingPrefab:cc.Prefab,tableController:a},onLoad:function(){this._super()},initComplete:function(){this._super(),ITeenPatti.addListener("ConnectionResume",this,this.onConnectResume)},onConnectResume:function(e,t){this.tableController.onConnectResume()},onRoomInfoBtnClk:function(e){this.gameCore.uiMng.openUI(n.GAME_ROOM_INFO_WINGO)},onBackBtnClk:function(e){this.gameCore.uiMng.isPopUpByUIKey(n.BACK_MENU_WINGO.name)||this.gameCore.uiMng.openUI(n.BACK_MENU_WINGO)},onUserProfileGet:function(e,t){ITeenPatti.removeListener("profile",this),!t.errorcode&&this.gameCore&&this.gameCore&&this.gameCore.uiMng&&this.gameCore.uiMng.openUI(n.INGAME_PLAYER_INFO,function(e){e&&e.initWithMsgGetUserInfo(t)})}}),cc._RF.pop()},{BaseGameScene:"BaseGameScene",Command:"Command",DataAnalysisKey:"DataAnalysisKey",UIInfo:"UIInfo",WingoLotteryTableController:"WingoLotteryTableController"}],WingoLotteryTableController:[function(e,t,i){"use strict";cc._RF.push(t,"59974hEr99NeqOvA2NNdBQG","WingoLotteryTableController");var n=e("BaseTableController"),a=e("UIInfo"),o=e("WingoLotteryBetArea"),s=e("WingoLotteryMySeat"),r=e("WingoLotteryOtherSeat"),l=e("Command"),c=e("LanguageData");cc.Class({extends:n,properties:{pfbMsgLeft:cc.Prefab,pfbMsgRight:cc.Prefab,historyBall:cc.Prefab,chatBtn:cc.Node,betArea:o,mySeat:s,otherSeat:r,arrSeat:[r],remind:cc.Node,remindLabel:cc.RichText,betStatus:cc.Sprite,betStatus1:cc.Sprite,betStatusFrames:[cc.SpriteFrame],ballFrames:[cc.SpriteFrame],smallBallFrames:[cc.SpriteFrame],roomPlayerCountLabel:cc.Label,historyContainer:cc.Node,waitTip:cc.Node,betBar:cc.Node,scrollBalls:[cc.Node],scrollBallIndex:[],rankUserList:[],historyList:[],scrollSpeed:0,scrollSpeedMax:0,scrollSpeedMin:0,resultBallId:null,resultBallIndex:null},onLoad:function(){this._super(),this.remind.active=!1,this.scrollSpeedMax=1e3,this.scrollSpeedMin=100,this.scrollSpeed=this.scrollSpeedMax,this.scrollStrip=[6,8,7,1,3,0,9,2,3,4,7,7,8,6,5,3,1,9,7,2,2,4,0,4,0,9,1,1,9,9,8,5,4,4,4,7,7,1,2,2,8,8,0,7,2,0,3,7,0,2,1,8,6,4,9,6,2,5,4,5,6,5,3,0,6,3,0,3,7,4,4,2,6,8,4,1,0,0,9,8,9,4,3,4,4,6,9,6,5,9,0,6,2,0,6,8,9,1,9,2,5,3,9,7,5,0,7,5,9,5,8,2,2,4,6,9,9,9,8,9,2,4,8,5,7,0,3,4,4,0,3,5,3,4,8,8,3,6,3,0,0,2,4,0,8,0,1,9,0,1,7,0,7,5,1,9,1,3,7,2,3,4,6,3,8,5,1,5,2,5,2,5,1,4,5,1,8,0,0,1,4,2,5,1,3,3,8,7,2,4,9,0,0,1,9,8,8,8,2,2,3,5,7,3,1,6,2,0,4,1,6,3,7,2,6,0,7,1,3,3,8,1,1,4,3,1,5,1,6,8,4,8,5,4,8,2,9,9,0,9,8,9,2,4,1,7,1,7,0,7,6,3,0,9,7,2,9,6,0,7,2,1,2,0,8,9,7,3,6,8,7,9,5,6,4,0,2,1,5,4,6,4,1,3,3,4,1,0,5,2,3,8,2,7,9,5,2,7,5,4,0,4,3,6,8,3,1,7,9,8,0,9,2,7,3,9,7,9,9,6,3,2,8,3,4,0,4,8,4,8,5,8,4,0,6,6,0,2,7,7,8,3,5,3,0,6,6,1,8,0,7,4,5,7,8,3,8,2,6,2,9,7,6,6,9,9,8,5,2,4,1,5,8,5,0,6,8,0,5,6,6,8,5,5,9,2,0,1,4,7,8,1,2,3,5,7,7,1,8,9,9,6,9,5,8,4,0,1,2,5,0,3,4,6,1,7,8,2,3,9,0,9,7,2,7,6,4,9,9,1,1,6,3,6,2,9,4,6,1,5,7,0,2,0,5,0,2,8,1,6,1,9,1,2,5,6,9,5,1,6,1,7,6,3,9,8,9,6,0,2,8,2,2,2,7,1,7,0,4,8,1,3,5,9,4,4,8,9,5,3,1,5,2,1,4,9,4,0,4,7,9,9,9,6,1,6,5,4,1,3,2,8,0,6,3,3,0,1,8,7,3,8,5,2,5,4,7,6,8,8,7,1,1,6,1,7,4,1,1,6,5,1,9,8,1,2,7,6,7,2,8,1,1,6,7,4,8,6,6,0,4,3,3,0,7,4,2,5,4,4,5,2,2,4,5,9,8,2,6,4,9,6,6,9,1,4,0,2,4,6,4,5,2,6,4,7,8,3,7,4,5,9,9,8,2,3,4,4,2,1,8,3,3,6,5,0,9,3,7,2,0,2,9,4,2,0,7,7,7,3,8,0,1,5,2,9,4,7,4,8,8,7,5,5,7,0,7,3,5,5,3,1,0,6,0,1,8,0,4,6,3,0,9,3,2,7,1,7,5,9,1,6,5,8,8,1,4,6,5,1,8,0,5,4,6,0,8,1,0,5,0,7,2,6,6,5,8,6,1,9,8,5,4,2,1,0,8,4,0,3,0,7,6,3,5,8,5,7,4,2,8,6,2,7,7,3,2,7,9,2,2,6,9,6,5,3,8,1,9,7,1,9,2,3,0,8,8,5,5,3,5,7,3,8,9,9,5,1,5,7,9,7,8,2,1,1,8,4,7,2,8,1,8,6,6,0,1,7,3,2,8,4,3,4,3,3,4,3,6,5,1,2,2,8,2,0,7,7,0,7,3,8,9,6,8,3,3,3,6,0,7,9,3,4,3,2,1,2,7,6,5,7,2,9,5,4,7,6,0,7,5,6,4,5,3,6,6,2,4,9,2,8,8,8,0,9,2,6,0,4,5,6,4,0,0,3,7,0,0,9,9,3,0,8,7,5,9,3,5,2,2,6,9,2,4,1,5,7,7,3,7,1,8,6,1,9,9,5,5,4,3,6,7,9,0,5,1,1,5,3,9,7,0,8,8,5,3,3,9,9,4,5,9,0,6,7,6,8,0,6,4,4,5,5,5,4,0,7,6,3,0,1,9,0,5,6,9,9,2,2,5,1,6,7,3,2,0,4,2,5,1,0,3,9,8,3,8,7,6,3,3,6,3,9,1,4,3,0,5,6,1,1,1,3,4,4,0,0,2,1,2,8,6,3,9,7,1,3,1,6,5,2,4,3,1,0,9,4,7,5];for(var e=0;e<this.scrollBalls.length;e++)this.scrollBallIndex.push(e),this.scrollBalls[e].getComponent(cc.Sprite).spriteFrame=this.ballFrames[this.scrollStrip[e]]},initComplete:function(){this._super(),this.betArea.tableController=this,this.reset(),this.mySeat.tableController=this;for(var e=0;e<this.arrSeat.length;e++)this.arrSeat[e].tableController=this;this.updatePlayerCount(),this.gameCore.uiMng.addListener(l.SERVER_CMD_ROOM_UPDATE,this,this.onRoomUpdate),this.gameCore.uiMng.addListener("getWinGoRoomInfo",this,this.onGetWinGoRoomInfo),this.gameCore.uiMng.addListener("winGoChangeStatus",this,this.onStatusUpdate),this.gameCore.uiMng.addListener("winGoResult",this,this.onWinGoResult),this.gameCore.uiMng.addListener("getWinGoRankInfo",this,this.onWinGoRankInfo),this.gameCore.uiMng.addListener("PublicMessage",this,this.onMessageReceive),this.gameCore.uiMng.addListener("sendmessage",this,this.onMessageReceive),ITeenPatti.sendMsg("getWinGoRoomInfo")},onConnectResume:function(){this.reset(),this.betArea.reset(),ITeenPatti.sendMsg("getWinGoRoomInfo")},reset:function(){this.particpated=!1,this.betStarted=!1,this.resultBallId=null,this.resultBallIndex=null,this.historyList=[],this.historyContainer.removeAllChildren(),this.myWin=0,this.rankUsersWin=[],this.gameEndTime=0,this.remind.active=!1,this.betStatus1.node.active=!1,this.waitTip.active=!0,this.betBar.stopAllActions(),this.betBar.position=cc.v2(0,-146)},update:function(e){if(this.rankPanelDelay&&(this.rankPanelDelay-=e,this.rankPanelDelay<=0&&(this.rankPanelDelay=null)),this.gameEndTime&&this.gameEndTime>0){var t=this.gameEndTime-(new Date).getTime();t<0&&(t=0,this.gameEndTime=0);var i=Math.ceil(t/1e3);if(this.betConfigTime-i<=2)this.remind.active=!1,this.betStatus.node.active=!0,this.betStatus.spriteFrame=this.betStatusFrames[4-(this.betConfigTime-i)];else{if(this.betConfigTime-i>=3&&!this.betStarted){this.betStarted=!0,this.scrollSpeed=this.scrollSpeedMax;var n=this.betConfigTime-3;this.mySeat.timeBar.startCountDown((new Date).getTime()-1e3*(n-i),n,(n-i)/n),this.betArea.canBet=!0,this.betArea.startBet(this.hideRebet),this.betConfigTime-i==3?(this.betStatus.node.active=!0,this.betStatus.spriteFrame=this.betStatusFrames[0],this.betStatus.node.stopAllActions(),this.betStatus.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.betStatus.node.active=!1},this)))):(this.betStatus.node.active=!1,this.betStatus.node.stopAllActions())}this.remind.active=!0,this.remindLabel.string=c.t("label_text.wingo_countdown",{time:i})}}else this.remind.active=!1,this.betStatus1.node.active=!1;var a=e*this.scrollSpeed;if(this.scrollSpeed<=this.scrollSpeedMin&&null!=this.resultBallIndex){var o=99999;-1!=(m=this.scrollBallIndex.indexOf(this.resultBallIndex))&&(o=this.scrollBalls[m].position.x),o>=0&&o<a&&(a=o)}for(var s=0;s<this.scrollBalls.length;s++){var r=this.scrollBalls[s];if(r.position=cc.v2(r.position.x-a,r.position.y),r.position.x<=-290){var l=this.scrollBallIndex[this.scrollBallIndex.length-1],h=l==this.scrollStrip.length-1?0:l+1;this.scrollBallIndex.shift(),this.scrollBallIndex.push(h),r.getComponent(cc.Sprite).spriteFrame=this.ballFrames[this.scrollStrip[h]],r.position=cc.v2(r.position.x+600,r.position.y)}}if(this.scrollBalls.sort(function(e,t){return e.position.x-t.position.x}),null!=this.resultBallId){var u=this.scrollBallIndex[this.scrollBallIndex.length-1],d=this.resultBallIndex-u;d<0&&(d=this.scrollBallIndex.length+d),this.scrollSpeed=Math.max(this.scrollSpeedMin,this.scrollSpeed-e*Math.max(400,2*(this.scrollSpeed-this.scrollSpeedMin)));var m;o=99999;-1!=(m=this.scrollBallIndex.indexOf(this.resultBallIndex))&&(o=this.scrollBalls[m].position.x),this.scrollSpeed<=this.scrollSpeedMin&&0==o&&0==o&&(this.scrollSpeed=0,this.addHistory([this.resultBallId]),this.betArea.onResult(this.resultBallId,this.myWin,this.rankUsersWin),this.resultBallId=null,this.resultBallIndex=null)}},onRoomUpdate:function(e){for(var t=0;t<e.changedVars.length;t++)"rvuc"==e.changedVars[t]&&this.updatePlayerCount()},updatePlayerCount:function(){var e=ITeenPatti.getCurSFSRoom();e&&e.variables&&e.variables.rvuc&&(this.roomPlayerCountLabel.string=e.variables.rvuc.value)},onWinGoResult:function(e){if(!e.errorcode){e.expbar&&this.gameCore&&this.gameCore.userMng.myself&&(this.gameCore.userMng.myself.curExp=e.expbar.exp1,this.gameCore.userMng.myself.nextExp=e.expbar.exp2),this.scrollBallIndex=[];var t=e.resultBallId-15;t<0&&(t=this.scrollStrip.length+t);for(var i=0;i<this.scrollBalls.length;i++)this.scrollBallIndex.push(t),++t>=this.scrollStrip.length&&(t=0);var n=this.scrollStrip[e.resultBallId];if(e.skip)this.addHistory([n]);else if(e.background)for(this.gameCore.uiMng.dispatch(l.UI_CMD_PAUSE_CHIPS_REFRESH),this.scrollSpeed=this.scrollSpeedMin,this.resultBallIndex=e.resultBallId,this.resultBallId=n;null!=this.resultBallId;)this.update(.1);else this.gameCore.uiMng.dispatch(l.UI_CMD_PAUSE_CHIPS_REFRESH),this.resultBallIndex=e.resultBallId,this.resultBallId=n;e.skip||(this.myWin=e.winSum,this.rankUsersWin=table.createToArray(e.rankUserWinSum))}},onGetWinGoRoomInfo:function(e){LogUtil.info("onGetWinGoRoomInfo:"+e);var t=table.createToArray(e.betGearInfoList);if(this.mySeat.setBetOptions(t),this.betArea.betOptions=t,this.betConfigTime=e.betConfigTime,this.betArea.canBet=!1,!this.particpated)if(2==e.gameStatus){this.particpated=!0,this.gameEndTime=e.endTimeStamp,this.waitTip.active=!1,this.betBar.runAction(cc.moveTo(.3,cc.v2(0,0)));var i=this.gameEndTime-(new Date).getTime(),n=Math.ceil(i/1e3);this.betConfigTime-n>3&&(this.betArea.canBet=!0,this.betArea.startBet(!0),this.scrollSpeed=this.scrollSpeedMax)}else this.waitTip.active=!0;if(e.historyBallIdList&&this.addHistory(table.createToArray(e.historyBallIdList)),e.winGoBetInfoMsgList){var a=table.createToArray(e.winGoBetInfoMsgList);this.betArea.updateBetChips(a)}e.winGoRankInfoMsgList&&this.updateRankSeats(e.winGoRankInfoMsgList)},addHistory:function(e){for(var t=0;t<e.length;t++){var i=cc.instantiate(this.historyBall);i.getComponent(cc.Sprite).spriteFrame=this.smallBallFrames[e[t]],this.historyContainer.addChild(i),this.historyList.push(i)}for(;this.historyList.length>30;)this.historyList.shift().removeFromParent()},updateRankSeats:function(e,t){this.rankUserList=table.createToArray(e),t||this.updateRankSeatsShow()},updateRankSeatsShow:function(){for(var e=0;e<this.arrSeat.length;e++)this.rankUserList[e]?this.arrSeat[e].updateSeatState(this.rankUserList[e]):this.arrSeat[e].updateSeatState(null)},onStatusUpdate:function(e){if(!e.errorcode){if(e.winGoBetInfoMsgList){var t=table.createToArray(e.winGoBetInfoMsgList);this.betArea.updateBetChips(t)}e.winGoRankInfoMsgList&&this.updateRankSeats(e.winGoRankInfoMsgList,3==e.gameStatus),this.betArea.canBet=!1,2==e.gameStatus?(this.betStarted=!1,this.resultBallId=null,this.resultBallIndex=null,this.betArea.reset(),this.particpated=!0,this.waitTip.active&&(this.waitTip.active=!1,this.betBar.runAction(cc.moveTo(.3,cc.v2(0,0)))),this.hideRebet=e.hideRebet,this.gameEndTime=e.endTimeStamp):3==e.gameStatus&&(this.mySeat.timeBar.hide(),this.betArea.stopBet(),this.betStatus.node.active=!0,this.betStatus.spriteFrame=this.betStatusFrames[1],this.betStatus.node.stopAllActions(),this.betStatus.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.betStatus.node.active=!1},this))))}},openRankPanel:function(){this.isGettingRankInfo||this.rankPanelDelay&&this.rankPanelDelay>0||(this.isGettingRankInfo=!0,ITeenPatti.sendMsg("getWinGoRankInfo"))},onWinGoRankInfo:function(e){e.errorcode?this.isGettingRankInfo=!1:this.gameCore.uiMng.openUI(a.WINGO_LOTTERY_RANK,function(t){this.rankPanelDelay=.5,this.isGettingRankInfo=!1,t&&t.initRankList(table.createToArray(e.winGoRankInfoMsg))}.bind(this))},onMessageReceive:function(e,t){if(ITeenPatti.getCurPlayer()&&ITeenPatti.getCurPlayer().role&&ITeenPatti.getCurTable()){var i=""+t.id;if(!ITeenPatti.getCurRoom().msgHistory.isBlocked(i)){var n=this.getSeatWithUserId(i);if(n||i==ITeenPatti.getCurPlayer().strTPID){var a;if(n)(a=cc.instantiate(null==n||1==n.index||2==n.index?this.pfbMsgLeft:this.pfbMsgRight)).getComponent("MsgPop").setPopText(t.msg,"sendmessage"==e),1==n.index||n.index,a.setPosition(10,6),n.node.addChild(a);if(i==ITeenPatti.getCurPlayer().strTPID)(a=cc.instantiate(null==n||1==n.index||2==n.index?this.pfbMsgLeft:this.pfbMsgRight)).getComponent("MsgPop").setPopText(t.msg,"sendmessage"==e),a.setPosition(-270,120),this.mySeat.node.addChild(a)}}}},getSeatWithUserId:function(e,t){var i=this._super(e,t);return null==i&&this.mySeat.tpUser.userId==e&&(i=this.mySeat),t&&this.mySeat.tpUser.userId==e&&(i=this.mySeat),t&&null==i&&(i=this.otherSeat),i}}),cc._RF.pop()},{BaseTableController:"BaseTableController",Command:"Command",LanguageData:"LanguageData",UIInfo:"UIInfo",WingoLotteryBetArea:"WingoLotteryBetArea",WingoLotteryMySeat:"WingoLotteryMySeat",WingoLotteryOtherSeat:"WingoLotteryOtherSeat"}],WingoLotteryTable:[function(e,t,i){"use strict";cc._RF.push(t,"2c5e4fK6plLHYLjZlqe9sm4","WingoLotteryTable");e("TeenPattiUser");var n=e("WingoLotteryRoler"),a=e("Command"),o=e("BaseTable");cc.Class({extends:o,name:"WingoLotteryTable",properties:{},initCallback:function(){this.arrHandler={},this.arrHandler.RoomJoin=handler(this,this.onRoomJoin),this.arrHandler.RoomUpdate=handler(this,this.onRoomUpdate),this.arrHandler.UserEnterRoom=handler(this,this.onUserEnterRoom),this.arrHandler.UserExitRoom=handler(this,this.onUserExitRoom),this.arrHandler.UserUpdate=handler(this,this.onUserUpdate),this.arrHandler[a.SERVER_CMD_UPDATE_BONUS]=handler(this,this.onUserLevelUp),this.arrHandler.winGoResult=handler(this,this.onRoundFinish)},onRoundFinish:function(e,t){t.expbar&&(this.curUserLevel=t.expbar.level,null!=t.expbar.levelbonus&&(this.nextLevel=t.expbar.levelbonus.level,this.nextLevelBonus=t.expbar.levelbonus.bonus))},getRoler:function(e){return new n(e)},onPlayerReady:function(e){for(var t=0;t<this.arrUser.length;t++)e.playerId==this.arrUser[t].strTPID&&(this.users[t].role.ready=!0)}}),cc._RF.pop()},{BaseTable:"BaseTable",Command:"Command",TeenPattiUser:"TeenPattiUser",WingoLotteryRoler:"WingoLotteryRoler"}],WithdrawChips:[function(e,t,i){"use strict";cc._RF.push(t,"7467fuqzOlM9LpxL00Iku4G","WithdrawChips");var n=e("Command"),a=e("BaseEditboxUI");cc.Class({extends:a,properties:{editBox:cc.EditBox},onLoad:function(){this._super(),this.editboxOffsetY=20},onChipsToDrawChange:function(e,t){if(""!=e&&e){var i=new String(e);i=i.replace(new RegExp("[^0-9]","g"),"");var n=Math.max(1,Math.min(200,parseInt(i)));t.string=n}},onWithdrawBtnClk:function(e){""!=this.editBox.string&&this.editBox.string&&this.gameCore.gameMng.hasEnoughBankBalance(1e7*parseInt(this.editBox.string))&&this.gameCore.userMng.transactionWithPassword(handler(this,function(){var e={userId:this.gameCore.userMng.myself.strTPID,chips:1e7*parseInt(this.editBox.string)};ITeenPatti.sendMsg(n.SERVER_CMD_BANK_TO_CHIPS,e),this.showNetworkDelayLoading()}))},showDelayLoading:function(){this._super(cc.v2(0,0))}}),cc._RF.pop()},{BaseEditboxUI:"BaseEditboxUI",Command:"Command"}],aeprotobuf:[function(e,t,i){"use strict";cc._RF.push(t,"e7493Db+FhGOK8sG4pWW1vH","aeprotobuf"),function(){var e=window.dcodeIO||{};if(!e.ProtoBuf)return null;var i=(e?e.ProtoBuf:{}).newBuilder({}).import({package:"proto",syntax:"proto2",options:{optimize_for:"LITE_RUNTIME",java_package:"com.aemobile.patti.room.bean",java_outer_classname:"PattiExtraRoomProto"},messages:[{name:"Sfstranslate",syntax:"proto2",fields:[{rule:"repeated",type:"Sfstable",name:"tbl",id:1},{rule:"repeated",type:"bool",name:"isbool",id:2},{rule:"repeated",type:"int32",name:"isint",id:3},{rule:"repeated",type:"string",name:"isstr",id:4},{rule:"repeated",type:"string",name:"isobj",id:5},{rule:"repeated",type:"double",name:"isdouble",id:6}],messages:[{name:"Sfstable",syntax:"proto2",fields:[{rule:"required",type:"string",name:"key",id:1},{rule:"required",type:"int32",name:"style",id:2},{rule:"optional",type:"int32",name:"index",id:3}]}]},{name:"C2STrack",syntax:"proto2",fields:[{rule:"repeated",type:"Track",name:"track",id:1}],messages:[{name:"Track",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"trackid",id:1}]}]},{name:"Common_I",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"i",id:1}]},{name:"Common_L",syntax:"proto2",fields:[{rule:"optional",type:"int64",name:"i",id:1}]},{name:"Common_S",syntax:"proto2",fields:[{rule:"required",type:"string",name:"i",id:1}]},{name:"Common_Boolean",syntax:"proto2",fields:[{rule:"required",type:"bool",name:"i",id:1}]},{name:"Common_IS",syntax:"proto2",fields:[{rule:"repeated",type:"int32",name:"is",id:1}]},{name:"Common_LS",syntax:"proto2",fields:[{rule:"repeated",type:"int64",name:"is",id:1}]},{name:"Common_SS",syntax:"proto2",fields:[{rule:"repeated",type:"string",name:"is",id:1}]},{name:"Common_F",syntax:"proto2",fields:[{rule:"required",type:"float",name:"f",id:1}]},{name:"Common_LAS",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"l",id:1},{rule:"required",type:"string",name:"s",id:2}]},{name:"S2C_Common_Message",syntax:"proto2",fields:[{rule:"required",type:"string",name:"mess",id:1},{rule:"required",type:"string",name:"stage",id:2},{rule:"optional",type:"int32",name:"errorcode",id:3},{rule:"optional",type:"int32",name:"time",id:4}]},{name:"S2C_Common_Change",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"change",id:1},{rule:"required",type:"int64",name:"final",id:2}]},{name:"S2C_Common_ExpBar",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"exp1",id:1},{rule:"optional",type:"int32",name:"exp2",id:2},{rule:"required",type:"int32",name:"level",id:3},{rule:"optional",type:"S2C_Common_LevelBonus",name:"levelbonus",id:4}]},{name:"S2C_Common_UserInfo",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"id",id:1},{rule:"required",type:"string",name:"name",id:2},{rule:"required",type:"int32",name:"icon",id:3},{rule:"required",type:"string",name:"facebookID",id:4},{rule:"required",type:"int64",name:"chips",id:5},{rule:"required",type:"int32",name:"level",id:6},{rule:"optional",type:"int32",name:"chipsWin",id:7},{rule:"optional",type:"int32",name:"handsWin",id:8},{rule:"optional",type:"int32",name:"friendsCount",id:9},{rule:"optional",type:"int32",name:"exp1",id:11},{rule:"optional",type:"int32",name:"exp2",id:12},{rule:"optional",type:"bool",name:"isDegree",id:13},{rule:"optional",type:"int32",name:"degreeFreeTime",id:14},{rule:"optional",type:"string",name:"country",id:15},{rule:"optional",type:"string",name:"newicon",id:16},{rule:"optional",type:"int64",name:"newchipsWin",id:17},{rule:"optional",type:"string",name:"code",id:18},{rule:"optional",type:"int64",name:"freeze",id:19},{rule:"optional",type:"int32",name:"goldvip",id:20},{rule:"optional",type:"int32",name:"goldvipexp",id:21},{rule:"optional",type:"int64",name:"gold",id:22}]},{name:"S2C_Base_UserInfo",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"id",id:1},{rule:"required",type:"string",name:"name",id:2},{rule:"required",type:"int32",name:"icon",id:3},{rule:"optional",type:"string",name:"newicon",id:4},{rule:"required",type:"string",name:"facebookID",id:5},{rule:"optional",type:"int32",name:"playerId",id:6},{rule:"optional",type:"bool",name:"isaway",id:7},{rule:"optional",type:"bool",name:"isingame",id:8},{rule:"optional",type:"int32",name:"score",id:9}]},{name:"S2C_Fri_UserInfo",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"id",id:1},{rule:"required",type:"string",name:"name",id:2},{rule:"required",type:"int32",name:"icon",id:3},{rule:"required",type:"string",name:"facebookID",id:4},{rule:"required",type:"int64",name:"chipsWin",id:5},{rule:"required",type:"int32",name:"handsWin",id:6},{rule:"required",type:"int32",name:"relation",id:7},{rule:"required",type:"int64",name:"chips",id:8},{rule:"optional",type:"string",name:"newicon",id:9}]},{name:"S2C_Ai_Msg",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"id",id:1},{rule:"required",type:"int32",name:"type",id:2},{rule:"required",type:"string",name:"roomname",id:3}]},{name:"TeamOdds",syntax:"proto2",fields:[{rule:"required",type:"string",name:"team",id:1},{rule:"required",type:"double",name:"odds",id:2}]},{name:"S2C_Common_LevelBonus",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"level",id:1},{rule:"required",type:"int64",name:"bonus",id:2}]},{name:"S2C_WinnerBetError",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"gameid",id:1},{rule:"required",type:"int32",name:"amount",id:2},{rule:"required",type:"TeamOdds",name:"teamodds",id:3},{rule:"required",type:"double",name:"errorodds",id:4}]},{name:"S2C_WinnerBet",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"betid",id:1},{rule:"required",type:"int32",name:"amount",id:2},{rule:"required",type:"TeamOdds",name:"teamodds",id:3},{rule:"required",type:"int32",name:"createtime",id:4},{rule:"required",type:"int32",name:"result",id:5},{rule:"optional",type:"string",name:"team1",id:6},{rule:"optional",type:"string",name:"team2",id:7},{rule:"optional",type:"int64",name:"returnAmount",id:8}]},{name:"C2S_WinnerBet",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"gameid",id:1},{rule:"required",type:"int32",name:"amount",id:2},{rule:"required",type:"TeamOdds",name:"teamodds",id:3}]},{name:"S2C_Cricket",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"required",type:"int32",name:"starttime",id:2},{rule:"repeated",type:"TeamOdds",name:"teams",id:3},{rule:"required",type:"string",name:"location",id:4},{rule:"optional",type:"int32",name:"state",id:5},{rule:"optional",type:"string",name:"roomname",id:6}]},{name:"S2C_Task_Completed",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"order",id:1},{rule:"required",type:"int32",name:"type",id:2}]},{name:"S2C_UserVipStar",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"start",id:1},{rule:"repeated",type:"int32",name:"claimetime",id:2}]},{name:"UserCards",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"repeated",type:"int32",name:"cards",id:2},{rule:"optional",type:"int32",name:"degree",id:3},{rule:"optional",type:"int32",name:"num",id:4}]},{name:"S2C_Next",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"next_id",id:1},{rule:"required",type:"int32",name:"wait_time",id:2}]},{name:"S2C_Start",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"bankerId",id:1},{rule:"required",type:"int32",name:"startId",id:2},{rule:"repeated",type:"int32",name:"cards",id:3},{rule:"optional",type:"int32",name:"commonCard",id:4},{rule:"optional",type:"string",name:"mode",id:5}]},{name:"S2C_Show",syntax:"proto2",fields:[{rule:"repeated",type:"UserCards",name:"user_cards",id:1},{rule:"repeated",type:"int32",name:"win_id",id:2},{rule:"repeated",type:"int32",name:"looser_id",id:3},{rule:"optional",type:"bool",name:"is_limit",id:4}]},{name:"S2C_Game_End",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"exp",id:1},{rule:"required",type:"S2C_Common_ExpBar",name:"expbar",id:2},{rule:"optional",type:"S2C_Common_Change",name:"bonus",id:3}]},{name:"S2C_Deal_Pool",syntax:"proto2",fields:[{rule:"repeated",type:"int32",name:"playerId",id:1},{rule:"required",type:"int64",name:"num",id:2}]},{name:"S2C_Gamble",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"required",type:"int64",name:"num",id:2},{rule:"required",type:"int32",name:"action",id:3},{rule:"required",type:"int32",name:"pool",id:4},{rule:"optional",type:"int64",name:"newPool",id:5}]},{name:"S2C_Join",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"status",id:4},{rule:"required",type:"int32",name:"bankerId",id:1},{rule:"required",type:"int32",name:"nextId",id:2},{rule:"optional",type:"int32",name:"lastId",id:8},{rule:"optional",type:"int32",name:"lastOpe",id:9},{rule:"repeated",type:"int32",name:"playIds",id:3},{rule:"optional",type:"int64",name:"delay",id:5},{rule:"optional",type:"int64",name:"sideshowdelay",id:6},{rule:"repeated",type:"UserCards",name:"user_cards",id:7},{rule:"optional",type:"int32",name:"sideshowed",id:11},{rule:"repeated",type:"int32",name:"userstatus",id:10},{rule:"optional",type:"int32",name:"commoncard",id:12},{rule:"repeated",type:"int64",name:"lastbet",id:13},{rule:"optional",type:"string",name:"mode",id:14},{rule:"optional",type:"int32",name:"part",id:15},{rule:"optional",type:"int32",name:"totalParts",id:16},{rule:"optional",type:"int64",name:"dxJackpot",id:17}]},{name:"S2C_Degree",syntax:"proto2",fields:[{rule:"required",type:"bool",name:"isFree",id:1},{rule:"required",type:"int32",name:"degree",id:2},{rule:"required",type:"int32",name:"num",id:3}]},{name:"S2C_Invite",syntax:"proto2",fields:[{rule:"required",type:"string",name:"roomName",id:1},{rule:"required",type:"S2C_Common_UserInfo",name:"userinfo",id:2}]},{name:"S2C_Profile",syntax:"proto2",fields:[{rule:"required",type:"string",name:"name",id:1},{rule:"required",type:"int32",name:"icon",id:2},{rule:"required",type:"int64",name:"chips",id:3},{rule:"required",type:"int32",name:"level",id:4},{rule:"required",type:"int32",name:"friends",id:5},{rule:"optional",type:"int32",name:"chips_win",id:6},{rule:"optional",type:"int32",name:"hands_num",id:7},{rule:"optional",type:"int32",name:"hands_win",id:8},{rule:"required",type:"int64",name:"user_id",id:9},{rule:"optional",type:"int64",name:"new_chips_win",id:10},{rule:"optional",type:"string",name:"newicon",id:11},{rule:"optional",type:"S2C_Common_LevelBonus",name:"levelbonus",id:12},{rule:"optional",type:"int32",name:"createDate",id:13},{rule:"optional",type:"int32",name:"relation",id:14},{rule:"required",type:"string",name:"id",id:15}]},{name:"C2S_Msg",syntax:"proto2",fields:[{rule:"repeated",type:"int64",name:"id",id:1},{rule:"required",type:"string",name:"msg",id:2}]},{name:"S2C_Msg",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"id",id:1},{rule:"required",type:"string",name:"msg",id:2},{rule:"required",type:"string",name:"name",id:3}]},{name:"C2S_Gift",syntax:"proto2",fields:[{rule:"repeated",type:"int64",name:"accpet_id",id:1},{rule:"required",type:"int32",name:"gift_id",id:2}]},{name:"S2C_Gift",syntax:"proto2",fields:[{rule:"repeated",type:"int64",name:"accept_id",id:1},{rule:"required",type:"int32",name:"gift_id",id:2},{rule:"required",type:"int64",name:"send_id",id:3}]},{name:"S2C_Tip",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"id",id:1},{rule:"required",type:"int32",name:"chip",id:2}]},{name:"S2C_NativeAd",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"amount",id:1},{rule:"optional",type:"string",name:"chipload",id:2}]},{name:"C2S_TestC",syntax:"proto2",fields:[{rule:"repeated",type:"int32",name:"card",id:1}]},{name:"War_User_Info",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"userId",id:1},{rule:"required",type:"int64",name:"sideAmount",id:2},{rule:"required",type:"int64",name:"priAmount",id:3},{rule:"optional",type:"int32",name:"card",id:4},{rule:"optional",type:"bool",name:"isReady",id:5}]},{name:"S2C_Start_War",syntax:"proto2",fields:[{rule:"repeated",type:"War_User_Info",name:"user",id:1},{rule:"required",type:"int32",name:"roomStatus",id:2},{rule:"optional",type:"int32",name:"downTime",id:3}]},{name:"S2C_All_Card",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"commonCard",id:1},{rule:"repeated",type:"War_User_Info",name:"user",id:2}]},{name:"C2S_Casino_Bet",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"bet",id:1},{rule:"required",type:"int32",name:"type",id:2}]},{name:"S2C_Casino_Bet",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"bet",id:1},{rule:"required",type:"int32",name:"type",id:2},{rule:"required",type:"int64",name:"playerId",id:3}]},{name:"S2C_War_Bet",syntax:"proto2",fields:[{rule:"required",type:"bool",name:"bet",id:1},{rule:"required",type:"int64",name:"amount",id:2},{rule:"required",type:"int64",name:"playerId",id:3}]},{name:"S2C_AB_Banker",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"time",id:1},{rule:"required",type:"int32",name:"playerId",id:2},{rule:"repeated",type:"int32",name:"is",id:3}]},{name:"S2C_AB_Select",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"banker",id:1},{rule:"required",type:"int32",name:"commonCard",id:2},{rule:"required",type:"int32",name:"index",id:3}]},{name:"AB_User",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"id",id:1},{rule:"required",type:"bool",name:"isReady",id:2},{rule:"required",type:"int64",name:"a",id:4},{rule:"required",type:"int64",name:"b",id:5}]},{name:"S2C_Start_AB",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"roomStatus",id:1},{rule:"optional",type:"int32",name:"downTime",id:2},{rule:"repeated",type:"AB_User",name:"users",id:3},{rule:"required",type:"int32",name:"commoncard",id:4},{rule:"repeated",type:"int32",name:"a",id:5},{rule:"repeated",type:"int32",name:"b",id:6},{rule:"repeated",type:"int32",name:"is",id:7},{rule:"repeated",type:"Award_User",name:"awarduser",id:8}]},{name:"S2C_AB_Bet",syntax:"proto2",fields:[{rule:"required",type:"AB_Bet",name:"bet",id:1},{rule:"required",type:"int64",name:"userId",id:2}]},{name:"S2C_AB_Deal",syntax:"proto2",fields:[{rule:"repeated",type:"int32",name:"andar",id:1},{rule:"repeated",type:"int32",name:"bahar",id:2},{rule:"repeated",type:"Award_User",name:"user",id:3},{rule:"optional",type:"bool",name:"notfinish",id:4}]},{name:"Award_User",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"userId",id:1},{rule:"required",type:"int64",name:"a",id:2},{rule:"required",type:"int64",name:"b",id:3}]},{name:"AB_Bet",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"bet",id:1},{rule:"required",type:"bool",name:"site",id:2}]},{name:"S2C_AB_JIS",syntax:"proto2",fields:[{rule:"required",type:"S2C_Start_AB",name:"start",id:1},{rule:"optional",type:"int32",name:"bankerId",id:2}]},{name:"S2C_Delux_Mode",syntax:"proto2",fields:[{rule:"required",type:"string",name:"mode",id:1},{rule:"required",type:"int32",name:"waittime",id:2}]},{name:"S2C_Start_Delux",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"bankerId",id:1},{rule:"required",type:"int32",name:"waittime",id:2}]},{name:"S2C_Deluxe_Jackpot",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"mtype",id:1},{rule:"required",type:"int64",name:"num",id:2},{rule:"required",type:"int64",name:"cur",id:3},{rule:"optional",type:"int32",name:"hitId",id:4},{rule:"repeated",type:"int32",name:"hitjs",id:5},{rule:"optional",type:"string",name:"hitName",id:6},{rule:"optional",type:"bool",name:"currRoom",id:7}]},{name:"S2C_BankerAB_End",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"name",id:3},{rule:"optional",type:"int32",name:"icon",id:4},{rule:"optional",type:"string",name:"newicon",id:5},{rule:"optional",type:"string",name:"facebookID",id:6},{rule:"optional",type:"int64",name:"wins",id:7}]},{name:"C2S_SessionBet",syntax:"proto2",fields:[{rule:"required",type:"SessionBet",name:"bet",id:1},{rule:"required",type:"int32",name:"gameid",id:2},{rule:"required",type:"string",name:"socrecheck",id:3}]},{name:"SessionBet",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"amount",id:1},{rule:"required",type:"int32",name:"sessionid",id:2},{rule:"required",type:"int32",name:"score",id:3},{rule:"required",type:"bool",name:"over",id:4},{rule:"required",type:"string",name:"team",id:5}]},{name:"C2S_Match",syntax:"proto2",fields:[{rule:"optional",type:"Common_LS",name:"winIds",id:1},{rule:"optional",type:"Common_LS",name:"sessionIds",id:2}]},{name:"S2C_MatchList",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Match",name:"game",id:1}]},{name:"S2C_Match",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"gameid",id:1},{rule:"required",type:"string",name:"team1",id:2},{rule:"required",type:"string",name:"team2",id:3},{rule:"repeated",type:"S2C_SessionBet",name:"sessionbets",id:4},{rule:"repeated",type:"S2C_WinnerBet",name:"winnerbets",id:5}]},{name:"S2C_SessionBet",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"betid",id:1},{rule:"required",type:"SessionBet",name:"bet",id:2},{rule:"required",type:"int32",name:"createtime",id:3},{rule:"required",type:"int32",name:"result",id:4},{rule:"required",type:"int32",name:"score",id:5}]},{name:"S2C_Bets",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_SessionBet",name:"sessionbets",id:1},{rule:"repeated",type:"S2C_WinnerBet",name:"winnerbets",id:2},{rule:"optional",type:"string",name:"team1",id:3},{rule:"optional",type:"string",name:"team2",id:4}]},{name:"C2S_ClaimBet",syntax:"proto2",fields:[{rule:"required",type:"Common_LS",name:"sessionbet",id:1},{rule:"required",type:"Common_LS",name:"winnerbet",id:2}]},{name:"S2C_CricketList",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Cricket",name:"cricket",id:1}]},{name:"C2S_Football_Match",syntax:"proto2",fields:[{rule:"optional",type:"Common_LS",name:"winIds",id:1}]},{name:"S2C_Football_MatchList",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Football_Match",name:"game",id:1}]},{name:"S2C_Football_Match",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"gameid",id:1},{rule:"required",type:"string",name:"team1",id:2},{rule:"required",type:"string",name:"team2",id:3},{rule:"required",type:"int32",name:"teamnum1",id:4},{rule:"required",type:"int32",name:"teamnum2",id:5},{rule:"repeated",type:"S2C_WinnerBet",name:"winnerbets",id:6},{rule:"optional",type:"bool",name:"isdraw",id:7}]},{name:"S2C_Football_BetsList",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Football_Bets",name:"betslist",id:1}]},{name:"S2C_Football_Bets",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_WinnerBet",name:"winnerbets",id:1},{rule:"optional",type:"string",name:"team1",id:2},{rule:"optional",type:"string",name:"team2",id:3},{rule:"optional",type:"int32",name:"teamnum1",id:4},{rule:"optional",type:"int32",name:"teamnum2",id:5}]},{name:"C2S_Football_ClaimBet",syntax:"proto2",fields:[{rule:"required",type:"Common_LS",name:"winnerbet",id:1}]},{name:"S2C_FootballList",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Football",name:"football",id:1}]},{name:"S2C_Football",syntax:"proto2",fields:[{rule:"required",type:"string",name:"roomname",id:1},{rule:"required",type:"string",name:"team1",id:2},{rule:"required",type:"string",name:"team2",id:3},{rule:"required",type:"int32",name:"teamnum1",id:4},{rule:"required",type:"int32",name:"teamnum2",id:5},{rule:"required",type:"int32",name:"starttime",id:6},{rule:"required",type:"int32",name:"state",id:7}]},{name:"C2S_Site_Bet",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"site",id:1},{rule:"required",type:"int64",name:"chips",id:2}]},{name:"S2C_Site_Bet",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"site",id:1},{rule:"required",type:"int64",name:"chips",id:2},{rule:"required",type:"int64",name:"userId",id:3}]},{name:"S2C_Count",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"chips",id:1},{rule:"repeated",type:"Count",name:"count",id:2}]},{name:"S2C_User_Cards",syntax:"proto2",fields:[{rule:"repeated",type:"User_Card",name:"cards",id:1}]},{name:"User_Card",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"site",id:1},{rule:"repeated",type:"int32",name:"cards",id:2},{rule:"optional",type:"bool",name:"win",id:3},{rule:"optional",type:"int64",name:"chips",id:4},{rule:"repeated",type:"Count",name:"count",id:5}]},{name:"Count",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"userId",id:1},{rule:"required",type:"int64",name:"chips",id:2}]},{name:"Start_Patti_War",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"downTime",id:1},{rule:"repeated",type:"int32",name:"chipsNum",id:2}]},{name:"S2C_Poker_Status",syntax:"proto2",fields:[{rule:"repeated",type:"Player",name:"ps",id:1},{rule:"required",type:"bool",name:"isStart",id:2},{rule:"required",type:"int32",name:"roundId",id:3},{rule:"optional",type:"int32",name:"nextId",id:4},{rule:"optional",type:"int64",name:"remainTime",id:5},{rule:"repeated",type:"int32",name:"cards",id:6},{rule:"repeated",type:"int64",name:"pools",id:7},{rule:"optional",type:"int32",name:"endId",id:8},{rule:"optional",type:"int32",name:"banker",id:9},{rule:"optional",type:"int64",name:"currentbet",id:10},{rule:"optional",type:"int64",name:"currentraise",id:11},{rule:"repeated",type:"int32",name:"usercards",id:12}],messages:[{name:"Player",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"required",type:"int64",name:"chips",id:2},{rule:"required",type:"bool",name:"isIngame",id:3},{rule:"required",type:"bool",name:"isFold",id:4},{rule:"required",type:"int64",name:"totalbet",id:5},{rule:"required",type:"int32",name:"status",id:6}]}]},{name:"S2C_Poker_Start",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"roundId",id:1},{rule:"repeated",type:"Start_Player",name:"ps",id:2},{rule:"repeated",type:"int32",name:"cards",id:3}],messages:[{name:"Start_Player",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"required",type:"int64",name:"chips",id:2},{rule:"optional",type:"int32",name:"bet",id:3}]}]},{name:"S2C_Poker_Ope",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"roundId",id:1},{rule:"required",type:"int32",name:"playId",id:2},{rule:"optional",type:"int32",name:"bet",id:3},{rule:"required",type:"int64",name:"chips",id:4},{rule:"optional",type:"int64",name:"nbet",id:5}]},{name:"S2C_Poker_Next",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"nextId",id:1},{rule:"required",type:"int32",name:"waitTime",id:2},{rule:"required",type:"int32",name:"roundId",id:3}]},{name:"S2C_Poker_Perflop",syntax:"proto2",fields:[{rule:"repeated",type:"int32",name:"cards",id:1},{rule:"repeated",type:"int64",name:"pools",id:2}]},{name:"S2C_Poker_Compare",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"roundId",id:1},{rule:"repeated",type:"Compare_Player",name:"ps",id:2}],messages:[{name:"Compare_Player",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"repeated",type:"int32",name:"group",id:2},{rule:"repeated",type:"int32",name:"cards",id:3},{rule:"required",type:"bool",name:"isfold",id:4}]}]},{name:"S2C_Poker_End",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"roundId",id:1},{rule:"repeated",type:"Win_Player",name:"ps",id:2}],messages:[{name:"Win_Player",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"required",type:"int64",name:"chips",id:2},{rule:"repeated",type:"int32",name:"wins",id:3},{rule:"repeated",type:"int32",name:"cards",id:4},{rule:"repeated",type:"int64",name:"nwins",id:5}]}]},{name:"S2C_Poker_Exp",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"exp",id:1},{rule:"required",type:"S2C_Common_ExpBar",name:"expbar",id:2},{rule:"optional",type:"S2C_Common_Change",name:"bonus",id:3}]},{name:"S2C_Rummy_Join",syntax:"proto2",fields:[{rule:"required",type:"bool",name:"isStart",id:8},{rule:"optional",type:"int64",name:"remainTime",id:9},{rule:"optional",type:"int32",name:"bankerId",id:1},{rule:"optional",type:"int32",name:"nextId",id:2},{rule:"repeated",type:"int32",name:"commonCard",id:3},{rule:"optional",type:"int32",name:"jokerCard",id:4},{rule:"repeated",type:"Player",name:"players",id:5},{rule:"optional",type:"int32",name:"roundId",id:6},{rule:"optional",type:"int32",name:"leftover",id:7},{rule:"optional",type:"int32",name:"pool",id:10},{rule:"repeated",type:"int32",name:"cards",id:13},{rule:"optional",type:"bool",name:"isFirst",id:14},{rule:"optional",type:"int32",name:"status",id:15},{rule:"optional",type:"int32",name:"delayTime",id:16},{rule:"repeated",type:"S2C_Base_UserInfo",name:"user",id:11},{rule:"optional",type:"RummyGroup",name:"group",id:12},{rule:"optional",type:"int32",name:"allRemainTime",id:17},{rule:"optional",type:"int32",name:"tourGameTime",id:18},{rule:"optional",type:"int32",name:"tourStatus",id:19}],messages:[{name:"Player",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"optional",type:"int32",name:"score",id:2},{rule:"optional",type:"int32",name:"status",id:3}]}]},{name:"S2C_Rummy_Next",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"next_id",id:1},{rule:"required",type:"int32",name:"wait_time",id:2},{rule:"required",type:"int32",name:"roundId",id:3},{rule:"optional",type:"int32",name:"extra_time",id:5}]},{name:"S2C_Rummy_Start",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"bankerId",id:1},{rule:"repeated",type:"int32",name:"cards",id:2},{rule:"required",type:"int32",name:"commonCard",id:3},{rule:"required",type:"int32",name:"jokerCard",id:4},{rule:"repeated",type:"int32",name:"playersId",id:5},{rule:"required",type:"int32",name:"roundId",id:6},{rule:"required",type:"int32",name:"leftover",id:7}]},{name:"S2C_Rummy_Drop",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"required",type:"int32",name:"roundId",id:2},{rule:"optional",type:"int64",name:"num",id:3}]},{name:"S2C_Rummy_Draw",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"required",type:"bool",name:"style",id:2},{rule:"optional",type:"int32",name:"card",id:3},{rule:"required",type:"int32",name:"roundId",id:4},{rule:"optional",type:"int32",name:"leftover",id:5},{rule:"optional",type:"int32",name:"topdiscard",id:6}]},{name:"C2S_Rummy_Discard",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"card",id:1},{rule:"optional",type:"int64",name:"pv",id:2}]},{name:"S2C_Rummy_Discard",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"required",type:"int32",name:"card",id:2},{rule:"required",type:"int32",name:"roundId",id:3},{rule:"optional",type:"int64",name:"pv",id:4}]},{name:"Group",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"style",id:1},{rule:"repeated",type:"int32",name:"cards",id:2}]},{name:"RummyGroup",syntax:"proto2",fields:[{rule:"optional",type:"Group",name:"firstlife",id:1},{rule:"optional",type:"Group",name:"secondlife",id:2},{rule:"repeated",type:"Group",name:"otherlife",id:3}]},{name:"C2S_Rummy_Towin",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"card",id:1},{rule:"required",type:"RummyGroup",name:"group",id:2},{rule:"required",type:"bool",name:"result",id:3}]},{name:"C2S_Rummy_Declare",syntax:"proto2",fields:[{rule:"required",type:"RummyGroup",name:"group",id:1},{rule:"optional",type:"bool",name:"result",id:2}]},{name:"S2C_Rummy_Declare",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"optional",type:"bool",name:"result",id:2},{rule:"required",type:"int32",name:"roundId",id:3},{rule:"optional",type:"int64",name:"num",id:4}]},{name:"S2C_Rummy_End",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"exp",id:1},{rule:"required",type:"S2C_Common_ExpBar",name:"expbar",id:2},{rule:"optional",type:"S2C_Common_Change",name:"bonus",id:3},{rule:"required",type:"int32",name:"roundId",id:4}]},{name:"S2C_Rummy_ShowIntegral",syntax:"proto2",fields:[{rule:"repeated",type:"Integral",name:"integral",id:1},{rule:"required",type:"int32",name:"roundId",id:2},{rule:"optional",type:"bool",name:"isTimeLimit",id:3},{rule:"optional",type:"int32",name:"nextNum",id:4}],messages:[{name:"Integral",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"required",type:"int64",name:"num",id:2},{rule:"optional",type:"RummyGroup",name:"group",id:3},{rule:"required",type:"int64",name:"userId",id:4},{rule:"optional",type:"int64",name:"finalscore",id:5}]}]},{name:"S2C_Rummy_DealResult",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"order",id:1}]},{name:"S2C_Rummy_PoolResult",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"order",id:1},{rule:"optional",type:"int64",name:"win",id:2}]},{name:"S2C_Rummy_PoolScore",syntax:"proto2",fields:[{rule:"repeated",type:"Pool_Score",name:"users",id:1}],messages:[{name:"Pool_Score",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"id",id:1},{rule:"repeated",type:"int32",name:"num",id:2}]}]},{name:"S2C_RummyTour_List",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_RummyTour",name:"tour",id:1}],messages:[{name:"S2C_RummyTour",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"required",type:"string",name:"name",id:2},{rule:"required",type:"int32",name:"opentime",id:3},{rule:"required",type:"int32",name:"starttime",id:4},{rule:"required",type:"int32",name:"players",id:5},{rule:"required",type:"int32",name:"inplayers",id:6},{rule:"required",type:"int32",name:"status",id:7},{rule:"required",type:"int32",name:"fee",id:8},{rule:"required",type:"int32",name:"ticketfee",id:9},{rule:"required",type:"int32",name:"type",id:10},{rule:"required",type:"int32",name:"wins",id:11},{rule:"required",type:"bool",name:"signed",id:12},{rule:"required",type:"int32",name:"countdown",id:13},{rule:"optional",type:"int32",name:"order",id:14},{rule:"optional",type:"int32",name:"chips",id:15}]}]},{name:"S2C_RummyTour_Detail",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"optional",type:"string",name:"tickets",id:2},{rule:"optional",type:"int32",name:"currentround",id:3},{rule:"optional",type:"string",name:"wincount",id:4},{rule:"optional",type:"string",name:"wins",id:5},{rule:"required",type:"string",name:"name",id:6},{rule:"required",type:"int32",name:"opentime",id:7},{rule:"required",type:"int32",name:"starttime",id:8},{rule:"required",type:"int32",name:"players",id:9},{rule:"optional",type:"int32",name:"inplayers",id:10},{rule:"required",type:"int32",name:"status",id:11},{rule:"required",type:"int32",name:"fee",id:12},{rule:"required",type:"int32",name:"totalwins",id:13},{rule:"required",type:"int32",name:"totalround",id:14},{rule:"required",type:"int32",name:"time",id:15},{rule:"optional",type:"int32",name:"order",id:16},{rule:"optional",type:"int32",name:"award",id:17},{rule:"repeated",type:"S2C_RummyTour_Result",name:"result",id:18}]},{name:"S2C_RummyTour_Result",syntax:"proto2",fields:[{rule:"required",type:"string",name:"userName",id:1},{rule:"optional",type:"int32",name:"round",id:2},{rule:"optional",type:"int32",name:"win",id:3},{rule:"optional",type:"int32",name:"ticket",id:4},{rule:"required",type:"int32",name:"order",id:5}]},{name:"S2C_RummyTour_UpdateList",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_RummyTour_Update",name:"tour",id:1}],messages:[{name:"S2C_RummyTour_Update",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"optional",type:"int32",name:"inplayers",id:2},{rule:"optional",type:"int32",name:"status",id:3},{rule:"optional",type:"int32",name:"currentround",id:4},{rule:"optional",type:"int32",name:"countdown",id:5}]}]},{name:"C2S_RummyTour_Signup",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"optional",type:"bool",name:"withdraw",id:2}]},{name:"S2C_RummyTour_Samescore",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_RummyTour_Card",name:"cards",id:1},{rule:"required",type:"int32",name:"win",id:2}],messages:[{name:"S2C_RummyTour_Card",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerid",id:1},{rule:"required",type:"int32",name:"card",id:2}]}]},{name:"S2C_RummyTour_Round_Result",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"order",id:1},{rule:"required",type:"int32",name:"award",id:2},{rule:"required",type:"int32",name:"tourId",id:3},{rule:"required",type:"int32",name:"ticket",id:4}]},{name:"S2C_RummyTour_Next",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"tourId",id:1},{rule:"required",type:"bool",name:"next",id:2}]},{name:"S2C_Rummy_Tour_Tickets",syntax:"proto2",fields:[{rule:"repeated",type:"Ticket",name:"tickets",id:1}],messages:[{name:"Ticket",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"type",id:1},{rule:"required",type:"int32",name:"num",id:2}]}]},{name:"S2C_Tour_Score",syntax:"proto2",fields:[{rule:"repeated",type:"Score",name:"userScore",id:1}],messages:[{name:"Score",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"userId",id:1},{rule:"required",type:"int32",name:"score",id:2}]}]},{name:"S2C_Tour_Scores",syntax:"proto2",fields:[{rule:"repeated",type:"RoomScore",name:"roomScores",id:1}],messages:[{name:"RoomScore",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"userId",id:1},{rule:"repeated",type:"RoundScore",name:"score",id:2}],messages:[{name:"RoundScore",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"score",id:1},{rule:"required",type:"int32",name:"round",id:2}]}]}]},{name:"S2C_Tour_Start",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"bankerId",id:1},{rule:"required",type:"int32",name:"startId",id:2},{rule:"optional",type:"int32",name:"commonCard",id:3},{rule:"optional",type:"int32",name:"part",id:4},{rule:"optional",type:"int32",name:"totalParts",id:5}]},{name:"S2C_Tour_Show",syntax:"proto2",fields:[{rule:"repeated",type:"TourUserCards",name:"user_cards",id:1},{rule:"repeated",type:"int32",name:"win_id",id:2},{rule:"repeated",type:"int32",name:"looser_id",id:3}]},{name:"TourUserCards",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"repeated",type:"int32",name:"cards",id:2}]},{name:"S2C_Tour_Deal_Pool",syntax:"proto2",fields:[{rule:"repeated",type:"int32",name:"playerId",id:1},{rule:"repeated",type:"int64",name:"num",id:2}]},{name:"S2C_Tour_Game_Result",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"required",type:"int64",name:"num",id:2},{rule:"optional",type:"int32",name:"rankNo",id:3},{rule:"optional",type:"int32",name:"gameId",id:4},{rule:"optional",type:"int32",name:"city",id:5},{rule:"optional",type:"int32",name:"round",id:6},{rule:"optional",type:"int64",name:"fee",id:7},{rule:"optional",type:"int64",name:"userId",id:8}]},{name:"S2C_Tour_Rank",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Tour_Game_Result",name:"result",id:1}]},{name:"S2C_Tour_Next",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"next_id",id:1},{rule:"required",type:"int32",name:"wait_time",id:2}]},{name:"S2C_Tour_Gamble",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"playerId",id:1},{rule:"required",type:"int64",name:"num",id:2},{rule:"required",type:"int32",name:"action",id:3},{rule:"required",type:"int64",name:"pool",id:4}]},{name:"S2C_Tour_Tie",syntax:"proto2",fields:[{rule:"repeated",type:"int32",name:"playerId",id:1}]},{name:"C2S_Login",syntax:"proto2",fields:[{rule:"required",type:"bool",name:"isaccount",id:1},{rule:"required",type:"string",name:"type",id:2},{rule:"required",type:"string",name:"deviceid",id:3},{rule:"optional",type:"int64",name:"appid",id:4},{rule:"optional",type:"string",name:"displayname",id:5},{rule:"optional",type:"string",name:"email",id:6},{rule:"required",type:"int32",name:"platform",id:7},{rule:"required",type:"string",name:"version",id:8},{rule:"required",type:"int32",name:"release",id:9},{rule:"optional",type:"string",name:"source",id:10},{rule:"optional",type:"string",name:"lan",id:11},{rule:"optional",type:"string",name:"timezone",id:12},{rule:"optional",type:"string",name:"registerInfo",id:13},{rule:"optional",type:"string",name:"device",id:14},{rule:"optional",type:"string",name:"token",id:15},{rule:"optional",type:"string",name:"devicedetail",id:16},{rule:"optional",type:"string",name:"olddeviceid",id:17}]},{name:"S2C_Login",syntax:"proto2",fields:[{rule:"required",type:"bool",name:"isbind",id:1},{rule:"optional",type:"bool",name:"isnew",id:2},{rule:"optional",type:"string",name:"currentserver",id:3}]},{name:"S2C_SystemMessage",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"title",id:1},{rule:"optional",type:"string",name:"content",id:2},{rule:"optional",type:"bool",name:"continueplay",id:3},{rule:"optional",type:"int32",name:"messageframetype",id:4},{rule:"optional",type:"int32",name:"styletype",id:5},{rule:"optional",type:"string",name:"oklink",id:6}]},{name:"S2C_Signin",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"continues_day",id:1},{rule:"required",type:"int32",name:"signinremain",id:2},{rule:"optional",type:"S2C_Common_Change",name:"chips",id:3}]},{name:"S2C_AdvChips",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"add_chips",id:1},{rule:"required",type:"int64",name:"final_chips",id:2}]},{name:"S2C_Summary",syntax:"proto2",fields:[{rule:"repeated",type:"Sumr",name:"sumr",id:1}],messages:[{name:"Sumr",syntax:"proto2",fields:[{rule:"required",type:"string",name:"name",id:1},{rule:"required",type:"int32",name:"hands",id:2},{rule:"required",type:"int32",name:"handsWin",id:3},{rule:"required",type:"int64",name:"score",id:4}]}]},{name:"S2C_Rounds",syntax:"proto2",fields:[{rule:"repeated",type:"Roundr",name:"roundr",id:1}],messages:[{name:"Roundr",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"round",id:1},{rule:"required",type:"int32",name:"icon",id:2},{rule:"required",type:"string",name:"name",id:3},{rule:"required",type:"int64",name:"score",id:4}]}]},{name:"S2C_Friends",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Friend",name:"onlinefriend",id:1},{rule:"repeated",type:"S2C_Friend",name:"offlinefriend",id:2}],messages:[{name:"S2C_Friend",syntax:"proto2",fields:[{rule:"required",type:"S2C_Common_UserInfo",name:"userinfo",id:1},{rule:"optional",type:"string",name:"roomName",id:2}]}]},{name:"S2C_7_Friends",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_7_Friend",name:"onlinefriend",id:1},{rule:"repeated",type:"S2C_7_Friend",name:"offlinefriend",id:2}],messages:[{name:"S2C_7_Friend",syntax:"proto2",fields:[{rule:"required",type:"S2C_Fri_UserInfo",name:"userinfo",id:1},{rule:"optional",type:"string",name:"roomName",id:2}]}]},{name:"S2C_CSL",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"lastId",id:1},{rule:"repeated",type:"S2C_CustomerSerChat",name:"chat",id:2}],messages:[{name:"S2C_CustomerSerChat",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"time",id:1},{rule:"required",type:"bool",name:"isreply",id:2},{rule:"required",type:"string",name:"content",id:3},{rule:"required",type:"int32",name:"id",id:4}]}]},{name:"Add_Friend",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"type",id:1},{rule:"required",type:"int64",name:"num",id:2},{rule:"optional",type:"S2C_Common_UserInfo",name:"userInfo",id:3}]},{name:"C2S_SendChat",syntax:"proto2",fields:[{rule:"required",type:"string",name:"message",id:1},{rule:"required",type:"int32",name:"messageId",id:2}]},{name:"S2C_SendChat",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"lastId",id:1},{rule:"required",type:"int32",name:"messageId",id:2}]},{name:"S2C_Notificaitons",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Notificaiton",name:"notifications",id:1}]},{name:"S2C_Notificaiton",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"id",id:1},{rule:"required",type:"int32",name:"type",id:2},{rule:"required",type:"string",name:"title",id:3},{rule:"required",type:"string",name:"message",id:4},{rule:"optional",type:"int32",name:"chips",id:5},{rule:"required",type:"int32",name:"senddate",id:6},{rule:"required",type:"int32",name:"expdate",id:7},{rule:"required",type:"bool",name:"isread",id:8},{rule:"optional",type:"int64",name:"bankchips",id:9},{rule:"optional",type:"int64",name:"diamonds",id:10}]},{name:"S2C_Task_List",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Task",name:"tasks",id:1},{rule:"required",type:"int32",name:"taskId",id:2},{rule:"required",type:"int64",name:"chips",id:3},{rule:"required",type:"int64",name:"bankChips",id:4},{rule:"required",type:"bool",name:"isAccept",id:5},{rule:"required",type:"int32",name:"stopTime",id:6}]},{name:"S2C_Task",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"taskId",id:1},{rule:"required",type:"int32",name:"type",id:2},{rule:"required",type:"int64",name:"num",id:3},{rule:"required",type:"int64",name:"finish",id:4},{rule:"required",type:"int64",name:"chips",id:5},{rule:"required",type:"int64",name:"bankChips",id:6},{rule:"repeated",type:"string",name:"conditions",id:7},{rule:"required",type:"bool",name:"isAccept",id:8}]},{name:"S2C_MP",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"games",id:1},{rule:"required",type:"int32",name:"won",id:2},{rule:"required",type:"int64",name:"bwin",id:3},{rule:"required",type:"int32",name:"winstreak",id:4},{rule:"repeated",type:"int32",name:"besthand",id:5},{rule:"required",type:"int64",name:"hwin",id:6},{rule:"optional",type:"S2C_Common_LevelBonus",name:"levelbonus",id:7},{rule:"required",type:"int32",name:"createDate",id:8}]},{name:"C2S_BTC",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"userId",id:1},{rule:"required",type:"int32",name:"chips",id:2},{rule:"optional",type:"string",name:"title",id:3},{rule:"optional",type:"string",name:"message",id:4}]},{name:"S2C_BTC",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"bankChips",id:1},{rule:"required",type:"int32",name:"type",id:2},{rule:"required",type:"int64",name:"chips",id:3}]},{name:"C2S_BTB",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"userId",id:1},{rule:"required",type:"int64",name:"chips",id:2},{rule:"optional",type:"string",name:"title",id:3},{rule:"optional",type:"string",name:"message",id:4}]},{name:"S2C_CTB_Event",syntax:"proto2",fields:[{rule:"optional",type:"CTB_Event_Config",name:"config",id:1},{rule:"optional",type:"CTB_Event_Profile",name:"profile",id:2}]},{name:"CTB_Event_Profile",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"required",type:"int32",name:"round",id:2},{rule:"required",type:"int64",name:"chips",id:3},{rule:"required",type:"int64",name:"bank",id:4},{rule:"required",type:"int64",name:"consume",id:5}]},{name:"CTB_Event_Config",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"required",type:"int64",name:"time",id:2},{rule:"required",type:"int32",name:"round",id:3},{rule:"required",type:"int64",name:"chips",id:4},{rule:"required",type:"int32",name:"rate",id:5},{rule:"required",type:"string",name:"begin",id:6},{rule:"required",type:"string",name:"end",id:7}]},{name:"C2S_CTB",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"required",type:"int64",name:"chips",id:2}]},{name:"S2C_CTB",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"cchips",id:1},{rule:"required",type:"int64",name:"bchips",id:2},{rule:"required",type:"int64",name:"chipamount",id:3},{rule:"required",type:"int64",name:"bankamount",id:4},{rule:"required",type:"int64",name:"bankchips",id:5},{rule:"required",type:"int64",name:"consume",id:6}]},{name:"C2S_BH",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"page",id:1},{rule:"required",type:"int32",name:"num",id:2},{rule:"optional",type:"int32",name:"time1",id:3},{rule:"optional",type:"int32",name:"time2",id:4}]},{name:"S2C_BHs",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_BH",name:"bh",id:1},{rule:"required",type:"int32",name:"curPage",id:2},{rule:"required",type:"int32",name:"totalPage",id:3},{rule:"optional",type:"int64",name:"sum1",id:4},{rule:"optional",type:"int64",name:"sum2",id:5}],messages:[{name:"S2C_BH",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"receiveId",id:1},{rule:"required",type:"string",name:"receivename",id:5},{rule:"required",type:"int32",name:"type",id:2},{rule:"required",type:"int64",name:"amount",id:3},{rule:"required",type:"int32",name:"time",id:4}]}]},{name:"S2C_Diamond_Account",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"diamond",id:1},{rule:"required",type:"double",name:"convert",id:2},{rule:"required",type:"int32",name:"chips",id:3},{rule:"required",type:"bool",name:"open",id:4},{rule:"required",type:"int64",name:"buy",id:5}]},{name:"S2C_DTB",syntax:"proto2",fields:[{rule:"required",type:"bool",name:"success",id:1},{rule:"required",type:"int64",name:"bank",id:2},{rule:"required",type:"int64",name:"diamond",id:3}]},{name:"S2C_Notification_Result",syntax:"proto2",fields:[{rule:"repeated",type:"int64",name:"is",id:1},{rule:"optional",type:"S2C_Common_Change",name:"chips",id:2},{rule:"optional",type:"S2C_Common_Change",name:"bank",id:3},{rule:"optional",type:"S2C_Common_Change",name:"diamond",id:4}]},{name:"S2C_Invite_Code",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"num",id:1},{rule:"required",type:"string",name:"code",id:2},{rule:"repeated",type:"int32",name:"bonuses",id:3},{rule:"required",type:"int32",name:"accpeted",id:4},{rule:"required",type:"bool",name:"isCode",id:5},{rule:"required",type:"bool",name:"hasInvited",id:6},{rule:"repeated",type:"int32",name:"bounsNum",id:7},{rule:"optional",type:"int32",name:"codeDays",id:8},{rule:"required",type:"int32",name:"codeBonus",id:9},{rule:"optional",type:"int32",name:"invitedNum",id:10}]},{name:"S2C_Invited_Bonus",syntax:"proto2",fields:[{rule:"required",type:"S2C_Common_Change",name:"change",id:1},{rule:"required",type:"string",name:"name",id:2}]},{name:"S2C_Invite_Bonus",syntax:"proto2",fields:[{rule:"required",type:"S2C_Common_Change",name:"change",id:1},{rule:"required",type:"int32",name:"type",id:2},{rule:"optional",type:"string",name:"name",id:3},{rule:"optional",type:"bool",name:"continue",id:4},{rule:"optional",type:"int32",name:"accpeted",id:5}]},{name:"C2S_HighScoreList",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"page",id:1},{rule:"required",type:"int32",name:"num",id:2}]},{name:"S2C_HighScoreList",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"rank",id:1},{rule:"repeated",type:"Rank",name:"other",id:2},{rule:"required",type:"int32",name:"page",id:3},{rule:"required",type:"int32",name:"start",id:4}],messages:[{name:"Rank",syntax:"proto2",fields:[{rule:"required",type:"string",name:"name",id:1},{rule:"required",type:"int32",name:"icon",id:2},{rule:"required",type:"string",name:"facebookID",id:3},{rule:"required",type:"int64",name:"wins",id:4},{rule:"optional",type:"string",name:"newicon",id:5}]}]},{name:"HighSocreAward",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"type",id:1},{rule:"required",type:"int32",name:"rank",id:2},{rule:"required",type:"int32",name:"award",id:3}]},{name:"HighScoreListInfo",syntax:"proto2",fields:[{rule:"repeated",type:"HSAward",name:"award",id:1}],messages:[{name:"HSAward",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"start",id:1},{rule:"optional",type:"int32",name:"end",id:2},{rule:"required",type:"int32",name:"award",id:3}]}]},{name:"C2S_Play",syntax:"proto2",fields:[{rule:"required",type:"string",name:"mode",id:1},{rule:"required",type:"bool",name:"firsttime",id:2},{rule:"optional",type:"string",name:"lastroom",id:3},{rule:"optional",type:"int32",name:"boot",id:4}]},{name:"S2C_Boots",syntax:"proto2",fields:[{rule:"repeated",type:"int32",name:"boot",id:1},{rule:"repeated",type:"int64",name:"chaalLimit",id:2},{rule:"repeated",type:"int64",name:"potLimit",id:3},{rule:"repeated",type:"int64",name:"minchips",id:4}]},{name:"C2S_Pri_Play",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"bootamount",id:1},{rule:"required",type:"string",name:"model",id:2}]},{name:"C2S_Fri_Play",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"bootamount",id:1},{rule:"required",type:"string",name:"model",id:2},{rule:"required",type:"int32",name:"num",id:3}]},{name:"S2C_Room_List",syntax:"proto2",fields:[{rule:"repeated",type:"Poker_Room",name:"poker",id:1}]},{name:"Poker_Room",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"chips",id:1},{rule:"required",type:"int64",name:"maxblind",id:2},{rule:"required",type:"int64",name:"buyin",id:3},{rule:"required",type:"int32",name:"level",id:4}]},{name:"S2C_Tournament",syntax:"proto2",fields:[{rule:"repeated",type:"Tournament",name:"tours",id:1}],messages:[{name:"Tournament",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"gameId",id:1},{rule:"required",type:"int32",name:"city",id:2},{rule:"required",type:"string",name:"roomName",id:3},{rule:"required",type:"string",name:"mode",id:4},{rule:"required",type:"string",name:"play",id:5},{rule:"repeated",type:"Round",name:"fee",id:6},{rule:"required",type:"int32",name:"level",id:7},{rule:"required",type:"int32",name:"round",id:8},{rule:"repeated",type:"int32",name:"time",id:9}],messages:[{name:"Round",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"round",id:1},{rule:"required",type:"int64",name:"fee",id:2},{rule:"repeated",type:"Award",name:"award",id:3}],messages:[{name:"Award",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"rank",id:1},{rule:"required",type:"int64",name:"award",id:2}]}]}]}]},{name:"C2S_Tour_Play",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"gameId",id:1},{rule:"optional",type:"int32",name:"round",id:2}]},{name:"JackpotMessage",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"pool",id:1},{rule:"required",type:"int64",name:"minus",id:2},{rule:"optional",type:"string",name:"name",id:3},{rule:"required",type:"string",name:"mode",id:4}]},{name:"C2S_Jackpot",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"boot",id:1},{rule:"required",type:"string",name:"mode",id:2},{rule:"required",type:"string",name:"roomName",id:3},{rule:"optional",type:"string",name:"name",id:4}]},{name:"C2S_Change_Jackpot",syntax:"proto2",fields:[{rule:"required",type:"C2S_Jackpot",name:"jackpot",id:1},{rule:"required",type:"int64",name:"chips",id:2},{rule:"required",type:"int64",name:"minusChips",id:3},{rule:"optional",type:"string",name:"name",id:4}]},{name:"S2C_ALL_Jackpot",syntax:"proto2",fields:[{rule:"repeated",type:"JackpotMessage",name:"jackpot",id:1}]},{name:"C2S_Change_ALL_Jackpot",syntax:"proto2",fields:[{rule:"repeated",type:"JackpotMessage",name:"jackpot",id:1}]},{name:"C2S_Buy_Status",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"payload",id:1},{rule:"required",type:"string",name:"status",id:2},{rule:"optional",type:"string",name:"orderid",id:3},{rule:"required",type:"string",name:"productid",id:4}]},{name:"C2S_Android_Buy",syntax:"proto2",fields:[{rule:"required",type:"string",name:"purchase_data",id:1},{rule:"required",type:"string",name:"data_signature",id:2},{rule:"required",type:"string",name:"cn",id:3}]},{name:"C2S_IOS_Buy",syntax:"proto2",fields:[{rule:"required",type:"string",name:"purchase_data",id:1},{rule:"required",type:"bool",name:"istest",id:2},{rule:"required",type:"string",name:"cn",id:3}]},{name:"C2S_Facebook_Buy",syntax:"proto2",fields:[{rule:"required",type:"string",name:"facebookAppId",id:1},{rule:"required",type:"string",name:"orderId",id:2},{rule:"required",type:"string",name:"cn",id:3}]},{name:"C2S_Facebook_Small_Buy",syntax:"proto2",fields:[{rule:"required",type:"string",name:"purchase_data",id:1},{rule:"required",type:"string",name:"cn",id:2}]},{name:"C2S_Amazon_Buy",syntax:"proto2",fields:[{rule:"required",type:"string",name:"purchase_data",id:1},{rule:"required",type:"string",name:"cn",id:2},{rule:"required",type:"bool",name:"isRVS",id:3}]},{name:"C2S_Win10_Buy",syntax:"proto2",fields:[{rule:"required",type:"string",name:"productId",id:1},{rule:"required",type:"string",name:"orderId",id:2},{rule:"required",type:"string",name:"cn",id:3}]},{name:"S2C_Add_Diamonds",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"addDiamonds",id:1},{rule:"required",type:"int64",name:"diamonds",id:2},{rule:"required",type:"int64",name:"buy",id:3}]},{name:"S2C_PromoteBuy",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"required",type:"int32",name:"goodid",id:2}]},{name:"S2C_PromoteList",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_PromoteInfo",name:"promotes",id:1}]},{name:"S2C_PromoteInfo",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"id",id:1},{rule:"optional",type:"string",name:"name",id:2},{rule:"optional",type:"int32",name:"time",id:3},{rule:"optional",type:"string",name:"uiConfig",id:4},{rule:"optional",type:"string",name:"ruleConfig",id:5},{rule:"optional",type:"bool",name:"isWindow",id:6},{rule:"optional",type:"string",name:"icon",id:7},{rule:"optional",type:"int32",name:"weight",id:8},{rule:"repeated",type:"S2C_PromoteGoods",name:"goods",id:9}]},{name:"S2C_PromoteGoods",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"id",id:1},{rule:"optional",type:"string",name:"product_id",id:2},{rule:"optional",type:"int32",name:"totalCount",id:4},{rule:"optional",type:"int32",name:"buyCount",id:5}]},{name:"C2S_Subs_Buy",syntax:"proto2",fields:[{rule:"repeated",type:"C2S_Android_Buy",name:"order",id:1}]},{name:"SubsMsg",syntax:"proto2",fields:[{rule:"repeated",type:"Subs",name:"subs",id:1}],messages:[{name:"Subs",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"userId",id:1},{rule:"required",type:"string",name:"orderId",id:2},{rule:"required",type:"bool",name:"isAuto",id:3},{rule:"required",type:"int32",name:"renewTime",id:4}]}]},{name:"S2C_Subs_Profile",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"type",id:1},{rule:"optional",type:"bool",name:"isAccept",id:2},{rule:"optional",type:"int32",name:"chips",id:3},{rule:"optional",type:"int32",name:"nextTime",id:4},{rule:"optional",type:"int32",name:"renewTime",id:5},{rule:"optional",type:"int64",name:"allAccept",id:6},{rule:"optional",type:"string",name:"orderId",id:7},{rule:"optional",type:"int32",name:"nextType",id:8},{rule:"optional",type:"int32",name:"nextStart",id:9},{rule:"optional",type:"bool",name:"isAuto",id:10}]},{name:"S2C_Crickets",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Cricket",name:"games",id:1}]},{name:"C2S_War_Play",syntax:"proto2",fields:[{rule:"required",type:"bool",name:"firsttime",id:1},{rule:"optional",type:"string",name:"lastroom",id:2},{rule:"optional",type:"int32",name:"boot",id:3}]},{name:"C2S_AB_Play",syntax:"proto2",fields:[{rule:"required",type:"bool",name:"firsttime",id:1},{rule:"optional",type:"string",name:"lastroom",id:2},{rule:"optional",type:"int32",name:"boot",id:3}]},{name:"S2C_AB_RoomLevles",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_AB_RoomLevle",name:"levels",id:1}]},{name:"S2C_AB_RoomLevle",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"minbet",id:1},{rule:"required",type:"int64",name:"minchips",id:2},{rule:"required",type:"int32",name:"level",id:3}]},{name:"S2C_AB_Rooms",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_AB_Room",name:"rooms",id:1}]},{name:"S2C_AB_Room",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"minbet",id:1},{rule:"required",type:"int32",name:"users",id:2},{rule:"required",type:"string",name:"name",id:3},{rule:"required",type:"int64",name:"lifetime",id:4},{rule:"required",type:"string",name:"banker",id:5},{rule:"required",type:"int32",name:"icon",id:6},{rule:"required",type:"string",name:"facebook",id:7}]},{name:"C2S_Patti_War",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"roomName",id:1}]},{name:"S2C_Patti_War",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"type",id:1},{rule:"optional",type:"int64",name:"chips",id:2}]},{name:"S2C_Check_Redeem_code",syntax:"proto2",fields:[{rule:"required",type:"bool",name:"isReceive",id:1},{rule:"required",type:"int64",name:"chips",id:2},{rule:"optional",type:"string",name:"msg",id:3}]},{name:"C2S_Sport_Play",syntax:"proto2",fields:[{rule:"required",type:"string",name:"mode",id:1},{rule:"optional",type:"string",name:"lastroom",id:2},{rule:"optional",type:"string",name:"joinroom",id:3}]},{name:"S2C_Deal_RummyList",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Deal_Rummy",name:"leves",id:1}],messages:[{name:"S2C_Deal_Rummy",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"fee",id:1},{rule:"required",type:"int32",name:"bonus",id:2},{rule:"required",type:"int32",name:"person",id:3}]}]},{name:"S2C_Pool_RummyList",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Pool_Rummy",name:"leves",id:1}],messages:[{name:"S2C_Pool_Rummy",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"fee",id:1},{rule:"required",type:"double",name:"bonus",id:2},{rule:"required",type:"int32",name:"person",id:3},{rule:"required",type:"int32",name:"score",id:4},{rule:"required",type:"int32",name:"seq",id:5}]}]},{name:"S2C_Model_Limit",syntax:"proto2",fields:[{rule:"repeated",type:"Mode_Limit",name:"limit",id:1}],messages:[{name:"Mode_Limit",syntax:"proto2",fields:[{rule:"required",type:"string",name:"mode",id:1},{rule:"required",type:"int32",name:"level",id:2}]}]},{name:"C2S_Chips_Freeze",syntax:"proto2",fields:[{rule:"repeated",type:"Chips_Change",name:"change",id:1}]},{name:"Chips_Change",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"userId",id:1},{rule:"required",type:"int64",name:"chips",id:2},{rule:"required",type:"int64",name:"finalChips",id:3},{rule:"required",type:"int32",name:"type",id:4}]},{name:"S2C_Rummy_Room_List",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Rummy_Room",name:"rooms",id:1},{rule:"required",type:"int32",name:"page",id:2}]},{name:"S2C_Rummy_Room",syntax:"proto2",fields:[{rule:"required",type:"string",name:"roomname",id:1},{rule:"repeated",type:"S2C_Base_UserInfo",name:"users",id:2},{rule:"optional",type:"int32",name:"status",id:3}]},{name:"S2C_Zone_Message",syntax:"proto2",fields:[{rule:"optional",type:"S2C_Model_Limit",name:"modelimit",id:1},{rule:"optional",type:"Common_L",name:"rummymin",id:2},{rule:"optional",type:"S2C_Task_List",name:"tasklist",id:3},{rule:"optional",type:"Common_Boolean",name:"bannedbuy",id:4},{rule:"optional",type:"S2C_CTB_Event",name:"getchipstobank",id:5},{rule:"optional",type:"Common_L",name:"bankaccount",id:6},{rule:"optional",type:"S2C_Notificaitons",name:"notificationlist",id:7},{rule:"optional",type:"S2C_PromoteList",name:"promotelist",id:8},{rule:"optional",type:"Common_S",name:"sportaccess",id:9},{rule:"optional",type:"S2C_Invite_Code",name:"invitecode",id:10},{rule:"optional",type:"Common_L",name:"betrummymin",id:11},{rule:"optional",type:"S2C_RummyTour_SignedList",name:"rummytours",id:12},{rule:"optional",type:"S2C_Layouts",name:"layouts",id:13},{rule:"optional",type:"Common_S",name:"versioncontrol",id:14}]},{name:"S2C_RummyTour_SignedList",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_RummyTourSigned",name:"tour",id:1}],messages:[{name:"S2C_RummyTourSigned",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"required",type:"string",name:"name",id:2},{rule:"required",type:"int32",name:"starttime",id:3},{rule:"required",type:"int32",name:"type",id:4},{rule:"required",type:"int32",name:"countdown",id:5}]}]},{name:"C2S_Gin_Match",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"gtype",id:1},{rule:"required",type:"int32",name:"rtype",id:2},{rule:"required",type:"bool",name:"manual",id:3},{rule:"required",type:"int32",name:"score",id:4},{rule:"required",type:"int64",name:"bet",id:5},{rule:"required",type:"int32",name:"roomLv",id:6}]},{name:"C2S_Bank_PWD",syntax:"proto2",fields:[{rule:"optional",type:"string",name:"password",id:1},{rule:"optional",type:"int32",name:"pin",id:2}]},{name:"S2C_Layouts",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_Layout",name:"layouts",id:1}]},{name:"S2C_Layout",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"id",id:1},{rule:"required",type:"string",name:"icon",id:2},{rule:"required",type:"string",name:"cmd",id:3},{rule:"required",type:"string",name:"proto",id:4},{rule:"required",type:"int32",name:"version",id:5},{rule:"repeated",type:"S2C_Layout",name:"layouts",id:6}]},{name:"C2S_GH",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"page",id:1},{rule:"required",type:"int32",name:"num",id:2},{rule:"optional",type:"int32",name:"time1",id:3},{rule:"optional",type:"int32",name:"time2",id:4},{rule:"optional",type:"int32",name:"isgame",id:5}]},{name:"S2C_GHs",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_GH",name:"bh",id:1},{rule:"required",type:"int32",name:"curPage",id:2},{rule:"required",type:"int32",name:"totalPage",id:3},{rule:"optional",type:"int64",name:"sum1",id:4},{rule:"optional",type:"int64",name:"sum2",id:5}],messages:[{name:"S2C_GH",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"change",id:1},{rule:"required",type:"int64",name:"final",id:2},{rule:"required",type:"int32",name:"type",id:3},{rule:"required",type:"string",name:"room",id:4},{rule:"required",type:"string",name:"gameid",id:5},{rule:"required",type:"int32",name:"time",id:6}]}]},{name:"C2S_GTG",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"userId",id:1},{rule:"required",type:"int64",name:"chips",id:2}]},{name:"S2C_GTG",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"gold",id:1},{rule:"required",type:"int64",name:"change",id:2},{rule:"optional",type:"int64",name:"tax",id:3},{rule:"optional",type:"int64",name:"freeleft",id:4}]},{name:"S2C_GTR",syntax:"proto2",fields:[{rule:"required",type:"int64",name:"gold",id:1},{rule:"required",type:"int64",name:"change",id:2},{rule:"required",type:"string",name:"name",id:3}]},{name:"S2C_GVIPS",syntax:"proto2",fields:[{rule:"repeated",type:"S2C_GVIP",name:"levels",id:1}]},{name:"S2C_GVIP",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"level",id:1},{rule:"optional",type:"int64",name:"free",id:2},{rule:"optional",type:"int32",name:"tax",id:3},{rule:"optional",type:"int64",name:"buys",id:4},{rule:"optional",type:"int64",name:"totalpay",id:5}]},{name:"S2C_Mygoldvip",syntax:"proto2",fields:[{rule:"optional",type:"int64",name:"gold",id:1},{rule:"required",type:"int32",name:"type",id:2},{rule:"optional",type:"int32",name:"level",id:3},{rule:"optional",type:"int32",name:"exp",id:4},{rule:"optional",type:"int32",name:"nextlevel",id:5},{rule:"optional",type:"int32",name:"nextexp",id:6},{rule:"optional",type:"int64",name:"freeleft",id:7},{rule:"optional",type:"int64",name:"buys",id:8}]},{name:"S2C_VipStar",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"starttime",id:1},{rule:"required",type:"int32",name:"endtime",id:2},{rule:"repeated",type:"int32",name:"starts",id:3},{rule:"repeated",type:"int32",name:"reward",id:4},{rule:"repeated",type:"Common_LAS",name:"modestar",id:5}]},{name:"C2S_DeleteUserApple",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"userId",id:1},{rule:"required",type:"string",name:"deviceId",id:2},{rule:"required",type:"int64",name:"appId",id:3}]},{name:"S2C_DeleteUserApple",syntax:"proto2",fields:[{rule:"required",type:"int32",name:"returnCode",id:1}]},{name:"S2C_GetWinGoInfo",syntax:"proto2",fields:[{rule:"repeated",type:"WinGoInfoMsg",name:"winGoInfoMsg",id:1}]},{name:"WinGoInfoMsg",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"roomType",id:1},{rule:"optional",type:"int64",name:"minChips",id:2},{rule:"optional",type:"int64",name:"maxBet",id:3},{rule:"optional",type:"int32",name:"exp",id:4}]},{name:"S2C_GetWinGoRoomInfo",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"roomType",id:1},{rule:"optional",type:"int32",name:"roomId",id:2},{rule:"optional",type:"int32",name:"gameId",id:3},{rule:"optional",type:"int32",name:"gameStatus",id:4},{rule:"repeated",type:"WinGoBetInfoMsg",name:"winGoBetInfoMsgList",id:5},{rule:"repeated",type:"WinGoRankInfoMsg",name:"winGoRankInfoMsgList",id:6},{rule:"optional",type:"int32",name:"endTime",id:7},{rule:"repeated",type:"int64",name:"betGearInfoList",id:8},{rule:"repeated",type:"int32",name:"historyBallIdList",id:9},{rule:"optional",type:"int32",name:"betConfigTime",id:10}]},{name:"KeyValueMsg",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"key",id:1},{rule:"optional",type:"int32",name:"value",id:2}]},{name:"WinGoBetInfoMsg",syntax:"proto2",fields:[{rule:"optional",type:"int64",name:"userId",id:1},{rule:"repeated",type:"SubWinGoBetInfoMsg",name:"subWinGoBetInfoMsg",id:2}]},{name:"SubWinGoBetInfoMsg",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"areaId",id:1},{rule:"optional",type:"float",name:"areaMul",id:2},{rule:"repeated",type:"KeyValueMsg",name:"keyValueMsgList",id:3}]},{name:"WinGoRankInfoMsg",syntax:"proto2",fields:[{rule:"optional",type:"int64",name:"userId",id:1},{rule:"optional",type:"string",name:"name",id:2},{rule:"required",type:"int32",name:"icon",id:3},{rule:"optional",type:"int64",name:"winSum",id:4},{rule:"optional",type:"int32",name:"winCount",id:5},{rule:"optional",type:"int32",name:"gameCount",id:6},{rule:"optional",type:"string",name:"fbId",id:7}]},{name:"C2S_WinGoBet",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"areaId",id:1},{rule:"optional",type:"int32",name:"betGear",id:2}]},{name:"S2C_WinGoBet",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"betStatus",id:1},{rule:"optional",type:"int32",name:"areaId",id:2},{rule:"optional",type:"int32",name:"betGear",id:3}]},{name:"S2C_WinGoReBet",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"betStatus",id:1},{rule:"optional",type:"WinGoBetInfoMsg",name:"winGoBetInfoMsg",id:2}]},{name:"S2C_WinGoResult",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"resultBallId",id:1},{rule:"optional",type:"int64",name:"winSum",id:2},{rule:"optional",type:"int32",name:"gameStatus",id:3},{rule:"optional",type:"int32",name:"endTime",id:4},{rule:"repeated",type:"int64",name:"rankUserWinSum",id:5},{rule:"required",type:"int32",name:"exp",id:6},{rule:"optional",type:"S2C_Common_ExpBar",name:"expbar",id:7}]},{name:"S2C_WinGoChangeStatus",syntax:"proto2",fields:[{rule:"optional",type:"int32",name:"gameStatus",id:1},{rule:"optional",type:"int32",name:"endTime",id:2},{rule:"repeated",type:"WinGoRankInfoMsg",name:"winGoRankInfoMsgList",id:3}]},{name:"S2C_WinGoBetInfo",syntax:"proto2",fields:[{rule:"repeated",type:"WinGoBetInfoMsg",name:"winGoBetInfoMsgList",id:1},{rule:"optional",type:"int32",name:"updateTime",id:2}]},{name:"S2C_GetWinGoRankInfo",syntax:"proto2",fields:[{rule:"repeated",type:"WinGoRankInfoMsg",name:"winGoRankInfoMsg",id:1}]}],isNamespace:!0}).build();t.exports=i}(),cc._RF.pop()},{}],en:[function(e,t,i){"use strict";var n;function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}cc._RF.push(t,"c0bd1QzY3lAm5Ic5gJ/nYls","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={label_text:(n={chips_with_symbol_plus:"+%{number}",chips_with_symbol:"\u20b9%{number}",login:"Login",guest:"Play as Guest",pack:"Pack",side_show:"Side Show",blind:"Blind",chaal:"Chaal",see:"See",sound:"Sound",vibration:"Vibration",hand_strength_meter:"Hand Strength Meter",help:"Help",rate:"Rate",support:"Support",on:"On",off:"Off",setting:"Setting",lobby:"Lobby",switch_table:"Switch Table",stand_up:"Stand Up",stand_up_next_round:"Stand Up\nNext Round",table_rules:"Table Rules",classic:"CLASSIC",joker:"JOKER",muflis:"MUFLIS",classic1:"Classic",joker1:"Joker",muflis1:"Muflis",boot_amount:"Boot Amount",max_blind:"Max Blind",max_blinds:"Max Blinds",chaal_limit:"Chaal Limit",pot_limit:"Pot Limit",ok:"OK",okay:"Okay",cancel:"Cancel",chips_lost:"Chips Lost:",hands_won:"Hands Won:",send_gift:"Send Gift",message:"Message",block:"Block",table_stats:"Table Stats",friends:"Friends",rankings:"Rankings",invite_friends:"Invite Friends",no_search_result:"No Search Result",no_friends_tip:"You have no friends now.\nInvite Facebook friends to play with you.",chips_won:"Chips Won"},a(n,"hands_won","Hands Won"),a(n,"chips_left","Chips Left"),a(n,"gifts","Gifts"),a(n,"send_to_all","Send To All"),a(n,"popular","Popular"),a(n,"invite_friends_to_table","Invite Friends To Table"),a(n,"invite_all_friends","Invite All Friends"),a(n,"invite","Invite"),a(n,"sent","Sent"),a(n,"help_title","Highest hand wins.\nRanking from high to low is:"),a(n,"help_rule1","Trail or Set(three of same rank)"),a(n,"help_rule2","Pure Sequence"),a(n,"help_rule3","Sequence(run)"),a(n,"help_rule4","Color"),a(n,"help_rule5","Pair(two cards of same rank)"),a(n,"help_rule6","High Card"),a(n,"help_title_joker","Play with one joker. Joker can subsititue any card:"),a(n,"help_title_muflis","Order of hands are reversed. A trail of aces is the lowest hand:"),a(n,"private_table","Private Table"),a(n,"mode","Mode"),a(n,"start","Start"),a(n,"host_table","Host Table"),a(n,"your_table","Your Table"),a(n,"free_for_limited_time","Free For Limited Time"),a(n,"table_name","Table Name"),a(n,"rounds","Rounds"),a(n,"cost_100_table_cards","Cost 100 table cards"),a(n,"invitation","Invitation"),a(n,"decline","Decline"),a(n,"join","Join"),a(n,"join_my_table","Join my table!"),a(n,"chips","Chips"),a(n,"get_friends_requests","Get Friends Requests"),a(n,"logout","Logout"),a(n,"user_id","User ID"),a(n,"play_variation","Play Variation"),a(n,"choose_a_picture","Choose a Picture"),a(n,"result","Result"),a(n,"summary_result","Summary Result"),a(n,"rounds_result","Rounds Result"),a(n,"quick_msg1","Please Play Fast"),a(n,"quick_msg2","Please Play Blind"),a(n,"quick_msg3","I Won!"),a(n,"quick_msg4","Hi All!"),a(n,"quick_msg5","Good Luck!"),a(n,"quick_msg6","Thanks!"),a(n,"quick_msg7","Nice Game!"),a(n,"quick_msg8","Jaldi Khelo"),a(n,"quick_msg9","Blind Khelo"),a(n,"quick_msg10","I love this game!"),a(n,"quick_msg11","That\u2019s a big pot"),a(n,"quick_msg12","I am unlucky"),a(n,"enter_chat_message","Enter chat message."),a(n,"offline","Offline"),a(n,"in_lobby","In Lobby"),a(n,"add","Add"),a(n,"add_all","Add All"),a(n,"no_friends_invite","You have no friends to invite"),a(n,"sent","Sent"),a(n,"connect","Connect"),a(n,"fb_login_reward","%{reward}\n Free"),a(n,"fb_login_reward1","%{reward} Free"),a(n,"rate_us","Rate Us"),a(n,"rate_it_now","Rate It Now"),a(n,"rate_desc"," It will be really helpful if you rate our game.Thanks so much for spending some time with us."),a(n,"upgrade_to_facebok_account","Update to Facebook Account"),a(n,"upgrade_to_facebok_account_desc","Your new balance may be different from your current account.\nDo you want to switch to this account?"),a(n,"logout_from_facebook","Logout from Facebook"),a(n,"logout_from_facebook_desc","Are you sure you want to disconnect from Facebook?"),a(n,"login_using_facebook","Login using Facebook?"),a(n,"login_using_facebook1","Login using Facebook:"),a(n,"login_using_facebook_remind_desc","Play with Friends"),a(n,"login_using_facebook_remind_desc1","Get %{reward} chips Free"),a(n,"login_using_facebook_remind_desc2","Keep chips across devices"),a(n,"login_using_facebook_desc","Play with Friends"),a(n,"login_using_facebook_desc1","Keep chips across devices"),a(n,"login_using_facebook_desc2","Get more chips"),a(n,"login_using_facebook_capital","LOGIN USING FACEBOOK"),a(n,"continue_as_guest","CONTINUE AS GUEST"),a(n,"bonus","BONUS"),a(n,"lobby_profile_bar_level","Level %{lv}"),a(n,"lobby_profile_bar_level1","Level %{lv}:"),a(n,"lobby_profile_bar_get","Get %{reward}"),a(n,"max_level","Max Level"),a(n,"daily_bonus","Daily Bonus"),a(n,"daily_bonus_desc","* Login Before 24:00 IST or it resets to Day1"),a(n,"daily_bonus_friend_bonus","Friend Bonus"),a(n,"daily_bonus_friend_bonus_desc","* %{per} per Friend\n  (max %{max})"),a(n,"daily_bonus_day","DAY %{day}"),a(n,"today","TODAY"),a(n,"next_bonus_in","Next Bonus in:"),a(n,"basic_help1","Teen Patti (also known as flash or flush) is a gambling card game that orginated in the Indian Subcontinent.\nIt is usually played with a 52-card pack without jokers among 2-5 players.\nEach player is dealt 3 face-down cards. Before dealer giving away cards, the boot amount will be collected from each player and put in the pot.\nThe betting then starts by the player next to the dealer.\nThe player who completes the hand and has the highest ranking is the winner. The winner can get all the chips in the pot.\nranking of hands"),a(n,"basic_help2","Please be noted that in a sequence the highest to lowest ranking is: A-K-Q, A-2-3, K-Q-J, Q-J-10 and so on down to 4-3-2.\nThe player can choose to bet with or without seeing the cards. They are known as Seen Player and Blind Player.\n<color=#ffea00>Seen Player:</color> A seen player can play chaal, pack, show or side show as the game progresses.The bet amount for blind player is twice or four times the current stake amount.\n<color=#ffea00>Blind Player:</color> A blind player cannot see the cards. You can play pack, blind and show if available. The bet amount for blind player is equal to or twice the current stake amount.\n<color=#ffea00>Stake Amount:</color> If the first player is a seen player, half of the bet he/she placed is the stake amount for the next player. If the first player plays blind, the bet placed by her/him becomes the stake amount for next player.\n<color=#ffea00>chaal:</color> Chaal is the bet amount a seen player have to place in order to remain in the game. It's equal to, twice or four times the stake amount.\n<color=#ffea00>side show:</color> A seen player can request a side show, which means you want to compare your cards with the previous player's. And the previous player should also be a seen player.\nIf the previous player accepts your side show request and has higer cards than you, you must pack \u2014 and vice versa.\nIf the side show is denied, you cannot see each other's cards.\n<color=#ffea00>show:</color> all but one player pack. The sole remaining player wins the chips in the pot, regardless of what cards he or she holds.\nall but two players pack. In this case, during his or her turn, one player pays for a \"show\". At this point, both players' cards are exposed and compared and the higher-ranking hand wins the pot.\nseen player can ask for a show with blind player for four times the current bet. If both players are seen then either may ask for a show by paying two times the current bet.\n"),a(n,"expired_in_days","Expires in %{smart_count} Day |||| Expires in %{smart_count} Days"),a(n,"connection_lost","Connection Lost"),a(n,"connection_lost_desc","Something went wrong in your connection. Please check your Internet and reconnect."),a(n,"connection_lost_kick_desc","Your Facebook account has been logged on another device."),a(n,"reconnect","Reconnect"),a(n,"reconnecting","Reconnecting"),a(n,"socket_error","Socket Error"),a(n,"room_summary","Room Summary"),a(n,"maybe_later","Maybe Later"),a(n,"room_summary_desc","You have won %{chips} chips!"),a(n,"room_summary_desc1","You have lost %{chips} chips!"),a(n,"chips_not_enough1_title","Running out!"),a(n,"chips_not_enough1_desc","You are running out of chips!\nBuy more to avoid PACK."),a(n,"chips_not_enough_title","Not Enough Chips"),a(n,"chips_not_enough2_desc","Your chips are insufficient for this table. Please buy more to continue or switch to other table."),a(n,"chips_not_enough3_desc","You don\u2019t have enough chips. Please buy more to continue."),a(n,"chips_not_enough3_desc2","You don\u2019t have enough chips."),a(n,"buy_chips","Buy Chips"),a(n,"active","Active"),a(n,"dealers","Dealers"),a(n,"error","Error"),a(n,"private","Private"),a(n,"private_room","Private Table"),a(n,"friends_table","Friends Table"),a(n,"tournament","Tournament"),a(n,"switch_table_tips","Are you sure you want to leave the table?"),a(n,"back_to_game","Back to Game"),a(n,"quit_game","Quit Game"),a(n,"quit_game_tips","Are you sure you want to leave the game?"),a(n,"invite_friends_to_start","Invite friends to start the game"),a(n,"wait_to_start","Please wait for next round to start"),a(n,"tap_to_sit","Tap a place to sit"),a(n,"watching_mode","Watching Mode"),a(n,"watching_mode_tips","You are no longer sitting on the table because you missed your turn."),a(n,"switching_table","Switching Table"),a(n,"tip","tip"),a(n,"sit","Sit"),a(n,"unblock","Unblock"),a(n,"packed","Packed"),a(n,"seen","Seen"),a(n,"hands","hands"),a(n,"block_message","Do you want to block all messages from %{name}?"),a(n,"unblock_message","Do you want to receive messages from %{name}?"),a(n,"dealer_tip_message1","I\xa0wish\xa0you\xa0win\xa0big."),a(n,"dealer_tip_message2","Hope\xa0you\xa0can\xa0get\xa0better\xa0cards."),a(n,"dealer_tip_message3","Thanks!\xa0Good\xa0luck\xa0in\xa0the\xa0game."),a(n,"dealer_tip_message4","Wow!\xa0you're\xa0so\xa0generous."),a(n,"change_dealer_tip","%{name} has requested %{name1} to deal."),a(n,"normal","normal"),a(n,"no_limit","No Limit"),a(n,"table_is_full","Table is full."),a(n,"purchase_complete","Your purchase of %{chips} is complete."),a(n,"search","Search"),a(n,"item_tip1","most popular"),a(n,"item_tip2","best value"),a(n,"sit_then_stand","%{name} is observing the game."),a(n,"google_play_store","Please install Google Play Store to get access to the items."),a(n,"open_store","open store"),a(n,"coming_soon","This feature is coming soon."),a(n,"enter_table_name","Please enter the table name."),a(n,"start_game","Invite friends to start the game"),a(n,"side_show_request","%{name} requested a side show with %{name1}."),a(n,"accept","Accept"),a(n,"side_show_tip1","%{name} won the side show."),a(n,"side_show_tip2","%{name} denied the side show request."),a(n,"room_summary_desc2","Jackpot! I won BIG!"),a(n,"welcome","Welcome"),a(n,"game_starting","Game starting in %{time}s"),a(n,"starting_game","Starting game"),a(n,"collecting_boot","Collecting boot"),a(n,"player_operation1","%{name} has seen cards."),a(n,"player_operation2","%{name} played a chaal of %{chips}."),a(n,"player_operation3","%{name} played a blind of %{chips}."),a(n,"player_operation4","%{name} has packed."),a(n,"game_result_sequence","%{name} wins with a sequence."),a(n,"game_result_sequence1","%{name} wins with a higher sequence."),a(n,"geme_result_high_card","%{name} wins with a high card."),a(n,"game_result_pair","%{name} wins with a pair."),a(n,"game_result_pair1","%{name} wins with a higher pair."),a(n,"game_result_trail","%{name} wins with a trail."),a(n,"game_result_trail1","%{name} wins with a higher trail."),a(n,"game_result_pure_sequence","%{name} wins with a pure sequence."),a(n,"game_result_pure_sequence1","%{name} wins with a higher pure sequence."),a(n,"game_result_color","%{name} wins with a color."),a(n,"game_result_color1","%{name} wins with a higher color."),a(n,"show","Show"),a(n,"s_show","S.Show"),a(n,"join_game","%{name} has joined the game"),a(n,"won_game","%{name} won!"),a(n,"side_show_tips","requested a side show"),a(n,"level","Level"),a(n,"coming_soon_title","Coming Soon!"),a(n,"coming_soon1","Coming\nSoon..."),a(n,"hukam","HUKAM"),a(n,"hukam1","Hukam"),a(n,"help_title_hukam","Any card with the same number as the HUKAM card is a joker card:"),a(n,"ak47","AK47"),a(n,"help_title_ak47","ALL A's, K's, 4's and 7's are jokers:"),a(n,"pot_blind","POT BLIND"),a(n,"pot_blind1","Pot Blind"),a(n,"help_title_pot_blind","Play blind all the time:"),a(n,"deluxe_table","Deluxe Table"),a(n,"always_blind","Always Blind"),a(n,"update","Update"),a(n,"update_tips","The new mode your friend playing cannot be supported in current version.Update to the latest release and play with friends."),a(n,"collect","Collect"),a(n,"view","View"),a(n,"no_msg","No Message Now"),a(n,"hand_strength_meter","Hand Strength Meter"),a(n,"hand_strength_free","win more games with the meter!\nGet a 15-day free trial!\nTurn it ON/OFF from settings"),a(n,"hand_strength_end","Your free trial has ended.\nPay only 5% of chips won & win more games!\nTurn it ON/OFF from settings"),a(n,"hand_strength_on_free","Know how good your cards are.\nWin more games and more chips!\nYou are still  in a free trial now"),a(n,"hand_strength_on","Know how good your cards are.\nWin more games and more chips!\nPay only 5% of chips won"),a(n,"chips_reload","Retrieve"),a(n,"chips_reload_tips","Whoops! It seems your items didn't load correctly.\nPlease reload the page and try again"),a(n,"ads_tips","Awesome! You've got free chips"),a(n,"ads_chips_upto","Get upto"),a(n,"ads_watch","Watch Again"),a(n,"bank","Bank"),a(n,"current_bank_balance","Your current Bank Balance:"),a(n,"into_bank","To Your Bank"),a(n,"add_for","Add for"),a(n,"buy","Buy"),a(n,"withdraw_chips_to_account","to your own account"),a(n,"withdraw","Withdraw"),a(n,"gift_chips_to_account","to other account"),a(n,"gift","Gift"),a(n,"withdraw_chips","Withdraw Chips"),a(n,"input_chips_to_withdraw","Please input the amount of chips you want to withdraw to your playing account."),a(n,"chips_to_draw","Chips to draw:\n(in crores)"),a(n,"enter_here","Enter here"),a(n,"gift_chips","Gift Chips"),a(n,"input_chips_to_gift","Please input the amount of chips you want to gift."),a(n,"chips_to_gift","Chips to gift:\n(in crores)"),a(n,"receiver_id1","Receiver's \nUser ID"),a(n,"receiver_id2","Receiver's ID"),a(n,"find_user_id","Find User ID at 'My Profile' page"),a(n,"fill_information","Please fill out the information before sending gift."),a(n,"bank_history","Bank History"),a(n,"no_record_in_bank","You have no record in Bank."),a(n,"amount","Amount"),a(n,"type","Type"),a(n,"time","Time"),a(n,"congratulations","Congratulations"),a(n,"zero_balance","Whoops! You have a zero balance. Please buy chips to fill up your Bank first."),a(n,"add_chips_successfully","You\xa0have\xa0successfully\xa0added\xa0%{chips}\xa0chips\xa0into\xa0your\xa0Bank."),a(n,"withdrawl_complete","The withdrawal of %{chips} chips is complete."),a(n,"gift_successfully","You have successfully gifted %{chips} chips."),a(n,"add","Add"),a(n,"draw","Draw"),a(n,"transfer","Transfer"),a(n,"transfer_to_bank","Transfer\xa0to\xa0bank"),a(n,"gift_from","%{chips} chips\xa0from\xa0%{name}"),a(n,"bank_chips_store","Bank\xa0Chips\xa0Store"),a(n,"gift_confirm","Are you sure you want to gift %{name} with %{chips} chips?"),a(n,"purchase_failed","Purchase Failed"),a(n,"purchase_failed_msg","Your transaction is not successful, please try again."),a(n,"purchase_failed_button","Try Again"),a(n,"insufficient_balance","Whoops!"),a(n,"insufficient_balance_msg","Your bank balance is not enough. Please add more to your bank."),a(n,"insufficient_balance_button","Add More"),a(n,"bank_gift","Bank Gift"),a(n,"bank_gift_msg","Congratulations! You've got %{chips}."),a(n,"broke","BROKE?"),a(n,"broke_tip","Here is %{chips} chips for you! Enjoy Yourself!"),a(n,"claim","Claim"),a(n,"variation_table","Variation Table"),a(n,"my_profile","My Profile"),a(n,"game_won","Game Won"),a(n,"biggest_win","Biggest Win"),a(n,"winning_streak","Winning Streak"),a(n,"best_hand","Best Hand"),a(n,"highest_chips","Highest Chips"),a(n,"logout_of_facebook","Logout of Facebook"),a(n,"player_info","Player Info"),a(n,"select_all","Select All"),a(n,"regular","Regular"),a(n,"deluxe","Deluxe"),a(n,"variation","Variation"),a(n,"cricket_bet","cricket bet"),a(n,"indian_premier_league","Indian Premier League"),a(n,"session","Session"),a(n,"inning","Inning"),a(n,"over","Over"),a(n,"ball","Ball"),a(n,"over_session","%{number} over session"),a(n,"in_play","In Play"),a(n,"upcoming","Upcoming"),a(n,"bet_history","Bet History"),a(n,"history","History"),a(n,"bet_settled_for_match_winner","Bet Settled for Match Winner"),a(n,"team","Team"),a(n,"odds","Odds"),a(n,"bet_amount","Bet Amount"),a(n,"bet_status","Bet Status"),a(n,"continue_bet","Continue Bet"),a(n,"amount_if_won","Amount If Won"),a(n,"bet_settled_for_match_session","Bet Settled for Match Session"),a(n,"bet","Bet"),a(n,"score","Score"),a(n,"win","Win"),a(n,"lost","Lost"),a(n,"ongoing","Ongoing"),a(n,"total_win","Total Win"),a(n,"place_bet","Place Bet"),a(n,"upcoming_matches","Upcoming Matches"),a(n,"team_match_details","Teams (Match Details)"),a(n,"date","Date (IST)"),a(n,"venue","Venue"),a(n,"bet_will_open","Bet will open"),a(n,"match_start","Match starts in:"),a(n,"vs","VS"),a(n,"opt_to_bowl","%{team name} opt to bowl"),a(n,"match_winner","Match Winner"),a(n,"bet_summary","Bet Summary (Innings %{number} Overs)"),a(n,"no_at","NO at %{bet}"),a(n,"yes_at","YES at %{bet}"),a(n,"bet_summary_for_match_winner","Bet Summary for Match Winner"),a(n,"match_name","Match Name"),a(n,"team_name","Team Name"),a(n,"total_bet_amount","Total Bet Amount"),a(n,"result","Result"),a(n,"get_chips","Get Chips"),a(n,"match_odds","Match Odds"),a(n,"session_odds","Session Odds"),a(n,"enter_stake","Enter Stake"),a(n,"enter_stake_msg","Please input the amount of stake you want to bet."),a(n,"enter_amount","Enter Amount"),a(n,"bet_msg1","Innings %{number} Over Session will be less than %{bet}."),a(n,"bet_msg2","Innings %{number} Over Session will be greater than or equal to %{bet}."),a(n,"stake","Stake"),a(n,"profit","Profit"),a(n,"session_changed_msg","Session has been changed, please reload and try again."),a(n,"bet_match_winner","Bet Match Winner on:"),a(n,"odds_changed_msg","The odds have been changed from %{odds1} to %{odds2}. Are you sure you want to Bet?"),a(n,"suspend","Suspend"),a(n,"cricket_bet_help1","Players can bet 24 hours before the match and the odds will constantly change."),a(n,"cricket_bet_help2","Players can make multiple bets in each gambling. The bets will be settled respectively after the match."),a(n,"cricket_bet_help3","The chips you bet will be deducted from in-game account balance. Similarly, the chips you win will be added into your current balance."),a(n,"cricket_bet_help4","6 Overs Session means you should bet the scores that team can get after 6 overs. Choosing the left-hand score means you think they can get less than or equal to it. Bet on the right-hand score does the reverse. 10/15/20 Overs Session are in the same way. In session, the odds are 2."),a(n,"cricket_bet_help5","In Upcoming, it shows the upcoming matches and start time."),a(n,"cricket_bet_help6","You can claim the profit chips in Bet Summary page."),a(n,"cricket_bet_help7","You can check all your betting record in the History. It shows the recent bets when you click History, and you can obtain the complete records."),a(n,"cricket_bet_help8","Due to the data transmission problem, it may occur that you cannot bet. Please understand and it will back to normal very soon."),a(n,"cricket_bet_help9","Cricket betting mode within the Teen Patti Flush is only for entertainment. We don\u2019t offer real money gambling or an opportunity to win real money or prizes."),a(n,"my_info","My Info"),a(n,"enter_bet","Please enter a positive integer as your stake when betting."),a(n,"no_record","There is no record of betting."),a(n,"no_upcoming_match","There is no upcoming match now."),a(n,"no_inplay_match","There is no in play match now."),a(n,"in_cricket_room","In Cricket Room"),a(n,"bet_failed_msg","The bet has been failed, please reload and try again."),a(n,"transfer_to_another","Please input the amount of chips you want to transfer."),a(n,"chips_to_transfer","Chips to transfer:\n(in crores, min. %{chips})"),a(n,"fill_information2","Please fill out the information before transferring to another bank."),a(n,"transfer_successfully","You have successfully transferred %{chips} chips."),a(n,"innings_overs","Innings %{number} Overs"),a(n,"bank_to_bank","Bank to Bank"),a(n,"min_chips","min. %{chips} Cr"),a(n,"transfer_confirm_msg","Are you sure you want to transfer %{chips} chips to %{userid}'s bank?"),a(n,"add_to_bank","Congratulations! %{chips} have been added into your bank."),a(n,"casino_war","Casino War"),a(n,"bet2","Bet:"),a(n,"tie","Tie"),a(n,"tie2","Tie:"),a(n,"surrender_or_war",'"Surrender" or Go TO "War"'),a(n,"surrender_or_war2","Surrender or GO TO War"),a(n,"deal","Deal"),a(n,"surrender","Surrender"),a(n,"surrender2","Surrender:"),a(n,"war","War"),a(n,"go_to_war","Go to war:"),a(n,"game_starts","Game Starts"),a(n,"bet_chips","Bet Chips"),a(n,"boot_limit","Boot Limit"),a(n,"add_limit","Add Limit"),a(n,"max_chaal","Max Chaal"),a(n,"help_msg1","The game is played with six decks of cards. The dealer and player will each get one card, who get the higher card will win the bet."),a(n,"help_msg2","2 is the smallest card. Ace is the largest."),a(n,"bet_and_tie","Bet and Tie"),a(n,"bet_msg","Bet on if your card is higher than dealer\u2019s. Pay 1 to 1"),a(n,"tie_msg","Bet on if your card ties the dealer\u2019s. Pay 10 to 1"),a(n,"surrender_or_war_msg","When a tie occurs, you have two options."),a(n,"surrender_msg","You will lose half the bet."),a(n,"go_to_war_msg","You will get another chance with doubled wager."),a(n,"in_the_war","In the War"),a(n,"in_war_msg","An additional card is dealt to dealer and you."),a(n,"your_card_higher","Your card is higher:"),a(n,"your_card_higher_msg","win the original wager"),a(n,"your_card_lower","Your card is lower:"),a(n,"your_card_lower_msg","lose the (doubled) wager"),a(n,"another_tie","Another Tie:"),a(n,"another_tie_msg","win the doubled original wager"),a(n,"balance_not_enough","Your balance can\u2019t afford to go to war. Buy more to avoid surrender!"),a(n,"fanpage","Fanpage"),a(n,"reach_level_bonus","Reach LV.%{number} to Get %{chips}"),a(n,"football_bet","Football Bet"),a(n,"world_cup","World Cup"),a(n,"football","Football"),a(n,"group_a","Group A"),a(n,"group_b","Group B"),a(n,"group_c","Group C"),a(n,"group_d","Group D"),a(n,"group_e","Group E"),a(n,"group_f","Group F"),a(n,"group_g","Group G"),a(n,"group_h","Group H"),a(n,"round_of_16","Round of 16"),a(n,"quarter_finals","Quarter-finals"),a(n,"semi_finals","Semi-finals"),a(n,"third_place_playoff","Third Place Playoff"),a(n,"final_match","Final Match"),a(n,"first_half","First Half"),a(n,"half_time","Half-time"),a(n,"second_half","Second Half"),a(n,"extra_time","Extra Time"),a(n,"penalty_shootouts","Penalty Shootouts"),a(n,"match_ends","Match Ends"),a(n,"settling","Settling"),a(n,"football_bet_help","Players can bet 24 hours before the match and the odds will constantly change. \nThere may be a delay in summary after the match, but we will definitely settle it within 12 hours. \nPlayers can make multiple bets in each gambling. The bets will be settled respectively after the match. \nThe chips you bet will be deducted from in-game account balance. Similarly, the chips you win will be added into your current balance. \nIn Upcoming, it shows the upcoming matches and start time. \nYou can claim the profit chips in Bet Summary page. \nYou can check all your betting record in the History. It shows the recent bets when you click History, and you can obtain the complete records. \nDue to the data transmission problem, it may occur that you cannot bet. Please understand and it will back to normal very soon. \nFootball betting mode within the Teen Patti Flush is only for entertainment. We don\u2019t offer real money gambling or an opportunity to win real money or prizes."),a(n,"premium_table","Premium Table"),a(n,"draw1","Draw"),a(n,"more_football_matches","More Football Matches"),a(n,"not_place_bet","You haven't placed bet on this match."),a(n,"switch","Switch"),a(n,"no_match","There is no match"),a(n,"no_record_football","There is no record"),a(n,"invite_for_prize","Invite for Prize!"),a(n,"invite_code_bonus","Get more than 1Cr chips from friends who enter your Invite Code!"),a(n,"chips_to_claim","You have %{chips} chips to be claimed."),a(n,"invite_friends_succeed","Wow!\xa0You\xa0succeed\xa0in\xa0inviting\xa0%{number}\xa0friends.\xa0Here's\xa0your\xa0%{chips} chips\xa0reward!"),a(n,"invite_reward","%{name}\xa0has\xa0been\xa0invited\xa0to\xa0the\xa0game!\xa0Here's\xa0your\xa0%{chips}\xa0chips\xa0reward!"),a(n,"share_invite_code","Share\xa0your\xa0Invite\xa0Code\xa0now\xa0to\xa0get\xa0%{chips}\xa0chips\xa0from\xa0each\xa0friend!"),a(n,"enter_invite_code","Enter your friend's invite code to claim %{chips} chips in %{number} days!"),a(n,"friends_code","Friend's Code:"),a(n,"enter_code","Enter Code"),a(n,"your_code","Your Code:"),a(n,"share_code_msg","Come join me in TeenPattiFlush! Input my Invite Code: %{userid} now to get %{chips} CHIPS!"),a(n,"accept_invite_bonus","Wow!\xa0You've\xa0got\xa0%{chips}\xa0chips\xa0through\xa0%{name}'s\xa0invitation!"),a(n,"incorrect_code_msg","Please enter the correct Invite Code."),a(n,"each","Each"),a(n,"no_own_code","Please do not input your own Invite Code."),a(n,"timed_out","It's timed out for you to enter the Invite Code."),a(n,"more_cricket_matches","More Cricket Matches"),a(n,"online_bet","Online Bet"),a(n,"andar_bahar","Andar Bahar"),a(n,"andar","Andar"),a(n,"bahar","Bahar"),a(n,"bet_time","Bet Time"),a(n,"dealing_cards","Dealing Cards"),a(n,"bet_on_andar","%{name} bet %{chips} chips on Andar"),a(n,"bet_on_bahar","%{name} bet %{chips} chips on Bahar"),a(n,"andar_wins","Andar Wins"),a(n,"bahar_wins","Bahar Wins"),a(n,"minimum_bet","Minimum Bet"),a(n,"maximum_bet","Maximum Bet"),a(n,"maximum_payout","Maximum Payout"),a(n,"select_card_msg","Please select a card as Joker Card."),a(n,"selecting_card","%{name} is selecting Joker Card."),a(n,"ab_help_1","Joker card is put in the center. Then cards will be given to Andar and Bahar in turn."),a(n,"ab_help_2","When a card has the same rank with Joker, the game ends."),a(n,"ab_help_3","Players can bet twice on Andar or Bahar. Place first bet after Joker appears. Place second bet after 2 cards have been dealt to the table."),a(n,"ab_help_4","Winnings on the first two cards are 25%. Winnings on other cards are %{number}."),a(n,"login_failed","Login Failed"),a(n,"login_failed_msg","Oh, no! Your login temporarily failed. Please try again later."),a(n,"retry","Retry"),a(n,"notification","Notification"),a(n,"refund_chips","Refund %{chips}"),a(n,"match_abandon_msg","The match is abandoned. The chips you bet are refunded."),a(n,"turn_on_push","Turn on the push notification, and you will never miss out any Bonus!"),a(n,"settings","Settings"),a(n,"poker","Poker"),a(n,"small_blind","Small Blind"),a(n,"big_blind","Big Blind"),a(n,"call","Call"),a(n,"fold","Fold"),a(n,"check","Check"),a(n,"raise","Raise"),a(n,"all_in","All in"),a(n,"call_any","Call Any"),a(n,"raise_to","Raise to"),a(n,"royal_flush","Royal Flush"),a(n,"straight_flush","Straight Flush"),a(n,"four_of_kind","Four of a Kind"),a(n,"full_house","Full House"),a(n,"flush","Flush"),a(n,"straight","Straight"),a(n,"three_of_kind","Three of a Kind"),a(n,"two_pairs","Two Pairs"),a(n,"pair","Pair"),a(n,"high_hand","High Hand"),a(n,"enter_poker","Buy into Poker Table"),a(n,"table_blinds","Table Blinds"),a(n,"auto_rebuy","Auto Re-buy"),a(n,"blinds","Blinds"),a(n,"buy_in","Buy-in"),a(n,"table_full_msg","This table is full. Please switch to another table."),a(n,"s_blind","S.Blind"),a(n,"b_blind","B.Blind"),a(n,"call_c","CALL"),a(n,"fold_c","FOLD"),a(n,"raise_c","RAISE"),a(n,"allin_c","ALL IN"),a(n,"check_c","CHECK"),a(n,"callany_c","CALL ANY"),a(n,"join_table","Join Table"),a(n,"switch_table_msg","You've waited for a while. How about switching table to join others?"),a(n,"switch_mode","Switch Mode"),a(n,"switch_mode_msg","Uh-oh! Seems like you're alone on poker table now. How about switching to other game modes?"),a(n,"back_to_lobby","Back to Lobby"),a(n,"collecting_blinds","Collecting Blinds"),a(n,"dealing_flop","Dealing the Flop"),a(n,"dealing_turn","Dealing the Turn"),a(n,"dealing_river","Dealing the River"),a(n,"call_chips","%{name} called %{chips}"),a(n,"went_allin_chips","%{name} went All In with %{chips}"),a(n,"raise_chips","%{name} raised %{chips}"),a(n,"player_fold","%{name} folded"),a(n,"player_checked","%{name} checked"),a(n,"player_won_chips","%{name} won %{chips} chips with %{hand}"),a(n,"ab_won","%{name1} & %{name2} won"),a(n,"players_won","%{name1}, %{name2}, %{name3}... won"),a(n,"show_down","Show Down"),a(n,"pre_operation","Pre-operation in Poker"),a(n,"event_msg1","Play %{hands} hands a day"),a(n,"event_msg2","you can convert game chips to bank chips"),a(n,"event_msg3","Exclude private table hands"),a(n,"go_go_go","GO GO GO"),a(n,"event_rule1","1. The date of event is from %{date1} to %{date2}."),a(n,"event_rule2","2. Play %{hands} hands a day, you can convert game chips to bank chips. Private table hands and joining friends table hands are not counted."),a(n,"event_rule3","3. Once it's completed, you can convert a maximum of %{chips} game chips. The conversion ratio is %{number}:1."),a(n,"event_rule4","4. The chips you win from Private Table cannot be converted to bank chips."),a(n,"event_rule5","5. During the event, game hands and remaining convertible chips will be rest to zero at 0:00 (IST). It should accumulate again the next day."),a(n,"chips_converter","Game Chips to Bank Chips Converter"),a(n,"not_reached_hands","You haven't reached the required hands."),a(n,"convert_game_chips","Convert Game Chips"),a(n,"receive_bank_chips","Receive Bank Chips"),a(n,"convert","Convert"),a(n,"enter_game_chips","Please enter the game chips amount."),a(n,"max_amount","Maximum amount is %{chips} bank chips"),a(n,"convert_success","You've sucessfully obtained"),a(n,"play_hands","You need to play %{hands} hands"),a(n,"not_enough_chips","You don't have enough game chips to convert."),a(n,"min_amount","Minimum amount is %{chips} chips"),a(n,"not_event_time","It is not in the event time at present."),a(n,"exception_occur","An exception occurs during your conversion."),a(n,"rummy","Rummy"),a(n,"drop","Drop"),a(n,"discard","Discard"),a(n,"declare","Declare"),a(n,"sort","Sort"),a(n,"group","Group"),a(n,"points","Points"),a(n,"winner","Winner"),a(n,"set","Set"),a(n,"1st_life","1st Life"),a(n,"2nd_life","2nd Life"),a(n,"sequences","Sequences"),a(n,"not_correct","Not Correct"),a(n,"1st_life_needed","1st Life Needed"),a(n,"2nd_life_needed","2nd Life Needed"),a(n,"player_drop","%{name} dropped"),a(n,"your_turn","It is your turn."),a(n,"declare_cards","%{name} is declaring cards"),a(n,"arrange_cards_msg","Please arrange your cards and declare."),a(n,"declare_cards_msg","%{name} declared.\nGroup your cards and declare."),a(n,"wait_for_declare","Please wait for other players to declare."),a(n,"basic_rules","Basic Rules"),a(n,"rummy_rule1","Rummy is the game that requires players to form sets or sequences faster than others by using all the 13 cards. And the cards must at least have 1st life and 2nd life."),a(n,"rummy_rule2","1st life: Pure Sequence, and Jokers are not included."),a(n,"rummy_rule3","2nd life: Another sequence except the 1st life, and it can include jokers."),a(n,"rummy_rule4","A set refers to 3 or 4 cards with same rank but different suits, and it can include jokers."),a(n,"about_joker","About Joker"),a(n,"joker_rule","Besides the Printed Joker, the card which has same rank with the one kept under stock pile can also be regarded as Jokers."),a(n,"about_scores","About Scores"),a(n,"score_rule1","When a player wins the game, the unmatched cards of the rest of the players are counted."),a(n,"score_rule2","Lost Chips = Final Score * Point Value (Upper limit of final score is 80 points)"),a(n,"scoring","Scoring"),a(n,"scoring_rule1","Unmatched A, K, Q, J, 10 are counted as 10 points."),a(n,"scoring_rule2","Unmatched 9, 8, 7, 6, 5, 4, 3,2 have their face value."),a(n,"scoring_rule3","Joker cards are counted as 0 points."),a(n,"point_value","Point Value"),a(n,"maximum_win","Maximum Win"),a(n,"minimum_needed","Minimum Needed"),a(n,"insuffient_chips_msg","Your chips may be insufficient for the next game. Please buy more to continue!"),a(n,"ensure_min_chips_msg","Please ensure at least %{chips} chips to finish this game. Buy more to continue!"),a(n,"scoreboard","Scoreboard"),a(n,"player","Player"),a(n,"cards","Cards"),a(n,"next_game","Next Game"),a(n,"min_chips_needed","Minimum chips needed:"),a(n,"in_rummy_room","In Rummy Room"),a(n,"not_enough_chips_rummy","Your chips are insufficient for this table."),a(n,"start_game_rummy","Start Game"),a(n,"every","Every 1"),a(n,"transfer_chips","You can transfer %{num}Cr chips to Bank."),a(n,"convert_chips","Convert Game Chips:\n(in crores)"),a(n,"not_enough_diamond","You don't have enough diamonds. Please buy more to continue."),a(n,"buy_now","Buy Now"),a(n,"insufficient_chips","Oh! Your chips are insufficient now."),a(n,"diamond_help","1. The event will be held aperiodically, please refer to the actually displayed interface for details.\n2. Game Chips can be transferred to Bank Chips by using diamonds.\n3. Each player is limited to buy 100 diamonds. For additional purchase, please contact us at email: teenpatti.poker2017@gmail.com\n4. Game chips to other players can only be sent through Bank. If transfering game chips by other way, you will be restricted to login the game."),a(n,"event_not_open","The event has yet to open.\nPlease stay tuned for the upcoming update!"),a(n,"reach_purchase_limit","Your diamonds have reached the upper limit. For additional purchase, please contact us!"),a(n,"video_bonus","In need of chips? Watch Video to get some Free Bonus!"),a(n,"no_video","Video is not ready, please come back later!"),a(n,"get_free","Get Free"),a(n,"win_chips","%{name} won %{chips} chips"),a(n,"player_won","%{name} won"),a(n,"ab_won_chips","%{name1} & %{name2} won %{chips} chips"),a(n,"ab_won_hands","%{name1} & %{name2} won with %{hand}"),a(n,"players_won_chips","%{name1}, %{name2}, %{name3}... won %{chips} chips"),a(n,"players_won_hands","%{name1}, %{name2}, %{name3}... won with %{hand}"),a(n,"teen_patti","TEEN PATTI"),a(n,"poker_league","POKER LEAGUE"),a(n,"lucky_war","LUCKY WAR"),a(n,"buy_chips_c","BUY CHIPS"),a(n,"min_buy_in","Min Buy-in %{chips}"),a(n,"stake_c","STAKES"),a(n,"number_amount","$%{number}"),a(n,"loginfb_bonus","Login Facebook to get rich free chips and friends bonus."),a(n,"daily_mission","Daily Mission"),a(n,"ends_in","Ends In: %{time}"),a(n,"mission_number","Mission %{number}"),a(n,"extra_bonus","Extra Bonus"),a(n,"rewards","Rewards"),a(n,"get_bonus","Get Bonus"),a(n,"play_now","Play Now"),a(n,"finish_mission","Finish all missions to\nget:"),a(n,"sign_in","Sign in"),a(n,"sign_in_for_bonus","Sign in for bonus"),a(n,"login_facebook","Login using Facebook"),a(n,"reach_chips_in_account","Reach %{chips} chips in account"),a(n,"tip_dealer","Tip dealer for %{times} times"),a(n,"send_gifts_times","Send gifts in game for %{times} times"),a(n,"finish_rounds_in_any","Finish %{times} rounds in any game mode"),a(n,"finish_rounds","Finish %{times} rounds in %{mode}"),a(n,"win_in_any_modes","Win %{times} hands in any game mode"),a(n,"win_in_epecific","Win %{times} hands in %{mode}"),a(n,"win_for_times","Win %{type} in %{mode} for %{times} times"),a(n,"play_with_meter","Play %{times} rounds with strength meter"),a(n,"win_chips_in_any","Win %{chips} chips in any game mode"),a(n,"win_chips_in_specific","Win %{chips} chips in %{mode}"),a(n,"send_invites","Send invite to %{count} friends"),a(n,"succeed_in_inviting","Succeed in inviting %{count} friends"),a(n,"trail_event","Trail"),a(n,"pure_sequence","Pure Sequence"),a(n,"sequence_event","Sequence"),a(n,"color_event","Color"),a(n,"pair_event","Pair"),a(n,"high_card","High Card"),a(n,"mission_complete","Mission%{number}\nis Completed!"),a(n,"all_mission_complete","Congrats! You've completed all the missions! Come to challenge again tomorrow!"),a(n,"email","Email"),a(n,"customer_support","Customer Support"),a(n,"choose","Choose"),a(n,"select_boot_amount","Select the boot amount for your table."),a(n,"freeze","Freeze %{chips}"),a(n,"no_limit_select_boot","NO LIMIT\nSelect Boot"),a(n,"min_chips_need","The Minimum chips need:"),a(n,"buy_to_continue","Please buy more chips to continue."),a(n,"min_bet","Min Bet"),a(n,"min_chips_be_banker","Min Chips to Be Banker"),a(n,"min_chips_to_sit","Min Chips to Sit"),a(n,"min_pot","Min Pot"),a(n,"teen_patti_war","Teen Patti War"),a(n,"be_banker","Be Banker"),a(n,"teen_patti_war_help1","Place your bet on the four positions and compare the cards with the banker's."),a(n,"teen_patti_war_help2","If your cards are bigger, you can get twice of the bet from banker. Otherwise, you will lose your bet."),a(n,"teen_patti_war_help3","You can bet whether standing or sitting. But you can sit if you have enough chips."),a(n,"teen_patti_war_help4","If you have enough chips, you can choose to be a banker."),a(n,"teen_patti_war_help5","You can set the pot limit when being the banker."),a(n,"teen_patti_war_help6","1% of your winning chips will be put into Jackpot. If Trail or Set appears in any of the four positions, 60% of the chips in Jackpot will be carved up by players who bet on it according to their wagers. If banker gets Trail or Set, he/she will get 60% of the chips in Jackpot. If Trail or Set appears in more than one position, the bigger one gets the Jackpot."),a(n,"dealer","Dealer"),a(n,"set_pot","Set Pot"),a(n,"set_pot_msg","Please set the pot when being the banker."),a(n,"banker_chips_needed","You need %{chips} chips to be the banker."),a(n,"current_pot","Current Pot"),a(n,"training","Training"),a(n,"public","Public"),a(n,"quick_play","Quick Play"),a(n,"waiting","Waiting"),a(n,"playing_rummy","Playing"),a(n,"vs_bot","VS Bot"),a(n,"solo","Solo"),a(n,"member_since","Member Since"),a(n,"wait_to_be_banker","Wait to Be Banker in Next Round"),a(n,"wait_for_leave","Wait for Current Banker Leaving"),a(n,"next_banker","Next Banker"),a(n,"next","Next"),a(n,"novice_guide1","Firstly, select the chip amout you want to bet."),a(n,"novice_guide2","Click to place your bet on the four positions to compare the cards with the banker's."),a(n,"novice_guide3","You can bet whether standing or sitting.\nBut you can sit if you have enough chips."),a(n,"novice_guide4","If you have enough chips, you can choose to be a banker."),a(n,"novice_guide5","1% of your winning chips will be put into Jackpot.\nIf Trail or Set appears, 60% in Jackpot will be carved up by players who bet on it."),a(n,"place_positions","Place\xa0your\xa0bet\xa0on\xa0the\xa0four\xa0positions now."),a(n,"result_settling","Gaming result is being settled now."),a(n,"pot_reach_limit","Bet is closed now due to the pot limit."),a(n,"leave_after_current_round","Leave After Current Round"),a(n,"not_enough_for_banker","You are not the banker any longer because your chips are not enough."),a(n,"set_pot_limit","Set the pot limit and it cannot be changed when you're a banker."),a(n,"novice_guide","Novice Guide"),a(n,"place_bet_on_positions","Place your bet on the four positions now"),a(n,"be_banker_set_pot","%{name} has become the new banker and set pot limit as %{chips}"),a(n,"not_banker1","You are not the next banker any longer because your chips are less than the min chips needed to be banker."),a(n,"not_banker2","You are not the next banker any longer because your chips are less than the pot limit you set."),a(n,"table_full_patti_war","The table is full, please come again later."),a(n,"cancel_banker","Cancel Banker"),a(n,"showdown","Showdown"),a(n,"compare_with_banker","If the cards you bet on are bigger than banker\u2019s, you can get twice of the bet from banker. If the banker's cards are bigger, you will lose your bet to him/her."),a(n,"subscribe_already","Your current Google account has already subscribed to the Monthly Elite."),a(n,"total_claim","Total Claimed:%{chips}"),a(n,"expire_on","Expire on %{expireDate}"),a(n,"monthly","%{price} Monthly"),a(n,"cannot_buy_elite","You cannot purchase Monthly Elite again because you have already subscribed to next month."),a(n,"upgrade_fail","Upgrade is failed because the monthly elite you purchased is inconsistent with the one in current google account."),a(n,"play","Play"),a(n,"unlock_new_mode","You've unlocked new game mode!"),a(n,"congrats","Congrats!"),a(n,"start_on","Start on %{nextDate}"),a(n,"claim_everyday","Claim Every Day"),a(n,"send_gift_free","Send Gift for Free"),a(n,"elite_bonus","Elite Daily Bonus"),a(n,"total","Total:"),a(n,"sit_or_stand","You need at least %{chips} chips to sit."),a(n,"new_banker_ready","New banker is ready\nand the new pot limit is %{chips}."),a(n,"buy_to_bet","You don't have enough chips to bet. Please buy more to continue."),a(n,"win_from_jackpot","You won %{chips} chips from the Jackpot!"),a(n,"banker_win","Banker %{name} won %{chips} in Jackpot."),a(n,"player_carve","%{count} players %{name} carved up %{chips} in Jackpot."),a(n,"bet_now","Bet Now"),a(n,"game_settling","Game Settling"),a(n,"banker_ready","New banker is ready"),a(n,"you_won","YOU WON"),a(n,"new_pot_limit","New Pot Limit"),a(n,"bonus2","Bonus"),a(n,"mission","Mission"),a(n,"share","Share"),a(n,"no_limit_select","NO LIMIT\u2014Select Boot"),a(n,"rate_c","RATE"),a(n,"facebook","Facebook"),a(n,"whatsapp","WhatsApp"),a(n,"request","Request"),a(n,"add_as_friend","Add me as a friend!"),a(n,"bet_rummy","Bet Rummy"),a(n,"init_point_value","Init Point Value"),a(n,"point_value_boot","Point Value Boot"),a(n,"reduce","Reduce"),a(n,"raise_point_msg","When it's your turn, you can raise point value by clicking the button."),a(n,"bet_rummy_help1","After you click the raise button, you need to discard a card to implement it."),a(n,"bet_rummy_help2","When you can pick a card, you accept other players' point value to continue the game."),a(n,"bet_rummy_help3","%{name} raised the Point Value to %{chips}."),a(n,"deal_rummy","Deal Rummy"),a(n,"entry_fee","Entry Fee"),a(n,"prize","Prize"),a(n,"deals","Deals"),a(n,"pt_value","Pt Value"),a(n,"players","Players"),a(n,"tie_break","Tie-Break"),a(n,"final_score","Final Score"),a(n,"lose_entry_fee_msg","You will lose your entry fee: %{chips}"),a(n,"give_up_msg1","Are you sure you want to give up and back to lobby?"),a(n,"give_up_msg2","Are you sure you want to give up and switch room?"),a(n,"give_up","Give Up"),a(n,"wait_for_players","Waiting for players:"),a(n,"you_won_chips","You Won: %{chips}"),a(n,"better_luck","Better Luck Next Time."),a(n,"next_game_start","Next %{chips} game starts in %{seconds} seconds."),a(n,"deal_rummy_help1","In Deal Rummy, each player can pay entry fee to start the game with same chips."),a(n,"deal_rummy_help2","When the deals are finished, player with the most chips wins the prize."),a(n,"deal_rummy_help3","If more than one player have the most chips, there will be a tie-break between them."),a(n,"friend_limit_reach","Friend Limit Reached"),a(n,"other_reach_limit","This player has reached the friend limit and cannot accept more."),a(n,"you_reach_limit","You've reached the friend limit. Please remove some first to add more."),a(n,"go_to_remove","Go to Remove"),a(n,"continue","Continue"),a(n,"wait_others_msg1","Please wait for other player to continue."),a(n,"wait_others_msg2","Please wait for other players to continue."),a(n,"global","Global"),a(n,"rank","Rank"),a(n,"rank_reset_msg","Top 100 get rewards and ranking is reset at 24:00 Sat.(IST)."),a(n,"global_rank_reset_msg","Global Ranking will be reset at 24:00 every Saturday(IST)."),a(n,"top_get_bonus_msg","Players who rank top 100 before resetting will be rewarded with chips."),a(n,"higer_rank_reward","The reward is decided by the higher ranking between chips won and hands won."),a(n,"remove","Remove"),a(n,"remove_friend_msg","Are you sure you want to remove %{name} as your friend in Teen Patti Flush?"),a(n,"request_sent","Request Sent"),a(n,"no_friend_request","You have no friend request now."),a(n,"get_prize","Get your prize now!"),a(n,"hands_won_rank","You ranked <color=#ffd200>No.%{rank}</color> in hands won chart last week."),a(n,"chips_won_rank","You ranked <color=#ffd200>No.%{rank}</color> in chips won chart last week."),a(n,"store_not_available","Store isn't available yet, we will bring it to you as soon as possible!"),a(n,"not_in_rank","Not in Rank"),a(n,"your_rank","Your Rank"),a(n,"tournament_open_msg","Tournament will be open in next version."),a(n,"boot_increased","Boot Increased to:"),a(n,"you_won_d","You won"),a(n,"new_tournament","New Tournament"),a(n,"entry_fee_chips","%{chips} Entry Fee"),a(n,"your_ranked","You Ranked NO.%{rank}"),a(n,"unlock_at","Unlocked at"),a(n,"lv_level","Lv.%{level}"),a(n,"win_c","WIN"),a(n,"all_in_c","All-in"),a(n,"ranking","Ranking"),a(n,"round","Round"),a(n,"game_mode","Game Mode"),a(n,"tournament_rewards","Tournament Rewards"),a(n,"single_round","Single Round"),a(n,"round_number","Round %{number}"),a(n,"win_round","(or Win Round 1)"),a(n,"free_entry","Free entry to Round 2"),a(n,"skip_round","Skip Round 1"),a(n,"normal_c","Normal"),a(n,"tournament_c","TOURNAMENT"),a(n,"seats","Seats"),a(n,"max_prize","Max Prize"),a(n,"pool_rummy","Pool Rummy"),a(n,"pool_rummy_help1","In Pool Rummy, each player shall pay entry fee to start the game with 0 points."),a(n,"pool_rummy_help2","When deal is finished, winner's total points will stay unchanged, and other players' will be increased according to the unmatched cards."),a(n,"pool_rummy_help3","Players whose total points are greater than or equal to 101 or 201 will be eliminated. The player remains till the end will win the reward."),a(n,"wait_for_other_player","Waiting for Other Players"),a(n,"final_pts","Final Pts"),a(n,"pool","Pool"),a(n,"game_type","Game Type"),a(n,"number_of_player","No. of Players"),a(n,"ranking_tournament","Ranking Tournament"),a(n,"ranking_tournament_help1","Each player starts game with the same chips and the boot won't change during the game."),a(n,"ranking_tournament_help2","After certain rounds, prize will be given according to the ranking of chip amount."),a(n,"ranking_tournament_help3","Players without enough chips will be knocked out. And they won't get the prize."),a(n,"normal_tournament","Normal Tournament"),a(n,"normal_tournament_help1","Each player starts game with the same chips."),a(n,"normal_tournament_help2","The boot will constantly increase during the game."),a(n,"normal_tournament_help3","Players without enough chips will be knocked out."),a(n,"normal_tournament_help4","The last remaining player will get the prize."),a(n,"normal_tournament_help5","Players can choose to all-in when the chips are not enough. In game settling, you can get part of the pot."),a(n,"all_in_tournament","ALL-IN Tournament"),a(n,"allin_tournament_help1","All the players all-in their chips in the game."),a(n,"allin_tournament_help2","The player with biggest hand will get the prize."),a(n,"allin_tournament_help3","Players with the same biggest hand will divide the prize."),a(n,"ready_to_declare","Ready to declare"),a(n,"win_and_declare","Are you sure you want to win and declare?"),a(n,"drop_to_declare","Drop here to declare show"),a(n,"points_exceed","Your points are more than %{score}."),a(n,"no","NO"),a(n,"yes","YES"),a(n,"waiting_for_players","Waiting for Players"),a(n,"reach_higher_level","Please reach higher level to enter the game."),a(n,"exit_game","Chips will not be refunded if you exit game. Are you sure you want to exit?"),a(n,"tutorial","Tutorial"),a(n,"skip","Skip"),a(n,"tutorial_step1_help1","Are you new to Rummy?"),a(n,"tutorial_step1_help2","Tutorial helps you to get started!"),a(n,"tutorial_step1_help3","Start Tutorial"),a(n,"tutorial_step1_help4","No, thanks"),a(n,"tutorial_step2_help1","Game starts now! You can get 13 cards at first."),a(n,"tutorial_step2_help2","Got It"),a(n,"tutorial_step3_help1","Group the pure sequence of <img src='Q_red'/></img> <img src='k_red'/></img> <img src='a_red'/></img>."),a(n,"tutorial_step3_help2","Pure sequence, consisting of 3 or more consecutive cards of the same suit, is needed as 1st life."),a(n,"tutorial_step3_help3","You have 1st life now! The points are decreasing!"),a(n,"tutorial_step4","It\u2019s your turn! Click to grab a card from the Stock Pile or Discard Pile. <img src='Q_red_2'/></img> is not helpful, so grab card from Stock Pile."),a(n,"tutorial_step5","Lucky! You catch a Joker! Joker can be used as substitute for any missing card."),a(n,"tutorial_step6_help1","Substitute <img src='10_red'/></img> for <img src='7_2_black'/></img>, and group with <img src='6_2_black'/></img> <img src='8_2_black'/></img> to form a sequence."),a(n,"tutorial_step6_help2","Another sequence is needed as 2nd life, in which Joker is optional."),a(n,"tutorial_step7","It\u2019s time to discard! <color=#FFDC00>J Q K A</color> is counted as 10 points each. <img src='k_red'/></img> is unmatched, so discard it!"),a(n,"tutorial_step8","Take <img src='3_red'/></img> discarded by the former player. Group <img src='3_red'/></img> <img src='3_2_black'/></img> <img src='3_black'/></img> to form a set! (same rank but different suits)"),a(n,"tutorial_step9","Click <img src='A_black'/></img> and discard it! You can also directly drag it to Discard Pile."),a(n,"tutorial_step10","Grab <img src='8_black'/></img> and group it with <img src='6_black'/></img><img src='7_black'/></img><img src='9_black'/></img>. Another sequence you\u2019ve got!"),a(n,"tutorial_step11","Drag <img src='8_black'/></img> to the group of <img src='6_black'/></img><img src='7_black'/></img> & <img src='9_black'/></img>. Here comes a sequence of 4 cards!"),a(n,"tutorial_step12","Wow, only <img src='7'/></img> is unmatched now! Just select <img src='7'/></img> and click Win! Or drag <img src='7'/></img> to the winning area."),a(n,"tutorial_step13_help1","All the cards are grouped and your point is zero now. Click Declare to win the game!"),a(n,"tutorial_step13_help2","Make sure all the cards are correctly grouped, or you will lose 80 points."),a(n,"tutorial_step13_help3","Waiting for other players to declare. Other players need to group their cards to minimize the points and declare."),a(n,"tutorial_step14","You win! Winnings Chips = other players\u2019 points * Point Value. Other players\u2019 points are counted from their unmatched cards."),a(n,"tutorial_step15_help1","Well done! You finished the tutorial."),a(n,"tutorial_step15_help2","It's time to train yourself or compete with other players!"),a(n,"tutorial_step15_help3","Find Table"),a(n,"free","Free"),a(n,"tournament_close","It's not in opening hours. Please come back later to join."),a(n,"tournmanet_end","The tournament is about to end now. Please come back next time it opens."),a(n,"novice_classic","Novice Classic"),a(n,"super_court","%{chips} Super Court"),a(n,"grand_hall","%{chips} Grand Hall"),a(n,"supreme_palace","%{chips} Surpreme Palace"),a(n,"quick_allin","Quick ALL-IN"),a(n,"exciting_allin","%{chips} Exciting ALL-IN"),a(n,"thrilling_allin","%{chips} Thrilling ALL-IN"),a(n,"relaxed_ranking","%{chips} Relaxed Ranking"),a(n,"deluxe_ranking","%{chips} Deluxe Ranking"),a(n,"pro_ranking","%{chips} Pro Ranking"),a(n,"all","All"),a(n,"win_round1","Win Round 1"),a(n,"tournament_results","Tournament Results"),a(n,"play_round","Play Round%{number}"),a(n,"you","YOU"),a(n,"declare_confirm","Declare Confirm"),a(n,"declare_confirm_msg","Your cards haven't been correctly grouped. Are you sure you want to declare now?"),a(n,"check_again","Check Again"),a(n,"in_bet_rummy","In Bet Rummy"),a(n,"in_deal_rummy","In Deal Rummy"),a(n,"in_classic_rummy","In Classic Rummy"),a(n,"in_pool_rummy","In Pool Rummy"),a(n,"select_variation","Please Select Variation in"),a(n,"seconds","Seconds"),a(n,"jackpot_rule1","A fraction of bet chips are added to the Jackpot. Win with <img src='J'/> card to hit Jackpot!"),a(n,"jackpot_rule2","You've got <img src='J'/> card! You can win a portion of the Jackpot if you win the game."),a(n,"jackpot_msg","*A fraction of bet chips are added to the jackpot at the end of the game.\n*If your final hand has <img src='J'/> card (including the <img src='J'/> converted from other cards) and win the game, you can win a portion of the jackpot."),a(n,"hit_jackpot","%{name} hit the jackpot and won %{chips}!"),a(n,"user_select_mode","%{name} Select Mode %{mode}"),a(n,"selecting_mode","%{name} is Selecting Mode"),a(n,"rummy_sort","Rummy sort"),a(n,"cash","Cash"),a(n,"league","League"),a(n,"joined","Joined"),a(n,"take_seat","Take Seat"),a(n,"completed","Completed"),a(n,"not_open","Not Open"),a(n,"full","Full"),a(n,"not_start","Not Start"),a(n,"running","Running"),a(n,"starts","Starts"),a(n,"my_joined_games","My Joined Games"),a(n,"structure","Structure"),a(n,"prizes","Prizes"),a(n,"expected_prize","Expected Prize"),a(n,"total_prizes","Total Prizes"),a(n,"total_round","Total Round"),a(n,"duration","Duration"),a(n,"qualifier","Qualifier"),a(n,"minutes","%{number} minutes"),a(n,"max_games","Max %{number} Games"),a(n,"player_in_table","%{number1} Players\n in %{number2} Tables"),a(n,"player_per_table","%{number} Players per table"),a(n,"player_per_table2","%{number} Player per table"),a(n,"tournament_tip","Tips: Prize amounts & number of prizes are indicative and depend on the number of entries to this tournament."),a(n,"registration_starts","Registration Starts"),a(n,"registration","Registration"),a(n,"tournament_starts","Tournament Starts"),a(n,"current_stage","Current Stage"),a(n,"position","Position"),a(n,"in_round","In Round"),a(n,"total_points","Total Points"),a(n,"wait_for_others_finish","You have progresed into the next round.\nPlease wait for other players to finish the game."),a(n,"reward_given","Please wait for other players to finish the game.\nThe rewards will be given according to the rank."),a(n,"join_tournament","Are you sure you want to join this tournament?"),a(n,"confirm_join","Yes, I want to join"),a(n,"withdraw_tournament","Are you sure you want to withdraw from this tournament?"),a(n,"about_to_start_msg","The Tournament is about to start!"),a(n,"start_msg","The Tournament has started!"),a(n,"later","Later"),a(n,"promote_next_round","You are promoted to the next round."),a(n,"leave_tournament","Leave Tournament"),a(n,"leave_tournamnet_msg","Are you sure you want to leave tournament and go back to lobby? If you leave, your turn will be skipped, but you can join again."),a(n,"leave","Leave"),a(n,"you_are_away","You are away"),a(n,"away_msg","Because you don't operate, you are considered as 'away from the game' and your turn will be skipped."),a(n,"im_back","I am back"),a(n,"away_msg2","You are in the condition of 'away from the game' now, and your turn will be skipped."),a(n,"in_tour_rummy","In Tour Rummy"),a(n,"player_same_ponits","Among players with the same points"),a(n,"player_same_points2","Between players with the same points"),a(n,"final_round","Final Round"),a(n,"tickets","Tickets"),a(n,"ticket","Ticket"),a(n,"ticket_for_player","Ticket for %{name}"),a(n,"away_message","You are away for missing a turn and will auto-drop if away for 3 consecutive turns."),a(n,"registration_failed","Registration Failed"),a(n,"registration_failed_msg1","This tournament has been fully registered. Please join another one to play!"),a(n,"registration_failed_msg2","Registration is now closed. Please join another tournament to play!"),a(n,"withdrawal_failed","Withdrawal Failed"),a(n,"withdrawal_failed_msg","The time for withdrawal has passed. Please get ready to play!"),a(n,"total_prize","Total Prize"),a(n,"tourney_lose","Sorry, you didn't win this round."),a(n,"time_left","Time Left"),a(n,"rank_msg","You ranked <color=#FFDC00>No.%{rank}</color>"),a(n,"number","No."),a(n,"promoted_next_msg","You are promoted to next round.\nPlease wait for players on other table to finish their game."),a(n,"round_complete","Round Complete"),a(n,"round_complete_msg","Sorry, this tournament round has ended and you didn't win in this round. Please join another game from lobby."),a(n,"promoted","Promoted"),a(n,"free_chips","Free Chips"),a(n,"subscription_info","-Primary or Advanced Monthly Elite Access offers 1.99 USD or 4.99 USD per month to access corresponding features after 7-day Free Trial.\n\n-Payment will be charged to the applicable iTunes Account at confirmation of purchase. The prices may vary depending on countries. The actual money charged may also be converted into your local currency based on iTunes Account policy.\n\n-Subscription automatically renews unless auto-renew is turned off at least 24-hours before the end of current period.\n\n-Account will be charged for renewal within 24-hours prior to the end of current period, and the cost of renewal will be identified.\n\n-Subscription is managed by the user and auto-renewal can be turned off through user\u2019s Account Settings after purchase.\n\n-Any unused portion of a free trial period, will be forfeited when the user purchases a subscription, where applicable.\n\n-Tap 'Restore' to restore your plan on your new devices."),a(n,"restore_msg","You have successfully restored your teen patti monthly elite data. Please enjoy!"),a(n,"restore","Restore"),a(n,"play_private_table","Playing on private table requires a balance of at least 1Cr chips."),a(n,"set_password","Set Password"),a(n,"set_password_msg","For transaction, please set a password."),a(n,"password","Password"),a(n,"confirm","Confirm"),a(n,"password_requirement","*Password should contain at least 8 characters with letter and number."),a(n,"password_invalid","*The password doesn't meet requirement."),a(n,"set_successfully","Set successfully!!"),a(n,"set_pin","Set PIN Code"),a(n,"pin_message","For the convenience of transaction, please enter 4 unduplicated and inconsecutive numbers."),a(n,"pin","PIN"),a(n,"change_pin","Change PIN Code"),a(n,"New PIN","New PIN"),a(n,"pin_change_success","PIN changed successfully!!"),a(n,"enter_password","Enter Password"),a(n,"wrong_pin_msg","You entered the wrong PIN code.\nPlease input your password."),a(n,"incorrect_password","*The password is incorrect. Please try again."),a(n,"account_locked","Account Locked"),a(n,"account_locked_msg","Your account has been locked because you entered wrong password for 3 times. Please contact customer service for help."),a(n,"contact","Contact"),a(n,"change_pin_msg","You entered the wrong PIN code multiple times. Do you want to change it?"),a(n,"enter_pin","Enter PIN Code"),a(n,"enter_pin_msg","*The PIN code is incorrect. Please try again."),a(n,"pin_invalid","*The PIN doesn't meet requirement."),a(n,"change_confirm","Do you want to change it?"),a(n,"pin_requirement","*4 repeating or consecutive numbers are not allowed."),a(n,"invalid_id","Invalid ID"),a(n,"invalid_id_msg","The User ID you entered is invalid, please check again."),a(n,"enter_again","*Please enter your password again."),a(n,"passwords_not_match","*The two passwords you entered do not match."),a(n,"verify_account","Verify Account"),a(n,"verify_new_device","Your account is logged in on a new device, please enter Password to verify."),a(n,"verify_new_place","Your account is logged in from another place, please enter Password to verify."),a(n,"new_device_password","You have no password. Please set it on your old device."),a(n,"enter_transaction_password","You entered the wrong PIN code multiple times. Please input your transaction password."),a(n,"protect_account","To protect your account, please set a password."),a(n,"current_month","Current Month"),a(n,"last_month","Last Month"),a(n,"today","Today"),a(n,"yesterday","Yesterday"),a(n,"last_days","Last 7 Days"),a(n,"purchase_bank_chips","Purchase Bank Chips"),a(n,"transfer_to","Transfer to %{name}"),a(n,"draw_to","Draw to %{name}"),a(n,"gift_to","Gift to %{name}"),a(n,"daily_mission_bonus","Daily Mission Bonus"),a(n,"sent_bank_chips","%{name} sent you Bank Chips"),a(n,"expense","Expense"),a(n,"income","Income"),a(n,"skip_bet","Skip Bet"),a(n,"tpf_war","TPF WAR"),a(n,"play_no_limit","Min 1Cr chips are required to play on No Limit Table."),a(n,"first_bet","First Bet"),a(n,"final_bet","Final Bet"),a(n,"sb_skip_bet","%{name} skipped bet"),a(n,"userid","User ID:"),a(n,"successfully_copied","Successfully Copied"),a(n,"elite","Elite"),a(n,"switch_lobby","Switch Lobby"),a(n,"select_lobby_msg","Select your favorite lobby type and enjoy the game!"),a(n,"send_all","Send All"),a(n,"andar_bahar_pvp","Andar Bahar PVP"),a(n,"min_chips_required","Min. Chips Required"),a(n,"create_table","CREATE TABLE"),a(n,"join_table","JOIN TABLE"),a(n,"become_banker","Click 'Banker' to create table and become the banker."),a(n,"join_other_table","Click 'Join' to join other player's table and play."),a(n,"watch_full_table","Click 'Watch' to watch a full table."),a(n,"wait_create_table","Waiting for players to create table."),a(n,"ab_new_rule1","When reaching certain amount of chips, you can create a table and become the banker."),a(n,"ab_new_rule2","After creating the table, you can disband it. If the banker is bankrupt, the table will be disbanded automatically."),a(n,"disband","Disband"),a(n,"ab_won_total","The banker has disbanded the table. You have won %{number} chips in total."),a(n,"ab_lost_total","The banker has disbanded the table. You have lost %{number} chips in total."),a(n,"ab_disband_won","The table you created was disbanded. You have won %{number} chips in total."),a(n,"ab_disband_lost","The table you created was disbanded. You have lost %{number} chips in total."),a(n,"summary","Summary"),a(n,"not_enough_chips_banker","You don't have enough chips to be the banker."),a(n,"create_table_banker","Are you sure you want to create the table and be the banker?"),a(n,"disband_table","Are you sure you want to disband the table?"),a(n,"banker_disband_table","The banker has disbanded the table. Please join other table to play."),a(n,"disband_bankrupt","The table you created was disbanded due to bankruptcy. You've lost %{number} chips."),a(n,"bankrupt_amount","Bankrupt Amount"),a(n,"table_disbanded","The table was disbanded."),a(n,"table_full","The table is full."),a(n,"update_required","Update Required"),a(n,"coming_soon_stay_tuned","Coming soon! Stay tuned."),a(n,"released_update","New version is released! Please update from game store and continue playing."),a(n,"gold_history","VIP Coins History"),a(n,"all_records","All Records"),a(n,"gold","VIP Coins"),a(n,"transaction","Transaction"),a(n,"game_records","Game Records"),a(n,"vip_table","VIP Table"),a(n,"chips_to_transfer_gold","Chips to\ntransfer:"),a(n,"in_crores_min","(in Crores, min.50Cr)"),a(n,"tax_for","Tax for:"),a(n,"find_id_settings","*Find User ID at the lower right corner in Settings."),a(n,"remain_free_transfer","(Remaining Free Transfer: %{number}.)"),a(n,"total_pay","Total Pay:"),a(n,"vip_item","VIP Item"),a(n,"current_vip","Current VIP"),a(n,"gold_c","GOLD"),a(n,"platinum","PLATINUM"),a(n,"diamond","DIAMOND"),a(n,"security_protection","Security Protection"),a(n,"free_gold_transfer_limit","Free Transfer"),a(n,"gold_transfer_Fee","VIP Coins Transfer Fee"),a(n,"not_enough_gold","Not Enough VIP Coins"),a(n,"not_enough_gold_msg","You don't have enough VIP coins to be the banker."),a(n,"min_gold_needed","Minimum VIP coins needed:"),a(n,"buy_more_gold_continue","Please buy more VIP coins to continue."),a(n,"not_enough_gold_bank","Your VIP coins balance is not enough. Please add more to your account."),a(n,"transfer_gold_msg","Are you sure you want to tranfer %{gold} VIP coins to %{userid}'s account?"),a(n,"no_record_in_gold","You have no record in VIP Coins."),a(n,"buy_gold","Purchase from Store"),a(n,"transfer_gold","Transfer to %{name}"),a(n,"tax_gold","Tax"),a(n,"receive_gold","Receive from %{name}"),a(n,"bet_gold","Bet in %{name}"),a(n,"lose_gold","Lose in %{name}"),a(n,"win_gold","Win in %{name}"),a(n,"tip_gold","Tips for Dealer (%{name})"),a(n,"gift_gold","Send Gift (%{name})"),a(n,"switch_deal","Switch Dealer (%{name})"),a(n,"banker_win","Win as Banker in %{name}"),a(n,"banker_lose","Lose as Banker in %{name}"),a(n,"for_one_month","For One Month"),a(n,"unactivated","UNACTIVATED"),a(n,"expired","EXPIRED"),a(n,"transfer_to_account","Transfer to Account"),a(n,"fill_info_account","Please fill out the information before transferring to another account."),a(n,"gold_won","VIP Coins Won"),a(n,"gold_lost","VIP Coins Lost"),a(n,"transfer_gold_successfully","You have successfully transferred %{gold} VIP coins."),a(n,"room_summary_gold_win","You have won %{gold} VIP coins!"),a(n,"room_summary_gold_lose","You have lost %{gold} VIP coins!"),a(n,"buy_vip_type","Buy VIP %{type}"),a(n,"ab_won_gold_total","The banker has disbanded the table. You have won %{number} VIP coins in total."),a(n,"ab_lost_gold_total","The banker has disbanded the table. You have lost %{number} VIP coins in total."),a(n,"ab_disband_gold_won","The table you created was disbanded. You have won %{number} VIP coins in total."),a(n,"ab_disband_gold_lost","The table you created was disbanded. You have lost %{number} VIP coins in total."),a(n,"disband_bankrupt_gold","The table you created was disbanded due to bankruptcy. You've lost %{number} VIP coins."),a(n,"become_vip_confirm","Are you sure you want to spend %{gold} VIP coins and become a VIP?"),a(n,"tax_fee","Tax Fee"),a(n,"tax_fee_help1","A certain percentage of VIP coins will be deducted as tax fee when transferring."),a(n,"tax_fee_help2","The deduction rate for non-VIP players is %{number}."),a(n,"tax_fee_help3","VIP players can transfer a certain amount of VIP coins without tax according to different VIP level."),a(n,"tax_fee_help4","If exceeding the free transfer amount, the deduction rate is %{number1}, %{number2}, %{number3} according to different VIP level."),a(n,"game_id","Game ID: %{id}"),a(n,"activated","ACTIVATED"),a(n,"gold_to_transfer","VIP coins to\ntransfer:"),a(n,"user_not_exist","The User ID: %{id} you entered doesn't exist, please check again."),a(n,"table_disband","The table you created was disbanded."),a(n,"tax","Tax:"),a(n,"vip_points_gift","VIP Coins Gift"),a(n,"vip_points_gift_msg","Congratulations! You've got %{gold} VIP coins from %{name}."),a(n,"ab_pvp_help","Winnings on the first two cards are %{number1}. In the second round, winnings on Andar are %{number2} and on Bahar are %{number3}."),a(n,"ab_pvp_help1","%{number} of the final chips you get will be charged as additional fee."),a(n,"vip_redemption","VIP Redemption"),a(n,"vip_redeem_msg","Please enter your redeem code."),a(n,"redeem","Redeem"),a(n,"transfer_bank_gold","Transfer bank chips to VIP coins"),a(n,"incorrect_redeem","The redeem code you entered is incorrect, please check again."),a(n,"expired_redeem","The redeem code you entered is expired, please check again."),a(n,"used_redeem","The redeem code you entered has been used, please check again."),a(n,"name","Name: %{name}"),a(n,"id","ID: %{id}"),a(n,"security_protection_dup","Security\nProtection"),a(n,"become_vip_protect","Become a VIP to enable the function of security protection."),a(n,"activate","Activate"),a(n,"vip_casino_war","Whether you're a banker or a player, we will only draw 2% from your winning coins as tax."),a(n,"activate_vip","Are you sure you want to activate VIP %{level} for a month?"),a(n,"purchase_become_vip","Purchase %{coins} VIP Coins in total to activate VIP %{level}."),a(n,"casino_war_pvp","Casino War PVP"),a(n,"win_in_poker","Win in Poker"),a(n,"lose_in_poker","Lose in Poker"),a(n,"win_vip_points","%{name} won %{chips} VIP coins"),a(n,"player_won_vip_points","%{name} won %{chips} VIP coins with %{hand}"),a(n,"vip_coins_create_table","When reaching certain amount of VIP coins, you can create a table and become the banker."),a(n,"to_be_banker","To Be Banker"),a(n,"max_bet","Max Bet"),a(n,"max_tie_bet","Max Tie Bet"),a(n,"vip","VIP"),a(n,"watch_game_from","Watching the game from %{name}"),a(n,"watch","Watch"),a(n,"watch_the_game","Watching the game"),a(n,"event_bonus","Event Bonus"),a(n,"wingo_lottery_help1","Select bet amount."),a(n,"wingo_lottery_help2","Click on the bet area to place bet. Place a bet with every click."),a(n,"wingo_lottery_help3","When the reel stops, the ball under Result is the winning number."),a(n,"wingo_lottery_help4","You can get chips according to the payout shown in winning area."),a(n,"wingo_lottery_help5","Re-bet: Bet the same as your last game."),a(n,"wingo_lottery_help6","Here displays the history of winning numbers."),a(n,"wingo_select","WINGO\u2014Select Boot"),a(n,"wingo_countdown","Betting ends in <color=#ff0000><size=29>%{time}s</size></color>"),a(n,"wingo_lottery","WINGO LOTTERY"),a(n,"bet_area","Bet Area"),a(n,"payout","Payout"),a(n,"players","PLAYERS"),a(n,"rank","Rank"),a(n,"players","Players"),a(n,"hands_won","Hands Won"),a(n,"winnings","Winnings"),a(n,"wait_for_next_round","Please wait for next round."),a(n,"not_bet_time","It's not the time to place bet."),a(n,"exceed_bet_limit","Exceed Bet Limit"),a(n,"leave_room_lose_bet","If you leave now, you will lose the chips you bet."),a(n,"delete_account","Delete\nAccount"),n)},cc._RF.pop()},{}],function:[function(e,t,i){"use strict";cc._RF.push(t,"d9c9eZxtGtC9Y37xLdqJw2L","function");window.handler=function(e,t,i){return function(){var n=[].slice.call(arguments);return void 0!=i&&(n=n.concat(i)),t.apply(e,n)}},window.performWithDelay=function(e,t,i){if(!e)return null;var n=cc.sequence(cc.delayTime(t),cc.callFunc(i));return e.runAction(n),n},cc._RF.pop()},{}],"polyglot.min":[function(e,t,i){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,a){"function"==typeof define&&define.amd?define([],function(){return a(e)}):"object"==(void 0===i?"undefined":n(i))?t.exports=a(e):e.Polyglot=a(e)})(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||c}function i(e){var t,i,n,a={};for(t in e)if(e.hasOwnProperty(t))for(n in i=e[t])a[i[n]]=t;return a}function a(e){return e.replace(/^\s+|\s+$/g,"")}function o(e,t,i){var n,o;return null!=i&&e?n=a((o=e.split(u))[r(t,i)]||o[0]):n=e,n}function s(e){var t=i(m);return t[e]||t.en}function r(e,t){return d[s(e)](t)}function l(e,t){for(var i in t)"_"!==i&&t.hasOwnProperty(i)&&(e=e.replace(new RegExp("%\\{"+i+"\\}","g"),t[i]));return e}function c(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function h(e){var t={};for(var i in e)t[i]=e[i];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var i;for(var a in e)e.hasOwnProperty(a)&&(i=e[a],t&&(a=t+"."+a),"object"==(void 0===i?"undefined":n(i))?this.extend(i,a):this.phrases[a]=i)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var i,n;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?i=this.phrases[e]:"string"==typeof t._?i=t._:this.allowMissing?i=e:(this.warn('Missing translation for key: "'+e+'"'),n=e),"string"==typeof i&&(t=h(t),n=l(n=o(i,this.currentLocale,t.smart_count),t)),n},t.prototype.has=function(e){return e in this.phrases};var u="||||",d={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},m={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}]},{},["HelloWorld","IAds","IAdsAdmob","IAdsFacebook","IAdsIronSrc","IAdsNative","IAdsWeb","AdsConfig","AdsConfigConstant","IAdsConfig","OnlineFileLoader","IAFAnalytics","IFBAnalytics","IFirebase","IGoogleAnalytics","AEAppDelegate","AEApplication","AemobileConfig","IDynamic","PattiMsgCache","PattiOnlineConfig","AEMatchCricket","AEMatchCricketBet","AEMatchCricketHistory","AEMatchCricketInBeting","AEMatchCricketMarket","AEMatchCricketOther","AEMatchCricketRecord","AEMatchCricketRunner","AEMatchFootball","AEMatchFootballBet","AEMatchFootballHistory","AEMatchFootballInBeting","AEMatchFootballMarket","AEMatchFootballOther","AEMatchFootballRecord","AEMatchFootballRunner","AEMatch","AEMatchBet","AEMatchHistory","AEMatchInPlay","AEMatchMarket","AEMatchMarketSession","AEMatchMarketWinner","AEMatchRecord","AEMatchRunner","AEMatchUpcoming","CustomerSupportHistory","RoomMsgHistory","TeenPattiEmailBox","PromotionObj","PromotionProfile","ABGoldRoom","ABPVPGoldRoom","ABPVPRoom","ABRoom","ABRoomProfile","AK47Room","BaseRoom","CasinoWarGoldRoom","CasinoWarPVPGoldRoom","CasinoWarRoom","CasinoWarRoomProfile","ClassicGoldRoom","ClassicRoom","DeluxeRoom","HukamRoom","JokerRoom","MatchCricketRoom","MatchFootballRoom","MatchRoom","MuflisRoom","NoLimitRoom","PattiWarRoom","PattiWarRoomProfile","PotBlindRoom","RoomProfile","RummyRoom","RummyRoomProfile","TexasHoldemGoldRoom","TexasHoldemRoom","WingoLotteryRoom","DeluxeRound","TexasHoldemRound","ABPVPTable","ABTable","BaseTable","CasinoWarPVPTable","CasinoWarTable","ClassicTable","DeluxeTable","PattiWarTable","RummyTable","TexasHoldemTable","WingoLotteryTable","EventProfile","FacebookProfile","GamePlayState","RummyRoler","SubscriptionProfile","TeenPattiABRoler","TeenPattiCasinoWarRoler","TeenPattiPlayer","TeenPattiProfile","TeenPattiRoler","TeenPattiTourRoler","TeenPattiUser","TeenPattiWarRoler","TexasHoldemRoler","WingoLotteryRoler","AELoader","AEMobile","AEResCache","ResLoader","function","IJSBridge","IJSBridgeNative","IJSBridgeWeb","AEDownloader","IProtoBuf","IProtoBufConfig","ProtoBufDecoder","ProtoBufEncoder","aeprotobuf","ISmartFox","ISmartFoxConfig","ISmartFoxNative","ISmartFoxWeb","SFSDecoder","SFSEncoder","ITeenPatti","ITeenPattiConfig","TeenPattiDecoder","TeenPattiEncoder","INotification","NotificationCfg","NtfctProfile","IPay","IPayAmazon","IPayApple","IPayConfig","IPayFacebook","IPayGoogle","IPayNative","IPayWeb","IPlatformConfig","IFacebook","IFacebookNative","IFacebookWeb","Base64","CommonUtil","LogUtil","NativeJsBridge","RummyUtil","StingUtil","TableUtil","TexasUtil","CardFrameCache","DealerCache","GiftPrefabCache","IconFrameCache","RCardFrameCache","Command","StoreConfig","DataAnalysisKey","GameData","UIInfo","ABSceneAudio","BaseSceneAudio","CasinoWarSceneAudio","DeluxeSceneAudio","GameSceneAudio","LobbySceneAudio","LoginSceneAudio","PattiWarSceneAudio","RummySceneAudio","TexasSceneAudio","WingoLotterySceneAudio","ActivityManager","BaseManager","DataAnalysisManager","DownloadManager","FriendsManager","GameCore","GameManager","InitPopupManager","InstantGameANMManager","ServerManager","UIManager","UserManager","VersionManager","AudioUtils","GameUtils","LocalStorage","ABGoldControlBar","ABGoldScene","ABGoldTableController","ABGoldCenterSeat","ABGoldNormalSeat","ABPVPGoldControlBar","ABPVPGoldScene","ABPVPGoldTableController","TableDealerABPVPGold","ABPVPGoldCenterSeat","ABPVPGoldNormalSeat","ABPVPControlBar","ABPVPScene","ABPVPTableController","ABPVPCommonCard","TableDealerABPVP","ABPVPCenterSeat","ABPVPNormalSeat","ABControlBar","ABScene","ABScenePopup","ABTableController","ABCommonCard","DealCardAB","TableDealerAB","TableHintBarAB","TableStakeViewAB","TableTipsCollectorAB","TableTipsViewAB","ABBaseSeat","ABCenterSeat","ABNormalSeat","Alert","FloatAlert","FloatAlert2","VersionCompatibleAlert","BaseCollectionViewItem","BaseCollectionViewUI","BaseComponent","BaseComponentGold","BaseEdgePopup","BaseEditboxUI","BaseEffect","BaseGameScene","BaseScene","BaseScrollViewItem","BaseScrollViewUI","BaseUI","BaseUIGold","CasinoWarGoldControlBar","CasinoWarGoldScene","CasinoWarGoldTableController","CasinoWarGoldCenterSeat","CasinoWarGoldNormalSeat","CasinoWarPVPGoldControlBar","CasinoWarPVPGoldScene","CasinoWarPVPGoldTableController","TableDealerCasinoWarPVPGold","CasinoWarPVPGoldCenterSeat","CasinoWarPVPGoldNormalSeat","CasinoWarPVPControlBar","CasinoWarPVPScene","CasinoWarPVPTableController","TableDealerCasinoWarPVP","CasinoWarPVPCenterSeat","CasinoWarPVPNormalSeat","CasinoWarCommonCard","CasinoWarSeatCard","CasinoWarControlBar","CasinoWarScene","CasinoWarScenePopup","CasinoWarTableController","TableDealerCasinoWar","TableStakeViewCasinoWar","TableTipsCollectorCasinoWar","TableTipsViewCasinoWar","CasinoWarBaseSeat","CasinoWarCenterSeat","CasinoWarNormalSeat","ClassicGoldScene","ClassicGoldTableDealer","ClassicGoldCenterSeat","ClassicGoldControlBar","ClassicGoldNormalSeat","BoldLabel","ButtonAudio","ButtonCursor","CDTimeBar","ClampLabel","DropDownMenu","DropDownMenuItem","FacebookIcon","FriendsButton","GameStoreBtn","IEvent","LoadingIndicator","LoadingIndicator2","NetworkState","PattiPartcleSide","ProgressBar","ScrollUpBoldLabel","SpineCtrl","TeenPattiIcon","CricketMatchInBetView","CricketMatchList","CricketMatchView","CricketRunnerView","CricketScene","CricketPageHistory","CricketPageHistoryBet","CricketPageMatchRecord","CricketPageMatchSessionBetList","CricketPageMatchWinnerBetList","CricketPageInPlay","CricketPageMatchDetailList","CricketPageMatchDetailView","CricketPageMatchPageView","CricketPageMatchView","CricketPageUpcoming","DeluxeRoomRefreshAction","DeluxeRoundAwardsAction","DeluxeRoundBootAction","DeluxeRoundDealAction","DeluxeRoundExpAction","DeluxeRoundFinishAction","DeluxeRoundNextAction","DeluxeRoundPotLimitAction","DeluxeRoundReadyAction","DeluxeRoundRefreshAction","DeluxeRoundShowAction","DeluxeRoundShowResultAction","DeluxeRoundSideResultAction","DeluxeRoundSideShowAction","DeluxeRoundStartAction","DeluxeSeatPlaceAction","DeluxeUserBetAction","DeluxeUserBetShowAction","DeluxeUserBetSideAction","DeluxeUserGiftAction","DeluxeUserPackAction","DeluxeUserRoomEnterAction","DeluxeUserRoomExitAction","DeluxeUserSeeCardAction","DeluxeUserSeenAction","DeluxeUserSitDownAction","DeluxeUserStandUpAction","DeluxeControlBar","DeluxeControlHintBar","DeluxeSeeBar","DeluxeActionPool","DeluxeLevelCache","DeluxeRoomHintBar","DeluxeRoomModeBar","DeluxeScene","DeluxeTableView","DeluxeSeat","DeluxeSeatCardBar","DeluxeSeatCardLevelBar","DeluxeSeatChipsBar","DeluxeSeatExpBar","DeluxeSeatPlayerView","DeluxeSeatStakeBar","DeluxeSeatStateBar","DeluxeTableAwardsSender","DeluxeTableAwardsView","DeluxeTableCardBar","DeluxeTableCardLevelBar","DeluxeTableDealer","DeluxeTableDealerHintBar","DeluxeTablePokerBox","DeluxeTablePokerCard","DeluxeTablePoolBar","DeluxeTablePotLimitBar","DeluxeTableRoundHintBar","DeluxeTableStakeCollector","DeluxeTableStakeView","DeluxeTableTipsCollector","DeluxeTableTipsView","EmojiCache","EventActivePopUp","EventsConvertBar","EventsHelpPopUp","EventsScene","EventsStateConvert","EventsStateTask","EventsTitleBar","ExchangeSuccPopUp","FBLoginScene","FootballMatchInBetView","FootballMatchList","FootballMatchMarketView","FootballMatchView","FootballRunnerFlagCache","FootballScene","BaseTableController","GameBaseSeat","ActionFactory","ActionManager","ActionPool","BetBootAction","DealCardAction","MessageAction","RoomResetAction","SeatPlaceAction","TablePotLimitAction","TableRefreshAction","TableResetAction","TableSetAction","TableShowAwardsAction","TableShowResultAction","UserBetAction","UserBetShowAction","UserBetSideAction","UserExpAction","UserNextAction","UserPackAction","UserRoomEnterAction","UserRoomExitAction","UserSeeCardAction","UserSeenAction","UserShowCardAction","UserSidePackAction","UserSideResultAction","UserSideShowAction","UserSitDownAction","UserStandUpAction","CardBar","CenterSeatCardBar","NormalCardBar","AwardsChip","DealerHintBar","TableAwardsView","TableDealer","TableHintBar","TablePokerBox","TablePokerCard","TablePoolBar","TableStakeCollector","TableStakeView","TableTipsCollector","TableTipsPopView","TableTipsView","GameScene","GameScenePopup","GameTableCache","GameTester","MsgPop","PotLimitBar","RoomLoader","BaseSeat","CenterSeat","ControlBar","NormalSeat","PattiPlayerView","ReceiveGift","SeatExtend","SeatStateBar","StateShowCard","StateShowWin","TableActionCache","TableController","CardBarTour","CenterSeatCardBarTour","TableAwardsViewTour","TableDealerTour","TablePokerBoxTour","TablePokerCardTour","TableStakeViewTour","GameSceneTour","RankingTour","BaseSeatTour","CenterSeatTour","ControlBarTour","NormalSeatTour","TableControllerTour","LobbyLayout","LobbyLayoutButton","LobbyAdBonusBtn","LobbyCreditBar","LobbyDailyMission","LobbyEffectManager","LobbyEmailBox","LobbyEventsButton","LobbyFriendBar","LobbyGoldBar","LobbyInviteCodeButton","LobbyModeButton","LobbyMonthlyEliteButton","LobbyPopUpManager","LobbyProfileBar","LobbyPromotionButton","LobbyScene","LobbySignInBonus","LobbySportButton","LobbySupportButton","LobbyTester","LobbyNewFBConnect","LobbyNewFeatureDownManager","LobbyNewFeatureLoadBar","LobbyNewLeftBottomBar","LobbyNewModeButton","LobbyNewModeSelect","LobbyNewProfileBar","LobbyNewRank","LobbyNewRightTopBar","LobbyNewSignInBonus","LobbyNewSupportButton","LobbyNewVIPModeButton","LobbySceneNew","LobbySceneNew2","LobbySceneNewPopup","LobbyNewModeSelect2","GuestLoginRemind","HotFixChecker","JSDelegate","LoginScene","LoginTester","PartcleWinCasinoWar","PattiWarBanker","PattiWarBetArea","PattiWarCardBar","PattiWarCountdown","PattiWarGuide","PattiWarJackpot","PattiWarJackpotReward","PattiWarNewBankerRemind","PattiWarScene","PattiWarScenePopup","PattiWarTableController","PattiWarBaseSeat","PattiWarMySeat","ABPVPGoldRoomSelect","ABPVPGoldRoomSelectItem","ABPVPRoomSelect","ABPVPRoomSelectItem","AdBonusPopUp","AdFreeChipsPopUp","AdNativePopUp","LuckyCoinPopUp","BackMenu","BackMenuABPVP","BackMenuPattiWar","BackMenuTournament","BackMenuWingoLottery","Broke","CasinoWarModeButton","CasinoWarModeSelect","CasinoWarPVPGoldRoomSelect","CasinoWarPVPGoldRoomSelectItem","CasinoWarPVPRoomSelect","CasinoWarPVPRoomSelectItem","Chat","EmojiBtnTemplate","EmojiConfig","MessageTemplate","QuickMessageBtn","ChipsNotEnough1","ChipsNotEnough2","ChipsNotEnough3","ChipsNotEnoughTwoItem","ConnectionLost","Reconnecting","AECanvas","CricketBetHistoryPopUp","CricketBetMatchBetRecordView","CricketBetMatchRecordView","CricketBetSessionItem","CricketBetSessionPopUp","CricketBetSummaryPopUp","CricketBetSummaryRefundPopUp","CricketBetWinnerItem","CricketBetWinnerPopUp","CricketHelpPopUp","CricketMatchWinnerBetListView","CricketSessionBetCheatPopUp","CricketWinnerBetChangePopUp","CustomerSupportMsg","CustomerSupportPopUp","DailyMission","DailyMissionCompleted","DailyMissionItem","DailyMissionItemExtra","DailySignIn","DailySignInItem","DeluxeModeButton","DeluxeModeSelect","ChipsFlyEffect","GoldFlyEffect","EmailBoxPopUp","EmailDetailItem","EmailDetailPopUp","EmailRewardPopUp","FBLogoutConnectRemind","FilmFestival","FilmFestivalGotStar","FilmFestivalProgress","FootballBetHistoryPopUp","FootballBetMatchBetRecordView","FootballBetMatchRecordView","FootballBetSummaryItemView","FootballBetSummaryPopUp","FootballBetWinnerPopUp","FootballHelpPopUp","FootballMatchWinnerBetListView","ForceUpgrade","FreeChips","AERankListView","AERequestListView","FriendOnline","FriendRankItem","FriendRankItemNew","FriendRankList","FriendRequestItem","FriendRequestList","Friends","FriendsNew","FriendsNewHighScore","FriendsNewHighScoreMyself","FriendsNewInvite","FriendsNewList","GlobalRankItem","GlobalRankList","FriendsRoomResult","FriendsRoomSetting","FriendsRoomSummary","GameRoomInfo","GameRoomInfoAB","GameRoomInfoABPVP","GameRoomInfoCasinoWar","GameRoomInfoCasinoWarPVPGold","GameRoomInfoPattiWar","GameRoomInfoTexasHoldem","GameRoomInfoTour","GameRoomInfoWingo","GiftItem","Gifts","GoldNotEnoughTwoItem","HandStrengthMeterTips","HeadIconChoose","HeadIconChooseItem","ABGoldHelp","ABHelp","ABPVPGoldHelp","ABPVPHelp","AK47Help","CasinoWarHelp","ClassicHelp","Help","HukamHelp","JokerHelp","MuflisHelp","PattiWarHelp","PotBlindHelp","RummyHelp","TexasHoldemHelp","WingoLotteryHelp","AEHighScoreListView","HighScore","HighScoreItem","HighScoreItemSelf","HighScoreReward","BlockConfirmPopUp","InGamePlayerInfo","InVIPGamePlayerInfo","InvitationAlert","InvitationMailerBtn","InvitationMessage","InvitationMsgItem","InviteCode","InviteFriends","InviteFriendsItem","InviteToTable","LevelUpPopUp","Loading","LoadingBg","ModeNotOpenPopUp","ModeUnlockPopUp","MyselfPlayerInfo","NoLimitBootSelect","NoLimitBootSelect1","OnliveBet","OnliveBetSelectButton","PattiWarSetPot","PrivateRoomModeItem","PrivateRoomSetting","PromotionPupUp","QuitGamePopUp","Rate","RedeemCode","RoomSummary","RoomSummaryABPVP","RoomSummaryGold","DeleteAppleAccountView","Setting","SettingHSMTips","SideShowConfirmPopUp","BankAlert","BankHistory","BankHistoryItem","BankPassword","BankStore","BankToBank","GiftChips","GoldHistory","GoldHistoryItem","GoldStore","GoldStoreItem","Store","StoreItem","VIPRedemption","WithdrawChips","MonthlyEliteBonusGetPopUp","MonthlyEliteBuyPopUp","MonthlyEliteiOS","MonthlyErrorPopUp","DealerItem","SwitchDealer","SwitchModePopUp","SwitchRoundModePopUp","SwitchTablePopUp","TableFullPopUp","BuyIntoTablePopUp","TournamentFinalRank","TournamentResult","TournamentBaseRound","TournamentRankingRound","TournamentSingleRound","TournamentTwoRound","TournamentSelect","TournamentSelectItem","VIPTableButton","VIPTableSelect","VariationModeButton","VariationModeSelect","VersionUpdatePopUp","WacthModePopUp","WebView","WingoBootSelect","WingoBootSelect1","WingoLotteryRank","WingoLotteryRankItem","RootComponent","FackWinAlertPopup","ReadyToDeclarePopup","RummyCardBar","RummyCenterSeat","RummyChipsNotEnough1","RummyChipsNotEnough2","RummyChipsNotEnough3","RummyGroupframe","RummyIntegral","RummyIntegralItem","RummyNormalSeat","RummyPattiPlayerView","RummyRoomInfo","RummyScene","RummyScenePopup","RummyShowCard","RummyTableController","RummyTableDealer","RummyTablePoolBar","SwitchLobby","TexasHoldemGoldSeat","TexasHoldemGoldScene","TexasHoldemLocalRefreshAction","TexasHoldemRoundAwardAction","TexasHoldemRoundBlindAction","TexasHoldemRoundClearAction","TexasHoldemRoundCollectAction","TexasHoldemRoundCompareAction","TexasHoldemRoundDealAction","TexasHoldemRoundEndAction","TexasHoldemRoundExpAction","TexasHoldemRoundMaxAction","TexasHoldemRoundPerflopAction","TexasHoldemRoundReadyAction","TexasHoldemRoundResultAction","TexasHoldemRoundShowAction","TexasHoldemRoundStartAction","TexasHoldemRoundWinAction","TexasHoldemSeatPlaceAction","TexasHoldemTableRefreshAction","TexasHoldemUserAllinAction","TexasHoldemUserCallAction","TexasHoldemUserExpAction","TexasHoldemUserFoldAction","TexasHoldemUserGiftAction","TexasHoldemUserMessageAction","TexasHoldemUserNextAction","TexasHoldemUserRaiseAction","TexasHoldemUserRoomEnterAction","TexasHoldemUserRoomExitAction","TexasHoldemUserSeeAction","TexasHoldemUserSitDownAction","TexasHoldemUserStandUpAction","TexasHoldemControlBar","TexasHoldemControlBarStateActive","TexasHoldemControlBarStateSilent","TexasHoldemControlHintBar","TexasHoldemRaiseBar","TexasHoldemPlayerView","TexasHoldemSeat","TexasHoldemSeatCardBar","TexasHoldemSeatCardLevelBar","TexasHoldemSeatChipsBar","TexasHoldemSeatExpBar","TexasHoldemSeatStakeBar","TexasHoldemSeatStakeView","TexasHoldemSeatStateBar","TexasHoldemTableAwardsSender","TexasHoldemTableAwardsView","TexasHoldemTableCardBar","TexasHoldemTableCardLevelBar","TexasHoldemTableDealer","TexasHoldemTableHintBar","TexasHoldemTablePokerBox","TexasHoldemTablePokerCard","TexasHoldemTablePoolBar","TexasHoldemTableStakeCollector","TexasHoldemTableStakeView","TexasHoldemTableTipsCollector","TexasHoldemTableTipsView","TexasHoldemActionPool","TexasHoldemLevelCache","TexasHoldemRoomHintBar","TexasHoldemScene","TexasHoldemScenePopup","TexasHoldemTableView","WingoLotteryBetArea","WingoLotteryBaseSeat","WingoLotteryMySeat","WingoLotteryOtherSeat","WingoLotteryScene","WingoLotteryTableController","en","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);
//# sourceMappingURL=project.js.map